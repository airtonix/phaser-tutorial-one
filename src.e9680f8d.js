parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"vCxL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__extends=e,exports.__rest=n,exports.__decorate=o,exports.__param=a,exports.__metadata=i,exports.__awaiter=u,exports.__generator=c,exports.__createBinding=f,exports.__exportStar=l,exports.__values=s,exports.__read=p,exports.__spread=y,exports.__spreadArrays=_,exports.__await=h,exports.__asyncGenerator=v,exports.__asyncDelegator=d,exports.__asyncValues=b,exports.__makeTemplateObject=w,exports.__importStar=x,exports.__importDefault=m,exports.__classPrivateFieldGet=O,exports.__classPrivateFieldSet=g,exports.__assign=void 0;var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};function e(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return exports.__assign=r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};function n(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function o(t,e,r,n){var o,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i}function a(t,e){return function(r,n){e(r,n,t)}}function i(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,r,n){return new(r||(r=Promise))(function(o,a){function i(t){try{c(n.next(t))}catch(e){a(e)}}function u(t){try{c(n.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(i,u)}c((n=n.apply(t,e||[])).next())})}function c(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(u){a=[6,u],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function f(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function l(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function _(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)n[o]=a[i];return n}function h(t){return this instanceof h?(this.v=t,this):new h(t)}function v(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),a=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){a.push([t,e,r,n])>1||u(t,e)})})}function u(t,e){try{(r=o[t](e)).value instanceof h?Promise.resolve(r.value.v).then(c,f):l(a[0][2],r)}catch(n){l(a[0][3],n)}var r}function c(t){u("next",t)}function f(t){u("throw",t)}function l(t,e){t(e),a.shift(),a.length&&u(a[0][0],a[0][1])}}function d(t){var e,r;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(r=!r)?{value:h(t[n](e)),done:"return"===n}:o?o(e):e}:o}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof s?s(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){(function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)})(n,o,(e=t[r](e)).done,e.value)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function m(t){return t&&t.__esModule?t:{default:t}}function O(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function g(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}exports.__assign=r;
},{}],"J4Nk":[function(require,module,exports) {
"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(r){return t[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}module.exports=o()?Object.assign:function(o,c){for(var a,i,s=n(o),f=1;f<arguments.length;f++){for(var u in a=Object(arguments[f]))t.call(a,u)&&(s[u]=a[u]);if(r){i=r(a);for(var b=0;b<i.length;b++)e.call(a,i[b])&&(s[i[b]]=a[i[b]])}}return s};
},{}],"awqi":[function(require,module,exports) {
"use strict";var e=require("object-assign"),r="function"==typeof Symbol&&Symbol.for,t=r?Symbol.for("react.element"):60103,n=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,f=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,i=r?Symbol.for("react.forward_ref"):60112,s=r?Symbol.for("react.suspense"):60113,a=r?Symbol.for("react.memo"):60115,p=r?Symbol.for("react.lazy"):60116,y="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)r+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function m(e,r,t){this.props=e,this.context=r,this.refs=h,this.updater=t||v}function x(){}function b(e,r,t){this.props=e,this.context=r,this.refs=h,this.updater=t||v}m.prototype.isReactComponent={},m.prototype.setState=function(e,r){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,r,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=m.prototype;var S=b.prototype=new x;S.constructor=b,e(S,m.prototype),S.isPureReactComponent=!0;var _={current:null},k=Object.prototype.hasOwnProperty,$={key:!0,ref:!0,__self:!0,__source:!0};function g(e,r,n){var o,u={},f=null,c=null;if(null!=r)for(o in void 0!==r.ref&&(c=r.ref),void 0!==r.key&&(f=""+r.key),r)k.call(r,o)&&!$.hasOwnProperty(o)&&(u[o]=r[o]);var l=arguments.length-2;if(1===l)u.children=n;else if(1<l){for(var i=Array(l),s=0;s<l;s++)i[s]=arguments[s+2];u.children=i}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===u[o]&&(u[o]=l[o]);return{$$typeof:t,type:e,key:f,ref:c,props:u,_owner:_.current}}function w(e,r){return{$$typeof:t,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}function E(e){var r={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return r[e]})}var R=/\/+/g,P=[];function j(e,r,t,n){if(P.length){var o=P.pop();return o.result=e,o.keyPrefix=r,o.func=t,o.context=n,o.count=0,o}return{result:e,keyPrefix:r,func:t,context:n,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function A(e,r,o,u){var f=typeof e;"undefined"!==f&&"boolean"!==f||(e=null);var c=!1;if(null===e)c=!0;else switch(f){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case t:case n:c=!0}}if(c)return o(u,e,""===r?"."+U(e,0):r),1;if(c=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var i=r+U(f=e[l],l);c+=A(f,i,o,u)}else if(null===e||"object"!=typeof e?i=null:i="function"==typeof(i=y&&e[y]||e["@@iterator"])?i:null,"function"==typeof i)for(e=i.call(e),l=0;!(f=e.next()).done;)c+=A(f=f.value,i=r+U(f,l++),o,u);else if("object"===f)throw o=""+e,Error(d(31,"[object Object]"===o?"object with keys {"+Object.keys(e).join(", ")+"}":o,""));return c}function I(e,r,t){return null==e?0:A(e,"",r,t)}function U(e,r){return"object"==typeof e&&null!==e&&null!=e.key?E(e.key):r.toString(36)}function q(e,r){e.func.call(e.context,r,e.count++)}function F(e,r,t){var n=e.result,o=e.keyPrefix;e=e.func.call(e.context,r,e.count++),Array.isArray(e)?L(e,n,t,function(e){return e}):null!=e&&(C(e)&&(e=w(e,o+(!e.key||r&&r.key===e.key?"":(""+e.key).replace(R,"$&/")+"/")+t)),n.push(e))}function L(e,r,t,n,o){var u="";null!=t&&(u=(""+t).replace(R,"$&/")+"/"),I(e,F,r=j(r,u,n,o)),O(r)}var M={current:null};function D(){var e=M.current;if(null===e)throw Error(d(321));return e}var V={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:e};exports.Children={map:function(e,r,t){if(null==e)return e;var n=[];return L(e,n,null,r,t),n},forEach:function(e,r,t){if(null==e)return e;I(e,q,r=j(null,null,r,t)),O(r)},count:function(e){return I(e,function(){return null},null)},toArray:function(e){var r=[];return L(e,r,null,function(e){return e}),r},only:function(e){if(!C(e))throw Error(d(143));return e}},exports.Component=m,exports.Fragment=o,exports.Profiler=f,exports.PureComponent=b,exports.StrictMode=u,exports.Suspense=s,exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,exports.cloneElement=function(r,n,o){if(null==r)throw Error(d(267,r));var u=e({},r.props),f=r.key,c=r.ref,l=r._owner;if(null!=n){if(void 0!==n.ref&&(c=n.ref,l=_.current),void 0!==n.key&&(f=""+n.key),r.type&&r.type.defaultProps)var i=r.type.defaultProps;for(s in n)k.call(n,s)&&!$.hasOwnProperty(s)&&(u[s]=void 0===n[s]&&void 0!==i?i[s]:n[s])}var s=arguments.length-2;if(1===s)u.children=o;else if(1<s){i=Array(s);for(var a=0;a<s;a++)i[a]=arguments[a+2];u.children=i}return{$$typeof:t,type:r.type,key:f,ref:c,props:u,_owner:l}},exports.createContext=function(e,r){return void 0===r&&(r=null),(e={$$typeof:l,_calculateChangedBits:r,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},exports.createElement=g,exports.createFactory=function(e){var r=g.bind(null,e);return r.type=e,r},exports.createRef=function(){return{current:null}},exports.forwardRef=function(e){return{$$typeof:i,render:e}},exports.isValidElement=C,exports.lazy=function(e){return{$$typeof:p,_ctor:e,_status:-1,_result:null}},exports.memo=function(e,r){return{$$typeof:a,type:e,compare:void 0===r?null:r}},exports.useCallback=function(e,r){return D().useCallback(e,r)},exports.useContext=function(e,r){return D().useContext(e,r)},exports.useDebugValue=function(){},exports.useEffect=function(e,r){return D().useEffect(e,r)},exports.useImperativeHandle=function(e,r,t){return D().useImperativeHandle(e,r,t)},exports.useLayoutEffect=function(e,r){return D().useLayoutEffect(e,r)},exports.useMemo=function(e,r){return D().useMemo(e,r)},exports.useReducer=function(e,r,t){return D().useReducer(e,r,t)},exports.useRef=function(e){return D().useRef(e)},exports.useState=function(e){return D().useState(e)},exports.version="16.13.1";
},{"object-assign":"J4Nk"}],"n8MK":[function(require,module,exports) {
"use strict";module.exports=require("./cjs/react.production.min.js");
},{"./cjs/react.production.min.js":"awqi"}],"IvPb":[function(require,module,exports) {
"use strict";var e,n,t,r,o;if("undefined"==typeof window||"function"!=typeof MessageChannel){var a=null,l=null,i=function(){if(null!==a)try{var e=exports.unstable_now();a(!0,e),a=null}catch(n){throw setTimeout(i,0),n}},u=Date.now();exports.unstable_now=function(){return Date.now()-u},e=function(n){null!==a?setTimeout(e,0,n):(a=n,setTimeout(i,0))},n=function(e,n){l=setTimeout(e,n)},t=function(){clearTimeout(l)},r=function(){return!1},o=exports.unstable_forceFrameRate=function(){}}else{var s=window.performance,c=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var b=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof s&&"function"==typeof s.now)exports.unstable_now=function(){return s.now()};else{var d=c.now();exports.unstable_now=function(){return c.now()-d}}var v=!1,x=null,w=-1,m=5,y=0;r=function(){return exports.unstable_now()>=y},o=function(){},exports.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):m=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,h=_.port2;_.port1.onmessage=function(){if(null!==x){var e=exports.unstable_now();y=e+m;try{x(!0,e)?h.postMessage(null):(v=!1,x=null)}catch(n){throw h.postMessage(null),n}}else v=!1},e=function(e){x=e,v||(v=!0,h.postMessage(null))},n=function(e,n){w=f(function(){e(exports.unstable_now())},n)},t=function(){p(w),w=-1}}function k(e,n){var t=e.length;e.push(n);e:for(;;){var r=t-1>>>1,o=e[r];if(!(void 0!==o&&0<P(o,n)))break e;e[r]=n,e[t]=o,t=r}}function T(e){return void 0===(e=e[0])?null:e}function g(e){var n=e[0];if(void 0!==n){var t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,o=e.length;r<o;){var a=2*(r+1)-1,l=e[a],i=a+1,u=e[i];if(void 0!==l&&0>P(l,t))void 0!==u&&0>P(u,l)?(e[r]=u,e[i]=t,r=i):(e[r]=l,e[a]=t,r=a);else{if(!(void 0!==u&&0>P(u,t)))break e;e[r]=u,e[i]=t,r=i}}}return n}return null}function P(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}var F=[],I=[],M=1,C=null,A=3,L=!1,q=!1,D=!1;function R(e){for(var n=T(I);null!==n;){if(null===n.callback)g(I);else{if(!(n.startTime<=e))break;g(I),n.sortIndex=n.expirationTime,k(F,n)}n=T(I)}}function j(t){if(D=!1,R(t),!q)if(null!==T(F))q=!0,e(E);else{var r=T(I);null!==r&&n(j,r.startTime-t)}}function E(e,o){q=!1,D&&(D=!1,t()),L=!0;var a=A;try{for(R(o),C=T(F);null!==C&&(!(C.expirationTime>o)||e&&!r());){var l=C.callback;if(null!==l){C.callback=null,A=C.priorityLevel;var i=l(C.expirationTime<=o);o=exports.unstable_now(),"function"==typeof i?C.callback=i:C===T(F)&&g(F),R(o)}else g(F);C=T(F)}if(null!==C)var u=!0;else{var s=T(I);null!==s&&n(j,s.startTime-o),u=!1}return u}finally{C=null,A=a,L=!1}}function N(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=o;exports.unstable_IdlePriority=5,exports.unstable_ImmediatePriority=1,exports.unstable_LowPriority=4,exports.unstable_NormalPriority=3,exports.unstable_Profiling=null,exports.unstable_UserBlockingPriority=2,exports.unstable_cancelCallback=function(e){e.callback=null},exports.unstable_continueExecution=function(){q||L||(q=!0,e(E))},exports.unstable_getCurrentPriorityLevel=function(){return A},exports.unstable_getFirstCallbackNode=function(){return T(F)},exports.unstable_next=function(e){switch(A){case 1:case 2:case 3:var n=3;break;default:n=A}var t=A;A=n;try{return e()}finally{A=t}},exports.unstable_pauseExecution=function(){},exports.unstable_requestPaint=B,exports.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=A;A=e;try{return n()}finally{A=t}},exports.unstable_scheduleCallback=function(r,o,a){var l=exports.unstable_now();if("object"==typeof a&&null!==a){var i=a.delay;i="number"==typeof i&&0<i?l+i:l,a="number"==typeof a.timeout?a.timeout:N(r)}else a=N(r),i=l;return r={id:M++,callback:o,priorityLevel:r,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>l?(r.sortIndex=i,k(I,r),null===T(F)&&r===T(I)&&(D?t():D=!0,n(j,i-l))):(r.sortIndex=a,k(F,r),q||L||(q=!0,e(E))),r},exports.unstable_shouldYield=function(){var e=exports.unstable_now();R(e);var n=T(F);return n!==C&&null!==C&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<C.expirationTime||r()},exports.unstable_wrapCallback=function(e){var n=A;return function(){var t=A;A=n;try{return e.apply(this,arguments)}finally{A=t}}};
},{}],"MDSO":[function(require,module,exports) {
"use strict";module.exports=require("./cjs/scheduler.production.min.js");
},{"./cjs/scheduler.production.min.js":"IvPb"}],"i17t":[function(require,module,exports) {
"use strict";var e=require("react"),t=require("object-assign"),n=require("scheduler");function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!e)throw Error(r(227));function l(e,t,n,r,l,i,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(s){this.onError(s)}}var i=!1,a=null,o=!1,u=null,c={onError:function(e){i=!0,a=e}};function s(e,t,n,r,o,u,s,f,d){i=!1,a=null,l.apply(c,arguments)}function f(e,t,n,l,c,f,d,p,m){if(s.apply(this,arguments),i){if(!i)throw Error(r(198));var h=a;i=!1,a=null,o||(o=!0,u=h)}}var d=null,p=null,m=null;function h(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),f(r,t,void 0,e),e.currentTarget=null}var g=null,v={};function y(){if(g)for(var e in v){var t=v[e],n=g.indexOf(e);if(!(-1<n))throw Error(r(96,e));if(!w[n]){if(!t.extractEvents)throw Error(r(97,e));for(var l in w[n]=t,n=t.eventTypes){var i=void 0,a=n[l],o=t,u=l;if(k.hasOwnProperty(u))throw Error(r(99,u));k[u]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&b(c[i],o,u);i=!0}else a.registrationName?(b(a.registrationName,o,u),i=!0):i=!1;if(!i)throw Error(r(98,l,e))}}}}function b(e,t,n){if(x[e])throw Error(r(100,e));x[e]=t,T[e]=t.eventTypes[n].dependencies}var w=[],k={},x={},T={};function E(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var l=e[t];if(!v.hasOwnProperty(t)||v[t]!==l){if(v[t])throw Error(r(102,t));v[t]=l,n=!0}}n&&y()}var S=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),C=null,P=null,_=null;function N(e){if(e=p(e)){if("function"!=typeof C)throw Error(r(280));var t=e.stateNode;t&&(t=d(t),C(e.stateNode,e.type,t))}}function z(e){P?_?_.push(e):_=[e]:P=e}function M(){if(P){var e=P,t=_;if(_=P=null,N(e),t)for(e=0;e<t.length;e++)N(t[e])}}function I(e,t){return e(t)}function F(e,t,n,r,l){return e(t,n,r,l)}function O(){}var R=I,D=!1,L=!1;function U(){null===P&&null===_||(O(),M())}function A(e,t,n){if(L)return e(t,n);L=!0;try{return R(e,t,n)}finally{L=!1,U()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q=Object.prototype.hasOwnProperty,W={},H={};function j(e){return!!Q.call(H,e)||!Q.call(W,e)&&(V.test(e)?H[e]=!0:(W[e]=!0,!1))}function B(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function K(e,t,n,r){if(null==t||B(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $(e,t,n,r,l,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){q[e]=new $(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];q[t]=new $(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){q[e]=new $(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){q[e]=new $(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){q[e]=new $(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){q[e]=new $(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){q[e]=new $(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){q[e]=new $(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){q[e]=new $(e,5,!1,e.toLowerCase(),null,!1)});var Y=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Y,X);q[t]=new $(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Y,X);q[t]=new $(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Y,X);q[t]=new $(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){q[e]=new $(e,1,!1,e.toLowerCase(),null,!1)}),q.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){q[e]=new $(e,1,!1,e.toLowerCase(),null,!0)});var G=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Z(e,t,n,r){var l=q.hasOwnProperty(t)?q[t]:null;(null!==l?0===l.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(K(t,n,l,r)&&(n=null),r||null===l?j(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=null===n?3!==l.type&&"":n:(t=l.attributeName,r=l.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(l=l.type)||4===l&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}G.hasOwnProperty("ReactCurrentDispatcher")||(G.ReactCurrentDispatcher={current:null}),G.hasOwnProperty("ReactCurrentBatchConfig")||(G.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,ee="function"==typeof Symbol&&Symbol.for,te=ee?Symbol.for("react.element"):60103,ne=ee?Symbol.for("react.portal"):60106,re=ee?Symbol.for("react.fragment"):60107,le=ee?Symbol.for("react.strict_mode"):60108,ie=ee?Symbol.for("react.profiler"):60114,ae=ee?Symbol.for("react.provider"):60109,oe=ee?Symbol.for("react.context"):60110,ue=ee?Symbol.for("react.concurrent_mode"):60111,ce=ee?Symbol.for("react.forward_ref"):60112,se=ee?Symbol.for("react.suspense"):60113,fe=ee?Symbol.for("react.suspense_list"):60120,de=ee?Symbol.for("react.memo"):60115,pe=ee?Symbol.for("react.lazy"):60116,me=ee?Symbol.for("react.block"):60121,he="function"==typeof Symbol&&Symbol.iterator;function ge(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=he&&e[he]||e["@@iterator"])?e:null}function ve(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}function ye(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case re:return"Fragment";case ne:return"Portal";case ie:return"Profiler";case le:return"StrictMode";case se:return"Suspense";case fe:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case ce:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ye(e.type);case me:return ye(e.render);case pe:if(e=1===e._status?e._result:null)return ye(e)}return null}function be(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,l=e._debugSource,i=ye(e.type);n=null,r&&(n=ye(r.type)),r=i,i="",l?i=" (at "+l.fileName.replace(J,"")+":"+l.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}function we(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ke(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function xe(e){var t=ke(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Te(e){e._valueTracker||(e._valueTracker=xe(e))}function Ee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ke(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Se(e,n){var r=n.checked;return t({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Ce(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=we(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Pe(e,t){null!=(t=t.checked)&&Z(e,"checked",t,!1)}function _e(e,t){Pe(e,t);var n=we(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ze(e,t.type,n):t.hasOwnProperty("defaultValue")&&ze(e,t.type,we(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ne(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ze(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Me(t){var n="";return e.Children.forEach(t,function(e){null!=e&&(n+=e)}),n}function Ie(e,n){return e=t({children:void 0},n),(n=Me(n.children))&&(e.children=n),e}function Fe(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+we(n),t=null,l=0;l<e.length;l++){if(e[l].value===n)return e[l].selected=!0,void(r&&(e[l].defaultSelected=!0));null!==t||e[l].disabled||(t=e[l])}null!==t&&(t.selected=!0)}}function Oe(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(r(91));return t({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:we(n)}}function De(e,t){var n=we(t.value),r=we(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ue={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ve(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Qe,We=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==Ue.svg||"innerHTML"in e)e.innerHTML=t;else{for((Qe=Qe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function He(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function je(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Be={animationend:je("Animation","AnimationEnd"),animationiteration:je("Animation","AnimationIteration"),animationstart:je("Animation","AnimationStart"),transitionend:je("Transition","TransitionEnd")},Ke={},$e={};function qe(e){if(Ke[e])return Ke[e];if(!Be[e])return e;var t,n=Be[e];for(t in n)if(n.hasOwnProperty(t)&&t in $e)return Ke[e]=n[t];return e}S&&($e=document.createElement("div").style,"AnimationEvent"in window||(delete Be.animationend.animation,delete Be.animationiteration.animation,delete Be.animationstart.animation),"TransitionEvent"in window||delete Be.transitionend.transition);var Ye=qe("animationend"),Xe=qe("animationiteration"),Ge=qe("animationstart"),Ze=qe("transitionend"),Je="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),et=new("function"==typeof WeakMap?WeakMap:Map);function tt(e){var t=et.get(e);return void 0===t&&(t=new Map,et.set(e,t)),t}function nt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function rt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function lt(e){if(nt(e)!==e)throw Error(r(188))}function it(e){var t=e.alternate;if(!t){if(null===(t=nt(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(l=i.return)){n=l;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return lt(i),e;if(a===l)return lt(i),t;a=a.sibling}throw Error(r(188))}if(n.return!==l.return)n=i,l=a;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,l=a;break}if(u===l){o=!0,l=i,n=a;break}u=u.sibling}if(!o){for(u=a.child;u;){if(u===n){o=!0,n=a,l=i;break}if(u===l){o=!0,l=a,n=i;break}u=u.sibling}if(!o)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}function at(e){if(!(e=it(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function ot(e,t){if(null==t)throw Error(r(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ut(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ct=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)h(e,t[r],n[r]);else t&&h(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ft(e){if(null!==e&&(ct=ot(ct,e)),e=ct,ct=null,e){if(ut(e,st),ct)throw Error(r(95));if(o)throw e=u,o=!1,u=null,e}}function dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function pt(e){if(!S)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var mt=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>mt.length&&mt.push(e)}function gt(e,t,n,r){if(mt.length){var l=mt.pop();return l.topLevelType=e,l.eventSystemFlags=r,l.nativeEvent=t,l.targetInst=n,l}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function vt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Un(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var l=dt(e.nativeEvent);r=e.topLevelType;var i=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var o=null,u=0;u<w.length;u++){var c=w[u];c&&(c=c.extractEvents(r,t,i,l,a))&&(o=ot(o,c))}ft(o)}}function yt(e,t,n){if(!n.has(e)){switch(e){case"scroll":en(t,"scroll",!0);break;case"focus":case"blur":en(t,"focus",!0),en(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":pt(e)&&en(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Je.indexOf(e)&&Jt(e,t)}n.set(e,null)}}var bt,wt,kt,xt=!1,Tt=[],Et=null,St=null,Ct=null,Pt=new Map,_t=new Map,Nt=[],zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Mt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function It(e,t){var n=tt(t);zt.forEach(function(e){yt(e,t,n)}),Mt.forEach(function(e){yt(e,t,n)})}function Ft(e,t,n,r,l){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:l,container:r}}function Ot(e,t){switch(e){case"focus":case"blur":Et=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function Rt(e,t,n,r,l,i){return null===e||e.nativeEvent!==i?(e=Ft(t,n,r,l,i),null!==t&&(null!==(t=An(t))&&wt(t)),e):(e.eventSystemFlags|=r,e)}function Dt(e,t,n,r,l){switch(t){case"focus":return Et=Rt(Et,e,t,n,r,l),!0;case"dragenter":return St=Rt(St,e,t,n,r,l),!0;case"mouseover":return Ct=Rt(Ct,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return Pt.set(i,Rt(Pt.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,_t.set(i,Rt(_t.get(i)||null,e,t,n,r,l)),!0}return!1}function Lt(e){var t=Un(e.target);if(null!==t){var r=nt(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=rt(r)))return e.blockedOn=t,void n.unstable_runWithPriority(e.priority,function(){kt(r)})}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;var t=ln(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=An(t);return null!==n&&wt(n),e.blockedOn=t,!1}return!0}function At(e,t,n){Ut(e)&&n.delete(t)}function Vt(){for(xt=!1;0<Tt.length;){var e=Tt[0];if(null!==e.blockedOn){null!==(e=An(e.blockedOn))&&bt(e);break}var t=ln(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Tt.shift()}null!==Et&&Ut(Et)&&(Et=null),null!==St&&Ut(St)&&(St=null),null!==Ct&&Ut(Ct)&&(Ct=null),Pt.forEach(At),_t.forEach(At)}function Qt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Vt)))}function Wt(e){function t(t){return Qt(t,e)}if(0<Tt.length){Qt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Qt(Et,e),null!==St&&Qt(St,e),null!==Ct&&Qt(Ct,e),Pt.forEach(t),_t.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Nt.shift()}var Ht={},jt=new Map,Bt=new Map,Kt=["abort","abort",Ye,"animationEnd",Xe,"animationIteration",Ge,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ze,"transitionEnd","waiting","waiting"];function $t(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],l=e[n+1],i="on"+(l[0].toUpperCase()+l.slice(1));i={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[r],eventPriority:t},Bt.set(r,t),jt.set(r,i),Ht[l]=i}}$t("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),$t("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),$t(Kt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Yt=0;Yt<qt.length;Yt++)Bt.set(qt[Yt],0);var Xt=n.unstable_UserBlockingPriority,Gt=n.unstable_runWithPriority,Zt=!0;function Jt(e,t){en(t,e,!1)}function en(e,t,n){var r=Bt.get(t);switch(void 0===r?2:r){case 0:r=tn.bind(null,t,1,e);break;case 1:r=nn.bind(null,t,1,e);break;default:r=rn.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function tn(e,t,n,r){D||O();var l=rn,i=D;D=!0;try{F(l,e,t,n,r)}finally{(D=i)||U()}}function nn(e,t,n,r){Gt(Xt,rn.bind(null,e,t,n,r))}function rn(e,t,n,r){if(Zt)if(0<Tt.length&&-1<zt.indexOf(e))e=Ft(null,e,t,n,r),Tt.push(e);else{var l=ln(e,t,n,r);if(null===l)Ot(e,r);else if(-1<zt.indexOf(e))e=Ft(l,e,t,n,r),Tt.push(e);else if(!Dt(l,e,t,n,r)){Ot(e,r),e=gt(e,r,null,t);try{A(vt,e)}finally{ht(e)}}}}function ln(e,t,n,r){if(null!==(n=Un(n=dt(r)))){var l=nt(n);if(null===l)n=null;else{var i=l.tag;if(13===i){if(null!==(n=rt(l)))return n;n=null}else if(3===i){if(l.stateNode.hydrate)return 3===l.tag?l.stateNode.containerInfo:null;n=null}else l!==n&&(n=null)}}e=gt(e,r,n,t);try{A(vt,e)}finally{ht(e)}return null}var an={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},on=["Webkit","ms","Moz","O"];function un(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||an.hasOwnProperty(e)&&an[e]?(""+t).trim():t+"px"}function cn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),l=un(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}Object.keys(an).forEach(function(e){on.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),an[t]=an[e]})});var sn=t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fn(e,t){if(t){if(sn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62,""))}}function dn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pn=Ue.html;function mn(e,t){var n=tt(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=T[t];for(var r=0;r<t.length;r++)yt(t[r],e,n)}function hn(){}function gn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function vn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yn(e,t){var n,r=vn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vn(r)}}function bn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?bn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function wn(){for(var e=window,t=gn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=gn((e=t.contentWindow).document)}return t}function kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var xn="$",Tn="/$",En="$?",Sn="$!",Cn=null,Pn=null;function _n(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Nn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zn="function"==typeof setTimeout?setTimeout:void 0,Mn="function"==typeof clearTimeout?clearTimeout:void 0;function In(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Fn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===xn||n===Sn||n===En){if(0===t)return e;t--}else n===Tn&&t++}e=e.previousSibling}return null}var On=Math.random().toString(36).slice(2),Rn="__reactInternalInstance$"+On,Dn="__reactEventHandlers$"+On,Ln="__reactContainere$"+On;function Un(e){var t=e[Rn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ln]||n[Rn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Fn(e);null!==e;){if(n=e[Rn])return n;e=Fn(e)}return t}n=(e=n).parentNode}return null}function An(e){return!(e=e[Rn]||e[Ln])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Vn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function Qn(e){return e[Dn]||null}function Wn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Hn(e,t){var n=e.stateNode;if(!n)return null;var l=d(n);if(!l)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(l=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!l;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}function jn(e,t,n){(t=Hn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=ot(n._dispatchListeners,t),n._dispatchInstances=ot(n._dispatchInstances,e))}function Bn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Wn(t);for(t=n.length;0<t--;)jn(n[t],"captured",e);for(t=0;t<n.length;t++)jn(n[t],"bubbled",e)}}function Kn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Hn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=ot(n._dispatchListeners,t),n._dispatchInstances=ot(n._dispatchInstances,e))}function $n(e){e&&e.dispatchConfig.registrationName&&Kn(e._targetInst,null,e)}function qn(e){ut(e,Bn)}var Yn=null,Xn=null,Gn=null;function Zn(){if(Gn)return Gn;var e,t,n=Xn,r=n.length,l="value"in Yn?Yn.value:Yn.textContent,i=l.length;for(e=0;e<r&&n[e]===l[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===l[i-t];t++);return Gn=l.slice(e,1<t?1-t:void 0)}function Jn(){return!0}function er(){return!1}function tr(e,t,n,r){for(var l in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(l)&&((t=e[l])?this[l]=t(n):"target"===l?this.target=r:this[l]=n[l]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Jn:er,this.isPropagationStopped=er,this}function nr(e,t,n,r){if(this.eventPool.length){var l=this.eventPool.pop();return this.call(l,e,t,n,r),l}return new this(e,t,n,r)}function rr(e){if(!(e instanceof this))throw Error(r(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function lr(e){e.eventPool=[],e.getPooled=nr,e.release=rr}t(tr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){this.isPersistent=Jn},isPersistent:er,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=er,this._dispatchInstances=this._dispatchListeners=null}}),tr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},tr.extend=function(e){function n(){}function r(){return l.apply(this,arguments)}var l=this;n.prototype=l.prototype;var i=new n;return t(i,r.prototype),r.prototype=i,r.prototype.constructor=r,r.Interface=t({},l.Interface,e),r.extend=l.extend,lr(r),r},lr(tr);var ir=tr.extend({data:null}),ar=tr.extend({data:null}),or=[9,13,27,32],ur=S&&"CompositionEvent"in window,cr=null;S&&"documentMode"in document&&(cr=document.documentMode);var sr=S&&"TextEvent"in window&&!cr,fr=S&&(!ur||cr&&8<cr&&11>=cr),dr=String.fromCharCode(32),pr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},mr=!1;function hr(e,t){switch(e){case"keyup":return-1!==or.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function gr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var vr=!1;function yr(e,t){switch(e){case"compositionend":return gr(t);case"keypress":return 32!==t.which?null:(mr=!0,dr);case"textInput":return(e=t.data)===dr&&mr?null:e;default:return null}}function br(e,t){if(vr)return"compositionend"===e||!ur&&hr(e,t)?(e=Zn(),Gn=Xn=Yn=null,vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fr&&"ko"!==t.locale?null:t.data;default:return null}}var wr={eventTypes:pr,extractEvents:function(e,t,n,r){var l;if(ur)e:{switch(e){case"compositionstart":var i=pr.compositionStart;break e;case"compositionend":i=pr.compositionEnd;break e;case"compositionupdate":i=pr.compositionUpdate;break e}i=void 0}else vr?hr(e,n)&&(i=pr.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=pr.compositionStart);return i?(fr&&"ko"!==n.locale&&(vr||i!==pr.compositionStart?i===pr.compositionEnd&&vr&&(l=Zn()):(Xn="value"in(Yn=r)?Yn.value:Yn.textContent,vr=!0)),i=ir.getPooled(i,t,n,r),l?i.data=l:null!==(l=gr(n))&&(i.data=l),qn(i),l=i):l=null,(e=sr?yr(e,n):br(e,n))?((t=ar.getPooled(pr.beforeInput,t,n,r)).data=e,qn(t)):t=null,null===l?t:null===t?l:[l,t]}},kr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!kr[e.type]:"textarea"===t}var Tr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Er(e,t,n){return(e=tr.getPooled(Tr.change,e,t,n)).type="change",z(n),qn(e),e}var Sr=null,Cr=null;function Pr(e){ft(e)}function _r(e){if(Ee(Vn(e)))return e}function Nr(e,t){if("change"===e)return t}var zr=!1;function Mr(){Sr&&(Sr.detachEvent("onpropertychange",Ir),Cr=Sr=null)}function Ir(e){if("value"===e.propertyName&&_r(Cr))if(e=Er(Cr,e,dt(e)),D)ft(e);else{D=!0;try{I(Pr,e)}finally{D=!1,U()}}}function Fr(e,t,n){"focus"===e?(Mr(),Cr=n,(Sr=t).attachEvent("onpropertychange",Ir)):"blur"===e&&Mr()}function Or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return _r(Cr)}function Rr(e,t){if("click"===e)return _r(t)}function Dr(e,t){if("input"===e||"change"===e)return _r(t)}S&&(zr=pt("input")&&(!document.documentMode||9<document.documentMode));var Lr={eventTypes:Tr,_isInputEventSupported:zr,extractEvents:function(e,t,n,r){var l=t?Vn(t):window,i=l.nodeName&&l.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===l.type)var a=Nr;else if(xr(l))if(zr)a=Dr;else{a=Or;var o=Fr}else(i=l.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(a=Rr);if(a&&(a=a(e,t)))return Er(a,n,r);o&&o(e,l,t),"blur"===e&&(e=l._wrapperState)&&e.controlled&&"number"===l.type&&ze(l,"number",l.value)}},Ur=tr.extend({view:null,detail:null}),Ar={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ar[e])&&!!t[e]}function Qr(){return Vr}var Wr=0,Hr=0,jr=!1,Br=!1,Kr=Ur.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Qr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Wr;return Wr=e.screenX,jr?"mousemove"===e.type?e.screenX-t:0:(jr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Hr;return Hr=e.screenY,Br?"mousemove"===e.type?e.screenY-t:0:(Br=!0,0)}}),$r=Kr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),qr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Yr={eventTypes:qr,extractEvents:function(e,t,n,r,l){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&0==(32&l)&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Un(t):null)&&(t!==nt(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var o=Kr,u=qr.mouseLeave,c=qr.mouseEnter,s="mouse";else"pointerout"!==e&&"pointerover"!==e||(o=$r,u=qr.pointerLeave,c=qr.pointerEnter,s="pointer");if(e=null==a?i:Vn(a),i=null==t?i:Vn(t),(u=o.getPooled(u,a,n,r)).type=s+"leave",u.target=e,u.relatedTarget=i,(n=o.getPooled(c,t,n,r)).type=s+"enter",n.target=i,n.relatedTarget=e,s=t,(r=a)&&s)e:{for(c=s,a=0,e=o=r;e;e=Wn(e))a++;for(e=0,t=c;t;t=Wn(t))e++;for(;0<a-e;)o=Wn(o),a--;for(;0<e-a;)c=Wn(c),e--;for(;a--;){if(o===c||o===c.alternate)break e;o=Wn(o),c=Wn(c)}o=null}else o=null;for(c=o,o=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)o.push(r),r=Wn(r);for(r=[];s&&s!==c&&(null===(a=s.alternate)||a!==c);)r.push(s),s=Wn(s);for(s=0;s<o.length;s++)Kn(o[s],"bubbled",u);for(s=r.length;0<s--;)Kn(r[s],"captured",n);return 0==(64&l)?[u]:[u,n]}};function Xr(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var Gr="function"==typeof Object.is?Object.is:Xr,Zr=Object.prototype.hasOwnProperty;function Jr(e,t){if(Gr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Zr.call(t,n[r])||!Gr(e[n[r]],t[n[r]]))return!1;return!0}var el=S&&"documentMode"in document&&11>=document.documentMode,tl={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},nl=null,rl=null,ll=null,il=!1;function al(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return il||null==nl||nl!==gn(n)?null:("selectionStart"in(n=nl)&&kn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ll&&Jr(ll,n)?null:(ll=n,(e=tr.getPooled(tl.select,rl,e,t)).type="select",e.target=nl,qn(e),e))}var ol={eventTypes:tl,extractEvents:function(e,t,n,r,l,i){if(!(i=!(l=i||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{l=tt(l),i=T.onSelect;for(var a=0;a<i.length;a++)if(!l.has(i[a])){l=!1;break e}l=!0}i=!l}if(i)return null;switch(l=t?Vn(t):window,e){case"focus":(xr(l)||"true"===l.contentEditable)&&(nl=l,rl=t,ll=null);break;case"blur":ll=rl=nl=null;break;case"mousedown":il=!0;break;case"contextmenu":case"mouseup":case"dragend":return il=!1,al(n,r);case"selectionchange":if(el)break;case"keydown":case"keyup":return al(n,r)}return null}},ul=tr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),cl=tr.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sl=Ur.extend({relatedTarget:null});function fl(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var dl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ml=Ur.extend({key:function(e){if(e.key){var t=dl[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=fl(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pl[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Qr,charCode:function(e){return"keypress"===e.type?fl(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?fl(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),hl=Kr.extend({dataTransfer:null}),gl=Ur.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Qr}),vl=tr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),yl=Kr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),bl={eventTypes:Ht,extractEvents:function(e,t,n,r){var l=jt.get(e);if(!l)return null;switch(e){case"keypress":if(0===fl(n))return null;case"keydown":case"keyup":e=ml;break;case"blur":case"focus":e=sl;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Kr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=hl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=gl;break;case Ye:case Xe:case Ge:e=ul;break;case Ze:e=vl;break;case"scroll":e=Ur;break;case"wheel":e=yl;break;case"copy":case"cut":case"paste":e=cl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=$r;break;default:e=tr}return qn(t=e.getPooled(l,t,n,r)),t}};if(g)throw Error(r(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),y();var wl=An;d=Qn,p=wl,m=Vn,E({SimpleEventPlugin:bl,EnterLeaveEventPlugin:Yr,ChangeEventPlugin:Lr,SelectEventPlugin:ol,BeforeInputEventPlugin:wr});var kl=[],xl=-1;function Tl(e){0>xl||(e.current=kl[xl],kl[xl]=null,xl--)}function El(e,t){kl[++xl]=e.current,e.current=t}var Sl={},Cl={current:Sl},Pl={current:!1},_l=Sl;function Nl(e,t){var n=e.type.contextTypes;if(!n)return Sl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l,i={};for(l in n)i[l]=t[l];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function zl(e){return null!=(e=e.childContextTypes)}function Ml(){Tl(Pl),Tl(Cl)}function Il(e,t,n){if(Cl.current!==Sl)throw Error(r(168));El(Cl,t),El(Pl,n)}function Fl(e,n,l){var i=e.stateNode;if(e=n.childContextTypes,"function"!=typeof i.getChildContext)return l;for(var a in i=i.getChildContext())if(!(a in e))throw Error(r(108,ye(n)||"Unknown",a));return t({},l,{},i)}function Ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sl,_l=Cl.current,El(Cl,e),El(Pl,Pl.current),!0}function Rl(e,t,n){var l=e.stateNode;if(!l)throw Error(r(169));n?(e=Fl(e,t,_l),l.__reactInternalMemoizedMergedChildContext=e,Tl(Pl),Tl(Cl),El(Cl,e)):Tl(Pl),El(Pl,n)}var Dl=n.unstable_runWithPriority,Ll=n.unstable_scheduleCallback,Ul=n.unstable_cancelCallback,Al=n.unstable_requestPaint,Vl=n.unstable_now,Ql=n.unstable_getCurrentPriorityLevel,Wl=n.unstable_ImmediatePriority,Hl=n.unstable_UserBlockingPriority,jl=n.unstable_NormalPriority,Bl=n.unstable_LowPriority,Kl=n.unstable_IdlePriority,$l={},ql=n.unstable_shouldYield,Yl=void 0!==Al?Al:function(){},Xl=null,Gl=null,Zl=!1,Jl=Vl(),ei=1e4>Jl?Vl:function(){return Vl()-Jl};function ti(){switch(Ql()){case Wl:return 99;case Hl:return 98;case jl:return 97;case Bl:return 96;case Kl:return 95;default:throw Error(r(332))}}function ni(e){switch(e){case 99:return Wl;case 98:return Hl;case 97:return jl;case 96:return Bl;case 95:return Kl;default:throw Error(r(332))}}function ri(e,t){return e=ni(e),Dl(e,t)}function li(e,t,n){return e=ni(e),Ll(e,t,n)}function ii(e){return null===Xl?(Xl=[e],Gl=Ll(Wl,oi)):Xl.push(e),$l}function ai(){if(null!==Gl){var e=Gl;Gl=null,Ul(e)}oi()}function oi(){if(!Zl&&null!==Xl){Zl=!0;var e=0;try{var t=Xl;ri(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),Xl=null}catch(n){throw null!==Xl&&(Xl=Xl.slice(e+1)),Ll(Wl,ai),n}finally{Zl=!1}}}function ui(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function ci(e,n){if(e&&e.defaultProps)for(var r in n=t({},n),e=e.defaultProps)void 0===n[r]&&(n[r]=e[r]);return n}var si={current:null},fi=null,di=null,pi=null;function mi(){pi=di=fi=null}function hi(e){var t=si.current;Tl(si),e.type._context._currentValue=t}function gi(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function vi(e,t){fi=e,pi=di=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ja=!0),e.firstContext=null)}function yi(e,t){if(pi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(pi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===di){if(null===fi)throw Error(r(308));di=t,fi.dependencies={expirationTime:0,firstContext:t,responders:null}}else di=di.next=t;return e._currentValue}var bi=!1;function wi(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ki(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function xi(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function Ti(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Ei(e,t){var n=e.alternate;null!==n&&ki(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function Si(e,n,r,l){var i=e.updateQueue;bi=!1;var a=i.baseQueue,o=i.shared.pending;if(null!==o){if(null!==a){var u=a.next;a.next=o.next,o.next=u}a=o,i.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=o))}if(null!==a){u=a.next;var c=i.baseState,s=0,f=null,d=null,p=null;if(null!==u)for(var m=u;;){if((o=m.expirationTime)<l){var h={expirationTime:m.expirationTime,suspenseConfig:m.suspenseConfig,tag:m.tag,payload:m.payload,callback:m.callback,next:null};null===p?(d=p=h,f=c):p=p.next=h,o>s&&(s=o)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:m.suspenseConfig,tag:m.tag,payload:m.payload,callback:m.callback,next:null}),Fu(o,m.suspenseConfig);e:{var g=e,v=m;switch(o=n,h=r,v.tag){case 1:if("function"==typeof(g=v.payload)){c=g.call(h,c,o);break e}c=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(o="function"==typeof(g=v.payload)?g.call(h,c,o):g))break e;c=t({},c,o);break e;case 2:bi=!0}}null!==m.callback&&(e.effectTag|=32,null===(o=i.effects)?i.effects=[m]:o.push(m))}if(null===(m=m.next)||m===u){if(null===(o=i.shared.pending))break;m=a.next=o.next,o.next=u,i.baseQueue=a=o,i.shared.pending=null}}null===p?f=c:p.next=d,i.baseState=f,i.baseQueue=p,Ou(s),e.expirationTime=s,e.memoizedState=c}}function Ci(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var l=e[t],i=l.callback;if(null!==i){if(l.callback=null,l=i,i=n,"function"!=typeof l)throw Error(r(191,l));l.call(i)}}}var Pi=G.ReactCurrentBatchConfig,_i=(new e.Component).refs;function Ni(e,n,r,l){r=null==(r=r(l,n=e.memoizedState))?n:t({},n,r),e.memoizedState=r,0===e.expirationTime&&(e.updateQueue.baseState=r)}var zi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&nt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=bu(),l=Pi.suspense;(l=xi(r=wu(r,e,l),l)).payload=t,null!=n&&(l.callback=n),Ti(e,l),ku(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=bu(),l=Pi.suspense;(l=xi(r=wu(r,e,l),l)).tag=1,l.payload=t,null!=n&&(l.callback=n),Ti(e,l),ku(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=bu(),r=Pi.suspense;(r=xi(n=wu(n,e,r),r)).tag=2,null!=t&&(r.callback=t),Ti(e,r),ku(e,n)}};function Mi(e,t,n,r,l,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Jr(n,r)||!Jr(l,i))}function Ii(e,t,n){var r=!1,l=Sl,i=t.contextType;return"object"==typeof i&&null!==i?i=yi(i):(l=zl(t)?_l:Cl.current,i=(r=null!=(r=t.contextTypes))?Nl(e,l):Sl),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function Fi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zi.enqueueReplaceState(t,t.state,null)}function Oi(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs=_i,wi(e);var i=t.contextType;"object"==typeof i&&null!==i?l.context=yi(i):(i=zl(t)?_l:Cl.current,l.context=Nl(e,i)),Si(e,n,l,r),l.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(Ni(e,t,i,n),l.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||(t=l.state,"function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),t!==l.state&&zi.enqueueReplaceState(l,l.state,null),Si(e,n,l,r),l.state=e.memoizedState),"function"==typeof l.componentDidMount&&(e.effectTag|=4)}var Ri=Array.isArray;function Di(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var l=n.stateNode}if(!l)throw Error(r(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=l.refs;t===_i&&(t=l.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Li(e,t){if("textarea"!==e.type)throw Error(r(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ui(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function l(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=nc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function o(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=ic(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Di(e,t,n),r.return=e,r):((r=rc(n.type,n.key,n.props,null,e.mode,r)).ref=Di(e,t,n),r.return=e,r)}function s(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ac(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,l){return null===t||7!==t.tag?((t=lc(n,e.mode,r,l)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=ic(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case te:return(n=rc(t.type,t.key,t.props,null,e.mode,n)).ref=Di(e,null,t),n.return=e,n;case ne:return(t=ac(t,e.mode,n)).return=e,t}if(Ri(t)||ge(t))return(t=lc(t,e.mode,n,null)).return=e,t;Li(e,t)}return null}function p(e,t,n,r){var l=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==l?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case te:return n.key===l?n.type===re?f(e,t,n.props.children,r,l):c(e,t,n,r):null;case ne:return n.key===l?s(e,t,n,r):null}if(Ri(n)||ge(n))return null!==l?null:f(e,t,n,r,null);Li(e,n)}return null}function m(e,t,n,r,l){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,l);if("object"==typeof r&&null!==r){switch(r.$$typeof){case te:return e=e.get(null===r.key?n:r.key)||null,r.type===re?f(t,e,r.props.children,l,r.key):c(t,e,r,l);case ne:return s(t,e=e.get(null===r.key?n:r.key)||null,r,l)}if(Ri(r)||ge(r))return f(t,e=e.get(n)||null,r,l,null);Li(t,r)}return null}function h(r,i,o,u){for(var c=null,s=null,f=i,h=i=0,g=null;null!==f&&h<o.length;h++){f.index>h?(g=f,f=null):g=f.sibling;var v=p(r,f,o[h],u);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(r,f),i=a(v,i,h),null===s?c=v:s.sibling=v,s=v,f=g}if(h===o.length)return n(r,f),c;if(null===f){for(;h<o.length;h++)null!==(f=d(r,o[h],u))&&(i=a(f,i,h),null===s?c=f:s.sibling=f,s=f);return c}for(f=l(r,f);h<o.length;h++)null!==(g=m(f,r,h,o[h],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?h:g.key),i=a(g,i,h),null===s?c=g:s.sibling=g,s=g);return e&&f.forEach(function(e){return t(r,e)}),c}function g(i,o,u,c){var s=ge(u);if("function"!=typeof s)throw Error(r(150));if(null==(u=s.call(u)))throw Error(r(151));for(var f=s=null,h=o,g=o=0,v=null,y=u.next();null!==h&&!y.done;g++,y=u.next()){h.index>g?(v=h,h=null):v=h.sibling;var b=p(i,h,y.value,c);if(null===b){null===h&&(h=v);break}e&&h&&null===b.alternate&&t(i,h),o=a(b,o,g),null===f?s=b:f.sibling=b,f=b,h=v}if(y.done)return n(i,h),s;if(null===h){for(;!y.done;g++,y=u.next())null!==(y=d(i,y.value,c))&&(o=a(y,o,g),null===f?s=y:f.sibling=y,f=y);return s}for(h=l(i,h);!y.done;g++,y=u.next())null!==(y=m(h,i,g,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?g:y.key),o=a(y,o,g),null===f?s=y:f.sibling=y,f=y);return e&&h.forEach(function(e){return t(i,e)}),s}return function(e,l,a,u){var c="object"==typeof a&&null!==a&&a.type===re&&null===a.key;c&&(a=a.props.children);var s="object"==typeof a&&null!==a;if(s)switch(a.$$typeof){case te:e:{for(s=a.key,c=l;null!==c;){if(c.key===s){switch(c.tag){case 7:if(a.type===re){n(e,c.sibling),(l=i(c,a.props.children)).return=e,e=l;break e}break;default:if(c.elementType===a.type){n(e,c.sibling),(l=i(c,a.props)).ref=Di(e,c,a),l.return=e,e=l;break e}}n(e,c);break}t(e,c),c=c.sibling}a.type===re?((l=lc(a.props.children,e.mode,u,a.key)).return=e,e=l):((u=rc(a.type,a.key,a.props,null,e.mode,u)).ref=Di(e,l,a),u.return=e,e=u)}return o(e);case ne:e:{for(c=a.key;null!==l;){if(l.key===c){if(4===l.tag&&l.stateNode.containerInfo===a.containerInfo&&l.stateNode.implementation===a.implementation){n(e,l.sibling),(l=i(l,a.children||[])).return=e,e=l;break e}n(e,l);break}t(e,l),l=l.sibling}(l=ac(a,e.mode,u)).return=e,e=l}return o(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==l&&6===l.tag?(n(e,l.sibling),(l=i(l,a)).return=e,e=l):(n(e,l),(l=ic(a,e.mode,u)).return=e,e=l),o(e);if(Ri(a))return h(e,l,a,u);if(ge(a))return g(e,l,a,u);if(s&&Li(e,a),void 0===a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(r(152,e.displayName||e.name||"Component"))}return n(e,l)}}var Ai=Ui(!0),Vi=Ui(!1),Qi={},Wi={current:Qi},Hi={current:Qi},ji={current:Qi};function Bi(e){if(e===Qi)throw Error(r(174));return e}function Ki(e,t){switch(El(ji,t),El(Hi,e),El(Wi,Qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ve(null,"");break;default:t=Ve(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Tl(Wi),El(Wi,t)}function $i(){Tl(Wi),Tl(Hi),Tl(ji)}function qi(e){Bi(ji.current);var t=Bi(Wi.current),n=Ve(t,e.type);t!==n&&(El(Hi,e),El(Wi,n))}function Yi(e){Hi.current===e&&(Tl(Wi),Tl(Hi))}var Xi={current:0};function Gi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===En||n.data===Sn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Zi(e,t){return{responder:e,props:t}}var Ji=G.ReactCurrentDispatcher,ea=G.ReactCurrentBatchConfig,ta=0,na=null,ra=null,la=null,ia=!1;function aa(){throw Error(r(321))}function oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gr(e[n],t[n]))return!1;return!0}function ua(e,t,n,l,i,a){if(ta=a,na=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ji.current=null===e||null===e.memoizedState?Ma:Ia,e=n(l,i),t.expirationTime===ta){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(r(301));a+=1,la=ra=null,t.updateQueue=null,Ji.current=Fa,e=n(l,i)}while(t.expirationTime===ta)}if(Ji.current=za,t=null!==ra&&null!==ra.next,ta=0,la=ra=na=null,ia=!1,t)throw Error(r(300));return e}function ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?na.memoizedState=la=e:la=la.next=e,la}function sa(){if(null===ra){var e=na.alternate;e=null!==e?e.memoizedState:null}else e=ra.next;var t=null===la?na.memoizedState:la.next;if(null!==t)la=t,ra=e;else{if(null===e)throw Error(r(310));e={memoizedState:(ra=e).memoizedState,baseState:ra.baseState,baseQueue:ra.baseQueue,queue:ra.queue,next:null},null===la?na.memoizedState=la=e:la=la.next=e}return la}function fa(e,t){return"function"==typeof t?t(e):t}function da(e){var t=sa(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var l=ra,i=l.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}l.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,l=l.baseState;var u=o=a=null,c=i;do{var s=c.expirationTime;if(s<ta){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(o=u=f,a=l):u=u.next=f,s>na.expirationTime&&(na.expirationTime=s,Ou(s))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),Fu(s,c.suspenseConfig),l=c.eagerReducer===e?c.eagerState:e(l,c.action);c=c.next}while(null!==c&&c!==i);null===u?a=l:u.next=o,Gr(l,t.memoizedState)||(ja=!0),t.memoizedState=l,t.baseState=a,t.baseQueue=u,n.lastRenderedState=l}return[t.memoizedState,n.dispatch]}function pa(e){var t=sa(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Gr(a,t.memoizedState)||(ja=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,l]}function ma(e){var t=ca();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e}).dispatch=Na.bind(null,na,e),[t.memoizedState,e]}function ha(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=na.updateQueue)?(t={lastEffect:null},na.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(){return sa().memoizedState}function va(e,t,n,r){var l=ca();na.effectTag|=e,l.memoizedState=ha(1|t,n,void 0,void 0===r?null:r)}function ya(e,t,n,r){var l=sa();r=void 0===r?null:r;var i=void 0;if(null!==ra){var a=ra.memoizedState;if(i=a.destroy,null!==r&&oa(r,a.deps))return void ha(t,n,i,r)}na.effectTag|=e,l.memoizedState=ha(1|t,n,i,r)}function ba(e,t){return va(516,4,e,t)}function wa(e,t){return ya(516,4,e,t)}function ka(e,t){return ya(4,2,e,t)}function xa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ta(e,t,n){return n=null!=n?n.concat([e]):null,ya(4,2,xa.bind(null,t,e),n)}function Ea(){}function Sa(e,t){return ca().memoizedState=[e,void 0===t?null:t],e}function Ca(e,t){var n=sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pa(e,t){var n=sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _a(e,t,n){var r=ti();ri(98>r?98:r,function(){e(!0)}),ri(97<r?97:r,function(){var r=ea.suspense;ea.suspense=void 0===t?null:t;try{e(!1),n()}finally{ea.suspense=r}})}function Na(e,t,n){var r=bu(),l=Pi.suspense;l={expirationTime:r=wu(r,e,l),suspenseConfig:l,action:n,eagerReducer:null,eagerState:null,next:null};var i=t.pending;if(null===i?l.next=l:(l.next=i.next,i.next=l),t.pending=l,i=e.alternate,e===na||null!==i&&i===na)ia=!0,l.expirationTime=ta,na.expirationTime=ta;else{if(0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(l.eagerReducer=i,l.eagerState=o,Gr(o,a))return}catch(u){}ku(e,r)}}var za={readContext:yi,useCallback:aa,useContext:aa,useEffect:aa,useImperativeHandle:aa,useLayoutEffect:aa,useMemo:aa,useReducer:aa,useRef:aa,useState:aa,useDebugValue:aa,useResponder:aa,useDeferredValue:aa,useTransition:aa},Ma={readContext:yi,useCallback:Sa,useContext:yi,useEffect:ba,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,va(4,2,xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return va(4,2,e,t)},useMemo:function(e,t){var n=ca();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ca();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Na.bind(null,na,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ca().memoizedState=e},useState:ma,useDebugValue:Ea,useResponder:Zi,useDeferredValue:function(e,t){var n=ma(e),r=n[0],l=n[1];return ba(function(){var n=ea.suspense;ea.suspense=void 0===t?null:t;try{l(e)}finally{ea.suspense=n}},[e,t]),r},useTransition:function(e){var t=ma(!1),n=t[0];return t=t[1],[Sa(_a.bind(null,t,e),[t,e]),n]}},Ia={readContext:yi,useCallback:Ca,useContext:yi,useEffect:wa,useImperativeHandle:Ta,useLayoutEffect:ka,useMemo:Pa,useReducer:da,useRef:ga,useState:function(){return da(fa)},useDebugValue:Ea,useResponder:Zi,useDeferredValue:function(e,t){var n=da(fa),r=n[0],l=n[1];return wa(function(){var n=ea.suspense;ea.suspense=void 0===t?null:t;try{l(e)}finally{ea.suspense=n}},[e,t]),r},useTransition:function(e){var t=da(fa),n=t[0];return t=t[1],[Ca(_a.bind(null,t,e),[t,e]),n]}},Fa={readContext:yi,useCallback:Ca,useContext:yi,useEffect:wa,useImperativeHandle:Ta,useLayoutEffect:ka,useMemo:Pa,useReducer:pa,useRef:ga,useState:function(){return pa(fa)},useDebugValue:Ea,useResponder:Zi,useDeferredValue:function(e,t){var n=pa(fa),r=n[0],l=n[1];return wa(function(){var n=ea.suspense;ea.suspense=void 0===t?null:t;try{l(e)}finally{ea.suspense=n}},[e,t]),r},useTransition:function(e){var t=pa(fa),n=t[0];return t=t[1],[Ca(_a.bind(null,t,e),[t,e]),n]}},Oa=null,Ra=null,Da=!1;function La(e,t){var n=Ju(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Aa(e){if(Da){var t=Ra;if(t){var n=t;if(!Ua(e,t)){if(!(t=In(n.nextSibling))||!Ua(e,t))return e.effectTag=-1025&e.effectTag|2,Da=!1,void(Oa=e);La(Oa,n)}Oa=e,Ra=In(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Da=!1,Oa=e}}function Va(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Oa=e}function Qa(e){if(e!==Oa)return!1;if(!Da)return Va(e),Da=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Nn(t,e.memoizedProps))for(t=Ra;t;)La(e,t),t=In(t.nextSibling);if(Va(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Tn){if(0===t){Ra=In(e.nextSibling);break e}t--}else n!==xn&&n!==Sn&&n!==En||t++}e=e.nextSibling}Ra=null}}else Ra=Oa?In(e.stateNode.nextSibling):null;return!0}function Wa(){Ra=Oa=null,Da=!1}var Ha=G.ReactCurrentOwner,ja=!1;function Ba(e,t,n,r){t.child=null===e?Vi(t,null,n,r):Ai(t,e.child,n,r)}function Ka(e,t,n,r,l){n=n.render;var i=t.ref;return vi(t,l),r=ua(e,t,n,r,i,l),null===e||ja?(t.effectTag|=1,Ba(e,t,r,l),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=l&&(e.expirationTime=0),co(e,t,l))}function $a(e,t,n,r,l,i){if(null===e){var a=n.type;return"function"!=typeof a||ec(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=rc(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,qa(e,t,a,r,l,i))}return a=e.child,l<i&&(l=a.memoizedProps,(n=null!==(n=n.compare)?n:Jr)(l,r)&&e.ref===t.ref)?co(e,t,i):(t.effectTag|=1,(e=nc(a,r)).ref=t.ref,e.return=t,t.child=e)}function qa(e,t,n,r,l,i){return null!==e&&Jr(e.memoizedProps,r)&&e.ref===t.ref&&(ja=!1,l<i)?(t.expirationTime=e.expirationTime,co(e,t,i)):Xa(e,t,n,r,i)}function Ya(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Xa(e,t,n,r,l){var i=zl(n)?_l:Cl.current;return i=Nl(t,i),vi(t,l),n=ua(e,t,n,r,i,l),null===e||ja?(t.effectTag|=1,Ba(e,t,n,l),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=l&&(e.expirationTime=0),co(e,t,l))}function Ga(e,t,n,r,l){if(zl(n)){var i=!0;Ol(t)}else i=!1;if(vi(t,l),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Ii(t,n,r),Oi(t,n,r,l),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=yi(c):c=Nl(t,c=zl(n)?_l:Cl.current);var s=n.getDerivedStateFromProps,f="function"==typeof s||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||u!==c)&&Fi(t,a,r,c),bi=!1;var d=t.memoizedState;a.state=d,Si(t,r,a,l),u=t.memoizedState,o!==r||d!==u||Pl.current||bi?("function"==typeof s&&(Ni(t,n,s,r),u=t.memoizedState),(o=bi||Mi(t,n,o,r,d,u,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=o):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ki(e,t),o=t.memoizedProps,a.props=t.type===t.elementType?o:ci(t.type,o),u=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=yi(c):c=Nl(t,c=zl(n)?_l:Cl.current),(f="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||u!==c)&&Fi(t,a,r,c),bi=!1,u=t.memoizedState,a.state=u,Si(t,r,a,l),d=t.memoizedState,o!==r||u!==d||Pl.current||bi?("function"==typeof s&&(Ni(t,n,s,r),d=t.memoizedState),(s=bi||Mi(t,n,o,r,u,d,c))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=c,r=s):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Za(e,t,n,r,i,l)}function Za(e,t,n,r,l,i){Ya(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return l&&Rl(t,n,!1),co(e,t,i);r=t.stateNode,Ha.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Ai(t,e.child,null,i),t.child=Ai(t,null,o,i)):Ba(e,t,o,i),t.memoizedState=r.state,l&&Rl(t,n,!0),t.child}function Ja(e){var t=e.stateNode;t.pendingContext?Il(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Il(e,t.context,!1),Ki(e,t.containerInfo)}var eo,to,no,ro,lo={dehydrated:null,retryTime:0};function io(e,t,n){var r,l=t.mode,i=t.pendingProps,a=Xi.current,o=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(o=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),El(Xi,1&a),null===e){if(void 0!==i.fallback&&Aa(t),o){if(o=i.fallback,(i=lc(null,l,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=lc(o,l,n,null)).return=t,i.sibling=n,t.memoizedState=lo,t.child=i,n}return l=i.children,t.memoizedState=null,t.child=Vi(t,null,l,n)}if(null!==e.memoizedState){if(l=(e=e.child).sibling,o){if(i=i.fallback,(n=nc(e,e.pendingProps)).return=t,0==(2&t.mode)&&(o=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=o;null!==o;)o.return=n,o=o.sibling;return(l=nc(l,i)).return=t,n.sibling=l,n.childExpirationTime=0,t.memoizedState=lo,t.child=n,l}return n=Ai(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,o){if(o=i.fallback,(i=lc(null,l,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=lc(o,l,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=lo,t.child=i,n}return t.memoizedState=null,t.child=Ai(t,e,i.children,n)}function ao(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),gi(e.return,t)}function oo(e,t,n,r,l,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:l,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=l,a.lastEffect=i)}function uo(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(Ba(e,t,r.children,n),0!=(2&(r=Xi.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ao(e,n);else if(19===e.tag)ao(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(El(Xi,r),0==(2&t.mode))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;null!==n;)null!==(e=n.alternate)&&null===Gi(e)&&(l=n),n=n.sibling;null===(n=l)?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),oo(t,!1,l,n,i,t.lastEffect);break;case"backwards":for(n=null,l=t.child,t.child=null;null!==l;){if(null!==(e=l.alternate)&&null===Gi(e)){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}oo(t,!0,n,null,i,t.lastEffect);break;case"together":oo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function co(e,t,n){null!==e&&(t.dependencies=e.dependencies);var l=t.expirationTime;if(0!==l&&Ou(l),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function so(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fo(e,n,l){var i=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return zl(n.type)&&Ml(),null;case 3:return $i(),Tl(Pl),Tl(Cl),(l=n.stateNode).pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==e&&null!==e.child||!Qa(n)||(n.effectTag|=4),to(n),null;case 5:Yi(n),l=Bi(ji.current);var a=n.type;if(null!==e&&null!=n.stateNode)no(e,n,a,i,l),e.ref!==n.ref&&(n.effectTag|=128);else{if(!i){if(null===n.stateNode)throw Error(r(166));return null}if(e=Bi(Wi.current),Qa(n)){i=n.stateNode,a=n.type;var o=n.memoizedProps;switch(i[Rn]=n,i[Dn]=o,a){case"iframe":case"object":case"embed":Jt("load",i);break;case"video":case"audio":for(e=0;e<Je.length;e++)Jt(Je[e],i);break;case"source":Jt("error",i);break;case"img":case"image":case"link":Jt("error",i),Jt("load",i);break;case"form":Jt("reset",i),Jt("submit",i);break;case"details":Jt("toggle",i);break;case"input":Ce(i,o),Jt("invalid",i),mn(l,"onChange");break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Jt("invalid",i),mn(l,"onChange");break;case"textarea":Re(i,o),Jt("invalid",i),mn(l,"onChange")}for(var u in fn(a,o),e=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"==typeof c?i.textContent!==c&&(e=["children",c]):"number"==typeof c&&i.textContent!==""+c&&(e=["children",""+c]):x.hasOwnProperty(u)&&null!=c&&mn(l,u)}switch(a){case"input":Te(i),Ne(i,o,!0);break;case"textarea":Te(i),Le(i);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(i.onclick=hn)}l=e,n.updateQueue=l,null!==l&&(n.effectTag|=4)}else{switch(u=9===l.nodeType?l:l.ownerDocument,e===pn&&(e=Ae(a)),e===pn?"script"===a?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=u.createElement(a,{is:i.is}):(e=u.createElement(a),"select"===a&&(u=e,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):e=u.createElementNS(e,a),e[Rn]=n,e[Dn]=i,eo(e,n,!1,!1),n.stateNode=e,u=dn(a,i),a){case"iframe":case"object":case"embed":Jt("load",e),c=i;break;case"video":case"audio":for(c=0;c<Je.length;c++)Jt(Je[c],e);c=i;break;case"source":Jt("error",e),c=i;break;case"img":case"image":case"link":Jt("error",e),Jt("load",e),c=i;break;case"form":Jt("reset",e),Jt("submit",e),c=i;break;case"details":Jt("toggle",e),c=i;break;case"input":Ce(e,i),c=Se(e,i),Jt("invalid",e),mn(l,"onChange");break;case"option":c=Ie(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},c=t({},i,{value:void 0}),Jt("invalid",e),mn(l,"onChange");break;case"textarea":Re(e,i),c=Oe(e,i),Jt("invalid",e),mn(l,"onChange");break;default:c=i}fn(a,c);var s=c;for(o in s)if(s.hasOwnProperty(o)){var f=s[o];"style"===o?cn(e,f):"dangerouslySetInnerHTML"===o?null!=(f=f?f.__html:void 0)&&We(e,f):"children"===o?"string"==typeof f?("textarea"!==a||""!==f)&&He(e,f):"number"==typeof f&&He(e,""+f):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(x.hasOwnProperty(o)?null!=f&&mn(l,o):null!=f&&Z(e,o,f,u))}switch(a){case"input":Te(e),Ne(e,i,!1);break;case"textarea":Te(e),Le(e);break;case"option":null!=i.value&&e.setAttribute("value",""+we(i.value));break;case"select":e.multiple=!!i.multiple,null!=(l=i.value)?Fe(e,!!i.multiple,l,!1):null!=i.defaultValue&&Fe(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof c.onClick&&(e.onclick=hn)}_n(a,i)&&(n.effectTag|=4)}null!==n.ref&&(n.effectTag|=128)}return null;case 6:if(e&&null!=n.stateNode)ro(e,n,e.memoizedProps,i);else{if("string"!=typeof i&&null===n.stateNode)throw Error(r(166));l=Bi(ji.current),Bi(Wi.current),Qa(n)?(l=n.stateNode,i=n.memoizedProps,l[Rn]=n,l.nodeValue!==i&&(n.effectTag|=4)):((l=(9===l.nodeType?l:l.ownerDocument).createTextNode(i))[Rn]=n,n.stateNode=l)}return null;case 13:return Tl(Xi),i=n.memoizedState,0!=(64&n.effectTag)?(n.expirationTime=l,n):(l=null!==i,i=!1,null===e?void 0!==n.memoizedProps.fallback&&Qa(n):(i=null!==(a=e.memoizedState),l||null===a||null!==(a=e.child.sibling)&&(null!==(o=n.firstEffect)?(n.firstEffect=a,a.nextEffect=o):(n.firstEffect=n.lastEffect=a,a.nextEffect=null),a.effectTag=8)),l&&!i&&0!=(2&n.mode)&&(null===e&&!0!==n.memoizedProps.unstable_avoidThisFallback||0!=(1&Xi.current)?Jo===Ho&&(Jo=Ko):(Jo!==Ho&&Jo!==Ko||(Jo=$o),0!==lu&&null!==Xo&&(cc(Xo,Zo),sc(Xo,lu)))),(l||i)&&(n.effectTag|=4),null);case 4:return $i(),to(n),null;case 10:return hi(n),null;case 17:return zl(n.type)&&Ml(),null;case 19:if(Tl(Xi),null===(i=n.memoizedState))return null;if(a=0!=(64&n.effectTag),null===(o=i.rendering)){if(a)so(i,!1);else if(Jo!==Ho||null!==e&&0!=(64&e.effectTag))for(o=n.child;null!==o;){if(null!==(e=Gi(o))){for(n.effectTag|=64,so(i,!1),null!==(a=e.updateQueue)&&(n.updateQueue=a,n.effectTag|=4),null===i.lastEffect&&(n.firstEffect=null),n.lastEffect=i.lastEffect,i=n.child;null!==i;)o=l,(a=i).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=o,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,o=e.dependencies,a.dependencies=null===o?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),i=i.sibling;return El(Xi,1&Xi.current|2),n.child}o=o.sibling}}else{if(!a)if(null!==(e=Gi(o))){if(n.effectTag|=64,a=!0,null!==(l=e.updateQueue)&&(n.updateQueue=l,n.effectTag|=4),so(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate)return null!==(n=n.lastEffect=i.lastEffect)&&(n.nextEffect=null),null}else 2*ei()-i.renderingStartTime>i.tailExpiration&&1<l&&(n.effectTag|=64,a=!0,so(i,!1),n.expirationTime=n.childExpirationTime=l-1);i.isBackwards?(o.sibling=n.child,n.child=o):(null!==(l=i.last)?l.sibling=o:n.child=o,i.last=o)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=ei()+500),l=i.tail,i.rendering=l,i.tail=l.sibling,i.lastEffect=n.lastEffect,i.renderingStartTime=ei(),l.sibling=null,n=Xi.current,El(Xi,a?1&n|2:1&n),l):null}throw Error(r(156,n.tag))}function po(e){switch(e.tag){case 1:zl(e.type)&&Ml();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if($i(),Tl(Pl),Tl(Cl),0!=(64&(t=e.effectTag)))throw Error(r(285));return e.effectTag=-4097&t|64,e;case 5:return Yi(e),null;case 13:return Tl(Xi),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return Tl(Xi),null;case 4:return $i(),null;case 10:return hi(e),null;default:return null}}function mo(e,t){return{value:e,source:t,stack:be(t)}}eo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},to=function(){},no=function(e,n,r,l,i){var a=e.memoizedProps;if(a!==l){var o,u,c=n.stateNode;switch(Bi(Wi.current),e=null,r){case"input":a=Se(c,a),l=Se(c,l),e=[];break;case"option":a=Ie(c,a),l=Ie(c,l),e=[];break;case"select":a=t({},a,{value:void 0}),l=t({},l,{value:void 0}),e=[];break;case"textarea":a=Oe(c,a),l=Oe(c,l),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof l.onClick&&(c.onclick=hn)}for(o in fn(r,l),r=null,a)if(!l.hasOwnProperty(o)&&a.hasOwnProperty(o)&&null!=a[o])if("style"===o)for(u in c=a[o])c.hasOwnProperty(u)&&(r||(r={}),r[u]="");else"dangerouslySetInnerHTML"!==o&&"children"!==o&&"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(x.hasOwnProperty(o)?e||(e=[]):(e=e||[]).push(o,null));for(o in l){var s=l[o];if(c=null!=a?a[o]:void 0,l.hasOwnProperty(o)&&s!==c&&(null!=s||null!=c))if("style"===o)if(c){for(u in c)!c.hasOwnProperty(u)||s&&s.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in s)s.hasOwnProperty(u)&&c[u]!==s[u]&&(r||(r={}),r[u]=s[u])}else r||(e||(e=[]),e.push(o,r)),r=s;else"dangerouslySetInnerHTML"===o?(s=s?s.__html:void 0,c=c?c.__html:void 0,null!=s&&c!==s&&(e=e||[]).push(o,s)):"children"===o?c===s||"string"!=typeof s&&"number"!=typeof s||(e=e||[]).push(o,""+s):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&(x.hasOwnProperty(o)?(null!=s&&mn(i,o),e||c===s||(e=[])):(e=e||[]).push(o,s))}r&&(e=e||[]).push("style",r),i=e,(n.updateQueue=i)&&(n.effectTag|=4)}},ro=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var ho="function"==typeof WeakSet?WeakSet:Set;function go(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=be(n)),null!==n&&ye(n.type),t=t.value,null!==e&&1===e.tag&&ye(e.type);try{console.error(t)}catch(l){setTimeout(function(){throw l})}}function vo(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Ku(e,n)}}function yo(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){Ku(e,n)}else t.current=null}function bo(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,l=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ci(t.type,n),l),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(r(163))}function wo(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ko(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function xo(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ko(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var l=n.elementType===n.type?t.memoizedProps:ci(n.type,t.memoizedProps);e.componentDidUpdate(l,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&Ci(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Ci(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&_n(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Wt(n)))));case 19:case 17:case 20:case 21:return}throw Error(r(163))}function To(e,t,n){switch("function"==typeof Xu&&Xu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;ri(97<n?97:n,function(){var e=r;do{var n=e.destroy;if(void 0!==n){var l=t;try{n()}catch(i){Ku(l,i)}}e=e.next}while(e!==r)})}break;case 1:yo(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&vo(t,n);break;case 5:yo(t);break;case 4:No(e,t,n)}}function Eo(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&Eo(t)}function So(e){return 5===e.tag||3===e.tag||4===e.tag}function Co(e){e:{for(var t=e.return;null!==t;){if(So(t)){var n=t;break e}t=t.return}throw Error(r(160))}switch(t=n.stateNode,n.tag){case 5:var l=!1;break;case 3:case 4:t=t.containerInfo,l=!0;break;default:throw Error(r(161))}16&n.effectTag&&(He(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||So(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}l?Po(e,n,t):_o(e,n,t)}function Po(e,t,n){var r=e.tag,l=5===r||6===r;if(l)e=l?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=hn));else if(4!==r&&null!==(e=e.child))for(Po(e,t,n),e=e.sibling;null!==e;)Po(e,t,n),e=e.sibling}function _o(e,t,n){var r=e.tag,l=5===r||6===r;if(l)e=l?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_o(e,t,n),e=e.sibling;null!==e;)_o(e,t,n),e=e.sibling}function No(e,t,n){for(var l,i,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(r(160));switch(l=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:l=l.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var u=e,c=a,s=n,f=c;;)if(To(u,f,s),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=l,c=a.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):l.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){l=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(To(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function zo(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void wo(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var l=t.memoizedProps,i=null!==e?e.memoizedProps:l;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Dn]=l,"input"===e&&"radio"===l.type&&null!=l.name&&Pe(n,l),dn(e,i),t=dn(e,l),i=0;i<a.length;i+=2){var o=a[i],u=a[i+1];"style"===o?cn(n,u):"dangerouslySetInnerHTML"===o?We(n,u):"children"===o?He(n,u):Z(n,o,u,t)}switch(e){case"input":_e(n,l);break;case"textarea":De(n,l);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!l.multiple,null!=(e=l.value)?Fe(n,!!l.multiple,e,!1):t!==!!l.multiple&&(null!=l.defaultValue?Fe(n,!!l.multiple,l.defaultValue,!0):Fe(n,!!l.multiple,l.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(r(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Wt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?l=!1:(l=!0,n=t.child,au=ei()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,l?"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,a.style.display=un("display",i));else if(6===e.tag)e.stateNode.nodeValue=l?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void Mo(t);case 19:return void Mo(t);case 17:return}throw Error(r(163))}function Mo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ho),t.forEach(function(t){var r=qu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var Io="function"==typeof WeakMap?WeakMap:Map;function Fo(e,t,n){(n=xi(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){cu||(cu=!0,su=r),go(e,t)},n}function Oo(e,t,n){(n=xi(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var l=t.value;n.payload=function(){return go(e,t),r(l)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===fu?fu=new Set([this]):fu.add(this),go(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ro,Do=Math.ceil,Lo=G.ReactCurrentDispatcher,Uo=G.ReactCurrentOwner,Ao=0,Vo=8,Qo=16,Wo=32,Ho=0,jo=1,Bo=2,Ko=3,$o=4,qo=5,Yo=Ao,Xo=null,Go=null,Zo=0,Jo=Ho,eu=null,tu=1073741823,nu=1073741823,ru=null,lu=0,iu=!1,au=0,ou=500,uu=null,cu=!1,su=null,fu=null,du=!1,pu=null,mu=90,hu=null,gu=0,vu=null,yu=0;function bu(){return(Yo&(Qo|Wo))!==Ao?1073741821-(ei()/10|0):0!==yu?yu:yu=1073741821-(ei()/10|0)}function wu(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var l=ti();if(0==(4&t))return 99===l?1073741823:1073741822;if((Yo&Qo)!==Ao)return Zo;if(null!==n)e=ui(e,0|n.timeoutMs||5e3,250);else switch(l){case 99:e=1073741823;break;case 98:e=ui(e,150,100);break;case 97:case 96:e=ui(e,5e3,250);break;case 95:e=2;break;default:throw Error(r(326))}return null!==Xo&&e===Zo&&--e,e}function ku(e,t){if(50<gu)throw gu=0,vu=null,Error(r(185));if(null!==(e=xu(e,t))){var n=ti();1073741823===t?(Yo&Vo)!==Ao&&(Yo&(Qo|Wo))===Ao?Cu(e):(Eu(e),Yo===Ao&&ai()):Eu(e),(4&Yo)===Ao||98!==n&&99!==n||(null===hu?hu=new Map([[e,t]]):(void 0===(n=hu.get(e))||n>t)&&hu.set(e,t))}}function xu(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,l=null;if(null===r&&3===e.tag)l=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){l=r.stateNode;break}r=r.return}return null!==l&&(Xo===l&&(Ou(t),Jo===$o&&cc(l,Zo)),sc(l,t)),l}function Tu(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!uc(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Eu(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=ii(Cu.bind(null,e));else{var t=Tu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=bu();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var l=e.callbackPriority;if(e.callbackExpirationTime===t&&l>=r)return;n!==$l&&Ul(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?ii(Cu.bind(null,e)):li(r,Su.bind(null,e),{timeout:10*(1073741821-t)-ei()}),e.callbackNode=t}}}function Su(e,t){if(yu=0,t)return fc(e,t=bu()),Eu(e),null;var n=Tu(e);if(0!==n){if(t=e.callbackNode,(Yo&(Qo|Wo))!==Ao)throw Error(r(327));if(Hu(),e===Xo&&n===Zo||zu(e,n),null!==Go){var l=Yo;Yo|=Qo;for(var i=Iu();;)try{Du();break}catch(u){Mu(e,u)}if(mi(),Yo=l,Lo.current=i,Jo===jo)throw t=eu,zu(e,n),cc(e,n),Eu(e),t;if(null===Go)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,l=Jo,Xo=null,l){case Ho:case jo:throw Error(r(345));case Bo:fc(e,2<n?2:n);break;case Ko:if(cc(e,n),n===(l=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Au(i)),1073741823===tu&&10<(i=au+ou-ei())){if(iu){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,zu(e,n);break}}if(0!==(a=Tu(e))&&a!==n)break;if(0!==l&&l!==n){e.lastPingedTime=l;break}e.timeoutHandle=zn(Vu.bind(null,e),i);break}Vu(e);break;case $o:if(cc(e,n),n===(l=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Au(i)),iu&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,zu(e,n);break}if(0!==(i=Tu(e))&&i!==n)break;if(0!==l&&l!==n){e.lastPingedTime=l;break}if(1073741823!==nu?l=10*(1073741821-nu)-ei():1073741823===tu?l=0:(l=10*(1073741821-tu)-5e3,0>(l=(i=ei())-l)&&(l=0),(n=10*(1073741821-n)-i)<(l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Do(l/1960))-l)&&(l=n)),10<l){e.timeoutHandle=zn(Vu.bind(null,e),l);break}Vu(e);break;case qo:if(1073741823!==tu&&null!==ru){a=tu;var o=ru;if(0>=(l=0|o.busyMinDurationMs)?l=0:(i=0|o.busyDelayMs,l=(a=ei()-(10*(1073741821-a)-(0|o.timeoutMs||5e3)))<=i?0:i+l-a),10<l){cc(e,n),e.timeoutHandle=zn(Vu.bind(null,e),l);break}}Vu(e);break;default:throw Error(r(329))}if(Eu(e),e.callbackNode===t)return Su.bind(null,e)}}return null}function Cu(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Yo&(Qo|Wo))!==Ao)throw Error(r(327));if(Hu(),e===Xo&&t===Zo||zu(e,t),null!==Go){var n=Yo;Yo|=Qo;for(var l=Iu();;)try{Ru();break}catch(i){Mu(e,i)}if(mi(),Yo=n,Lo.current=l,Jo===jo)throw n=eu,zu(e,t),cc(e,t),Eu(e),n;if(null!==Go)throw Error(r(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Xo=null,Vu(e),Eu(e)}return null}function Pu(){if(null!==hu){var e=hu;hu=null,e.forEach(function(e,t){fc(t,e),Eu(t)}),ai()}}function _u(e,t){var n=Yo;Yo|=1;try{return e(t)}finally{(Yo=n)===Ao&&ai()}}function Nu(e,t){var n=Yo;Yo&=-2,Yo|=Vo;try{return e(t)}finally{(Yo=n)===Ao&&ai()}}function zu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Mn(n)),null!==Go)for(n=Go.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ml();break;case 3:$i(),Tl(Pl),Tl(Cl);break;case 5:Yi(r);break;case 4:$i();break;case 13:case 19:Tl(Xi);break;case 10:hi(r)}n=n.return}Xo=e,Go=nc(e.current,null),Zo=t,Jo=Ho,eu=null,nu=tu=1073741823,ru=null,lu=0,iu=!1}function Mu(e,t){for(;;){try{if(mi(),Ji.current=za,ia)for(var n=na.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(ta=0,la=ra=na=null,ia=!1,null===Go||null===Go.return)return Jo=jo,eu=t,Go=null;e:{var l=e,i=Go.return,a=Go,o=t;if(t=Zo,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var u=o;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var s=0!=(1&Xi.current),f=i;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=f.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!s)}}if(d){var h=f.updateQueue;if(null===h){var g=new Set;g.add(u),f.updateQueue=g}else h.add(u);if(0==(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=xi(1073741823,null);v.tag=2,Ti(a,v)}a.expirationTime=1073741823;break e}o=void 0,a=t;var y=l.pingCache;if(null===y?(y=l.pingCache=new Io,o=new Set,y.set(u,o)):void 0===(o=y.get(u))&&(o=new Set,y.set(u,o)),!o.has(a)){o.add(a);var b=$u.bind(null,l,u,a);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);o=Error((ye(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+be(a))}Jo!==qo&&(Jo=Bo),o=mo(o,a),f=i;do{switch(f.tag){case 3:u=o,f.effectTag|=4096,f.expirationTime=t,Ei(f,Fo(f,u,t));break e;case 1:u=o;var w=f.type,k=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==k&&"function"==typeof k.componentDidCatch&&(null===fu||!fu.has(k)))){f.effectTag|=4096,f.expirationTime=t,Ei(f,Oo(f,u,t));break e}}f=f.return}while(null!==f)}Go=Uu(Go)}catch(x){t=x;continue}break}}function Iu(){var e=Lo.current;return Lo.current=za,null===e?za:e}function Fu(e,t){e<tu&&2<e&&(tu=e),null!==t&&e<nu&&2<e&&(nu=e,ru=t)}function Ou(e){e>lu&&(lu=e)}function Ru(){for(;null!==Go;)Go=Lu(Go)}function Du(){for(;null!==Go&&!ql();)Go=Lu(Go)}function Lu(e){var t=Ro(e.alternate,e,Zo);return e.memoizedProps=e.pendingProps,null===t&&(t=Uu(e)),Uo.current=null,t}function Uu(e){Go=e;do{var t=Go.alternate;if(e=Go.return,0==(2048&Go.effectTag)){if(t=fo(t,Go,Zo),1===Zo||1!==Go.childExpirationTime){for(var n=0,r=Go.child;null!==r;){var l=r.expirationTime,i=r.childExpirationTime;l>n&&(n=l),i>n&&(n=i),r=r.sibling}Go.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Go.firstEffect),null!==Go.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Go.firstEffect),e.lastEffect=Go.lastEffect),1<Go.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Go:e.firstEffect=Go,e.lastEffect=Go))}else{if(null!==(t=po(Go)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Go.sibling))return t;Go=e}while(null!==Go);return Jo===Ho&&(Jo=qo),null}function Au(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Vu(e){var t=ti();return ri(99,Qu.bind(null,e,t)),null}function Qu(e,t){do{Hu()}while(null!==pu);if((Yo&(Qo|Wo))!==Ao)throw Error(r(327));var n=e.finishedWork,l=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Au(n);if(e.firstPendingTime=i,l<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:l<=e.firstSuspendedTime&&(e.firstSuspendedTime=l-1),l<=e.lastPingedTime&&(e.lastPingedTime=0),l<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Xo&&(Go=Xo=null,Zo=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Yo;Yo|=Wo,Uo.current=null,Cn=Zt;var o=wn();if(kn(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{var c=(u=(u=o.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var s=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(C){u=null;break e}var d=0,p=-1,m=-1,h=0,g=0,v=o,y=null;t:for(;;){for(var b;v!==u||0!==s&&3!==v.nodeType||(p=d+s),v!==f||0!==c&&3!==v.nodeType||(m=d+c),3===v.nodeType&&(d+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===o)break t;if(y===u&&++h===s&&(p=d),y===f&&++g===c&&(m=d),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}u=-1===p||-1===m?null:{start:p,end:m}}else u=null}u=u||{start:0,end:0}}else u=null;Pn={activeElementDetached:null,focusedElem:o,selectionRange:u},Zt=!1,uu=i;do{try{Wu()}catch(C){if(null===uu)throw Error(r(330));Ku(uu,C),uu=uu.nextEffect}}while(null!==uu);uu=i;do{try{for(o=e,u=t;null!==uu;){var w=uu.effectTag;if(16&w&&He(uu.stateNode,""),128&w){var k=uu.alternate;if(null!==k){var x=k.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&w){case 2:Co(uu),uu.effectTag&=-3;break;case 6:Co(uu),uu.effectTag&=-3,zo(uu.alternate,uu);break;case 1024:uu.effectTag&=-1025;break;case 1028:uu.effectTag&=-1025,zo(uu.alternate,uu);break;case 4:zo(uu.alternate,uu);break;case 8:No(o,s=uu,u),Eo(s)}uu=uu.nextEffect}}catch(C){if(null===uu)throw Error(r(330));Ku(uu,C),uu=uu.nextEffect}}while(null!==uu);if(x=Pn,k=wn(),w=x.focusedElem,u=x.selectionRange,k!==w&&w&&w.ownerDocument&&bn(w.ownerDocument.documentElement,w)){null!==u&&kn(w)&&(k=u.start,void 0===(x=u.end)&&(x=k),"selectionStart"in w?(w.selectionStart=k,w.selectionEnd=Math.min(x,w.value.length)):(x=(k=w.ownerDocument||document)&&k.defaultView||window).getSelection&&(x=x.getSelection(),s=w.textContent.length,o=Math.min(u.start,s),u=void 0===u.end?o:Math.min(u.end,s),!x.extend&&o>u&&(s=u,u=o,o=s),s=yn(w,o),f=yn(w,u),s&&f&&(1!==x.rangeCount||x.anchorNode!==s.node||x.anchorOffset!==s.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&((k=k.createRange()).setStart(s.node,s.offset),x.removeAllRanges(),o>u?(x.addRange(k),x.extend(f.node,f.offset)):(k.setEnd(f.node,f.offset),x.addRange(k))))),k=[];for(x=w;x=x.parentNode;)1===x.nodeType&&k.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<k.length;w++)(x=k[w]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Zt=!!Cn,Pn=Cn=null,e.current=n,uu=i;do{try{for(w=e;null!==uu;){var T=uu.effectTag;if(36&T&&xo(w,uu.alternate,uu),128&T){k=void 0;var E=uu.ref;if(null!==E){var S=uu.stateNode;switch(uu.tag){case 5:k=S;break;default:k=S}"function"==typeof E?E(k):E.current=k}}uu=uu.nextEffect}}catch(C){if(null===uu)throw Error(r(330));Ku(uu,C),uu=uu.nextEffect}}while(null!==uu);uu=null,Yl(),Yo=a}else e.current=n;if(du)du=!1,pu=e,mu=t;else for(uu=i;null!==uu;)t=uu.nextEffect,uu.nextEffect=null,uu=t;if(0===(t=e.firstPendingTime)&&(fu=null),1073741823===t?e===vu?gu++:(gu=0,vu=e):gu=0,"function"==typeof Yu&&Yu(n.stateNode,l),Eu(e),cu)throw cu=!1,e=su,su=null,e;return(Yo&Vo)!==Ao?null:(ai(),null)}function Wu(){for(;null!==uu;){var e=uu.effectTag;0!=(256&e)&&bo(uu.alternate,uu),0==(512&e)||du||(du=!0,li(97,function(){return Hu(),null})),uu=uu.nextEffect}}function Hu(){if(90!==mu){var e=97<mu?97:mu;return mu=90,ri(e,ju)}}function ju(){if(null===pu)return!1;var e=pu;if(pu=null,(Yo&(Qo|Wo))!==Ao)throw Error(r(331));var t=Yo;for(Yo|=Wo,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:wo(5,n),ko(5,n)}}catch(l){if(null===e)throw Error(r(330));Ku(e,l)}n=e.nextEffect,e.nextEffect=null,e=n}return Yo=t,ai(),!0}function Bu(e,t,n){Ti(e,t=Fo(e,t=mo(n,t),1073741823)),null!==(e=xu(e,1073741823))&&Eu(e)}function Ku(e,t){if(3===e.tag)Bu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===fu||!fu.has(r))){Ti(n,e=Oo(n,e=mo(t,e),1073741823)),null!==(n=xu(n,1073741823))&&Eu(n);break}}n=n.return}}function $u(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Xo===e&&Zo===n?Jo===$o||Jo===Ko&&1073741823===tu&&ei()-au<ou?zu(e,Zo):iu=!0:uc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Eu(e)))}function qu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=wu(t=bu(),e,null)),null!==(e=xu(e,t))&&Eu(e)}Ro=function(e,t,n){var l=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||Pl.current)ja=!0;else{if(l<n){switch(ja=!1,t.tag){case 3:Ja(t),Wa();break;case 5:if(qi(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:zl(t.type)&&Ol(t);break;case 4:Ki(t,t.stateNode.containerInfo);break;case 10:l=t.memoizedProps.value,i=t.type._context,El(si,i._currentValue),i._currentValue=l;break;case 13:if(null!==t.memoizedState)return 0!==(l=t.child.childExpirationTime)&&l>=n?io(e,t,n):(El(Xi,1&Xi.current),null!==(t=co(e,t,n))?t.sibling:null);El(Xi,1&Xi.current);break;case 19:if(l=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(l)return uo(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),El(Xi,Xi.current),!l)return null}return co(e,t,n)}ja=!1}}else ja=!1;switch(t.expirationTime=0,t.tag){case 2:if(l=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Nl(t,Cl.current),vi(t,n),i=ua(null,t,l,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,zl(l)){var a=!0;Ol(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,wi(t);var o=l.getDerivedStateFromProps;"function"==typeof o&&Ni(t,l,o,e),i.updater=zi,t.stateNode=i,i._reactInternalFiber=t,Oi(t,l,e,n),t=Za(null,t,l,!0,a,n)}else t.tag=0,Ba(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,ve(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=tc(i),e=ci(i,e),a){case 0:t=Xa(null,t,i,e,n);break e;case 1:t=Ga(null,t,i,e,n);break e;case 11:t=Ka(null,t,i,e,n);break e;case 14:t=$a(null,t,i,ci(i.type,e),l,n);break e}throw Error(r(306,i,""))}return t;case 0:return l=t.type,i=t.pendingProps,Xa(e,t,l,i=t.elementType===l?i:ci(l,i),n);case 1:return l=t.type,i=t.pendingProps,Ga(e,t,l,i=t.elementType===l?i:ci(l,i),n);case 3:if(Ja(t),l=t.updateQueue,null===e||null===l)throw Error(r(282));if(l=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ki(e,t),Si(t,l,null,n),(l=t.memoizedState.element)===i)Wa(),t=co(e,t,n);else{if((i=t.stateNode.hydrate)&&(Ra=In(t.stateNode.containerInfo.firstChild),Oa=t,i=Da=!0),i)for(n=Vi(t,null,l,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ba(e,t,l,n),Wa();t=t.child}return t;case 5:return qi(t),null===e&&Aa(t),l=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,Nn(l,i)?o=null:null!==a&&Nn(l,a)&&(t.effectTag|=16),Ya(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ba(e,t,o,n),t=t.child),t;case 6:return null===e&&Aa(t),null;case 13:return io(e,t,n);case 4:return Ki(t,t.stateNode.containerInfo),l=t.pendingProps,null===e?t.child=Ai(t,null,l,n):Ba(e,t,l,n),t.child;case 11:return l=t.type,i=t.pendingProps,Ka(e,t,l,i=t.elementType===l?i:ci(l,i),n);case 7:return Ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{l=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value;var u=t.type._context;if(El(si,u._currentValue),u._currentValue=a,null!==o)if(u=o.value,0===(a=Gr(u,a)?0:0|("function"==typeof l._calculateChangedBits?l._calculateChangedBits(u,a):1073741823))){if(o.children===i.children&&!Pl.current){t=co(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){o=u.child;for(var s=c.firstContext;null!==s;){if(s.context===l&&0!=(s.observedBits&a)){1===u.tag&&((s=xi(n,null)).tag=2,Ti(u,s)),u.expirationTime<n&&(u.expirationTime=n),null!==(s=u.alternate)&&s.expirationTime<n&&(s.expirationTime=n),gi(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}s=s.next}}else o=10===u.tag&&u.type===t.type?null:u.child;if(null!==o)o.return=u;else for(o=u;null!==o;){if(o===t){o=null;break}if(null!==(u=o.sibling)){u.return=o.return,o=u;break}o=o.return}u=o}Ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,l=(a=t.pendingProps).children,vi(t,n),l=l(i=yi(i,a.unstable_observedBits)),t.effectTag|=1,Ba(e,t,l,n),t.child;case 14:return a=ci(i=t.type,t.pendingProps),$a(e,t,i,a=ci(i.type,a),l,n);case 15:return qa(e,t,t.type,t.pendingProps,l,n);case 17:return l=t.type,i=t.pendingProps,i=t.elementType===l?i:ci(l,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,zl(l)?(e=!0,Ol(t)):e=!1,vi(t,n),Ii(t,l,i),Oi(t,l,i,n),Za(null,t,l,!0,e,n);case 19:return uo(e,t,n)}throw Error(r(156,t.tag))};var Yu=null,Xu=null;function Gu(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Yu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(r){}},Xu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}return!0}function Zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ju(e,t,n,r){return new Zu(e,t,n,r)}function ec(e){return!(!(e=e.prototype)||!e.isReactComponent)}function tc(e){if("function"==typeof e)return ec(e)?1:0;if(null!=e){if((e=e.$$typeof)===ce)return 11;if(e===de)return 14}return 2}function nc(e,t){var n=e.alternate;return null===n?((n=Ju(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rc(e,t,n,l,i,a){var o=2;if(l=e,"function"==typeof e)ec(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case re:return lc(n.children,i,a,t);case ue:o=8,i|=7;break;case le:o=8,i|=1;break;case ie:return(e=Ju(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case se:return(e=Ju(13,n,t,i)).type=se,e.elementType=se,e.expirationTime=a,e;case fe:return(e=Ju(19,n,t,i)).elementType=fe,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ae:o=10;break e;case oe:o=9;break e;case ce:o=11;break e;case de:o=14;break e;case pe:o=16,l=null;break e;case me:o=22;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Ju(o,n,t,i)).elementType=e,t.type=l,t.expirationTime=a,t}function lc(e,t,n,r){return(e=Ju(7,e,r,t)).expirationTime=n,e}function ic(e,t,n){return(e=Ju(6,e,null,t)).expirationTime=n,e}function ac(e,t,n){return(t=Ju(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function uc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function cc(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function sc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function fc(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function dc(e,t,n,l){var i=t.current,a=bu(),o=Pi.suspense;a=wu(a,i,o);e:if(n){t:{if(nt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(r(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(zl(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(r(171))}if(1===n.tag){var c=n.type;if(zl(c)){n=Fl(n,c,u);break e}}n=u}else n=Sl;return null===t.context?t.context=n:t.pendingContext=n,(t=xi(a,o)).payload={element:e},null!==(l=void 0===l?null:l)&&(t.callback=l),Ti(i,t),ku(i,a),a}function pc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function mc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function hc(e,t){mc(e,t),(e=e.alternate)&&mc(e,t)}function gc(e,t,n){var r=new oc(e,t,n=null!=n&&!0===n.hydrate),l=Ju(3,null,null,2===t?7:1===t?3:0);r.current=l,l.stateNode=r,wi(l),e[Ln]=r.current,n&&0!==t&&It(e,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function vc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function yc(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new gc(e,0,t?{hydrate:!0}:void 0)}function bc(e,t,n,r,l){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"==typeof l){var o=l;l=function(){var e=pc(a);o.call(e)}}dc(t,a,e,l)}else{if(i=n._reactRootContainer=yc(n,r),a=i._internalRoot,"function"==typeof l){var u=l;l=function(){var e=pc(a);u.call(e)}}Nu(function(){dc(t,a,e,l)})}return pc(a)}function wc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ne,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function kc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!vc(t))throw Error(r(200));return wc(e,t,null,n)}gc.prototype.render=function(e){dc(e,this._internalRoot,null,null)},gc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;dc(null,e,null,function(){t[Ln]=null})},bt=function(e){if(13===e.tag){var t=ui(bu(),150,100);ku(e,t),hc(e,t)}},wt=function(e){13===e.tag&&(ku(e,3),hc(e,3))},kt=function(e){if(13===e.tag){var t=bu();ku(e,t=wu(t,e,null)),hc(e,t)}},C=function(e,t,n){switch(t){case"input":if(_e(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var i=Qn(l);if(!i)throw Error(r(90));Ee(l),_e(l,i)}}}break;case"textarea":De(e,n);break;case"select":null!=(t=n.value)&&Fe(e,!!n.multiple,t,!1)}},I=_u,F=function(e,t,n,r,l){var i=Yo;Yo|=4;try{return ri(98,e.bind(null,t,n,r,l))}finally{(Yo=i)===Ao&&ai()}},O=function(){(Yo&(1|Qo|Wo))===Ao&&(Pu(),Hu())},R=function(e,t){var n=Yo;Yo|=2;try{return e(t)}finally{(Yo=n)===Ao&&ai()}};var xc={Events:[An,Vn,Qn,E,k,qn,function(e){ut(e,$n)},z,M,rn,ft,Hu,{current:!1}]};!function(e){var n=e.findFiberByHostInstance;Gu(t({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=at(e))?null:e.stateNode},findFiberByHostInstance:function(e){return n?n(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Un,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xc,exports.createPortal=kc,exports.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw Error(r(268,Object.keys(e)))}return e=null===(e=at(t))?null:e.stateNode},exports.flushSync=function(e,t){if((Yo&(Qo|Wo))!==Ao)throw Error(r(187));var n=Yo;Yo|=1;try{return ri(99,e.bind(null,t))}finally{Yo=n,ai()}},exports.hydrate=function(e,t,n){if(!vc(t))throw Error(r(200));return bc(null,e,t,!0,n)},exports.render=function(e,t,n){if(!vc(t))throw Error(r(200));return bc(null,e,t,!1,n)},exports.unmountComponentAtNode=function(e){if(!vc(e))throw Error(r(40));return!!e._reactRootContainer&&(Nu(function(){bc(null,null,e,!1,function(){e._reactRootContainer=null,e[Ln]=null})}),!0)},exports.unstable_batchedUpdates=_u,exports.unstable_createPortal=function(e,t){return kc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},exports.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!vc(n))throw Error(r(200));if(null==e||void 0===e._reactInternalFiber)throw Error(r(38));return bc(e,t,n,!1,l)},exports.version="16.13.1";
},{"react":"n8MK","object-assign":"J4Nk","scheduler":"MDSO"}],"NKHc":[function(require,module,exports) {
"use strict";function _(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(O){console.error(O)}}}_(),module.exports=require("./cjs/react-dom.production.min.js");
},{"./cjs/react-dom.production.min.js":"i17t"}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"npqE":[function(require,module,exports) {
var global = arguments[3];
var process = require("process");
var t,e=arguments[3],r=require("process");!function(t){!function(n){var i="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=u(t);function u(t,e){return function(r,n){"function"!=typeof t[r]&&Object.defineProperty(t,r,{configurable:!0,writable:!0,value:n}),e&&e(r,n)}}void 0===i.Reflect?i.Reflect=t:o=u(i.Reflect,o),function(t){var e=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,i=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",u="function"==typeof Object.create,a={__proto__:[]}instanceof Array,f=!u&&!a,c={create:u?function(){return I(Object.create(null))}:a?function(){return I({__proto__:null})}:function(){return I({})},has:f?function(t,r){return e.call(t,r)}:function(t,e){return e in t},get:f?function(t,r){return e.call(t,r)?t[r]:void 0}:function(t,e){return t[e]}},s=Object.getPrototypeOf(Function),h="object"==typeof r&&r.env&&!1,y=h||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],r=function(){function t(t,e,r){this._index=0,this._keys=t,this._values=e,this._selector=r}return t.prototype["@@iterator"]=function(){return this},t.prototype[o]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var r=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var r=this._find(t,!0);return this._values[r]=e,this},e.prototype.delete=function(e){var r=this._find(e,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new r(this._keys,this._values,n)},e.prototype.values=function(){return new r(this._keys,this._values,i)},e.prototype.entries=function(){return new r(this._keys,this._values,u)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[o]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function n(t,e){return t}function i(t,e){return e}function u(t,e){return[t,e]}}():Map,p=h||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new y}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[o]=function(){return this.keys()},t}():Set,l=new(h||"function"!=typeof WeakMap?function(){var t=16,r=c.create(),n=i();return function(){function t(){this._key=i()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&c.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?c.get(e,this._key):void 0},t.prototype.set=function(t,e){var r=o(t,!0);return r[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=i()},t}();function i(){var t;do{t="@@WeakMap@@"+a()}while(c.has(r,t));return r[t]=!0,t}function o(t,r){if(!e.call(t,n)){if(!r)return;Object.defineProperty(t,n,{value:c.create()})}return t[n]}function u(t,e){for(var r=0;r<e;++r)t[r]=255*Math.random()|0;return t}function a(){var e=function(t){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):u(new Uint8Array(t),t);return u(new Array(t),t)}(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var r="",n=0;n<t;++n){var i=e[n];4!==n&&6!==n&&8!==n||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}():WeakMap);function v(t,e,r){var n=l.get(t);if(k(n)){if(!r)return;n=new y,l.set(t,n)}var i=n.get(e);if(k(i)){if(!r)return;i=new y,n.set(e,i)}return i}function _(t,e,r){var n=v(e,r,!1);return!k(n)&&!!n.has(t)}function d(t,e,r){var n=v(e,r,!1);if(!k(n))return n.get(t)}function w(t,e,r,n){var i=v(r,n,!0);i.set(t,e)}function g(t,e){var r=[],n=v(t,e,!1);if(k(n))return r;for(var i=n.keys(),u=function(t){var e=A(t,o);if(!x(e))throw new TypeError;var r=e.call(t);if(!O(r))throw new TypeError;return r}(i),a=0;;){var f=S(u);if(!f)return r.length=a,r;var c=f.value;try{r[a]=c}catch(s){try{P(u)}finally{throw s}}a++}}function b(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function k(t){return void 0===t}function m(t){return null===t}function O(t){return"object"==typeof t?null!==t:"function"==typeof t}function E(t,e){switch(b(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var r=3===e?"string":5===e?"number":"default",n=A(t,i);if(void 0!==n){var o=n.call(t,r);if(O(o))throw new TypeError;return o}return function(t,e){if("string"===e){var r=t.toString;if(x(r)){var n=r.call(t);if(!O(n))return n}var i=t.valueOf;if(x(i)){var n=i.call(t);if(!O(n))return n}}else{var i=t.valueOf;if(x(i)){var n=i.call(t);if(!O(n))return n}var o=t.toString;if(x(o)){var n=o.call(t);if(!O(n))return n}}throw new TypeError}(t,"default"===r?"number":r)}function T(t){var e=E(t,3);return"symbol"==typeof e?e:function(t){return""+t}(e)}function j(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function x(t){return"function"==typeof t}function M(t){return"function"==typeof t}function A(t,e){var r=t[e];if(null!=r){if(!x(r))throw new TypeError;return r}}function S(t){var e=t.next();return!e.done&&e}function P(t){var e=t.return;e&&e.call(t)}function K(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===s)return e;if(e!==s)return e;var r=t.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return e;var i=n.constructor;return"function"!=typeof i?e:i===t?e:i}function I(t){return t.__=void 0,delete t.__,t}t("decorate",function(t,e,r,n){if(k(r)){if(!j(t))throw new TypeError;if(!M(e))throw new TypeError;return function(t,e){for(var r=t.length-1;r>=0;--r){var n=t[r],i=n(e);if(!k(i)&&!m(i)){if(!M(i))throw new TypeError;e=i}}return e}(t,e)}if(!j(t))throw new TypeError;if(!O(e))throw new TypeError;if(!O(n)&&!k(n)&&!m(n))throw new TypeError;return m(n)&&(n=void 0),r=T(r),function(t,e,r,n){for(var i=t.length-1;i>=0;--i){var o=t[i],u=o(e,r,n);if(!k(u)&&!m(u)){if(!O(u))throw new TypeError;n=u}}return n}(t,e,r,n)}),t("metadata",function(t,e){return function(r,n){if(!O(r))throw new TypeError;if(!k(n)&&!function(t){switch(b(t)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;w(t,e,r,n)}}),t("defineMetadata",function(t,e,r,n){if(!O(r))throw new TypeError;k(n)||(n=T(n));return w(t,e,r,n)}),t("hasMetadata",function(t,e,r){if(!O(e))throw new TypeError;k(r)||(r=T(r));return function t(e,r,n){var i=_(e,r,n);if(i)return!0;var o=K(r);if(!m(o))return t(e,o,n);return!1}(t,e,r)}),t("hasOwnMetadata",function(t,e,r){if(!O(e))throw new TypeError;k(r)||(r=T(r));return _(t,e,r)}),t("getMetadata",function(t,e,r){if(!O(e))throw new TypeError;k(r)||(r=T(r));return function t(e,r,n){var i=_(e,r,n);if(i)return d(e,r,n);var o=K(r);if(!m(o))return t(e,o,n);return}(t,e,r)}),t("getOwnMetadata",function(t,e,r){if(!O(e))throw new TypeError;k(r)||(r=T(r));return d(t,e,r)}),t("getMetadataKeys",function(t,e){if(!O(t))throw new TypeError;k(e)||(e=T(e));return function t(e,r){var n=g(e,r);var i=K(e);if(null===i)return n;var o=t(i,r);if(o.length<=0)return n;if(n.length<=0)return o;var u=new p;var a=[];for(var f=0,c=n;f<c.length;f++){var s=c[f],h=u.has(s);h||(u.add(s),a.push(s))}for(var y=0,l=o;y<l.length;y++){var s=l[y],h=u.has(s);h||(u.add(s),a.push(s))}return a}(t,e)}),t("getOwnMetadataKeys",function(t,e){if(!O(t))throw new TypeError;k(e)||(e=T(e));return g(t,e)}),t("deleteMetadata",function(t,e,r){if(!O(e))throw new TypeError;k(r)||(r=T(r));var n=v(e,r,!1);if(k(n))return!1;if(!n.delete(t))return!1;if(n.size>0)return!0;var i=l.get(e);return i.delete(r),i.size>0||(l.delete(e),!0)})}(o)}()}(t||(t={}));
},{"process":"pBGv"}],"uYi1":[function(require,module,exports) {
var process = require("process");
var global = arguments[3];
var e=require("process"),t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.FlowCancellationError=ir,exports._allowStateChanges=qe,exports._allowStateChangesInsideComputed=He,exports._allowStateReadsEnd=Pe,exports._allowStateReadsStart=De,exports._endAction=Ge,exports._getAdministration=wn,exports._getGlobalState=ot,exports._interceptReads=cr,exports._isComputingDerivation=we,exports._resetGlobalState=it,exports._startAction=Ue,exports.autorun=Gt,exports.configure=Yt,exports.createAtom=B,exports.decorate=Ft,exports.entries=wr,exports.extendObservable=$t,exports.flow=sr,exports.get=_r,exports.getAtom=On,exports.getDebugName=xn,exports.getDependencyTree=er,exports.getObserverTree=rr,exports.has=Sr,exports.intercept=lr,exports.isAction=Mt,exports.isArrayLike=E,exports.isComputed=dr,exports.isComputedProp=vr,exports.isFlowCancellationError=ar,exports.isObservable=br,exports.isObservableArray=rn,exports.isObservableObject=mn,exports.isObservableProp=gr,exports.keys=mr,exports.observe=Er,exports.onBecomeObserved=Wt,exports.onBecomeUnobserved=Jt,exports.onReactionError=Ot,exports.reaction=zt,exports.remove=Ar,exports.runInAction=It,exports.set=xr,exports.spy=Pt,exports.toJS=Pr,exports.trace=Nr,exports.transaction=kr,exports.untracked=Ce,exports.values=Or,exports.when=Br,exports.observable=exports.isObservableSet=exports.isObservableMap=exports.isBoxedObservable=exports.computed=exports.comparer=exports.action=exports.Reaction=exports.ObservableSet=exports.ObservableMap=exports.IDerivationState=exports.$mobx=void 0;var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function n(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function a(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function s(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}var u="An invariant failed, however the error is obfuscated because this is a production build.",c=[];Object.freeze(c);var l={};function f(){return++rt.mobxGuid}function p(e){throw h(!1,e),"X"}function h(e,t){if(!e)throw new Error("[mobx] "+(t||u))}Object.freeze(l);var d=[];function v(e,t){return!1}function y(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var b=function(){};function g(e){var t=[];return e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t}function m(e){return null!==e&&"object"==typeof e}function O(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function w(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}function x(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}function A(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!r||!1!==r.configurable&&!1!==r.writable}function S(e,t){0}function _(e,t){var r="isMobX"+e;return t.prototype[r]=!0,function(e){return m(e)&&!0===e[r]}}function E(e){return Array.isArray(e)||rn(e)}function j(e){return e instanceof Map}function C(e){return e instanceof Set}function R(e){var t=new Set;for(var r in e)t.add(r);return Object.getOwnPropertySymbols(e).forEach(function(r){Object.getOwnPropertyDescriptor(e,r).enumerable&&t.add(r)}),Array.from(t)}function T(e){return e&&e.toString?e.toString():new String(e).toString()}function D(e){return O(e)?Object.keys(e):Array.isArray(e)?e.map(function(e){return a(e,1)[0]}):j(e)||sn(e)?Array.from(e.keys()):p("Cannot get keys from '"+e+"'")}function P(e){return null===e?null:"object"==typeof e?""+e:e}var N=Symbol("mobx administration");exports.$mobx=N;var V=function(){function e(e){void 0===e&&(e="Atom@"+f()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=he.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},e.prototype.reportObserved=function(){return ht(this)},e.prototype.reportChanged=function(){ft(),dt(this),pt()},e.prototype.toString=function(){return this.name},e}(),k=_("Atom",V);function B(e,t,r){void 0===t&&(t=b),void 0===r&&(r=b);var n=new V(e);return t!==b&&Wt(n,t),r!==b&&Jt(n,r),n}function L(e,t){return e===t}function I(e,t){return _n(e,t)}function M(e,t){return _n(e,t,1)}function U(e,t){return Object.is(e,t)}var G={identity:L,structural:I,default:U,shallow:M};exports.comparer=G;var q=Symbol("mobx did run lazy initializers"),K=Symbol("mobx pending decorators"),z={},H={};function W(e,t){var r=t?z:H;return r[e]||(r[e]={configurable:!0,enumerable:t,get:function(){return J(this),this[e]},set:function(t){J(this),this[e]=t}})}function J(e){var t,r;if(!0!==e[q]){var n=e[K];if(n){w(e,q,!0);var o=s(Object.getOwnPropertySymbols(n),Object.keys(n));try{for(var a=i(o),u=a.next();!u.done;u=a.next()){var c=n[u.value];c.propertyCreator(e,c.prop,c.descriptor,c.decoratorTarget,c.decoratorArguments)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}}}}function X(e,t){return function(){var r,n=function(n,i,a,s){if(!0===s)return t(n,i,a,n,r),null;if(!Object.prototype.hasOwnProperty.call(n,K)){var u=n[K];w(n,K,o({},u))}return n[K][i]={prop:i,propertyCreator:t,descriptor:a,decoratorTarget:n,decoratorArguments:r},W(i,e)};return Y(arguments)?(r=c,n.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),n)}}function Y(e){return(2===e.length||3===e.length)&&("string"==typeof e[1]||"symbol"==typeof e[1])||4===e.length&&!0===e[3]}function F(e,t,r){return br(e)?e:Array.isArray(e)?fe.array(e,{name:r}):O(e)?fe.object(e,void 0,{name:r}):j(e)?fe.map(e,{name:r}):C(e)?fe.set(e,{name:r}):e}function $(e,t,r){return null==e?e:mn(e)||rn(e)||sn(e)||ln(e)?e:Array.isArray(e)?fe.array(e,{name:r,deep:!1}):O(e)?fe.object(e,void 0,{name:r,deep:!1}):j(e)?fe.map(e,{name:r,deep:!1}):C(e)?fe.set(e,{name:r,deep:!1}):p(!1)}function Q(e){return e}function Z(e,t,r){return _n(e,t)?t:e}function ee(t){h(t);var r=X(!0,function(e,r,n,o,i){var a=n?n.initializer?n.initializer.call(e):n.value:void 0;pn(e).addObservableProp(r,a,t)}),n=(void 0!==e&&e.env,r);return n.enhancer=t,n}var te={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function re(e){/^(deep|name|equals|defaultDecorator|proxy)$/.test(e)||p("invalid option for (extend)observable: "+e)}function ne(e){return null==e?te:"string"==typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze(te);var oe=ee(F),ie=ee($),ae=ee(Q),se=ee(Z);function ue(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?Q:F}function ce(e,t,r){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return oe.apply(null,arguments);if(br(e))return e;var n=O(e)?fe.object(e,t,r):Array.isArray(e)?fe.array(e,t):j(e)?fe.map(e,t):C(e)?fe.set(e,t):e;if(n!==e)return n;p(!1)}var le={box:function(e,t){arguments.length>2&&pe("box");var r=ne(t);return new We(e,ue(r),r.name,!0,r.equals)},array:function(e,t){arguments.length>2&&pe("array");var r=ne(t);return $r(e,ue(r),r.name)},map:function(e,t){arguments.length>2&&pe("map");var r=ne(t);return new on(e,ue(r),r.name)},set:function(e,t){arguments.length>2&&pe("set");var r=ne(t);return new cn(e,ue(r),r.name)},object:function(e,t,r){"string"==typeof arguments[1]&&pe("object");var n=ne(r);if(!1===n.proxy)return $t({},e,t,n);var o=Qt(n),i=qr($t({},void 0,void 0,n));return Zt(i,e,t,o),i},ref:ae,shallow:ie,deep:oe,struct:se},fe=ce;function pe(e){p("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}exports.observable=fe,Object.keys(le).forEach(function(e){return fe[e]=le[e]});var he,de,ve=X(!1,function(e,t,r,n,i){var a=r.get,s=r.set,u=i[0]||{};pn(e).addComputedProp(e,t,o({get:a,set:s,context:e},u))}),ye=ve({equals:G.structural}),be=function(e,t,r){if("string"==typeof t)return ve.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return ve.apply(null,arguments);var n="object"==typeof t?t:{};return n.get=e,n.set="function"==typeof t?t:n.set,n.name=n.name||e.name||"",new Xe(n)};exports.computed=be,be.struct=ye,exports.IDerivationState=he,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(he||(exports.IDerivationState=he={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(de||(de={}));var ge=function(){return function(e){this.cause=e}}();function me(e){return e instanceof ge}function Oe(e){switch(e.dependenciesState){case he.UP_TO_DATE:return!1;case he.NOT_TRACKING:case he.STALE:return!0;case he.POSSIBLY_STALE:for(var t=De(!0),r=Re(),n=e.observing,o=n.length,i=0;i<o;i++){var a=n[i];if(Ye(a)){if(rt.disableErrorBoundaries)a.get();else try{a.get()}catch(s){return Te(r),Pe(t),!0}if(e.dependenciesState===he.STALE)return Te(r),Pe(t),!0}}return Ne(e),Te(r),Pe(t),!1}}function we(){return null!==rt.trackingDerivation}function xe(e){var t=e.observers.size>0;rt.computationDepth>0&&t&&p(!1),rt.allowStateChanges||!t&&"strict"!==rt.enforceActions||p(!1)}function Ae(e){0}function Se(e,t,r){var n=De(!0);Ne(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++rt.runId;var o,i=rt.trackingDerivation;if(rt.trackingDerivation=e,!0===rt.disableErrorBoundaries)o=t.call(r);else try{o=t.call(r)}catch(a){o=new ge(a)}return rt.trackingDerivation=i,Ee(e),_e(e),Pe(n),o}function _e(e){}function Ee(e){for(var t=e.observing,r=e.observing=e.newObserving,n=he.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++){0===(s=r[a]).diffValue&&(s.diffValue=1,o!==a&&(r[o]=s),o++),s.dependenciesState>n&&(n=s.dependenciesState)}for(r.length=o,e.newObserving=null,i=t.length;i--;){0===(s=t[i]).diffValue&&ct(s,e),s.diffValue=0}for(;o--;){var s;1===(s=r[o]).diffValue&&(s.diffValue=0,ut(s,e))}n!==he.UP_TO_DATE&&(e.dependenciesState=n,e.onBecomeStale())}function je(e){var t=e.observing;e.observing=[];for(var r=t.length;r--;)ct(t[r],e);e.dependenciesState=he.NOT_TRACKING}function Ce(e){var t=Re();try{return e()}finally{Te(t)}}function Re(){var e=rt.trackingDerivation;return rt.trackingDerivation=null,e}function Te(e){rt.trackingDerivation=e}function De(e){var t=rt.allowStateReads;return rt.allowStateReads=e,t}function Pe(e){rt.allowStateReads=e}function Ne(e){if(e.dependenciesState!==he.UP_TO_DATE){e.dependenciesState=he.UP_TO_DATE;for(var t=e.observing,r=t.length;r--;)t[r].lowestObserverState=he.UP_TO_DATE}}var Ve=0,ke=1,Be=Object.getOwnPropertyDescriptor(function(){},"name"),Le=Be&&Be.configurable;function Ie(e,t,r){var n=function(){return Me(e,t,r||this,arguments)};return n.isMobxAction=!0,n}function Me(e,t,r,n){var o=Ue(e,r,n);try{return t.apply(r,n)}catch(i){throw o.error=i,i}finally{Ge(o)}}function Ue(e,t,r){var n=jt()&&!!e,o=0,i=Re();ft();var a={prevDerivation:i,prevAllowStateChanges:Ke(!0),prevAllowStateReads:De(!0),notifySpy:n,startTime:o,actionId:ke++,parentActionId:Ve};return Ve=a.actionId,a}function Ge(e){Ve!==e.actionId&&p("invalid action stack. did you forget to finish an action?"),Ve=e.parentActionId,void 0!==e.error&&(rt.suppressReactionErrors=!0),ze(e.prevAllowStateChanges),Pe(e.prevAllowStateReads),pt(),Te(e.prevDerivation),e.notifySpy,rt.suppressReactionErrors=!1}function qe(e,t){var r,n=Ke(e);try{r=t()}finally{ze(n)}return r}function Ke(e){var t=rt.allowStateChanges;return rt.allowStateChanges=e,t}function ze(e){rt.allowStateChanges=e}function He(e){var t,r=rt.computationDepth;rt.computationDepth=0;try{t=e()}finally{rt.computationDepth=r}return t}var We=function(e){function t(t,r,n,o,i){void 0===n&&(n="ObservableValue@"+f()),void 0===o&&(o=!0),void 0===i&&(i=G.default);var a=e.call(this,n)||this;return a.enhancer=r,a.name=n,a.equals=i,a.hasUnreportedChange=!1,a.value=r(t,void 0,n),o&&jt(),a}return n(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){this.value;if((e=this.prepareNewValue(e))!==rt.UNCHANGED){jt();0,this.setNewValue(e)}},t.prototype.prepareNewValue=function(e){if(xe(this),Kr(this)){var t=Hr(this,{object:this,type:"update",newValue:e});if(!t)return rt.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?rt.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Wr(this)&&Xr(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return zr(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Jr(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return P(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(V),Je=_("ObservableValue",We);exports.isBoxedObservable=Je;var Xe=function(){function e(e){this.dependenciesState=he.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=he.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+f(),this.value=new ge(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=de.NONE,h(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+f(),e.set&&(this.setter=Ie(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?G.structural:G.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){yt(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},e.prototype.get=function(){this.isComputing&&p("Cycle detected in computation "+this.name+": "+this.derivation),0!==rt.inBatch||0!==this.observers.size||this.keepAlive?(ht(this),Oe(this)&&this.trackAndCompute()&&vt(this)):Oe(this)&&(this.warnAboutUntrackedRead(),ft(),this.value=this.computeValue(!1),pt());var e=this.value;if(me(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(me(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){h(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else h(!1,!1)},e.prototype.trackAndCompute=function(){jt();var e=this.value,t=this.dependenciesState===he.NOT_TRACKING,r=this.computeValue(!0),n=t||me(e)||me(r)||!this.equals(e,r);return n&&(this.value=r),n},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,rt.computationDepth++,e)t=Se(this,this.derivation,this.scope);else if(!0===rt.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(r){t=new ge(r)}return rt.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(je(this),this.value=void 0)},e.prototype.observe=function(e,t){var r=this,n=!0,o=void 0;return Gt(function(){var i=r.get();if(!n||t){var a=Re();e({type:"update",object:r,newValue:i,oldValue:o}),Te(a)}n=!1,o=i})},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return P(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),Ye=_("ComputedValue",Xe),Fe=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],$e=function(){return function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}}(),Qe={};function Ze(){return"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:Qe}var et=!0,tt=!1,rt=function(){var e=Ze();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(et=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new $e).version&&(et=!1),et?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new $e):(setTimeout(function(){tt||p("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new $e)}();function nt(){(rt.pendingReactions.length||rt.inBatch||rt.isRunningReactions)&&p("isolateGlobalState should be called before MobX is running any reactions"),tt=!0,et&&(0==--Ze().__mobxInstanceCount&&(Ze().__mobxGlobals=void 0),rt=new $e)}function ot(){return rt}function it(){var e=new $e;for(var t in e)-1===Fe.indexOf(t)&&(rt[t]=e[t]);rt.allowStateChanges=!rt.enforceActions}function at(e){return e.observers&&e.observers.size>0}function st(e){return e.observers}function ut(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function ct(e,t){e.observers.delete(t),0===e.observers.size&&lt(e)}function lt(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,rt.pendingUnobservations.push(e))}function ft(){rt.inBatch++}function pt(){if(0==--rt.inBatch){At();for(var e=rt.pendingUnobservations,t=0;t<e.length;t++){var r=e[t];r.isPendingUnobservation=!1,0===r.observers.size&&(r.isBeingObserved&&(r.isBeingObserved=!1,r.onBecomeUnobserved()),r instanceof Xe&&r.suspend())}rt.pendingUnobservations=[]}}function ht(e){Ae(e);var t=rt.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&rt.inBatch>0&&lt(e),!1)}function dt(e){e.lowestObserverState!==he.STALE&&(e.lowestObserverState=he.STALE,e.observers.forEach(function(t){t.dependenciesState===he.UP_TO_DATE&&(t.isTracing!==de.NONE&&bt(t,e),t.onBecomeStale()),t.dependenciesState=he.STALE}))}function vt(e){e.lowestObserverState!==he.STALE&&(e.lowestObserverState=he.STALE,e.observers.forEach(function(t){t.dependenciesState===he.POSSIBLY_STALE?t.dependenciesState=he.STALE:t.dependenciesState===he.UP_TO_DATE&&(e.lowestObserverState=he.UP_TO_DATE)}))}function yt(e){e.lowestObserverState===he.UP_TO_DATE&&(e.lowestObserverState=he.POSSIBLY_STALE,e.observers.forEach(function(t){t.dependenciesState===he.UP_TO_DATE&&(t.dependenciesState=he.POSSIBLY_STALE,t.isTracing!==de.NONE&&bt(t,e),t.onBecomeStale())}))}function bt(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===de.BREAK){var r=[];gt(er(e),r,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Xe?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+r.join("\n")+"\n*/\n    ")()}}function gt(e,t,r){t.length>=1e3?t.push("(and many more)"):(t.push(""+new Array(r).join("\t")+e.name),e.dependencies&&e.dependencies.forEach(function(e){return gt(e,t,r+1)}))}var mt=function(){function e(e,t,r,n){void 0===e&&(e="Reaction@"+f()),void 0===n&&(n=!1),this.name=e,this.onInvalidate=t,this.errorHandler=r,this.requiresObservable=n,this.observing=[],this.newObserving=[],this.dependenciesState=he.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+f(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=de.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,rt.pendingReactions.push(this),At())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(ft(),this._isScheduled=!1,Oe(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&jt()}catch(e){this.reportExceptionInDerivation(e)}}pt()}},e.prototype.track=function(e){if(!this.isDisposed){ft();jt();0,this._isRunning=!0;var t=Se(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&je(this),me(t)&&this.reportExceptionInDerivation(t.cause),pt()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(rt.disableErrorBoundaries)throw e;var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";rt.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(r,e),jt()&&Ct({type:"error",name:this.name,message:r,error:""+e}),rt.globalReactionErrorHandlers.forEach(function(r){return r(e,t)})}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(ft(),je(this),pt()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[N]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),Nr(this,e)},e}();function Ot(e){return rt.globalReactionErrorHandlers.push(e),function(){var t=rt.globalReactionErrorHandlers.indexOf(e);t>=0&&rt.globalReactionErrorHandlers.splice(t,1)}}exports.Reaction=mt;var wt=100,xt=function(e){return e()};function At(){rt.inBatch>0||rt.isRunningReactions||xt(St)}function St(){rt.isRunningReactions=!0;for(var e=rt.pendingReactions,t=0;e.length>0;){++t===wt&&(console.error("Reaction doesn't converge to a stable state after "+wt+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var r=e.splice(0),n=0,o=r.length;n<o;n++)r[n].runReaction()}rt.isRunningReactions=!1}var _t=_("Reaction",mt);function Et(e){var t=xt;xt=function(r){return e(function(){return t(r)})}}function jt(){return!1}function Ct(e){}function Rt(e){}var Tt={spyReportEnd:!0};function Dt(e){}function Pt(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Nt(){p(!1)}function Vt(e){return function(t,r,n){if(n){if(n.value)return{value:Ie(e,n.value),enumerable:!1,configurable:!0,writable:!0};var o=n.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Ie(e,o.call(this))}}}return kt(e).apply(this,arguments)}}function kt(e){return function(t,r,n){Object.defineProperty(t,r,{configurable:!0,enumerable:!1,get:function(){},set:function(t){w(this,r,Lt(e,t))}})}}function Bt(e,t,r,n){return!0===n?(Ut(e,t,r.value),null):r?{configurable:!0,enumerable:!1,get:function(){return Ut(this,t,r.value||r.initializer.call(this)),this[t]},set:Nt}:{enumerable:!1,configurable:!0,set:function(e){Ut(this,t,e)},get:function(){}}}var Lt=function(e,t,r,n){return 1===arguments.length&&"function"==typeof e?Ie(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?Ie(e,t):1===arguments.length&&"string"==typeof e?Vt(e):!0!==n?Vt(t).apply(null,arguments):void w(e,t,Ie(e.name||t,r.value,this))};function It(e,t){var r="string"==typeof e?e:e.name||"<unnamed action>",n="function"==typeof e?e:t;return Me(r,n,this,void 0)}function Mt(e){return"function"==typeof e&&!0===e.isMobxAction}function Ut(e,t,r){w(e,t,Ie(t,r.bind(e)))}function Gt(e,t){void 0===t&&(t=l);var r,n=t&&t.name||e.name||"Autorun@"+f();if(!t.scheduler&&!t.delay)r=new mt(n,function(){this.track(a)},t.onError,t.requiresObservable);else{var o=Kt(t),i=!1;r=new mt(n,function(){i||(i=!0,o(function(){i=!1,r.isDisposed||r.track(a)}))},t.onError,t.requiresObservable)}function a(){e(r)}return r.schedule(),r.getDisposer()}exports.action=Lt,Lt.bound=Bt;var qt=function(e){return e()};function Kt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:qt}function zt(e,t,r){void 0===r&&(r=l);var n,o=r.name||"Reaction@"+f(),i=Lt(o,r.onError?Ht(r.onError,t):t),a=!r.scheduler&&!r.delay,s=Kt(r),u=!0,c=!1,p=r.compareStructural?G.structural:r.equals||G.default,h=new mt(o,function(){u||a?d():c||(c=!0,s(d))},r.onError,r.requiresObservable);function d(){if(c=!1,!h.isDisposed){var t=!1;h.track(function(){var r=e(h);t=u||!p(n,r),n=r}),u&&r.fireImmediately&&i(n,h),u||!0!==t||i(n,h),u&&(u=!1)}}return h.schedule(),h.getDisposer()}function Ht(e,t){return function(){try{return t.apply(this,arguments)}catch(r){e.call(this,r)}}}function Wt(e,t,r){return Xt("onBecomeObserved",e,t,r)}function Jt(e,t,r){return Xt("onBecomeUnobserved",e,t,r)}function Xt(e,t,r,n){var o="function"==typeof n?On(t,r):On(t),i="function"==typeof n?n:r,a=e+"Listeners";return o[a]?o[a].add(i):o[a]=new Set([i]),"function"!=typeof o[e]?p(!1):function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}function Yt(e){var t=e.enforceActions,r=e.computedRequiresReaction,n=e.computedConfigurable,o=e.disableErrorBoundaries,i=e.reactionScheduler,a=e.reactionRequiresObservable,s=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&nt(),void 0!==t){"boolean"!=typeof t&&"strict"!==t||v("Deprecated value for 'enforceActions', use 'false' => '\"never\"', 'true' => '\"observed\"', '\"strict\"' => \"'always'\" instead");var u=void 0;switch(t){case!0:case"observed":u=!0;break;case!1:case"never":u=!1;break;case"strict":case"always":u="strict";break;default:p("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}rt.enforceActions=u,rt.allowStateChanges=!0!==u&&"strict"!==u}void 0!==r&&(rt.computedRequiresReaction=!!r),void 0!==a&&(rt.reactionRequiresObservable=!!a),void 0!==s&&(rt.observableRequiresReaction=!!s,rt.allowStateReads=!rt.observableRequiresReaction),void 0!==n&&(rt.computedConfigurable=!!n),void 0!==o&&(!0===o&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),rt.disableErrorBoundaries=!!o),i&&Et(i)}function Ft(e,t){var r="function"==typeof e?e.prototype:e,n=function(e){var n=t[e];Array.isArray(n)||(n=[n]);var o=Object.getOwnPropertyDescriptor(r,e),i=n.reduce(function(t,n){return n(r,e,t)},o);i&&Object.defineProperty(r,e,i)};for(var o in t)n(o);return e}function $t(e,t,r,n){var o=Qt(n=ne(n));return J(e),pn(e,n.name,o.enhancer),t&&Zt(e,t,r,o),e}function Qt(e){return e.defaultDecorator||(!1===e.deep?ae:oe)}function Zt(e,t,r,n){var o,a;ft();try{var s=R(t);try{for(var u=i(s),c=u.next();!c.done;c=u.next()){var l=c.value,f=Object.getOwnPropertyDescriptor(t,l);0;var p=r&&l in r?r[l]:f.get?ve:n;0;var h=p(e,l,f,!0);h&&Object.defineProperty(e,l,h)}}catch(d){o={error:d}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}}finally{pt()}}function er(e,t){return tr(On(e,t))}function tr(e){var t={name:e.name};return e.observing&&e.observing.length>0&&(t.dependencies=g(e.observing).map(tr)),t}function rr(e,t){return nr(On(e,t))}function nr(e){var t={name:e.name};return at(e)&&(t.observers=Array.from(st(e)).map(nr)),t}var or=0;function ir(){this.message="FLOW_CANCELLED"}function ar(e){return e instanceof ir}function sr(e){1!==arguments.length&&p("Flow expects 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var r,n=arguments,o=++or,i=Lt(t+" - runid: "+o+" - init",e).apply(this,n),a=void 0,s=new Promise(function(e,n){var s=0;function u(e){var r;a=void 0;try{r=Lt(t+" - runid: "+o+" - yield "+s++,i.next).call(i,e)}catch(u){return n(u)}l(r)}function c(e){var r;a=void 0;try{r=Lt(t+" - runid: "+o+" - yield "+s++,i.throw).call(i,e)}catch(u){return n(u)}l(r)}function l(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(a=Promise.resolve(t.value)).then(u,c);t.then(l,n)}r=n,u(void 0)});return s.cancel=Lt(t+" - runid: "+o+" - cancel",function(){try{a&&ur(a);var e=i.return(void 0),t=Promise.resolve(e.value);t.then(b,b),ur(t),r(new ir)}catch(n){r(n)}}),s}}function ur(e){"function"==typeof e.cancel&&e.cancel()}function cr(e,t,r){var n;if(sn(e)||rn(e)||Je(e))n=wn(e);else{if(!mn(e))return p(!1);if("string"!=typeof t)return p(!1);n=wn(e,t)}return void 0!==n.dehancer?p(!1):(n.dehancer="function"==typeof t?t:r,function(){n.dehancer=void 0})}function lr(e,t,r){return"function"==typeof r?pr(e,t,r):fr(e,t)}function fr(e,t){return wn(e).intercept(t)}function pr(e,t,r){return wn(e,t).intercept(r)}function hr(e,t){if(null==e)return!1;if(void 0!==t){if(!1===mn(e))return!1;if(!e[N].values.has(t))return!1;var r=On(e,t);return Ye(r)}return Ye(e)}function dr(e){return arguments.length>1?p(!1):hr(e)}function vr(e,t){return"string"!=typeof t?p(!1):hr(e,t)}function yr(e,t){return null!=e&&(void 0!==t?!!mn(e)&&e[N].values.has(t):mn(e)||!!e[N]||k(e)||_t(e)||Ye(e))}function br(e){return 1!==arguments.length&&p(!1),yr(e)}function gr(e,t){return"string"!=typeof t?p(!1):yr(e,t)}function mr(e){return mn(e)?e[N].getKeys():sn(e)?Array.from(e.keys()):ln(e)?Array.from(e.keys()):rn(e)?e.map(function(e,t){return t}):p(!1)}function Or(e){return mn(e)?mr(e).map(function(t){return e[t]}):sn(e)?mr(e).map(function(t){return e.get(t)}):ln(e)?Array.from(e.values()):rn(e)?e.slice():p(!1)}function wr(e){return mn(e)?mr(e).map(function(t){return[t,e[t]]}):sn(e)?mr(e).map(function(t){return[t,e.get(t)]}):ln(e)?Array.from(e.entries()):rn(e)?e.map(function(e,t){return[t,e]}):p(!1)}function xr(e,t,r){if(2!==arguments.length||ln(e))if(mn(e)){var n=e[N];n.values.get(t)?n.write(t,r):n.addObservableProp(t,r,n.defaultEnhancer)}else if(sn(e))e.set(t,r);else if(ln(e))e.add(t);else{if(!rn(e))return p(!1);"number"!=typeof t&&(t=parseInt(t,10)),h(t>=0,"Not a valid index: '"+t+"'"),ft(),t>=e.length&&(e.length=t+1),e[t]=r,pt()}else{ft();var o=t;try{for(var i in o)xr(e,i,o[i])}finally{pt()}}}function Ar(e,t){if(mn(e))e[N].remove(t);else if(sn(e))e.delete(t);else if(ln(e))e.delete(t);else{if(!rn(e))return p(!1);"number"!=typeof t&&(t=parseInt(t,10)),h(t>=0,"Not a valid index: '"+t+"'"),e.splice(t,1)}}function Sr(e,t){return mn(e)?wn(e).has(t):sn(e)?e.has(t):ln(e)?e.has(t):rn(e)?t>=0&&t<e.length:p(!1)}function _r(e,t){if(Sr(e,t))return mn(e)?e[t]:sn(e)?e.get(t):rn(e)?e[t]:p(!1)}function Er(e,t,r,n){return"function"==typeof r?Cr(e,t,r,n):jr(e,t,r)}function jr(e,t,r){return wn(e).observe(t,r)}function Cr(e,t,r,n){return wn(e,t).observe(r,n)}ir.prototype=Object.create(Error.prototype);var Rr={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Tr(e,t,r,n){return n.detectCycles&&e.set(t,r),r}function Dr(e,t,r){if(!t.recurseEverything&&!br(e))return e;if("object"!=typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Je(e))return Dr(e.get(),t,r);if(br(e)&&mr(e),!0===t.detectCycles&&null!==e&&r.has(e))return r.get(e);if(rn(e)||Array.isArray(e)){var n=Tr(r,e,[],t),o=e.map(function(e){return Dr(e,t,r)});n.length=o.length;for(var i=0,a=o.length;i<a;i++)n[i]=o[i];return n}if(ln(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===t.exportMapsAsObjects){var s=Tr(r,e,new Set,t);return e.forEach(function(e){s.add(Dr(e,t,r))}),s}var u=Tr(r,e,[],t);return e.forEach(function(e){u.push(Dr(e,t,r))}),u}if(sn(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===t.exportMapsAsObjects){var c=Tr(r,e,new Map,t);return e.forEach(function(e,n){c.set(n,Dr(e,t,r))}),c}var l=Tr(r,e,{},t);return e.forEach(function(e,n){l[n]=Dr(e,t,r)}),l}var f=Tr(r,e,{},t);return R(e).forEach(function(n){f[n]=Dr(e[n],t,r)}),f}function Pr(e,t){var r;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=Rr),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(r=new Map),Dr(e,t,r)}function Nr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=!1;"boolean"==typeof e[e.length-1]&&(r=e.pop());var n=Vr(e);if(!n)return p(!1);n.isTracing===de.NONE&&console.log("[mobx.trace] '"+n.name+"' tracing enabled"),n.isTracing=r?de.BREAK:de.LOG}function Vr(e){switch(e.length){case 0:return rt.trackingDerivation;case 1:return On(e[0]);case 2:return On(e[0],e[1])}}function kr(e,t){void 0===t&&(t=void 0),ft();try{return e.apply(t)}finally{pt()}}function Br(e,t,r){return 1===arguments.length||t&&"object"==typeof t?Ir(e,t):Lr(e,t,r||{})}function Lr(e,t,r){var n;"number"==typeof r.timeout&&(n=setTimeout(function(){if(!i[N].isDisposed){i();var e=new Error("WHEN_TIMEOUT");if(!r.onError)throw e;r.onError(e)}},r.timeout)),r.name=r.name||"When@"+f();var o=Ie(r.name+"-effect",t),i=Gt(function(t){e()&&(t.dispose(),n&&clearTimeout(n),o())},r);return i}function Ir(e,t){var r;var n=new Promise(function(n,i){var a=Lr(e,n,o(o({},t),{onError:i}));r=function(){a(),i("WHEN_CANCELLED")}});return n.cancel=r,n}function Mr(e){return e[N]}function Ur(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}var Gr={has:function(e,t){if(t===N||"constructor"===t||t===q)return!0;var r=Mr(e);return Ur(t)?r.has(t):t in e},get:function(e,t){if(t===N||"constructor"===t||t===q)return e[t];var r=Mr(e),n=r.values.get(t);if(n instanceof V){var o=n.get();return void 0===o&&r.has(t),o}return Ur(t)&&r.has(t),e[t]},set:function(e,t,r){return!!Ur(t)&&(xr(e,t,r),!0)},deleteProperty:function(e,t){return!!Ur(t)&&(Mr(e).remove(t),!0)},ownKeys:function(e){return Mr(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return p("Dynamic observable objects cannot be frozen"),!1}};function qr(e){var t=new Proxy(e,Gr);return e[N].proxy=t,t}function Kr(e){return void 0!==e.interceptors&&e.interceptors.length>0}function zr(e,t){var r=e.interceptors||(e.interceptors=[]);return r.push(t),y(function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)})}function Hr(e,t){var r=Re();try{for(var n=s(e.interceptors||[]),o=0,i=n.length;o<i&&(h(!(t=n[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{Te(r)}}function Wr(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Jr(e,t){var r=e.changeListeners||(e.changeListeners=[]);return r.push(t),y(function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)})}function Xr(e,t){var r=Re(),n=e.changeListeners;if(n){for(var o=0,i=(n=n.slice()).length;o<i;o++)n[o](t);Te(r)}}var Yr=1e4,Fr={get:function(e,t){return t===N?e[N]:"length"===t?e[N].getArrayLength():"number"==typeof t?Zr.get.call(e,t):"string"!=typeof t||isNaN(t)?Zr.hasOwnProperty(t)?Zr[t]:e[t]:Zr.get.call(e,parseInt(t))},set:function(e,t,r){return"length"===t&&e[N].setArrayLength(r),"number"==typeof t&&Zr.set.call(e,t,r),"symbol"==typeof t||isNaN(t)?e[t]=r:Zr.set.call(e,parseInt(t),r),!0},preventExtensions:function(e){return p("Observable arrays cannot be frozen"),!1}};function $r(e,t,r,n){void 0===r&&(r="ObservableArray@"+f()),void 0===n&&(n=!1);var o=new Qr(r,t,n);x(o.values,N,o);var i=new Proxy(o.values,Fr);if(o.proxy=i,e&&e.length){var a=Ke(!0);o.spliceWithArray(0,0,e),ze(a)}return i}var Qr=function(){function e(e,t,r){this.owned=r,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new V(e||"ObservableArray@"+f()),this.enhancer=function(r,n){return t(r,n,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return zr(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Jr(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var r=new Array(e-t),n=0;n<e-t;n++)r[n]=void 0;this.spliceWithArray(t,0,r)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,r){var n=this;xe(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===r&&(r=c),Kr(this)){var i=Hr(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:r});if(!i)return c;t=i.removedCount,r=i.added}r=0===r.length?r:r.map(function(e){return n.enhancer(e,void 0)});var a=this.spliceItemsIntoValues(e,t,r);return 0===t&&0===r.length||this.notifyArraySplice(e,r,a),this.dehanceValues(a)},e.prototype.spliceItemsIntoValues=function(e,t,r){var n;if(r.length<Yr)return(n=this.values).splice.apply(n,s([e,t],r));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(r,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,r){var n=!this.owned&&jt(),o=Wr(this),i=o||n?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:r}:null;this.atom.reportChanged(),o&&Xr(this,i)},e.prototype.notifyArraySplice=function(e,t,r){var n=!this.owned&&jt(),o=Wr(this),i=o||n?{object:this.proxy,type:"splice",index:e,removed:r,added:t,removedCount:r.length,addedCount:t.length}:null;this.atom.reportChanged(),o&&Xr(this,i)},e}(),Zr={intercept:function(e){return this[N].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[N].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[N];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=this[N];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(e);case 2:return o.spliceWithArray(e,t)}return o.spliceWithArray(e,t,r)},spliceWithArray:function(e,t,r){return this[N].spliceWithArray(e,t,r)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this[N];return r.spliceWithArray(r.values.length,0,e),r.values.length},pop:function(){return this.splice(Math.max(this[N].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this[N];return r.spliceWithArray(0,0,e),r.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[N],r=t.dehanceValues(t.values).indexOf(e);return r>-1&&(this.splice(r,1),!0)},get:function(e){var t=this[N];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var r=this[N],n=r.values;if(e<n.length){xe(r.atom);var o=n[e];if(Kr(r)){var i=Hr(r,{type:"update",object:r.proxy,index:e,newValue:t});if(!i)return;t=i.newValue}(t=r.enhancer(t,o))!==o&&(n[e]=t,r.notifyArrayChildUpdate(e,t,o))}else{if(e!==n.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+n.length);r.spliceWithArray(e,0,[t])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(e){Zr[e]=function(){var t=this[N];t.atom.reportObserved();var r=t.dehanceValues(t.values);return r[e].apply(r,arguments)}});var en,tn=_("ObservableArrayAdministration",Qr);function rn(e){return m(e)&&tn(e[N])}var nn={},on=function(){function e(e,t,r){if(void 0===t&&(t=F),void 0===r&&(r="ObservableMap@"+f()),this.enhancer=t,this.name=r,this[en]=nn,this._keysAtom=B(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!rt.trackingDerivation)return this._has(e);var r=this._hasMap.get(e);if(!r){var n=r=new We(this._has(e),Q,this.name+"."+T(e)+"?",!1);this._hasMap.set(e,n),Jt(n,function(){return t._hasMap.delete(e)})}return r.get()},e.prototype.set=function(e,t){var r=this._has(e);if(Kr(this)){var n=Hr(this,{type:r?"update":"add",object:this,newValue:t,name:e});if(!n)return this;t=n.newValue}return r?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(Kr(this)&&!(o=Hr(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var r=jt(),n=Wr(this),o=n||r?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return kr(function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)}),n&&Xr(this,o),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var r=this._hasMap.get(e);r&&r.setNewValue(t)},e.prototype._updateValue=function(e,t){var r=this._data.get(e);if((t=r.prepareNewValue(t))!==rt.UNCHANGED){var n=jt(),o=Wr(this),i=o||n?{type:"update",object:this,oldValue:r.value,name:e,newValue:t}:null;0,r.setNewValue(t),o&&Xr(this,i)}},e.prototype._addValue=function(e,t){var r=this;xe(this._keysAtom),kr(function(){var n=new We(t,r.enhancer,r.name+"."+T(e),!1);r._data.set(e,n),t=n.value,r._updateHasMapEntry(e,!0),r._keysAtom.reportChanged()});var n=jt(),o=Wr(this),i=o||n?{type:"add",object:this,name:e,newValue:t}:null;o&&Xr(this,i)},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=0,r=Array.from(this.keys());return Rn({next:function(){return t<r.length?{value:e.get(r[t++]),done:!1}:{done:!0}}})},e.prototype.entries=function(){var e=this,t=0,r=Array.from(this.keys());return Rn({next:function(){if(t<r.length){var n=r[t++];return{value:[n,e.get(n)],done:!1}}return{done:!0}}})},e.prototype[(en=N,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var r,n;try{for(var o=i(this),s=o.next();!s.done;s=o.next()){var u=a(s.value,2),c=u[0],l=u[1];e.call(t,l,c,this)}}catch(f){r={error:f}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e.prototype.merge=function(e){var t=this;return sn(e)&&(e=e.toJS()),kr(function(){O(e)?R(e).forEach(function(r){return t.set(r,e[r])}):Array.isArray(e)?e.forEach(function(e){var r=a(e,2),n=r[0],o=r[1];return t.set(n,o)}):j(e)?(e.constructor!==Map&&p("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach(function(e,r){return t.set(r,e)})):null!=e&&p("Cannot initialize map from "+e)}),this},e.prototype.clear=function(){var e=this;kr(function(){Ce(function(){var t,r;try{for(var n=i(e.keys()),o=n.next();!o.done;o=n.next()){var a=o.value;e.delete(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}})})},e.prototype.replace=function(e){var t=this;return kr(function(){var r=D(e);Array.from(t.keys()).filter(function(e){return-1===r.indexOf(e)}).forEach(function(e){return t.delete(e)}),t.merge(e)}),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,r={};try{for(var n=i(this),o=n.next();!o.done;o=n.next()){var s=a(o.value,2),u=s[0],c=s[1];r["symbol"==typeof u?u:T(u)]=c}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map(function(t){return T(t)+": "+e.get(t)}).join(", ")+" }]"},e.prototype.observe=function(e,t){return Jr(this,e)},e.prototype.intercept=function(e){return zr(this,e)},e}();exports.ObservableMap=on;var an,sn=_("ObservableMap",on);exports.isObservableMap=sn;var un={},cn=function(){function e(e,t,r){if(void 0===t&&(t=F),void 0===r&&(r="ObservableSet@"+f()),this.name=r,this[an]=un,this._data=new Set,this._atom=B(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,n){return t(e,n,r)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;kr(function(){Ce(function(){var t,r;try{for(var n=i(e._data.values()),o=n.next();!o.done;o=n.next()){var a=o.value;e.delete(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}})})},e.prototype.forEach=function(e,t){var r,n;try{for(var o=i(this),a=o.next();!a.done;a=o.next()){var s=a.value;e.call(t,s,s,this)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((xe(this._atom),Kr(this))&&!(o=Hr(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){kr(function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()});var r=jt(),n=Wr(this),o=n||r?{type:"add",object:this,newValue:e}:null;0,n&&Xr(this,o)}return this},e.prototype.delete=function(e){var t=this;if(Kr(this)&&!(o=Hr(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var r=jt(),n=Wr(this),o=n||r?{type:"delete",object:this,oldValue:e}:null;return kr(function(){t._atom.reportChanged(),t._data.delete(e)}),n&&Xr(this,o),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),r=Array.from(this.values());return Rn({next:function(){var n=e;return e+=1,n<r.length?{value:[t[n],r[n]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,r=Array.from(this._data.values());return Rn({next:function(){return t<r.length?{value:e.dehanceValue(r[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return ln(e)&&(e=e.toJS()),kr(function(){Array.isArray(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):C(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!=e&&p("Cannot initialize set from "+e)}),this},e.prototype.observe=function(e,t){return Jr(this,e)},e.prototype.intercept=function(e){return zr(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(an=N,Symbol.iterator)]=function(){return this.values()},e}();exports.ObservableSet=cn;var ln=_("ObservableSet",cn);exports.isObservableSet=ln;var fn=function(){function e(e,t,r,n){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=r,this.defaultEnhancer=n,this.keysAtom=new V(r+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var r=this.target,n=this.values.get(e);if(n instanceof Xe)n.set(t);else{if(Kr(this)){if(!(a=Hr(this,{type:"update",object:this.proxy||r,name:e,newValue:t})))return;t=a.newValue}if((t=n.prepareNewValue(t))!==rt.UNCHANGED){var o=Wr(this),i=jt(),a=o||i?{type:"update",object:this.proxy||r,oldValue:n.value,name:e,newValue:t}:null;0,n.setNewValue(t),o&&Xr(this,a)}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),r=t.get(e);if(r)return r.get();var n=!!this.values.get(e);return r=new We(n,Q,this.name+"."+T(e)+"?",!1),t.set(e,r),r.get()},e.prototype.addObservableProp=function(e,t,r){void 0===r&&(r=this.defaultEnhancer);var n=this.target;if(S(n,e),Kr(this)){var o=Hr(this,{object:this.proxy||n,name:e,type:"add",newValue:t});if(!o)return;t=o.newValue}var i=new We(t,r,this.name+"."+T(e),!1);this.values.set(e,i),t=i.value,Object.defineProperty(n,e,vn(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,r){var n=this.target;r.name=r.name||this.name+"."+T(t),this.values.set(t,new Xe(r)),(e===n||A(e,t))&&Object.defineProperty(e,t,bn(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(Kr(this))if(!(s=Hr(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{ft();var r=Wr(this),n=jt(),o=this.values.get(e),i=o&&o.get();if(o&&o.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var a=this.pendingKeys.get(e);a&&a.set(!1)}delete this.target[e];var s=r||n?{type:"remove",object:this.proxy||t,oldValue:i,name:e}:null;0,r&&Xr(this,s)}finally{pt()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return Jr(this,e)},e.prototype.intercept=function(e){return zr(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var r=Wr(this),n=jt(),o=r||n?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(r&&Xr(this,o),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var r=[];try{for(var n=i(this.values),o=n.next();!o.done;o=n.next()){var s=a(o.value,2),u=s[0];s[1]instanceof We&&r.push(u)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},e}();function pn(e,t,r){if(void 0===t&&(t=""),void 0===r&&(r=F),Object.prototype.hasOwnProperty.call(e,N))return e[N];O(e)||(t=(e.constructor.name||"ObservableObject")+"@"+f()),t||(t="ObservableObject@"+f());var n=new fn(e,new Map,T(t),r);return w(e,N,n),n}var hn=Object.create(null),dn=Object.create(null);function vn(e){return hn[e]||(hn[e]={configurable:!0,enumerable:!0,get:function(){return this[N].read(e)},set:function(t){this[N].write(e,t)}})}function yn(e){var t=e[N];return t||(J(e),e[N])}function bn(e){return dn[e]||(dn[e]={configurable:rt.computedConfigurable,enumerable:!1,get:function(){return yn(this).read(e)},set:function(t){yn(this).write(e,t)}})}var gn=_("ObservableObjectAdministration",fn);function mn(e){return!!m(e)&&(J(e),gn(e[N]))}function On(e,t){if("object"==typeof e&&null!==e){if(rn(e))return void 0!==t&&p(!1),e[N].atom;if(ln(e))return e[N];if(sn(e)){var r=e;return void 0===t?r._keysAtom:((n=r._data.get(t)||r._hasMap.get(t))||p(!1),n)}var n;if(J(e),t&&!e[N]&&e[t],mn(e))return t?((n=e[N].values.get(t))||p(!1),n):p(!1);if(k(e)||Ye(e)||_t(e))return e}else if("function"==typeof e&&_t(e[N]))return e[N];return p(!1)}function wn(e,t){return e||p("Expecting some object"),void 0!==t?wn(On(e,t)):k(e)||Ye(e)||_t(e)?e:sn(e)||ln(e)?e:(J(e),e[N]?e[N]:void p(!1))}function xn(e,t){return(void 0!==t?On(e,t):mn(e)||sn(e)||ln(e)?wn(e):On(e)).name}var An,Sn=Object.prototype.toString;function _n(e,t,r){return void 0===r&&(r=-1),En(e,t,r)}function En(e,t,r,n,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;if("function"!==i&&"object"!==i&&"object"!=typeof t)return!1;var a=Sn.call(e);if(a!==Sn.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":r>=0&&r++}e=jn(e),t=jn(t);var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,c=t.constructor;if(u!==c&&!("function"==typeof u&&u instanceof u&&"function"==typeof c&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===r)return!1;r<0&&(r=-1),o=o||[];for(var l=(n=n||[]).length;l--;)if(n[l]===e)return o[l]===t;if(n.push(e),o.push(t),s){if((l=e.length)!==t.length)return!1;for(;l--;)if(!En(e[l],t[l],r-1,n,o))return!1}else{var f=Object.keys(e),p=void 0;if(l=f.length,Object.keys(t).length!==l)return!1;for(;l--;)if(!Cn(t,p=f[l])||!En(e[p],t[p],r-1,n,o))return!1}return n.pop(),o.pop(),!0}function jn(e){return rn(e)?e.slice():j(e)||sn(e)?Array.from(e.entries()):C(e)||ln(e)?Array.from(e.entries()):e}function Cn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rn(e){return e[Symbol.iterator]=Tn,e}function Tn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Pt,extras:{getDebugName:xn},$mobx:N});
},{"process":"pBGv"}],"lQiT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.observer=Ze,exports.trackComponents=Xe,exports.useStaticRendering=He,exports.inject=Ue,exports.disposeOnUnmount=dt,exports.Provider=exports.componentByNodeRegistry=exports.componentByNodeRegistery=exports.renderReporter=exports.Observer=exports.onError=exports.PropTypes=exports.propTypes=void 0;var e=require("mobx"),t=o(require("react")),r=require("react-dom");function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?d(e):t}function h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function m(e,t){return e(t={exports:{}},t.exports),t.exports}var b=m(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,p=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,l=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.memo"):60115,h=r?Symbol.for("react.lazy"):60116;function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case l:case i:case s:case a:return e;default:switch(e=e&&e.$$typeof){case p:case f:case c:return e;default:return t}}case o:return t}}}function b(e){return m(e)===l}t.typeOf=m,t.AsyncMode=u,t.ConcurrentMode=l,t.ContextConsumer=p,t.ContextProvider=c,t.Element=n,t.ForwardRef=f,t.Fragment=i,t.Profiler=s,t.Portal=o,t.StrictMode=a,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===l||e===s||e===a||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===y||e.$$typeof===c||e.$$typeof===p||e.$$typeof===f)},t.isAsyncMode=function(e){return b(e)||m(e)===u},t.isConcurrentMode=b,t.isContextConsumer=function(e){return m(e)===p},t.isContextProvider=function(e){return m(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return m(e)===f},t.isFragment=function(e){return m(e)===i},t.isProfiler=function(e){return m(e)===s},t.isPortal=function(e){return m(e)===o},t.isStrictMode=function(e){return m(e)===a}});h(b);var v=b.typeOf,g=b.AsyncMode,w=b.ConcurrentMode,O=b.ContextConsumer,x=b.ContextProvider,_=b.Element,P=b.ForwardRef,S=b.Fragment,j=b.Profiler,C=b.Portal,E=b.StrictMode,M=b.isValidElementType,U=b.isAsyncMode,R=b.isConcurrentMode,k=b.isContextConsumer,D=b.isContextProvider,A=b.isElement,T=b.isForwardRef,$=b.isFragment,F=b.isProfiler,W=b.isPortal,I=b.isStrictMode,N=m(function(e){e.exports=b}),B={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},L={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},q={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},X={};X[N.ForwardRef]=q;var H=Object.defineProperty,V=Object.getOwnPropertyNames,G=Object.getOwnPropertySymbols,K=Object.getOwnPropertyDescriptor,z=Object.getPrototypeOf,Y=Object.prototype;function J(e,t,r){if("string"!=typeof t){if(Y){var n=z(t);n&&n!==Y&&J(e,n,r)}var o=V(t);G&&(o=o.concat(G(t)));for(var i=X[e.$$typeof]||B,a=X[t.$$typeof]||B,s=0;s<o.length;++s){var c=o[s];if(!(L[c]||r&&r[c]||a&&a[c]||i&&i[c])){var p=K(t,c);try{H(e,c,p)}catch(u){}}}return e}return e}var Q=J,Z=function(){function e(){a(this,e),this.listeners=[]}return c(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var r=t.listeners.indexOf(e);-1!==r&&t.listeners.splice(r,1)}}},{key:"emit",value:function(e){this.listeners.forEach(function(t){return t(e)})}}]),e}();function ee(t){function r(r,n,o,i,a,s){for(var c=arguments.length,p=new Array(c>6?c-6:0),u=6;u<c;u++)p[u-6]=arguments[u];return(0,e.untracked)(function(){if(i=i||"<<anonymous>>",s=s||o,null==n[o]){if(r){var e=null===n[o]?"null":"undefined";return new Error("The "+a+" `"+s+"` is marked as required in `"+i+"`, but its value is `"+e+"`.")}return null}return t.apply(void 0,[n,o,i,a,s].concat(p))})}var n=r.bind(null,!1);return n.isRequired=r.bind(null,!0),n}function te(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function re(e){var t=i(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":te(t,e)?"symbol":t}function ne(e){var t=re(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function oe(t,r){return ee(function(n,o,i,a,s){return(0,e.untracked)(function(){if(t&&re(n[o])===r.toLowerCase())return null;var a;switch(r){case"Array":a=e.isObservableArray;break;case"Object":a=e.isObservableObject;break;case"Map":a=e.isObservableMap;break;default:throw new Error("Unexpected mobxType: ".concat(r))}var c=n[o];if(!a(c)){var p=ne(c),u=t?" or javascript `"+r.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+p+"` supplied to `"+i+"`, expected `mobx.Observable"+r+"`"+u+".")}return null})})}function ie(t,r){return ee(function(n,o,i,a,s){for(var c=arguments.length,p=new Array(c>5?c-5:0),u=5;u<c;u++)p[u-5]=arguments[u];return(0,e.untracked)(function(){if("function"!=typeof r)return new Error("Property `"+s+"` of component `"+i+"` has invalid PropType notation.");var e=oe(t,"Array")(n,o,i);if(e instanceof Error)return e;for(var c=n[o],u=0;u<c.length;u++)if((e=r.apply(void 0,[c,u,i,a,s+"["+u+"]"].concat(p)))instanceof Error)return e;return null})})}var ae=oe(!1,"Array"),se=ie.bind(null,!1),ce=oe(!1,"Map"),pe=oe(!1,"Object"),ue=oe(!0,"Array"),le=ie.bind(null,!0),fe=oe(!0,"Object"),de=Object.freeze({observableArray:ae,observableArrayOf:se,observableMap:ce,observableObject:pe,arrayOrObservableArray:ue,arrayOrObservableArrayOf:le,objectOrObservableObject:fe});function ye(e){return!(e.prototype&&e.prototype.render)}exports.PropTypes=exports.propTypes=de;var he=0;function me(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react ".concat(e," (").concat(he,")");return he++,t}var be={};function ve(e){return be[e]||(be[e]=me(e)),be[e]}var ge=ve("patchMixins"),we=ve("patchedDefinition");function Oe(e,t){var r=e[ge]=e[ge]||{},n=r[t]=r[t]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function xe(e,t){for(var r=this,n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];t.locks++;try{var a;return null!=e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach(function(e){e.apply(r,o)})}}function _e(e,t){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];xe.call.apply(xe,[this,e,t].concat(n))}}function Pe(e,t){for(var r=Oe(e,t),n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];for(var a=0;a<o.length;a++){var s=o[a];r.methods.indexOf(s)<0&&r.methods.push(s)}var c=Object.getOwnPropertyDescriptor(e,t);if(!c||!c[we]){var p=e[t],u=Se(e,t,c?c.enumerable:void 0,r,p);Object.defineProperty(e,t,u)}}function Se(e,t,r,n,o){var i,a=_e(o,n);return p(i={},we,!0),p(i,"get",function(){return a}),p(i,"set",function(o){if(this===e)a=_e(o,n);else{var i=Se(this,t,r,n,o);Object.defineProperty(this,t,i)}}),p(i,"configurable",!0),p(i,"enumerable",r),i}var je={mobxStores:fe};Object.seal(je);var Ce={contextTypes:{get:function(){return je},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function Ee(e,r,n){var o="inject-"+(r.displayName||r.name||r.constructor&&r.constructor.name||"Unknown");n&&(o+="-with-"+n);var i=function(n){function o(){var e,t;a(this,o);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=y(this,(e=l(o)).call.apply(e,[this].concat(n)))).storeRef=function(e){t.wrappedInstance=e},t}return u(o,t.Component),c(o,[{key:"render",value:function(){var n={};for(var o in this.props)this.props.hasOwnProperty(o)&&(n[o]=this.props[o]);var i=e(this.context.mobxStores||{},n,this.context)||{};for(var a in i)n[a]=i[a];return ye(r)||(n.ref=this.storeRef),(0,t.createElement)(r,n)}}]),o}();return i.displayName=o,Q(i,r),i.wrappedComponent=r,Object.defineProperties(i,Ce),i}function Me(e){return function(t,r){return e.forEach(function(e){if(!(e in r)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");r[e]=t[e]}}),r}}function Ue(){var e;if("function"==typeof arguments[0])return e=arguments[0],function(t){var r=Ee(e,t);return r.isMobxInjector=!1,(r=Ze(r)).isMobxInjector=!0,r};for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e=Me(t),function(r){return Ee(e,r,t.join("-"))}}var Re=e.$mobx||"$mobx",ke=ve("isUnmounted"),De=!1,Ae=!1,Te=!1,$e="undefined"!=typeof WeakMap?new WeakMap:void 0;exports.componentByNodeRegistry=exports.componentByNodeRegistery=$e;var Fe=new Z;exports.renderReporter=Fe;var We=ve("skipRender"),Ie=ve("isForcingUpdate"),Ne="function"==typeof t.forwardRef&&(0,t.forwardRef)(function(e,t){}).$$typeof;function Be(e,t,r){Object.hasOwnProperty.call(e,t)?e[t]=r:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:r})}function Le(e){if(r.findDOMNode)try{return(0,r.findDOMNode)(e)}catch(t){return null}return null}function qe(e){var t=Le(e);t&&$e&&$e.set(t,e),Fe.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function Xe(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");De||(De=!0)}function He(e){Ae=e}var Ve=new Z;function Ge(e,t){Pe(e,t,Je[t])}function Ke(e,t){if(ze(e,t))return!0;if("object"!==i(e)||null===e||"object"!==i(t)||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!hasOwnProperty.call(t,r[o])||!ze(e[r[o]],t[r[o]]))return!1;return!0}function ze(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Ye(r){var n=this;if(!0===Ae)return r.call(this);function o(){var t=this;c=!1;var r=void 0,n=void 0;if(p.track(function(){De&&(t.__$mobRenderStart=Date.now());try{n=(0,e._allowStateChanges)(!1,s)}catch(o){r=o}De&&(t.__$mobRenderEnd=Date.now())}),r)throw Ve.emit(r),r;return n}var i=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",a=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;Be(this,We,!1),Be(this,Ie,!1);var s=r.bind(this),c=!1,p=new e.Reaction("".concat(i,"#").concat(a,".render()"),function(){if(!c&&(c=!0,"function"==typeof n.componentWillReact&&n.componentWillReact(),!0!==n[ke])){var e=!0;try{Be(n,Ie,!0),n[We]||t.Component.prototype.forceUpdate.call(n),e=!1}finally{Be(n,Ie,!1),e&&p.dispose()}}});return p.reactComponent=this,o[Re]=p,this.render=o,o.call(this)}var Je={componentWillUnmount:function(){if(!0!==Ae&&(this.render[Re]&&this.render[Re].dispose(),this[ke]=!0,De)){var e=Le(this);e&&$e&&$e.delete(e),Fe.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){De&&qe(this)},componentDidUpdate:function(){De&&qe(this)},shouldComponentUpdate:function(e,t){return Ae&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!Ke(this.props,e)}};function Qe(t,r){var n=ve("reactProp_".concat(r,"_valueHolder")),o=ve("reactProp_".concat(r,"_atomHolder"));function i(){return this[o]||Be(this,o,(0,e.createAtom)("reactive "+r)),this[o]}Object.defineProperty(t,r,{configurable:!0,enumerable:!0,get:function(){return i.call(this).reportObserved(),this[n]},set:function(e){this[Ie]||Ke(this[n],e)?Be(this,n,e):(Be(this,n,e),Be(this,We,!0),i.call(this).reportChanged(),Be(this,We,!1))}})}function Ze(e,r){if("string"==typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return Te||(Te=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),r?Ue.apply(null,e)(Ze(r)):function(t){return Ze(e,t)};var n=e;if(!0===n.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===t.PureComponent&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),Ne&&n.$$typeof===Ne){var o=n.render;if("function"!=typeof o)throw new Error("render property of ForwardRef was not a function");return(0,t.forwardRef)(function(){var e=arguments;return t.default.createElement(tt,null,function(){return o.apply(void 0,e)})})}if(!("function"!=typeof n||n.prototype&&n.prototype.render||n.isReactClass||t.Component.isPrototypeOf(n))){var i,s,p=Ze((s=i=function(e){function r(){return a(this,r),y(this,l(r).apply(this,arguments))}return u(r,t.Component),c(r,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),r}(),i.displayName=n.displayName||n.name,i.contextTypes=n.contextTypes,i.propTypes=n.propTypes,i.defaultProps=n.defaultProps,s));return Q(p,n),p}if(!n)throw new Error("Please pass a valid component to 'observer'");var f=n.prototype||n;et(f),n.isMobXReactObserver=!0,Qe(f,"props"),Qe(f,"state");var d=f.render;return f.render=function(){return Ye.call(this,d)},n}function et(e){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(t){Ge(e,t)}),e.shouldComponentUpdate?e.shouldComponentUpdate!==Je.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):e.shouldComponentUpdate=Je.shouldComponentUpdate}var tt=Ze(function(e){var r=e.children,n=e.inject,o=e.render,i=r||o;if(void 0===i)return null;if(!n)return i();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var a=Ue(n)(i);return t.default.createElement(a,null)});exports.Observer=tt,tt.displayName="Observer";var rt=function(e,t,r,n,o){var a="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[a]?new Error("Invalid prop,do not use children and render in the same time in`"+r):"function"!=typeof e[t]&&"function"!=typeof e[a]?new Error("Invalid prop `"+o+"` of type `"+i(e[t])+"` supplied to `"+r+"`, expected `function`."):void 0};function nt(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function ot(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function it(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function at(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,n=null,o=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?n="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(n="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==r||null!==n||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=nt,t.componentWillReceiveProps=ot),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=it;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;s.call(this,e,t,n)}}return e}tt.propTypes={render:rt,children:rt},nt.__suppressDeprecationWarning=!0,ot.__suppressDeprecationWarning=!0,it.__suppressDeprecationWarning=!0;var st={children:!0,key:!0,ref:!0},ct=function(e){function r(e,t){var n;return a(this,r),(n=y(this,l(r).call(this,e,t))).state={},pt(e,n.state),n}return u(r,t.Component),c(r,[{key:"render",value:function(){return t.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var e={};return pt(this.context.mobxStores,e),pt(this.props,e),{mobxStores:e}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).filter(ut).length!==Object.keys(t).filter(ut).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var r in e)ut(r)&&t[r]!==e[r]&&console.warn("MobX Provider: Provided store '"+r+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return e}}]),r}();function pt(e,t){if(e)for(var r in e)ut(r)&&(t[r]=e[r])}function ut(e){return!st[e]&&"suppressChangedStoreWarning"!==e}exports.Provider=ct,ct.contextTypes={mobxStores:fe},ct.childContextTypes={mobxStores:fe.isRequired},at(ct);var lt=ve("disposeOnUnmount");function ft(){var e=this;this[lt]&&(this[lt].forEach(function(t){var r="string"==typeof t?e[t]:t;if(null!=r){if("function"!=typeof r)throw new Error("[mobx-react] disposeOnUnmount only works on functions such as disposers returned by reactions, autorun, etc.");r()}}),this[lt]=[])}function dt(e,r){if(Array.isArray(r))return r.map(function(t){return dt(e,t)});if(!e instanceof t.Component)throw new Error("[mobx-react] disposeOnUnmount only works on class based React components.");if("string"!=typeof r&&"function"!=typeof r)throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var n=!!e[lt];return(e[lt]||(e[lt]=[])).push(r),n||Pe(e,"componentWillUnmount",ft),"string"!=typeof r?r:void 0}if(!t.Component)throw new Error("mobx-react requires React to be available");if(!e.spy)throw new Error("mobx-react requires mobx to be available");"function"==typeof r.unstable_batchedUpdates&&(0,e.configure)({reactionScheduler:r.unstable_batchedUpdates});var yt=function(e){return Ve.on(e)};if(exports.onError=yt,"object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":i(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var ht={spy:e.spy,extras:{getDebugName:e.getDebugName}},mt={renderReporter:Fe,componentByNodeRegistry:$e,componentByNodeRegistery:$e,trackComponents:Xe};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(mt,ht)}
},{"mobx":"uYi1","react":"n8MK","react-dom":"NKHc"}],"ZnfK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),t=new Uint8Array(16);function o(){if(!e)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}
},{}],"r3e0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;exports.default=e;
},{}],"IrZt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./regex.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return"string"==typeof t&&e.default.test(t)}var u=r;exports.default=u;
},{"./regex.js":"r3e0"}],"x9Ck":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./validate.js"));function r(e){return e&&e.__esModule?e:{default:e}}for(var t=[],i=0;i<256;++i)t.push((i+256).toString(16).substr(1));function o(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(t[r[i+0]]+t[r[i+1]]+t[r[i+2]]+t[r[i+3]]+"-"+t[r[i+4]]+t[r[i+5]]+"-"+t[r[i+6]]+t[r[i+7]]+"-"+t[r[i+8]]+t[r[i+9]]+"-"+t[r[i+10]]+t[r[i+11]]+t[r[i+12]]+t[r[i+13]]+t[r[i+14]]+t[r[i+15]]).toLowerCase();if(!(0,e.default)(o))throw TypeError("Stringified UUID is invalid");return o}var u=o;exports.default=u;
},{"./validate.js":"IrZt"}],"wptB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,r,s=o(require("./rng.js")),n=o(require("./stringify.js"));function o(e){return e&&e.__esModule?e:{default:e}}var u=0,t=0;function a(o,a,l){var d=a&&l||0,i=a||new Array(16),c=(o=o||{}).node||e,v=void 0!==o.clockseq?o.clockseq:r;if(null==c||null==v){var f=o.random||(o.rng||s.default)();null==c&&(c=e=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==v&&(v=r=16383&(f[6]<<8|f[7]))}var q=void 0!==o.msecs?o.msecs:Date.now(),m=void 0!==o.nsecs?o.nsecs:t+1,p=q-u+(m-t)/1e4;if(p<0&&void 0===o.clockseq&&(v=v+1&16383),(p<0||q>u)&&void 0===o.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=q,t=m,r=v;var w=(1e4*(268435455&(q+=122192928e5))+m)%4294967296;i[d++]=w>>>24&255,i[d++]=w>>>16&255,i[d++]=w>>>8&255,i[d++]=255&w;var _=q/4294967296*1e4&268435455;i[d++]=_>>>8&255,i[d++]=255&_,i[d++]=_>>>24&15|16,i[d++]=_>>>16&255,i[d++]=v>>>8|128,i[d++]=255&v;for(var g=0;g<6;++g)i[d+g]=c[g];return a||(0,n.default)(i)}var l=a;exports.default=l;
},{"./rng.js":"ZnfK","./stringify.js":"x9Ck"}],"m82a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./validate.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){if(!(0,e.default)(r))throw TypeError("Invalid UUID");var t,s=new Uint8Array(16);return s[0]=(t=parseInt(r.slice(0,8),16))>>>24,s[1]=t>>>16&255,s[2]=t>>>8&255,s[3]=255&t,s[4]=(t=parseInt(r.slice(9,13),16))>>>8,s[5]=255&t,s[6]=(t=parseInt(r.slice(14,18),16))>>>8,s[7]=255&t,s[8]=(t=parseInt(r.slice(19,23),16))>>>8,s[9]=255&t,s[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,s[11]=t/4294967296&255,s[12]=t>>>24&255,s[13]=t>>>16&255,s[14]=t>>>8&255,s[15]=255&t,s}var s=t;exports.default=s;
},{"./validate.js":"IrZt"}],"wtjh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s,exports.URL=exports.DNS=void 0;var e=t(require("./stringify.js")),r=t(require("./parse.js"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e){e=unescape(encodeURIComponent(e));for(var r=[],t=0;t<e.length;++t)r.push(e.charCodeAt(t));return r}var a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";exports.DNS=a;var o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function s(t,s,u){function i(t,a,o,i){if("string"==typeof t&&(t=n(t)),"string"==typeof a&&(a=(0,r.default)(a)),16!==a.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+t.length);if(d.set(a),d.set(t,a.length),(d=u(d))[6]=15&d[6]|s,d[8]=63&d[8]|128,o){i=i||0;for(var f=0;f<16;++f)o[i+f]=d[f];return o}return(0,e.default)(d)}try{i.name=t}catch(d){}return i.DNS=a,i.URL=o,i}exports.URL=o;
},{"./stringify.js":"x9Ck","./parse.js":"m82a"}],"SNWV":[function(require,module,exports) {
"use strict";function n(n){if("string"==typeof n){var t=unescape(encodeURIComponent(n));n=new Uint8Array(t.length);for(var o=0;o<t.length;++o)n[o]=t.charCodeAt(o)}return r(e(u(n),8*n.length))}function r(n){for(var r=[],t=32*n.length,e=0;e<t;e+=8){var u=n[e>>5]>>>e%32&255,o=parseInt("0123456789abcdef".charAt(u>>>4&15)+"0123456789abcdef".charAt(15&u),16);r.push(o)}return r}function t(n){return 14+(n+64>>>9<<4)+1}function e(n,r){n[r>>5]|=128<<r%32,n[t(r)-1]=r;for(var e=1732584193,u=-271733879,f=-1732584194,a=271733878,v=0;v<n.length;v+=16){var s=e,d=u,p=f,g=a;e=c(e,u,f,a,n[v],7,-680876936),a=c(a,e,u,f,n[v+1],12,-389564586),f=c(f,a,e,u,n[v+2],17,606105819),u=c(u,f,a,e,n[v+3],22,-1044525330),e=c(e,u,f,a,n[v+4],7,-176418897),a=c(a,e,u,f,n[v+5],12,1200080426),f=c(f,a,e,u,n[v+6],17,-1473231341),u=c(u,f,a,e,n[v+7],22,-45705983),e=c(e,u,f,a,n[v+8],7,1770035416),a=c(a,e,u,f,n[v+9],12,-1958414417),f=c(f,a,e,u,n[v+10],17,-42063),u=c(u,f,a,e,n[v+11],22,-1990404162),e=c(e,u,f,a,n[v+12],7,1804603682),a=c(a,e,u,f,n[v+13],12,-40341101),f=c(f,a,e,u,n[v+14],17,-1502002290),e=i(e,u=c(u,f,a,e,n[v+15],22,1236535329),f,a,n[v+1],5,-165796510),a=i(a,e,u,f,n[v+6],9,-1069501632),f=i(f,a,e,u,n[v+11],14,643717713),u=i(u,f,a,e,n[v],20,-373897302),e=i(e,u,f,a,n[v+5],5,-701558691),a=i(a,e,u,f,n[v+10],9,38016083),f=i(f,a,e,u,n[v+15],14,-660478335),u=i(u,f,a,e,n[v+4],20,-405537848),e=i(e,u,f,a,n[v+9],5,568446438),a=i(a,e,u,f,n[v+14],9,-1019803690),f=i(f,a,e,u,n[v+3],14,-187363961),u=i(u,f,a,e,n[v+8],20,1163531501),e=i(e,u,f,a,n[v+13],5,-1444681467),a=i(a,e,u,f,n[v+2],9,-51403784),f=i(f,a,e,u,n[v+7],14,1735328473),e=h(e,u=i(u,f,a,e,n[v+12],20,-1926607734),f,a,n[v+5],4,-378558),a=h(a,e,u,f,n[v+8],11,-2022574463),f=h(f,a,e,u,n[v+11],16,1839030562),u=h(u,f,a,e,n[v+14],23,-35309556),e=h(e,u,f,a,n[v+1],4,-1530992060),a=h(a,e,u,f,n[v+4],11,1272893353),f=h(f,a,e,u,n[v+7],16,-155497632),u=h(u,f,a,e,n[v+10],23,-1094730640),e=h(e,u,f,a,n[v+13],4,681279174),a=h(a,e,u,f,n[v],11,-358537222),f=h(f,a,e,u,n[v+3],16,-722521979),u=h(u,f,a,e,n[v+6],23,76029189),e=h(e,u,f,a,n[v+9],4,-640364487),a=h(a,e,u,f,n[v+12],11,-421815835),f=h(f,a,e,u,n[v+15],16,530742520),e=l(e,u=h(u,f,a,e,n[v+2],23,-995338651),f,a,n[v],6,-198630844),a=l(a,e,u,f,n[v+7],10,1126891415),f=l(f,a,e,u,n[v+14],15,-1416354905),u=l(u,f,a,e,n[v+5],21,-57434055),e=l(e,u,f,a,n[v+12],6,1700485571),a=l(a,e,u,f,n[v+3],10,-1894986606),f=l(f,a,e,u,n[v+10],15,-1051523),u=l(u,f,a,e,n[v+1],21,-2054922799),e=l(e,u,f,a,n[v+8],6,1873313359),a=l(a,e,u,f,n[v+15],10,-30611744),f=l(f,a,e,u,n[v+6],15,-1560198380),u=l(u,f,a,e,n[v+13],21,1309151649),e=l(e,u,f,a,n[v+4],6,-145523070),a=l(a,e,u,f,n[v+11],10,-1120210379),f=l(f,a,e,u,n[v+2],15,718787259),u=l(u,f,a,e,n[v+9],21,-343485551),e=o(e,s),u=o(u,d),f=o(f,p),a=o(a,g)}return[e,u,f,a]}function u(n){if(0===n.length)return[];for(var r=8*n.length,e=new Uint32Array(t(r)),u=0;u<r;u+=8)e[u>>5]|=(255&n[u/8])<<u%32;return e}function o(n,r){var t=(65535&n)+(65535&r);return(n>>16)+(r>>16)+(t>>16)<<16|65535&t}function f(n,r){return n<<r|n>>>32-r}function a(n,r,t,e,u,a){return o(f(o(o(r,n),o(e,a)),u),t)}function c(n,r,t,e,u,o,f){return a(r&t|~r&e,n,r,u,o,f)}function i(n,r,t,e,u,o,f){return a(r&e|t&~e,n,r,u,o,f)}function h(n,r,t,e,u,o,f){return a(r^t^e,n,r,u,o,f)}function l(n,r,t,e,u,o,f){return a(t^(r|~e),n,r,u,o,f)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var v=n;exports.default=v;
},{}],"VNWr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./v35.js")),r=t(require("./md5.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=(0,e.default)("v3",48,r.default),d=u;exports.default=d;
},{"./v35.js":"wtjh","./md5.js":"SNWV"}],"ErN9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./rng.js")),r=t(require("./stringify.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u,n){var a=(t=t||{}).random||(t.rng||e.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,u){n=n||0;for(var f=0;f<16;++f)u[n+f]=a[f];return u}return(0,r.default)(a)}var n=u;exports.default=n;
},{"./rng.js":"ZnfK","./stringify.js":"x9Ck"}],"AaMV":[function(require,module,exports) {
"use strict";function r(r,e,t,a){switch(r){case 0:return e&t^~e&a;case 1:return e^t^a;case 2:return e&t^e&a^t&a;case 3:return e^t^a}}function e(r,e){return r<<e|r>>>32-e}function t(t){var a=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var s=0;s<n.length;++s)t.push(n.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var f=t.length/4+2,u=Math.ceil(f/16),c=new Array(u),l=0;l<u;++l){for(var i=new Uint32Array(16),v=0;v<16;++v)i[v]=t[64*l+4*v]<<24|t[64*l+4*v+1]<<16|t[64*l+4*v+2]<<8|t[64*l+4*v+3];c[l]=i}c[u-1][14]=8*(t.length-1)/Math.pow(2,32),c[u-1][14]=Math.floor(c[u-1][14]),c[u-1][15]=8*(t.length-1)&4294967295;for(var h=0;h<u;++h){for(var p=new Uint32Array(80),y=0;y<16;++y)p[y]=c[h][y];for(var d=16;d<80;++d)p[d]=e(p[d-3]^p[d-8]^p[d-14]^p[d-16],1);for(var A=o[0],g=o[1],w=o[2],M=o[3],x=o[4],U=0;U<80;++U){var C=Math.floor(U/20),_=e(A,5)+r(C,g,w,M)+x+a[C]+p[U]>>>0;x=M,M=w,w=e(g,30)>>>0,g=A,A=_}o[0]=o[0]+A>>>0,o[1]=o[1]+g>>>0,o[2]=o[2]+w>>>0,o[3]=o[3]+M>>>0,o[4]=o[4]+x>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=t;exports.default=a;
},{}],"ORBz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./v35.js")),r=t(require("./sha1.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=(0,e.default)("v5",80,r.default),s=u;exports.default=s;
},{"./v35.js":"wtjh","./sha1.js":"AaMV"}],"ReGs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e="00000000-0000-0000-0000-000000000000";exports.default=e;
},{}],"aGvF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./validate.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){if(!(0,e.default)(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var u=t;exports.default=u;
},{"./validate.js":"IrZt"}],"hs22":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"v1",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"v4",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"v5",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"NIL",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"version",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"validate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"parse",{enumerable:!0,get:function(){return s.default}});var e=a(require("./v1.js")),r=a(require("./v3.js")),t=a(require("./v4.js")),n=a(require("./v5.js")),u=a(require("./nil.js")),i=a(require("./version.js")),o=a(require("./validate.js")),f=a(require("./stringify.js")),s=a(require("./parse.js"));function a(e){return e&&e.__esModule?e:{default:e}}
},{"./v1.js":"wptB","./v3.js":"VNWr","./v4.js":"ErN9","./v5.js":"ORBz","./nil.js":"ReGs","./version.js":"aGvF","./validate.js":"IrZt","./stringify.js":"x9Ck","./parse.js":"m82a"}],"ZjaW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__extends=e,exports.__rest=n,exports.__decorate=o,exports.__param=a,exports.__metadata=i,exports.__awaiter=c,exports.__generator=u,exports.__exportStar=l,exports.__values=s,exports.__read=p,exports.__spread=y,exports.__spreadArrays=_,exports.__await=b,exports.__asyncGenerator=h,exports.__asyncDelegator=d,exports.__asyncValues=v,exports.__makeTemplateObject=w,exports.__importStar=m,exports.__importDefault=O,exports.__classPrivateFieldGet=g,exports.__classPrivateFieldSet=j,exports.__createBinding=exports.__assign=void 0;var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};function e(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return exports.__assign=r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};function n(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function o(t,e,r,n){var o,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i}function a(t,e){return function(r,n){e(r,n,t)}}function i(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,r,n){return new(r||(r=Promise))(function(o,a){function i(t){try{u(n.next(t))}catch(e){a(e)}}function c(t){try{u(n.throw(t))}catch(e){a(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(i,c)}u((n=n.apply(t,e||[])).next())})}function u(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}exports.__assign=r;var f=Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]};function l(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||f(e,t,r)}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function _(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function h(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),a=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){a.push([t,e,r,n])>1||c(t,e)})})}function c(t,e){try{(r=o[t](e)).value instanceof b?Promise.resolve(r.value.v).then(u,f):l(a[0][2],r)}catch(n){l(a[0][3],n)}var r}function u(t){c("next",t)}function f(t){c("throw",t)}function l(t,e){t(e),a.shift(),a.length&&c(a[0][0],a[0][1])}}function d(t){var e,r;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(r=!r)?{value:b(t[n](e)),done:"return"===n}:o?o(e):e}:o}}function v(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof s?s(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){(function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)})(n,o,(e=t[r](e)).done,e.value)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}exports.__createBinding=f;var x=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function m(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&f(e,t,r);return x(e,t),e}function O(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function j(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}
},{}],"XD9V":[function(require,module,exports) {
"use strict";var r="undefined"!=typeof BigInt64Array;module.exports=function r(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,f,i;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(f=n;0!=f--;)if(!r(e[f],t[f]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(f of e.entries())if(!t.has(f[0]))return!1;for(f of e.entries())if(!r(f[1],t.get(f[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(f of e.entries())if(!t.has(f[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(f=n;0!=f--;)if(e[f]!==t[f])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(f=n;0!=f--;)if(!Object.prototype.hasOwnProperty.call(t,i[f]))return!1;for(f=n;0!=f--;){var o=i[f];if(!r(e[o],t[o]))return!1}return!0}return e!=e&&t!=t};
},{}],"yh9p":[function(require,module,exports) {
"use strict";exports.byteLength=u,exports.toByteArray=i,exports.fromByteArray=d;for(var r=[],t=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],t[n.charCodeAt(o)]=o;function h(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function u(r){var t=h(r),e=t[0],n=t[1];return 3*(e+n)/4-n}function c(r,t,e){return 3*(t+e)/4-e}function i(r){var n,o,a=h(r),u=a[0],i=a[1],f=new e(c(r,u,i)),A=0,d=i>0?u-4:u;for(o=0;o<d;o+=4)n=t[r.charCodeAt(o)]<<18|t[r.charCodeAt(o+1)]<<12|t[r.charCodeAt(o+2)]<<6|t[r.charCodeAt(o+3)],f[A++]=n>>16&255,f[A++]=n>>8&255,f[A++]=255&n;return 2===i&&(n=t[r.charCodeAt(o)]<<2|t[r.charCodeAt(o+1)]>>4,f[A++]=255&n),1===i&&(n=t[r.charCodeAt(o)]<<10|t[r.charCodeAt(o+1)]<<4|t[r.charCodeAt(o+2)]>>2,f[A++]=n>>8&255,f[A++]=255&n),f}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function A(r,t,e){for(var n,o=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),o.push(f(n));return o.join("")}function d(t){for(var e,n=t.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(A(t,h,h+16383>u?u:h+16383));return 1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;
},{}],"JgNJ":[function(require,module,exports) {
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],"REa7":[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],"dskh":[function(require,module,exports) {

var global = arguments[3];
var t=arguments[3],r=require("base64-js"),e=require("ieee754"),n=require("isarray");function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,r){if(o()<r)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=f.prototype:(null===t&&(t=new f(r)),t.length=r),t}function f(t,r,e){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?g(t,r,e,n):"string"==typeof r?l(t,r,e):y(t,r)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,r,e,n){return h(r),r<=0?u(t,r):void 0!==e?"string"==typeof n?u(t,r).fill(e,n):u(t,r).fill(e):u(t,r)}function c(t,r){if(h(r),t=u(t,r<0?0:0|w(r)),!f.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function l(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(r,e),i=(t=u(t,n)).write(r,e);return i!==n&&(t=t.slice(0,i)),t}function p(t,r){var e=r.length<0?0:0|w(r.length);t=u(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function g(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),f.TYPED_ARRAY_SUPPORT?(t=r).__proto__=f.prototype:t=p(t,r),t}function y(t,r){if(f.isBuffer(r)){var e=0|w(r.length);return 0===(t=u(t,e)).length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?u(t,0):p(t,r);if("Buffer"===r.type&&n(r.data))return p(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function w(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t){return+t!=t&&(t=0),f.alloc(+t)}function v(t,r){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return K(t).length;default:if(n)return $(t).length;r=(""+r).toLowerCase(),n=!0}}function E(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,r,e);case"utf8":case"utf-8":return Y(this,r,e);case"ascii":return L(this,r,e);case"latin1":case"binary":return D(this,r,e);case"base64":return S(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function R(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=f.from(r,n)),f.isBuffer(r))return 0===r.length?-1:_(t,r,e,n,i);if("number"==typeof r)return r&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):_(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,r,e,n,i){var o,u=1,f=t.length,s=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,f/=2,s/=2,e/=2}function h(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var a=-1;for(o=e;o<f;o++)if(h(t,o)===h(r,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===s)return a*u}else-1!==a&&(o-=o-a),a=-1}else for(e+s>f&&(e=f-s),o=e;o>=0;o--){for(var c=!0,l=0;l<s;l++)if(h(t,o+l)!==h(r,l)){c=!1;break}if(c)return o}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var f=parseInt(r.substr(2*u,2),16);if(isNaN(f))return u;t[e+u]=f}return u}function m(t,r,e,n){return Q($(r,t.length-e),t,e,n)}function P(t,r,e,n){return Q(G(r),t,e,n)}function T(t,r,e,n){return P(t,r,e,n)}function B(t,r,e,n){return Q(K(r),t,e,n)}function U(t,r,e,n){return Q(H(r,t.length-e),t,e,n)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function Y(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,f,s,h=t[i],a=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=e)switch(c){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&h)<<6|63&o)>127&&(a=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&h)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(a=s);break;case 4:o=t[i+1],u=t[i+2],f=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&f)&&(s=(15&h)<<18|(63&o)<<12|(63&u)<<6|63&f)>65535&&s<1114112&&(a=s)}null===a?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=c}return O(n)}exports.Buffer=f,exports.SlowBuffer=d,exports.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),exports.kMaxLength=o(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,r,e){return s(null,t,r,e)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,r,e){return a(null,t,r,e)},f.allocUnsafe=function(t){return c(null,t)},f.allocUnsafeSlow=function(t){return c(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,r){if(!f.isBuffer(t)||!f.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,r){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var i=f.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)b(this,r,r+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)b(this,r,r+3),b(this,r+1,r+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)b(this,r,r+7),b(this,r+1,r+6),b(this,r+2,r+5),b(this,r+3,r+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Y(this,0,t):E.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,r,e,n,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),s=Math.min(o,u),h=this.slice(n,i),a=t.slice(r,e),c=0;c<s;++c)if(h[c]!==a[c]){o=h[c],u=a[c];break}return o<u?-1:u<o?1:0},f.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},f.prototype.indexOf=function(t,r,e){return R(this,t,r,e,!0)},f.prototype.lastIndexOf=function(t,r,e){return R(this,t,r,e,!1)},f.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return P(this,t,r,e);case"latin1":case"binary":return T(this,t,r,e);case"base64":return B(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function O(t){var r=t.length;if(r<=I)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=I));return e}function L(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function x(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=Z(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function k(t,r,e,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function N(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function F(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function j(t,r,n,i,o){return o||F(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),e.write(t,r,n,i,23,4),n+4}function q(t,r,n,i,o){return o||F(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),e.write(t,r,n,i,52,8),n+8}f.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),f.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=f.prototype;else{var i=r-t;e=new f(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},f.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},f.prototype.readUInt8=function(t,r){return r||M(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,r){return r||M(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,r){return r||M(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,r){return r||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,r){return r||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},f.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},f.prototype.readInt8=function(t,r){return r||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,r){r||M(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(t,r){r||M(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(t,r){return r||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,r){return r||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},f.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},f.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},f.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):z(this,t,r,!0),r+4},f.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=0,u=1,f=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===f&&0!==this[r+o-1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=e-1,u=1,f=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===f&&0!==this[r+o+1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},f.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):z(this,t,r,!0),r+4},f.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeFloatLE=function(t,r,e){return j(this,t,r,!0,e)},f.prototype.writeFloatBE=function(t,r,e){return j(this,t,r,!1,e)},f.prototype.writeDoubleLE=function(t,r,e){return q(this,t,r,!0,e)},f.prototype.writeDoubleBE=function(t,r,e){return q(this,t,r,!1,e)},f.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},f.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=f.isBuffer(t)?t:$(new f(t,n).toString()),s=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function X(t){if((t=J(t).replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function H(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}function K(t){return r.toByteArray(X(t))}function Q(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function W(t){return t!=t}
},{"base64-js":"yh9p","ieee754":"JgNJ","isarray":"REa7","buffer":"dskh"}],"bpa9":[function(require,module,exports) {
var global = arguments[3];
var Buffer = require("buffer").Buffer;
var e=arguments[3],t=require("buffer").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExtendedModel=xa,exports.Model=wa,exports._async=To,exports._await=ko,exports.abstractModelClass=ao,exports.actionCallToReduxAction=ru,exports.actionTrackingMiddleware=za,exports.addActionMiddleware=gr,exports.addActionToFnModel=Po,exports.addHiddenProp=M,exports.applyAction=Lo,exports.applyDelete=zo,exports.applyMethodCall=$o,exports.applyPatches=Pn,exports.applySerializedActionAndSyncNewModelIds=Na,exports.applySerializedActionAndTrackNewModelIds=Pa,exports.applySet=Uo,exports.applySnapshot=_o,exports.arraySet=Mu,exports.asMap=ji,exports.asReduxStore=nu,exports.asSet=zi,exports.assertCanWrite=Gr,exports.assertFnModelKeyNotInUse=jo,exports.assertIsFunction=K,exports.assertIsMap=G,exports.assertIsModel=fo,exports.assertIsModelClass=lo,exports.assertIsObject=W,exports.assertIsObservableArray=B,exports.assertIsObservableObject=U,exports.assertIsPlainObject=E,exports.assertIsPrimitive=L,exports.assertIsSet=J,exports.assertIsString=Q,exports.assertIsTreeNode=_e,exports.assertTweakedObject=Pe,exports.canWrite=Br,exports.checkModelDecoratorArgs=vo,exports.clone=mu,exports.computedWalkTreeAggregate=Cr,exports.connectReduxDevTools=Zi,exports.createContext=pi,exports.debugFreeze=D,exports.decorateWrapMethodOrField=q,exports.decoratedModel=Ia,exports.deepEquals=bu,exports.deleteFromArray=N,exports.deserializeActionCall=pa,exports.deserializeActionCallArgument=fa,exports.detach=dn,exports.draft=wu,exports.extendFnModelActions=Io,exports.extendFnModelSetterActions=di,exports.extendFnModelViews=hi,exports.failure=C,exports.fastGetParent=et,exports.fastGetParentIncludingDataObjects=tt,exports.fastGetParentPath=Ye,exports.fastGetParentPathIncludingDataObjects=Xe,exports.fastGetRoot=ct,exports.fastGetRootPath=ut,exports.fastGetRootStore=$r,exports.fastIsModelDataObject=nt,exports.fastIsRootStore=Fr,exports.findParent=cn,exports.findParentPath=fn,exports.flow=xo,exports.fnModel=vi,exports.frozen=an,exports.getActionMiddlewares=br,exports.getActionProtection=Kr,exports.getChildrenObjects=yn,exports.getCurrentActionContext=f,exports.getFnModelAction=Ro,exports.getGlobalConfig=ce,exports.getModelDataType=jt,exports.getModelRefId=cu,exports.getNodeSandboxManager=Tu,exports.getParent=Ze,exports.getParentPath=He,exports.getParentToChildPath=mt,exports.getRefsResolvingTo=pu,exports.getRoot=st,exports.getRootPath=ot,exports.getRootStore=Vr,exports.getSnapshot=Tt,exports.getTypeInfo=Gt,exports.inDevMode=$,exports.internalApplyDelete=Fo,exports.internalApplyMethodCall=Wo,exports.internalApplyPatches=_n,exports.internalCustomRef=su,exports.internalPatchRecorder=Ha,exports.isArray=V,exports.isBuiltInAction=ln,exports.isChildOfParent=pt,exports.isFrozenSnapshot=sn,exports.isHookAction=vr,exports.isMap=z,exports.isModel=co,exports.isModelAction=yo,exports.isModelAutoTypeCheckingEnabled=fe,exports.isModelClass=po,exports.isModelDataObject=rt,exports.isModelFlow=wo,exports.isModelSnapshot=ho,exports.isObject=P,exports.isParentOfChild=lt,exports.isPlainObject=I,exports.isPrimitive=_,exports.isRefOfType=iu,exports.isReservedModelKey=Ve,exports.isRoot=ft,exports.isRootStore=zr,exports.isSandboxedNode=ku,exports.isSet=F,exports.isTreeNode=Ie,exports.isTweakedObject=Re,exports.jsonPatchToPatch=Qa,exports.jsonPointerToPath=Ka,exports.lateVal=Z,exports.lazy=ee,exports.logWarning=Y,exports.makePropReadonly=R,exports.mapToArray=Ri,exports.mapToObject=Mi,exports.modelAction=bo,exports.modelClass=io,exports.modelFlow=So,exports.modelSnapshotInWithMetadata=uo,exports.modelSnapshotOutWithMetadata=so,exports.objectMap=Eu,exports.onActionMiddleware=Wa,exports.onChildAttachedTo=mn,exports.onGlobalPatches=Zr,exports.onPatches=Xr,exports.onSnapshot=eu,exports.patchRecorder=qa,exports.patchToJsonPatch=La,exports.pathToJsonPointer=Ja,exports.prop=de,exports.propTransform=he,exports.prop_dateString=Qi,exports.prop_dateTimestamp=Yi,exports.prop_mapArray=Pi,exports.prop_mapObject=Ui,exports.prop_setArray=$i,exports.readonlyMiddleware=Ua,exports.registerActionCallArgumentSerializer=ua,exports.resolvePath=ht,exports.resolvePathCheckingIds=yt,exports.runUnprotected=Lr,exports.runWithoutSnapshotOrPatches=Ne,exports.sandbox=Cu,exports.serializeActionCall=ca,exports.serializeActionCallArgument=sa,exports.setCurrentActionContext=p,exports.setGlobalConfig=se,exports.setToArray=Fi,exports.simplifyActionContext=$a,exports.tProp=ri,exports.tProp_dateString=qi,exports.tProp_dateTimestamp=Xi,exports.tProp_mapArray=_i,exports.tProp_mapObject=Bi,exports.tProp_setArray=Wi,exports.tag=Ti,exports.toTreeNode=Jn,exports.transaction=Za,exports.transactionMiddleware=Xa,exports.tryUntweak=Qn,exports.typeCheck=fr,exports.undoMiddleware=ai,exports.walkTree=Tr,exports.withoutUndo=si,exports.unregisterRootStore=exports.types=exports.tweakedObjects=exports.tweak=exports.timestampAsDate=exports.stringAsDate=exports.skipIdChecking=exports.runningWithoutSnapshotOrPatches=exports.rootRef=exports.registerRootStore=exports.reduxActionType=exports.noDefaultValue=exports.modelTypeKey=exports.modelInitializedSymbol=exports.modelIdKey=exports.model=exports.frozenKey=exports.fromSnapshot=exports.fnObject=exports.fnArray=exports.customRef=exports.cannotSerialize=exports.baseModelPropNames=exports.WalkTreeMode=exports.UndoStore=exports.UndoManager=exports.UncheckedTypeInfo=exports.TypeInfo=exports.TypeCheckError=exports.TupleTypeInfo=exports.StringTypeInfo=exports.SandboxManager=exports.RefinementTypeInfo=exports.RefTypeInfo=exports.Ref=exports.RecordTypeInfo=exports.OrTypeInfo=exports.ObjectTypeInfo=exports.ObjectMapTypeInfo=exports.ObjectMap=exports.NumberTypeInfo=exports.ModelTypeInfo=exports.ModelAutoTypeCheckingMode=exports.MobxKeystoneError=exports.LiteralTypeInfo=exports.InternalPatchRecorder=exports.HookAction=exports.FrozenTypeInfo=exports.FrozenCheckMode=exports.Frozen=exports.Draft=exports.BuiltInAction=exports.BooleanTypeInfo=exports.BaseModel=exports.ArrayTypeInfo=exports.ArraySetTypeInfo=exports.ArraySet=exports.ActionTrackingResult=exports.ActionContextAsyncStepType=exports.ActionContextActionType=void 0;var r,n,o,a=require("mobx"),i=require("uuid"),u=require("tslib"),s=c(require("fast-deep-equal/es6"));function c(e){return e&&e.__esModule?e:{default:e}}function f(){return o}function p(e){o=e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function g(e,t,r){return(g=b()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&m(o,r.prototype),o}).apply(null,arguments)}function x(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function w(e){var t="function"==typeof Map?new Map:void 0;return(w=function(e){if(null===e||!x(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return g(e,arguments,y(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),m(r,e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=A(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}exports.ActionContextActionType=r,function(e){e.Sync="sync",e.Async="async"}(r||(exports.ActionContextActionType=r={})),exports.ActionContextAsyncStepType=n,function(e){e.Spawn="spawn",e.Return="return",e.Resume="resume",e.ResumeError="resumeError",e.Throw="throw"}(n||(exports.ActionContextAsyncStepType=n={}));var O=function(e){function t(r){var n;return n=e.call(this,r)||this,Object.setPrototypeOf(S(n),t.prototype),n}return v(t,e),t}(w(Error));function C(e){return new O(e)}exports.MobxKeystoneError=O;var j={enumerable:!1,writable:!0,configurable:!1,value:void 0};function M(e,t,r,n){void 0===n&&(n=!0),n?(Object.defineProperty(e,t,j),e[t]=r):Object.defineProperty(e,t,{enumerable:!1,writable:n,configurable:!0,value:r})}function R(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);n&&(n.enumerable=r,n.get?delete n.set:n.writable=!1,Object.defineProperty(e,t,n))}function I(e){if(!P(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function P(e){return null!==e&&"object"==typeof e}function _(e){switch(typeof e){case"number":case"string":case"boolean":case"undefined":case"bigint":return!0}return null===e}function D(e){$()&&Object.freeze(e)}function N(e,t){var r=e.indexOf(t);return r>=0&&(e.splice(r,1),!0)}function z(e){return e instanceof Map||(0,a.isObservableMap)(e)}function F(e){return e instanceof Set||(0,a.isObservableSet)(e)}function V(e){return Array.isArray(e)||(0,a.isObservableArray)(e)}function $(){return!1}function W(e,t){if(!P(e))throw C(t+" must be an object")}function E(e,t){if(!I(e))throw C(t+" must be a plain object")}function U(e,t){if(!(0,a.isObservableObject)(e))throw C(t+" must be an observable object")}function B(e,t){if(!(0,a.isObservableArray)(e))throw C(t+" must be an observable array")}function G(e,t){if(!z(e))throw C(t+" must be a map")}function J(e,t){if(!F(e))throw C(t+" must be a set")}function K(e,t){if("function"!=typeof e)throw C(t+" must be a function")}function L(e,t){if(!_(e))throw C(t+" must be a primitive")}function Q(e,t){if("string"!=typeof e)throw C(t+" must be a string")}function q(e,t,r){var n=t.target,o=t.propertyKey,a=t.baseDescriptor;if(a){if(void 0!==a.get)throw C("@"+e+" cannot be used with getters");if(a.value)return{enumerable:!1,writable:!0,configurable:!0,value:r(t,a.value)};var i=a.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return r(t,i.call(this))}}}Object.defineProperty(n,o,{configurable:!0,enumerable:!1,get:function(){},set:function(e){M(this,o,r(h({},t,{target:this}),e))}})}var H=new Set;function Y(e,t,r){if(r){if(H.has(r))return;H.add(r)}switch(t="[mobx-keystone] "+t,e){case"warn":console.warn(t);break;case"error":console.error(t);break;default:throw C("unknown log type - "+e)}}var X=Symbol("notMemoized");function Z(e){var t=X;return function(){return t===X&&(t=e.apply(void 0,arguments)),t}}function ee(e){var t,r=!1;return function(){return r||(t=e(),r=!0),t}}var te,re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ne(r){if("object"==typeof e&&"function"==typeof e.Buffer)return t.from(r).toString("base64");if("function"==typeof btoa)return btoa(r);for(var n,o=String(r),a="",i=0,u=0,s=re;o.charAt(0|u)||(s="=",u%1);a+=s.charAt(63&i>>8-u%1*8)){if((n=o.charCodeAt(u+=.75))>255)throw new Error("the string to be encoded contains characters outside of the Latin1 range.");i=i<<8|n}return a}exports.ModelAutoTypeCheckingMode=te,function(e){e.DevModeOnly="devModeOnly",e.AlwaysOn="alwaysOn",e.AlwaysOff="alwaysOff"}(te||(exports.ModelAutoTypeCheckingMode=te={}));var oe=0,ae=pe((0,i.v4)());function ie(){var e=oe.toString(36)+"-"+ae;return oe++,e}var ue={modelAutoTypeChecking:te.DevModeOnly,modelIdGenerator:ie,allowUndefinedArrayElements:!1};function se(e){ue=Object.freeze(h({},ue,e))}function ce(){return ue}function fe(){switch(ce().modelAutoTypeChecking){case te.DevModeOnly:return $();case te.AlwaysOff:return!1;case te.AlwaysOn:return!0;default:throw C("invalid 'modelAutoTypeChecking' config value - "+ue.modelAutoTypeChecking)}}function pe(e){var t=e.split("-").join("").match(/\w{2}/g);return ne(String.fromCharCode.apply(null,t.map(function(e){return parseInt(e,16)})))}var le=Symbol("noDefaultValue");function de(e,t){var r,n={},o=!1;arguments.length>=2?(r=e,o=!0,n=h({},t)):1===arguments.length&&(P(e)?n=h({},e):(r=e,o=!0));var a="function"==typeof r;return{$propValueType:null,$propCreationValueType:null,$isOptional:null,$instanceValueType:null,$instanceCreationValueType:null,defaultFn:o&&a?r:le,defaultValue:o&&!a?r:le,typeChecker:void 0,transform:void 0,options:n}}function he(e){var t=function(t){return function(r,n){Object.defineProperty(r,n,{get:function(){return ye.getOrCreateMemoTransform(this,n,e).propToData(this.$[t])},set:function(r){var o=ye.getOrCreateMemoTransform(this,n,e);return this.$[t]=o.dataToProp(r),!0}})}};return t.propToData=e.propToData.bind(e),t.dataToProp=e.dataToProp.bind(e),t}exports.noDefaultValue=le;var ve=function(){function e(){this.cache=new WeakMap}return e.prototype.getOrCreateMemoTransform=function(e,t,r){var n=this.cache.get(e);n||(n=new Map,this.cache.set(e,n));var o=n.get(t);return o||(o=be(r,function(r){e.$[t]=r}),n.set(t,o)),o},e}(),ye=new ve,me=Symbol("valueNotMemoized");function be(e,t){var r=me,n=me;return{isMemoPropTransform:!0,propToData:function(o){return r!==o&&(n=e.propToData(o,t),r=o),n},dataToProp:function(t){return r=me,n=me,e.dataToProp(t)}}}function ge(e,t,r){if(e.transform)throw C("a property cannot have more than one transform");var n=h({},e,{transform:t});if(r){if(n.defaultValue!==le){var o=n.defaultValue;n.defaultValue=t.dataToProp(o)}if(n.defaultFn!==le){var a=n.defaultFn;n.defaultFn=function(){return t.dataToProp(a())}}}return n}var xe=new WeakMap,we=new WeakMap;function Se(e,t,r){return void 0===r&&(r=!0),!e&&!t||!(!e||!t)&&(!(e.parent!==t.parent)&&(!r||e.path===t.path))}function Ae(e){var t=we.get(e);return t||(t=(0,a.createAtom)("parentAtom"),we.set(e,t)),t}function Te(e){Ae(e).reportObserved()}function ke(e){Ae(e).reportChanged()}var Oe=new WeakMap;function Ce(e){return Oe.get(e)||e}function je(e){return co(e)?e.$:e}var Me=new WeakMap;function Re(e,t){return!(!t&&Oe.has(e))&&Me.has(e)}function Ie(e){return!_(e)&&Re(e,!1)}function Pe(e,t,r){if(void 0===r&&(r=!1),!r&&Oe.has(e))throw C(t+" must be the model object instance instead of the '$' sub-object");if(_(e)||!Re(e,!0))throw C(t+" must be a tree node (usually a model or a shallow / deep child part of a model 'data' object)")}function _e(e,t){void 0===t&&(t="argument"),Pe(e,t,!1)}exports.tweakedObjects=Me;var De=!1;function Ne(e){var t=De;exports.runningWithoutSnapshotOrPatches=De=!0;try{(0,a.runInAction)(function(){e()})}finally{exports.runningWithoutSnapshotOrPatches=De=t}}exports.runningWithoutSnapshotOrPatches=De;var ze="$modelType";exports.modelTypeKey=ze;var Fe="$modelId";function Ve(e){return e===ze||e===Fe}exports.modelIdKey=Fe;var $e={deep:!1},We=new WeakMap;function Ee(e){We.has(e)||We.set(e,{shallow:a.observable.set(void 0,$e),deep:new Set,deepByModelTypeAndId:new Map,deepDirty:!0,deepAtom:(0,a.createAtom)("deepChildrenAtom")})}function Ue(e){return We.get(e).shallow}function Be(e){var t=We.get(e);return t.deepDirty&&Je(e),t.deepAtom.reportObserved(),{deep:t.deep,deepByModelTypeAndId:t.deepByModelTypeAndId}}function Ge(e,t,r){t.add(e),co(e)&&r.set(qe(e[ze],e[Fe]),e)}var Je=(0,a.action)(function(e){var t=We.get(e);if(!t.deepDirty)return{deep:t.deep,deepByModelTypeAndId:t.deepByModelTypeAndId};for(var r=new Set,n=new Map,o=Ue(e).values(),a=o.next();!a.done;){Ge(a.value,r,n);for(var i=Je(a.value).deep.values(),u=i.next();!u.done;)Ge(u.value,r,n),u=i.next();a=o.next()}return t.deep=r,t.deepByModelTypeAndId=n,t.deepDirty=!1,t.deepAtom.reportChanged(),{deep:r,deepByModelTypeAndId:n}}),Ke=(0,a.action)(function(e,t){We.get(e).shallow.add(t),Qe(e)}),Le=(0,a.action)(function(e,t){We.get(e).shallow.delete(t),Qe(e)});function Qe(e){var t=We.get(e);t.deepDirty||(t.deepDirty=!0,t.deepAtom.reportChanged());var r=et(e);r&&Qe(r)}function qe(e,t){return e+" "+t}function He(e){return Pe(e,"value"),Ye(e)}function Ye(e){return Te(e),xe.get(e)}function Xe(e){var t=Oe.get(e);if(t)return{parent:t,path:"$"};var r=Ye(e);return r&&co(r.parent)?{parent:r.parent.$,path:r.path}:r}function Ze(e){return Pe(e,"value"),et(e)}function et(e){var t=Ye(e);return t?t.parent:void 0}function tt(e){var t=Xe(e);return t?t.parent:void 0}function rt(e){return Pe(e,"value",!0),nt(e)}function nt(e){return Oe.has(e)}function ot(e){return Pe(e,"value"),ut(e)}var at=new WeakMap;function it(e){for(var t,r={root:e,path:[],pathObjects:[e]};t=Ye(r.root);)r.root=t.parent,r.path.unshift(t.path),r.pathObjects.unshift(t.parent);return r}function ut(e){var t=at.get(e);return t||(t=(0,a.computed)(function(){return it(e)}),at.set(e,t)),t.get()}function st(e){return Pe(e,"value"),ct(e)}function ct(e){return ut(e).root}function ft(e){return Pe(e,"value"),!et(e)}function pt(e,t){return Pe(e,"child"),Pe(t,"parent"),Be(t).deep.has(e)}function lt(e,t){return pt(t,e)}var dt={resolved:!1};function ht(e,t){for(var r=je(e),n=t.length,o=0;o<n;o++){if(!P(r))return dt;var a=t[o];if(V(r)&&+a>=r.length)return dt;r=je(r[a])}return{resolved:!0,value:Ce(r)}}var vt=Symbol("skipIdChecking");function yt(e,t,r){for(var n=je(e),o=t.length,a=0;a<o;a++){if(!P(n))return{resolved:!1};var i=t[a];if(V(n)&&+i>=n.length)return{resolved:!1};var u=n[i];n=je(u);var s=r[a];if(s!==vt)if(s!==(co(u)?u[Fe]:null))return{resolved:!1}}return{resolved:!0,value:Ce(n)}}function mt(e,t){if(Pe(e,"fromParent"),Pe(t,"toChild"),e===t)return[];for(var r,n=[],o=t;r=Ye(o);)if(n.unshift(r.path),(o=r.parent)===e)return n}exports.skipIdChecking=vt;var bt=new WeakMap;function gt(e){return bt.get(e)}function xt(e,t){return(0,a.untracked)(function(){if(t){var r=gt(t.parent);if(r)return e?{parentSnapshot:r,parentPath:t}:void 0}})}var wt=(0,a.action)("unsetInternalSnapshot",function(e){var t=gt(e);t&&(bt.delete(e),t.atom.reportChanged())}),St=(0,a.action)("setInternalSnapshot",function(e,t){var r=gt(e);if(!r||r.standard!==t){var n;D(t),r?(n=r).standard=t:(n={standard:t,atom:(0,a.createAtom)("snapshot")},bt.set(e,n)),n.atom.reportChanged();var o=xt(r,Ye(e));if(o){var i=o.parentSnapshot,u=o.parentPath;if(i){var s=u.path,c=i.standard;c[s]!==n.standard&&((c=Array.isArray(c)?c.slice():Object.assign({},c))[s]=n.standard,St(u.parent,c))}}}});function At(e){e.atom.reportObserved()}function Tt(e){if(_(e))return e;Pe(e,"nodeOrPrimitive");var t=gt(e);if(!t)throw C("getSnapshot is not supported for this kind of object");return At(t),t.standard}var kt=Symbol("modelDataTypeChecker"),Ot=Symbol("modelInitializers"),Ct=Symbol("modelUnwrappedClass");function jt(e){if(co(e))return e.constructor[kt];if(po(e))return e[kt];throw C("modelClassOrInstance must be a model class or instance")}var Mt={},Rt=new Map;function It(e){return Mt[e]}var Pt=Symbol("modelProperties");function _t(e){return e[Pt]}function Dt(e,t){e[Pt]=t}var Nt=function(){function e(e,t,r){this.path=e,this.expectedTypeName=t,this.actualValue=r}return e.prototype.throw=function(e){var t="TypeCheckError: ",r=[];throw Re(e,!0)&&(r=ot(e).path),t+="[/"+[].concat(r,this.path).join("/")+"] ",C(t+="Expected: "+this.expectedTypeName)},e}();exports.TypeCheckError=Nt;var zt=[],Ft=new WeakMap;function Vt(e){for(var t=e;t;){var r=Ft.get(t);if(r){for(var n,o=k(r);!(n=o()).done;){n.value.invalidateCachedResult(t)}Ft.delete(t)}t=tt(t)}}var $t=function(){function e(e,t,r){this._check=e,this.getTypeName=t,this.unchecked=!e,this._cachedTypeInfoGen=Z(r)}var t=e.prototype;return t.createCacheIfNeeded=function(){return this.checkResultCache||(this.checkResultCache=new WeakMap),this.checkResultCache},t.setCachedResult=function(e,t){this.createCacheIfNeeded().set(e,t);var r=Ft.get(e);r||(r=new Set,Ft.set(e,r)),r.add(this)},t.invalidateCachedResult=function(e){this.checkResultCache&&this.checkResultCache.delete(e)},t.getCachedResult=function(e){return this.checkResultCache?this.checkResultCache.get(e):void 0},t.check=function(e,t){if(this.unchecked)return null;if(!Re(e,!0))return this._check(e,t);var r=this.getCachedResult(e);return void 0===r&&(r=this._check(e,zt),this.setCachedResult(e,r)),r?new Nt([].concat(t,r.path),r.expectedTypeName,r.actualValue):null},d(e,[{key:"typeInfo",get:function(){return this._cachedTypeInfoGen(this)}}]),e}(),Wt=Symbol("lateTypeCheker");function Et(e,t){var r,n=function(){return r||(r=e())};n[Wt]=!0;var o=Z(t);return Object.defineProperty(n,"typeInfo",{enumerable:!0,configurable:!0,get:function(){return o(n)}}),n}function Ut(e){return"function"==typeof e&&e[Wt]}var Bt=function(e){this.thisType=e};function Gt(e){var t=ir(e).typeInfo;if(!t)throw C("type info not found for "+e);return t}function Jt(e,t,r){var n=function(n){return new Kt(n,ir(e),t,r)};return Et(function(){var o=ar(e),a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=o.getTypeName.apply(o,t.concat([o]));return(r||"refinementOf")+"<"+a+">"},i=new $t(function(e,r){var n=o.check(e,r);if(n)return n;var u=t(e);return!0===u?null:!1===u?new Nt([],a(i),e):u||null},a,n);return i},n)}exports.TypeInfo=Bt;var Kt=function(e){function t(t,r,n,o){var a;return(a=e.call(this,t)||this).baseType=r,a.checkFunction=n,a.typeName=o,a}return v(t,e),d(t,[{key:"baseTypeInfo",get:function(){return Gt(this.baseType)}}]),t}(Bt);function Lt(e){var t;switch(L(e,"literal"),e){case void 0:t="undefined";break;case null:t="null";break;default:t=JSON.stringify(e)}return new $t(function(r,n){return r===e?null:new Nt(n,t,r)},function(){return t},function(t){return new Qt(t,e)})}exports.RefinementTypeInfo=Kt;var Qt=function(e){function t(t,r){var n;return(n=e.call(this,t)||this).literal=r,n}return v(t,e),t}(Bt);exports.LiteralTypeInfo=Qt;var qt=Lt(void 0),Ht=Lt(null),Yt=new $t(function(e,t){return"boolean"==typeof e?null:new Nt(t,"boolean",e)},function(){return"boolean"},function(e){return new Xt(e)}),Xt=function(e){function t(){return e.apply(this,arguments)||this}return v(t,e),t}(Bt);exports.BooleanTypeInfo=Xt;var Zt=new $t(function(e,t){return"number"==typeof e?null:new Nt(t,"number",e)},function(){return"number"},function(e){return new er(e)}),er=function(e){function t(){return e.apply(this,arguments)||this}return v(t,e),t}(Bt);exports.NumberTypeInfo=er;var tr=new $t(function(e,t){return"string"==typeof e?null:new Nt(t,"string",e)},function(){return"string"},function(e){return new rr(e)}),rr=function(e){function t(){return e.apply(this,arguments)||this}return v(t,e),t}(Bt);exports.StringTypeInfo=rr;var nr=Jt(Zt,function(e){return Number.isInteger(e)},"integer"),or=Jt(tr,function(e){return""!==e},"nonEmpty");function ar(e){for(var t=e;;){if(t instanceof $t)return t;if(e===String)return tr;if(e===Number)return Zt;if(e===Boolean)return Yt;if(null===e)return Ht;if(void 0===e)return qt;if(!Ut(t))throw C("type checker could not be resolved");t=t()}}function ir(e){if(e instanceof $t||Ut(e))return e;if(e===String)return tr;if(e===Number)return Zt;if(e===Boolean)return Yt;if(null===e)return Ht;if(void 0===e)return qt;throw C("standard type could not be resolved")}var ur=new WeakMap;function sr(e){if(po(e)||"function"!=typeof e){var t=e;lo(t,"modelClass");var r=ur.get(t);if(r)return r;var n=function(e){return new cr(e,t)},o=Et(function(){var e=Rt.get(t),r="Model("+e.name+")";return new $t(function(n,o){if(!(n instanceof t))return new Nt(o,r,n);var a=jt(n);if(!a)throw C("type checking cannot be performed over model of type '"+e.name+"' at path "+o.join("/")+" since that model type has no data type declared, consider adding a data type or using types.unchecked() instead");var i=ar(a);return i.unchecked?null:i.check(n.$,o)},function(){return r},n)},n);return ur.set(t,o),o}return Et(function(){return sr(e())},function(t){return new cr(t,e())})}var cr=function(e){function t(t,r){var n;return(n=e.call(this,t)||this).modelClass=r,n._props=Z(function(){var e=_t(n.modelClass),t={};return Object.keys(e).forEach(function(r){var n,o=e[r],a=o.typeChecker;a&&(n=Gt(a));var i,u=!1;o.defaultFn!==le?(i=o.defaultFn,u=!0):o.defaultValue!==le&&(i=o.defaultValue,u=!0),t[r]={type:a,typeInfo:n,hasDefault:u,default:i}}),t}),n}return v(t,e),d(t,[{key:"props",get:function(){return this._props()}},{key:"modelType",get:function(){return Rt.get(this.modelClass).name}}]),t}(Bt);function fr(e,t){var r=ar(e);return r.unchecked?null:r.check(t,[])}exports.ModelTypeInfo=cr;var pr,lr=function(){return!0};function dr(e){(0,a.when)(lr,e)}exports.HookAction=pr,function(e){e.OnInit="$$onInit",e.OnAttachedToRootStore="$$onAttachedToRootStore",e.OnAttachedToRootStoreDisposer="$$onAttachedToRootStoreDisposer"}(pr||(exports.HookAction=pr={}));var hr=new Set(Object.values(pr));function vr(e){return hr.has(e)}var yr=new WeakMap,mr=new WeakMap;function br(e){var t,r=mr.get(e);r||((t={})[Symbol.iterator]=function(){var t=e;function r(){var e=t?yr.get(t):void 0;if(e&&!(e.length<=0))return e[Symbol.iterator]()}function n(){for(var e;t&&!e;)t=et(t),e=r();return e}var o=r();return o||(o=n()),{next:function(){if(!o)return{value:void 0,done:!0};var e=o.next();return e.done?(o=n(),this.next()):e}}},r=t,mr.set(e,r));return r}function gr(e){W(e,"middleware");var t=e.middleware,r=e.filter,n=e.subtreeRoot;if(Pe(n,"middleware.subtreeRoot"),K(t,"middleware.middleware"),r&&"function"!=typeof r)throw C("middleware.filter must be a function or undefined");if((0,a.isAction)(t)||(t=(0,a.action)(t.name||"actionMiddleware",t)),n){var o=function(e){return e.target===n||pt(e.target,n)};if(r){var i=r;r=function(e){return o(e)&&i(e)}}else r=o}var u={middleware:t,filter:r},s=yr.get(n);return s?s.push(u):(s=[u],yr.set(n,s)),function(){N(s,u)}}var xr,wr=Symbol("modelAction");function Sr(e){var t=e.name,r=e.fn,n=e.actionType,o=e.overrideContext,i=e.isFlowFinisher,u=void 0!==i&&i,s=(0,a.action)(t,function(){var e=this;$()&&Pe(e,"wrappedAction");var a=f(),i={actionName:t,type:n,target:e,args:Array.from(arguments),parentContext:a,data:{},rootContext:void 0};o&&o(i),i.rootContext||(i.previousAsyncStepContext?i.rootContext=i.previousAsyncStepContext.rootContext:i.parentContext?i.rootContext=i.parentContext.rootContext:i.rootContext=i),p(i);for(var s=r.bind.apply(r,[e].concat(Array.prototype.slice.call(arguments))),c=br(e)[Symbol.iterator](),l=c.next();!l.done;){var d=l.value;(!d.filter||d.filter(i))&&(s=d.middleware.bind(void 0,i,s)),l=c.next()}try{var h=s();if(u){var v=h,y=v.value;return"accept"===v.resolution?v.accepter(y):v.rejecter(y),y}return h}finally{p(i.parentContext)}});return s[wr]=!0,s}function Ar(e,t,n){var o=e[t];if(!yo(o)){var a=Sr({name:n,fn:o,actionType:r.Sync}),i=Object.getPrototypeOf(e);i[t]===o?i[t]=a:e[t]=a}}function Tr(e,t,r){if(Pe(e,"target"),r===xr.ParentFirst){return kr(e,t,function e(r){return kr(r,t,e)})}return Or(e,t,function e(r){return Or(r,t,e)})}function kr(e,t,r){var n=t(e);if(void 0!==n)return n;for(var o=Ue(e).values(),a=o.next();!a.done;){var i=r(a.value);if(void 0!==i)return i;a=o.next()}}function Or(e,t,r){for(var n=Ue(e).values(),o=n.next();!o.done;){var a=r(o.value);if(void 0!==a)return a;o=n.next()}var i=t(e);if(void 0!==i)return i}function Cr(e){var t=new WeakMap,r=function(r){var o=t.get(r);return o||(o=(0,a.computed)(function(){return jr(r,e,n)}),t.set(r,o)),o.get()},n=function(e){return r(e)};return{walk:function(e){return r(e)}}}function jr(e,t,r){var n,o=t(e),a=Ue(e),i=a.values(),u=i.next();if(void 0===o&&1===a.size)return r(u.value);for(;!u.done;){var s=r(u.value);if(s){n||(n=new Map);for(var c=s.keys(),f=c.next();!f.done;){var p=f.value,l=s.get(p);n.set(p,l),f=c.next()}}u=i.next()}return void 0!==o&&(n||(n=new Map),n.set(o,e)),n}exports.WalkTreeMode=xr,function(e){e.ParentFirst="parentFirst",e.ChildrenFirst="childrenFirst"}(xr||(exports.WalkTreeMode=xr={}));var Mr=new WeakMap,Rr=(0,a.action)("attachToRootStore",function(e,t){var r=[];Tr(t,function(e){e instanceof no&&e.onAttachedToRootStore&&(Ar(e,"onAttachedToRootStore",pr.OnAttachedToRootStore),r.push(e))},xr.ParentFirst);for(var n=r.length,o=0;o<n;o++){var a=r[o],i=a.onAttachedToRootStore(e);i&&Mr.set(a,i)}}),Ir=(0,a.action)("detachFromRootStore",function(e){var t=[];Tr(e,function(e){var n=Mr.get(e);if(n){var o=Sr({name:pr.OnAttachedToRootStoreDisposer,fn:n,actionType:r.Sync}).bind(e);Mr.delete(e),t.push(o)}},xr.ChildrenFirst);for(var n=t.length,o=0;o<n;o++)t[o]()}),Pr=new WeakSet,_r=new WeakMap,Dr=(0,a.action)("registerRootStore",function(e){if(Pe(e,"node"),Pr.has(e))throw C("object already registered as root store");if(!ft(e))throw C("a root store must not have a parent");return Pr.add(e),Rr(e,e),Wr(e).reportChanged(),e});exports.registerRootStore=Dr;var Nr=(0,a.action)("unregisterRootStore",function(e){if(!zr(e))throw C("not a root store");Pr.delete(e),Ir(e),Wr(e).reportChanged()});function zr(e){return Pe(e,"node"),Fr(e)}function Fr(e){return Wr(e).reportObserved(),Pr.has(e)}function Vr(e){return Pe(e,"node"),$r(e)}function $r(e){var t=ct(e);return Fr(t)?t:void 0}function Wr(e){var t=_r.get(e);return t||(t=(0,a.createAtom)("rootStore"),_r.set(e,t)),t}exports.unregisterRootStore=Nr;var Er=(0,a.action)("setParent",function(e,t,r,n){if(!_(e)){if($()){if("function"==typeof e||"symbol"==typeof e)throw C("assertion failed: value cannot be a function or a symbol");if(!Re(e,!0))throw C("assertion failed: value is not ready to take a parent");if(t&&!Re(t.parent,!0))throw C("assertion failed: parent is not ready to take children")}if(n)Oe.set(e,t.parent);else{if(Ee(e),t){var o=Ce(t.parent);t.parent!==o&&(t={parent:o,path:t.path})}var a=Ye(e);if(!Se(a,t)){if(zr(e))throw C("root stores cannot be attached to any parents");if(a&&t){if(a.parent===t.parent&&r)return xe.set(e,t),void ke(e);throw C("an object cannot be assigned a new parent when it already has one")}var i=function(){a&&a.parent&&Le(a.parent,e)},u=function(){xe.set(e,t),t&&t.parent&&Ke(t.parent,e),ke(e)};if(e instanceof no){var s=ct(e),c=zr(s)?s:void 0;i(),u();var f=ct(e),p=zr(f)?f:void 0;c!==p&&(c&&dr(function(){Ir(e)}),p&&dr(function(){Rr(p,e)}))}else i(),u()}}}});function Ur(e,t){return Me.set(e,void 0),Er(e,t,!1,!1),e}function Br(){return!Kr()||!!f()}function Gr(){if(!Br())throw C("data changes must be performed inside model actions")}var Jr=!0;function Kr(){return Jr}function Lr(e,t){var r="string"==typeof e?e:void 0,n="string"==typeof e?t:e,o=function(){var e=Jr;Jr=!1;try{return n()}finally{Jr=e}};return r?(0,a.runInAction)(r,o):(0,a.runInAction)(o)}var Qr=function(){function e(){}var t=e.prototype;return t.record=function(e,t){this.patches=e,this.invPatches=t},t.emit=function(e){en(e,this.patches,this.invPatches,!0)},e}();exports.InternalPatchRecorder=Qr;var qr,Hr=new WeakMap,Yr=[];function Xr(e,t){Pe(e,"subtreeRoot"),K(t,"listener"),(0,a.isAction)(t)||(t=(0,a.action)(t.name||"onPatchesListener",t));var r=Hr.get(e);return r||(r=[],Hr.set(e,r)),r.push(t),function(){N(r,t)}}function Zr(e){return K(e,"listener"),(0,a.isAction)(e)||(e=(0,a.action)(e.name||"onGlobalPatchesListener",e)),Yr.push(e),function(){N(Yr,e)}}function en(e,t,r,n){if(!(t.length<=0&&r.length<=0)){if(n)for(var o=0;o<Yr.length;o++){(0,Yr[o])(e,t,r)}var a=Hr.get(e);if(a)for(var i=0;i<a.length;i++){(0,a[i])(t,r)}var u=Ye(e);if(u){var s=u.path,c=t.map(function(e){return tn(e,s)}),f=r.map(function(e){return tn(e,s)});en(u.parent,c,f,!1)}}}function tn(e,t){return h({},e,{path:[t].concat(e.path)})}exports.FrozenCheckMode=qr,function(e){e.DevModeOnly="devModeOnly",e.On="on",e.Off="off"}(qr||(exports.FrozenCheckMode=qr={}));var rn="$frozen";exports.frozenKey=rn;var nn,on=function(e,t){void 0===t&&(t=qr.DevModeOnly);var r=t===qr.On||t===qr.DevModeOnly&&$();r&&un(e),this.data=e,r&&Object.freeze(this.data),Ln(this,void 0)};function an(e,t){return void 0===t&&(t=qr.DevModeOnly),new on(e,t)}function un(e){if(!_(e))if(Array.isArray(e)){for(var t=e.length,r=0;r<t;r++){var n=e[r];if(void 0===n)throw C("undefined is not supported inside arrays since it is not serializable in JSON, consider using null instead");un(n)}Object.freeze(e)}else{if(!I(e))throw C("frozen data must be plainly serializable to JSON, but "+e+" is not");for(var o=Object.keys(e),a=o.length,i=0;i<a;i++){var u=o[i],s=e[u];un(u),un(s)}Object.freeze(e)}}function sn(e){return I(e)&&!!e[rn]}function cn(e,t,r){void 0===r&&(r=0);var n=fn(e,t,r);return n?n.parent:void 0}function fn(e,t,r){void 0===r&&(r=0),Pe(e,"child");for(var n,o=[],a=e,i=0;n=Ye(a);){if(o.unshift(n.path),t(a=n.parent))return{parent:a,path:o};if(i++,r>0&&i===r)break}}exports.Frozen=on,exports.BuiltInAction=nn,function(e){e.ApplyPatches="$$applyPatches",e.ApplySnapshot="$$applySnapshot",e.Detach="$$detach",e.ApplySet="$$applySet",e.ApplyDelete="$$applyDelete",e.ApplyMethodCall="$$applyMethodCall"}(nn||(exports.BuiltInAction=nn={}));var pn=new Set(Object.values(nn));function ln(e){return pn.has(e)}function dn(e){Pe(e,"node"),hn().call(e)}var hn=ee(function(){return Sr({name:nn.Detach,fn:vn,actionType:r.Sync})});function vn(){var e=Xe(this);if(e){var t=e.parent,r=e.path;if((0,a.isObservableArray)(t))t.splice(+r,1);else{if(!(0,a.isObservableObject)(t))throw C("parent must be an observable object or an observable array");(0,a.remove)(t,""+r)}}}function yn(e,t){return Pe(e,"node"),t&&t.deep?Be(e).deep:Ue(e)}function mn(e,t,r){K(e,"target"),K(t,"fn");var n=h({deep:!1,runForCurrentChildren:!0},r),o=new WeakMap,i=function(e){var t=o.get(e);t&&(o.delete(e),t())},u=function(e,t){t&&o.set(e,t)},s={deep:n.deep},c=function(){var t=e();Pe(t,"target()");for(var r=yn(t,s),n=new Set,o=r.values(),a=o.next();!a.done;)n.add(a.value),a=o.next();return n},f=n.runForCurrentChildren?new Set:c(),p=(0,a.reaction)(function(){return c()},function(e){for(var r=[],n=f.values(),o=n.next();!o.done;){var a=o.value;e.has(a)||(f.delete(a),r.push(a)),o=n.next()}if(r.length>0)for(var s=r.length-1;s>=0;s--)i(r[s]);for(var c=e.values(),p=c.next();!p.done;){var l=p.value;f.has(l)||(f.add(l),u(l,t(l))),p=c.next()}},{fireImmediately:!0});return function(e){if(p(),e)for(var t=f.values(),r=t.next();!r.done;){var n=r.value;i(n),r=t.next()}f.clear()}}var bn=function(e,t){var r={options:h({generateNewIds:!1,overrideRootModelId:void 0},t)};return r.snapshotToInitialData=Sn.bind(void 0,r),gn(e,r)};function gn(e,t){if(_(e))return e;if(z(e))throw C("a snapshot must not contain maps");if(F(e))throw C("a snapshot must not contain sets");if(V(e))return xn(e,t);if(sn(e))return an(e.data);if(ho(e))return wn(e,t);if(I(e))return An(e,t);throw C("unsupported snapshot - "+e)}function xn(e,t){for(var r=a.observable.array([],Tn),n=e.length,o=0;o<n;o++)r.push(gn(e[o],t));return $n(r,void 0,!0)}function wn(e,t){var r=e[ze];if(!r)throw C("a model snapshot must contain a type key ("+ze+"), but none was found");var n=It(r);if(!n)throw C('model with name "'+r+'" not found in the registry');if(!e[Fe])throw C("a model snapshot must contain an id key ("+Fe+"), but none was found");return new n.class(void 0,{unprocessedSnapshot:e,snapshotToInitialData:t.snapshotToInitialData},t.options.generateNewIds)}function Sn(e,t){for(var r=a.observable.object({},void 0,Tn),n=Object.keys(t),o=n.length,i=0;i<o;i++){var u=n[i];if(!Ve(u)){var s=t[u];(0,a.set)(r,u,gn(s,e))}}return r}function An(e,t){for(var r=a.observable.object({},void 0,Tn),n=Object.keys(e),o=n.length,i=0;i<o;i++){var u=n[i],s=e[u];(0,a.set)(r,u,gn(s,t))}return qn(r,void 0,void 0,!0,!1)}exports.fromSnapshot=bn,exports.fromSnapshot=bn=(0,a.action)("fromSnapshot",bn);var Tn={deep:!1};function kn(e,t,r){if(_(t))return t;if(V(t))return On(e,t,r);if(sn(t))return Cn(e,t);if(ho(t))return jn(e,t,r);if(I(t))return Mn(e,t,r);if(z(t))throw C("a snapshot must not contain maps");if(F(t))throw C("a snapshot must not contain sets");throw C("unsupported snapshot - "+t)}function On(e,t,r){if(!V(e))return bn(t);e.length>t.length&&e.splice(t.length,e.length-t.length);for(var n=0;n<e.length;n++){var o=e[n],i=kn(o,t[n],r);Rn(i,o,r),(0,a.set)(e,n,i)}for(var u=e.length;u<t.length;u++)e.push(kn(void 0,t[u],r));return e}function Cn(e,t){return e instanceof on&&e.data===t.data?e:an(t.data)}function jn(e,t,r){var n=t[ze],o=It(n);if(!o)throw C('model with name "'+n+'" not found in the registry');var i=t[Fe],u=r.findModelForSnapshot(t);if(u&&(e=u),!(e instanceof o.class)||e[ze]!==n||e[Fe]!==i)return bn(t);var s=e,c=t;s.fromSnapshot&&(c=s.fromSnapshot(t));for(var f=s.$,p=Object.keys(f),l=p.length,d=0;d<l;d++){var h=p[d];h in c||(0,a.remove)(f,h)}for(var v=Object.keys(c),y=v.length,m=0;m<y;m++){var b=v[m];if(!Ve(b)){var g=c[b],x=f[b],w=kn(x,g,r);Rn(w,x,r),(0,a.set)(f,b,w)}}return s}function Mn(e,t,r){if(!I(e)&&!(0,a.isObservableObject)(e))return bn(t);for(var n=e,o=Object.keys(n),i=o.length,u=0;u<i;u++){var s=o[u];s in t||(0,a.remove)(n,s)}for(var c=Object.keys(t),f=c.length,p=0;p<f;p++){var l=c[p],d=t[l],h=n[l],v=kn(h,d,r);Rn(v,h,r),(0,a.set)(n,l,v)}return n}function Rn(e,t,r){if(e!==t&&co(e)&&r.findModelByTypeAndId(e[ze],e[Fe])){var n=Xe(e);n&&(0,a.set)(n.parent,n.path,null)}}var In=function(){function e(e){e=Oe.get(e)||e,this.pool=Be(e).deepByModelTypeAndId}var t=e.prototype;return t.findModelByTypeAndId=function(e,t){return this.pool.get(qe(e,t))},t.findModelForSnapshot=function(e){if(ho(e))return this.findModelByTypeAndId(e[ze],e[Fe])},e}();function Pn(e,t,r){void 0===r&&(r=!1),Pe(e,"node"),t.length<=0||Dn().call(e,t,r)}function _n(e,t){void 0===t&&(t=!1);var r=new In(this);if(t)for(var n=e.length;n--;){var o=e[n];if(V(o))for(var a=o.length;a--;)Nn(this,o[a],r);else Nn(this,o,r)}else for(var i=e.length,u=0;u<i;u++){var s=e[u];if(V(s))for(var c=s.length,f=0;f<c;f++)Nn(this,s[f],r);else Nn(this,s,r)}}var Dn=ee(function(){return Sr({name:nn.ApplyPatches,fn:_n,actionType:r.Sync})});function Nn(e,t,r){var n=zn(e,t.path),o=n.target,i=n.prop;if(V(o))switch(t.op){case"add":var u=+i,s=kn(void 0,t.value,r);o.splice(u,0,s);break;case"remove":var c=+i;o.splice(c,1);break;case"replace":if("length"===i)o.length=t.value;else{var f=+i,p=kn(o[f],t.value,r);(0,a.set)(o,f,p)}break;default:throw C("unsupported patch operation: "+t.op)}else switch(t.op){case"add":var l=kn(void 0,t.value,r);(0,a.set)(o,i,l);break;case"remove":(0,a.remove)(o,i);break;case"replace":var d=kn(o[i],t.value,r);(0,a.set)(o,i,d);break;default:throw C("unsupported patch operation: "+t.op)}}function zn(e,t){if($()&&!V(t))throw C("invalid path: "+t);var r=je(e);if(0===t.length)return{target:r};for(var n=0;n<=t.length-2;n++)r=je(r[t[n]]);return{target:r,prop:t[t.length-1]}}function Fn(e,t){if(Vt(e),fe()){var r=Vn(e);if(r){var n=r.typeCheck();n&&(Ne(function(){_n.call(e,t.invPatches,!0)}),n.throw(r))}}}function Vn(e){var t=Ce(e);return e!==t&&co(e=t)&&jt(e)?e:cn(e,function(e){return co(e)&&!!jt(e)})}function $n(e,t,r){var n,o,i=e,u=i.length,s=(0,a.isObservableArray)(i)?i:a.observable.array([],Bn);s!==i&&(s.length=i.length);Me.set(s,function(){n(),o()}),Er(s,t,!1,!1);var c=[];c.length=u;for(var f=0;f<u;f++){var p=i[f];if(_(p))r||(0,a.set)(s,f,p),c[f]=p;else{var l={parent:s,path:f},d=void 0;r?Er(d=p,l,!1,!1):(d=Ln(p,l),(0,a.set)(s,f,d));var h=gt(d);c[f]=h.standard}}return St(s,c),n=(0,a.intercept)(s,Un.bind(void 0,s)),o=(0,a.observe)(s,Wn),s}function Wn(e){var t=e.object,r=gt(t).standard,n=new Qr,o=r.slice();switch(e.type){case"splice":var a=e.index,i=e.addedCount,u=e.removedCount,s=[];s.length=i;for(var c=0;c<i;c++){var f=e.added[c];_(f)?s[c]=f:s[c]=gt(f).standard}var p=r.length;o.splice.apply(o,[a,u].concat(s));var l=[],d=[];if(i===u)for(var h=0;h<i;h++){var v=a+h,y=o[v],m=r[v];if(y!==m){var b=[v];l.push({op:"replace",path:b,value:y}),d.push({op:"replace",path:b,value:m})}}else{var g=p-u;if(u>0){var x=a>=g;x&&l.push({op:"replace",path:["length"],value:g});for(var w=u-1;w>=0;w--){var S=a+w,A=[S];x||l.push({op:"remove",path:A}),d.push({op:"add",path:A,value:r[S]})}}if(i>0){var T=a>=g;T&&d.push({op:"replace",path:["length"],value:g});for(var k=0;k<i;k++){var O=a+k,C=[O];l.push({op:"add",path:C,value:o[O]}),T||d.push({op:"remove",path:C})}}}n.record(l,d);break;case"update":var j=e.index,M=e.newValue,R=o[j];if(_(M))o[j]=M;else{var I=gt(M);o[j]=I.standard}var P=[j];n.record([{op:"replace",path:P,value:o[j]}],[{op:"replace",path:P,value:R}])}Fn(t,n),De||(St(t,o),n.emit(t))}var En="undefined is not supported inside arrays since it is not serializable in JSON, consider using null instead";function Un(e,t){switch(Gr(),t.type){case"splice":if($()&&!ce().allowUndefinedArrayElements)for(var r=t.added.length,n=0;n<r;n++){if(void 0===t.added[n])throw C(En)}for(var o=0;o<t.removedCount;o++){var a=t.object[t.index+o];Ln(a,void 0),Qn(a)}for(var i=0;i<t.added.length;i++)t.added[i]=Ln(t.added[i],{parent:t.object,path:t.index+i});var u=t.index+t.removedCount,s=t.index+t.added.length;if(u!==s)for(var c=u,f=s;c<t.object.length;c++,f++)Er(t.object[c],{parent:t.object,path:f},!0,!1);break;case"update":if($()&&!ce().allowUndefinedArrayElements&&void 0===t.newValue)throw C(En);var p=e[t.index];Ln(p,void 0),Qn(p),t.newValue=Ln(t.newValue,{parent:e,path:t.index})}return t}var Bn={deep:!1};function Gn(e,t){var r;return Me.set(e,void 0),Er(e,t,!1,!1),St(e,((r={})[rn]=!0,r.data=e.data,r)),e}function Jn(e){if(!P(e))throw C("only objects can be turned into tree nodes");return Re(e,!0)?e:Ln(e,void 0)}function Kn(e,t){if(_(e))return e;if(Re(e,!0))return Er(e,t,!1,!1),e;if(co(e))return Ur(e,t);if(V(e))return $n(e,t,!1);if((0,a.isObservableObject)(e)||I(e))return qn(e,t,void 0,!1,!1);if(e instanceof on)return Gn(e,t);if(z(e))throw C("maps are not directly supported. consider applying 'transformObjectAsMap' over a '{[k: string]: V}' property, or 'transformArrayAsMap' over a '[string, V][]' property instead.");if(F(e))throw C("sets are not directly supported. consider applying 'transformArrayAsSet' over a 'V[]' property instead.");throw C("tweak can only work over models, observable objects/arrays, or primitives, but got "+e+" instead")}var Ln=(0,a.action)("tweak",Kn);function Qn(e){if(_(e))return!0;if($()&&et(e))throw C("assertion error: object cannot be untweaked while it has a parent");var t=Me.get(e);if(!t)return!1;for(var r=[],n=Ue(e).values(),o=n.next();!o.done;)r.push(o.value),o=n.next();for(var a=0;a<r.length;a++){var i=r[a];Er(i,void 0,!1,!1)}return t(),Me.delete(e),wt(e),!0}function qn(e,t,r,n,o){var i,u,s=e,c=(0,a.isObservableObject)(s)?s:a.observable.object({},void 0,Hn);Me.set(c,function(){i(),u()}),Er(c,t,!1,o);for(var f={},p=Object.keys(s),l=p.length,d=0;d<l;d++){var h=p[d],v=s[h];if(_(v))n||(0,a.set)(c,h,v),f[h]=v;else{var y={parent:c,path:h},m=void 0;n?Er(m=v,y,!1,!1):(m=Ln(v,y),(0,a.set)(c,h,m));var b=gt(m);f[h]=b.standard}}return r&&(f[ze]=r),St(o?Ce(c):c,f),i=(0,a.intercept)(c,Xn),u=(0,a.observe)(c,Yn),c}exports.tweak=Ln;var Hn={deep:!1};function Yn(e){var t=e.object,r=Ce(t),n=gt(r).standard,o=new Qr;switch(n=Object.assign({},n),e.type){case"add":case"update":var a=e.name,i=e.newValue,u=n[a];if(_(i))n[a]=i;else{var s=gt(i);n[a]=s.standard}var c=[a];"add"===e.type?o.record([{op:"add",path:c,value:n[a]}],[{op:"remove",path:c}]):o.record([{op:"replace",path:c,value:n[a]}],[{op:"replace",path:c,value:u}]);break;case"remove":var f=e.name,p=n[f];delete n[f];var l=[f];o.record([{op:"remove",path:l}],[{op:"add",path:l,value:p}])}Fn(t,o),De||(St(r,n),o.emit(r))}function Xn(e){if(Gr(),"symbol"==typeof e.name)throw C("symbol properties are not supported");switch(e.type){case"add":e.newValue=Ln(e.newValue,{parent:e.object,path:""+e.name});break;case"remove":var t=e.object[e.name];Ln(t,void 0),Qn(t);break;case"update":var r=e.object[e.name];Ln(r,void 0),Qn(r),e.newValue=Ln(e.newValue,{parent:e.object,path:""+e.name})}return e}var Zn=(0,a.action)("newModel",function(e,t,r,n,o){$()&&lo(t,"modelClass");var i,u=e,s=Rt.get(t);if(!s)throw C("no model info for class "+t.name+" could be found - did you forget to add the @model decorator?");if(n){var c=n.unprocessedSnapshot;i=o?ce().modelIdGenerator():c[Fe],u.fromSnapshot&&(c=u.fromSnapshot(c)),r=n.snapshotToInitialData(c)}else i=r[Fe]?r[Fe]:ce().modelIdGenerator();u[ze]=s.name;for(var f=_t(t),p=Object.keys(f),l=0;l<p.length;l++){var d=p[l],v=r[d];if(null==v){var y=v,m=f[d];m.defaultFn!==le?y=m.defaultFn():m.defaultValue!==le&&(y=m.defaultValue),(0,a.set)(r,d,y)}}(0,a.set)(r,Fe,i),Ur(u,void 0);var b=qn(r,{parent:u,path:"$"},u[ze],!1,!0);if(Object.defineProperty(b,Fe,h({},Object.getOwnPropertyDescriptor(b,Fe),{enumerable:!1})),u.$=b,$()&&R(u,"$",!0),fe()&&jt(t)){var g=u.typeCheck();g&&g.throw(u)}var x=to(t);if(x)for(var w=x.length,S=0;S<w;S++){(0,x[S])(u)}return u});function eo(e,t){var r=e[Ot];r||(r=[],e[Ot]=r),r.push(t)}function to(e){return e[Ot]}var ro=Symbol("modelInitialized");exports.modelInitializedSymbol=ro;var no=function(){function e(e){var t=e,r=arguments[1],n=arguments[2],o=arguments[4];if(Object.setPrototypeOf(this,n.prototype),r){var i=!!arguments[3];Zn(this,n,void 0,r,i)}else{W(t,"initialData");var u=o.length;if(u>0){t=Object.assign(t);for(var s=0;s<u;s++){var c=o[s],f=c[0],p=c[1],l=ye.getOrCreateMemoTransform(this,f,p);t[f]=l.dataToProp(t[f])}}Zn(this,n,a.observable.object(t,void 0,{deep:!1}),void 0,!0)}}var t=e.prototype;return t.getRefId=function(){return this[Fe]},t.typeCheck=function(){return fr(sr(this.constructor),this)},t.toString=function(e){var t=h({withData:!0},e),r=this.constructor.name+"#"+this[ze];return t.withData?"["+r+" "+JSON.stringify(Tt(this))+"]":"["+r+"]"},e}();exports.BaseModel=no;var oo=new Set([ze,Fe,"onInit","$","getRefId","onAttachedToRootStore","fromSnapshot","typeCheck"]);function ao(e){return e}function io(e){return e}function uo(e,t,r){var n;void 0===r&&(r=ce().modelIdGenerator()),lo(e,"modelClass"),W(t,"initialData");var o=Rt.get(e);return h({},t,((n={})[ze]=o.name,n[Fe]=r,n))}function so(e,t,r){var n;void 0===r&&(r=ce().modelIdGenerator()),lo(e,"modelClass"),W(t,"initialData");var o=Rt.get(e);return h({},t,((n={})[ze]=o.name,n[Fe]=r,n))}function co(e){return e instanceof no}function fo(e,t,r){if(void 0===r&&(r="must be a model instance"),!co(e))throw C(t+" "+r)}function po(e){return"function"==typeof e&&(e===no||e.prototype instanceof no)}function lo(e,t){if("function"!=typeof e)throw C(t+" must be a class");if(e!==no&&!(e.prototype instanceof no))throw C(t+" must extend Model")}function ho(e){return I(e)&&!!e[ze]}function vo(e,t,r){if("string"!=typeof r)throw C(e+" cannot be used over symbol properties");var n=e+" must be used over model classes or instances";if(!t)throw C(n);if(!(t instanceof no||t===no||t.prototype instanceof no))throw C(n)}function yo(e){return"function"==typeof e&&!!e[wr]}function mo(e,t,r){if("function"!=typeof r)throw C("modelAction has to be used over functions");vo("modelAction",e,t)}function bo(e,t,n){return q("modelAction",{target:e,propertyKey:t,baseDescriptor:n},function(e,t){return yo(t)?t:(mo(e.target,e.propertyKey,t),Sr({name:e.propertyKey,fn:t,actionType:r.Sync}))})}exports.baseModelPropNames=oo;var go=Symbol("modelFlow");function xo(e,t){var o=function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];var u,s=this;$()&&Pe(s,"flow");var c=function(e){return function(t){t.previousAsyncStepContext=u,t.spawnAsyncStepContext=u?u.spawnAsyncStepContext:t,t.asyncStepType=e,t.args=a,u=t}},f=!1,p=Sr({name:e,fn:function(){return f=!0,t.apply(s,a)},actionType:r.Async,overrideContext:c(n.Spawn)}).apply(s);if(!f)return p instanceof Promise?p:Promise.resolve(p);var l=p.next.bind(p),d=p.throw.bind(p);return new Promise(function(t,o){function a(a){var i;try{i=Sr({name:e,fn:l,actionType:r.Async,overrideContext:c(n.Resume)}).call(s,a)}catch(f){return void Sr({name:e,fn:function(e){return{value:e,resolution:"reject",accepter:t,rejecter:o}},actionType:r.Async,overrideContext:c(n.Throw),isFlowFinisher:!0}).call(s,f)}u(i)}function i(a){var i;try{i=Sr({name:e,fn:d,actionType:r.Async,overrideContext:c(n.ResumeError)}).call(s,a)}catch(f){return void Sr({name:e,fn:function(e){return{value:e,resolution:"reject",accepter:t,rejecter:o}},actionType:r.Async,overrideContext:c(n.Throw),isFlowFinisher:!0}).call(s,f)}u(i)}function u(f){f&&"function"==typeof f.then?f.then(u,o):f.done?Sr({name:e,fn:function(e){return{value:e,resolution:"accept",accepter:t,rejecter:o}},actionType:r.Async,overrideContext:c(n.Return),isFlowFinisher:!0}).call(s,f.value):Promise.resolve(f.value).then(a,i)}a(void 0)})};return o[go]=!0,o}function wo(e){return"function"==typeof e&&e[go]}function So(e,t,r){return q("modelFlow",{target:e,propertyKey:t,baseDescriptor:r},function(e,t){return wo(t)?t:(Ao(e.target,e.propertyKey,t),xo(e.propertyKey,t))})}function Ao(e,t,r){if("function"!=typeof r)throw C("modelFlow has to be used over functions");vo("modelFlow",e,t)}function To(e){return e}function ko(e){return Co.call(e)}var Oo=function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(u){a=[6,u],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};function Co(){return Oo(this,function(e){switch(e.label){case 0:return[4,this];case 1:return[2,e.sent()];default:return}})}function jo(e,t){if(void 0!==e[t])throw C("key '"+t+"' cannot be redeclared")}var Mo=new Map;function Ro(e){return Mo.get(e)}function Io(e,t,r){for(var n=0,o=Object.entries(r);n<o.length;n++){var a=o[n];Po(e,t,a[0],a[1],!1)}return e}function Po(e,t,n,o,a){jo(e,n);var i=t+"::"+n;if(K(o,i),Mo.has(i)&&Y("warn",'an standalone action with name "'+i+'" already exists (if you are using hot-reloading you may safely ignore this warning)',"duplicateActionName - "+n),yo(o))throw C("the standalone action must not be previously marked as an action");if(wo(o))throw C("the standalone action must not be previously marked as a flow action");var u=a?xo(i,o):Sr({name:i,fn:o,actionType:r.Sync});e[n]=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return u.apply(e,r)},Mo.set(i,e[n])}function _o(e,t){Pe(e,"node"),W(t,"snapshot"),No().call(e,t)}function Do(e){var t=this,r=function(){var r=new In(t),n=kn(t,e,r);if($()&&n!==t)throw C("assertion error: reconciled object has to be the same")};if(V(e)){if(!V(t))throw C("if the snapshot is an array the target must be an array too");return r()}if(sn(e))throw C("applySnapshot cannot be used over frozen objects");if(ho(e)){var n=e[ze];if(!It(n))throw C('model with name "'+n+'" not found in the registry');if(!co(t))throw C("the target for a model snapshot must be a model instance");if(t[ze]!==n)throw C("snapshot model type '"+n+"' does not match target model type '"+t[ze]+"'");var o=e[Fe];if(t[Fe]!==o)throw C("snapshot model id '"+o+"' does not match target model id '"+t[Fe]+"'");return r()}if(I(e)){if(!I(t)&&!(0,a.isObservableObject)(t))throw C("if the snapshot is an object the target must be an object too");return r()}throw C("unsupported snapshot - "+e)}var No=ee(function(){return Sr({name:nn.ApplySnapshot,fn:Do,actionType:r.Sync})});function zo(e,t){Pe(e,"node"),Vo().call(e,t)}function Fo(e){(0,a.remove)(this,""+e)}var Vo=ee(function(){return Sr({name:nn.ApplyDelete,fn:Fo,actionType:r.Sync})});function $o(e,t){Pe(e,"node");for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return Eo().call(e,t,n)}function Wo(e,t){return this[e].apply(this,t)}var Eo=ee(function(){return Sr({name:nn.ApplyMethodCall,fn:Wo,actionType:r.Sync})});function Uo(e,t,r){Pe(e,"node"),Jo().call(e,t,r)}function Bo(e,t){!co(this)&&(0,a.isObservable)(this)?(0,a.set)(this,e,t):this[e]=t}var Go,Jo=ee(function(){return Sr({name:nn.ApplySet,fn:Bo,actionType:r.Sync})}),Ko=((Go={})[nn.ApplySnapshot]=_o,Go[nn.ApplyPatches]=Pn,Go[nn.Detach]=dn,Go[nn.ApplySet]=Uo,Go[nn.ApplyDelete]=zo,Go[nn.ApplyMethodCall]=$o,Go);function Lo(e,t){if(t.serialized)throw C("cannot apply a serialized action call, use one of the 'applySerializedAction' methods instead");Pe(e,"subtreeRoot");var r=yt(e,t.targetPath,t.targetPathIds),n=r.value;if(!r.resolved)throw C("object at path "+JSON.stringify(t.targetPath)+" with ids "+JSON.stringify(t.targetPathIds)+" could not be resolved");if(Pe(n,"resolved "+n,!0),ln(t.actionName)){var o=Ko[t.actionName];if(!o)throw C("assertion error: unknown built-in action - "+t.actionName);return o.apply(n,[n].concat(t.args))}if(vr(t.actionName))throw C("calls to hooks ("+t.actionName+") cannot be applied");var a=Ro(t.actionName);return a?a.apply(n,t.args):n[t.actionName].apply(n,t.args)}var Qo=Symbol("cannotSerialize");exports.cannotSerialize=Qo;var qo={id:"mobx-keystone/array",serialize:function(e,t){return V(e)?e.map(t):Qo},deserialize:function(e,t){return e.map(t)}},Ho={id:"mobx-keystone/dateAsTimestamp",serialize:function(e){return e instanceof Date?+e:Qo},deserialize:function(e){return new Date(e)}},Yo={id:"mobx-keystone/mapAsArray",serialize:function(e,t){if(!(e instanceof Map||(0,a.isObservableMap)(e)))return Qo;for(var r=[],n=e.keys(),o=n.next();!o.done;){var i=o.value,u=e.get(i);r.push([t(i),t(u)]),o=n.next()}return r},deserialize:function(e,t){for(var r=new Map,n=e.length,o=0;o<n;o++){var a=e[o][0],i=e[o][1];r.set(t(a),t(i))}return r}};function Xo(e){for(var t=[],r=0;r<e.path.length;r++){var n=e.pathObjects[r+1],o=co(n)?n[Fe]:null;t.push(o)}return t}function Zo(e,t){for(var r=[],n=e,o=0;o<t.length;o++){var a=co(n=n[t[o]])?n[Fe]:null;r.push(a)}return r}var ea={id:"mobx-keystone/objectPath",serialize:function(e,t,r){if("object"!=typeof e||null===e||!Re(e,!1))return Qo;if(r){var n=ut(e);if(n.root===r)return{targetPath:n.path,targetPathIds:Xo(n)}}return Qo},deserialize:function(e,t,r){if(r){var n=yt(r,e.targetPath,e.targetPathIds);if(n.resolved)return n.value}throw C("object at path "+JSON.stringify(e.targetPath)+" with ids "+JSON.stringify(e.targetPathIds)+" could not be resolved")}},ta={id:"mobx-keystone/objectSnapshot",serialize:function(e){return"object"==typeof e&&null!==e&&Re(e,!1)?Tt(e):Qo},deserialize:function(e){return bn(e)}},ra={id:"mobx-keystone/plainObject",serialize:function(e,t){return I(e)||(0,a.isObservableObject)(e)?na(e,t):Qo},deserialize:function(e,t){return na(e,t)}};function na(e,t){for(var r={},n=Object.keys(e),o=n.length,a=0;a<o;a++){var i=n[a],u=e[i];r[i]=t(u)}return r}var oa={id:"mobx-keystone/setAsArray",serialize:function(e,t){if(!(e instanceof Set))return Qo;for(var r=[],n=e.keys(),o=n.next();!o.done;){var a=o.value;r.push(t(a)),o=n.next()}return r},deserialize:function(e,t){for(var r=new Set,n=e.length,o=0;o<n;o++){var a=e[o];r.add(t(a))}return r}},aa=[],ia=new Map;function ua(e){if(aa.includes(e))throw C("action call argument serializer already registered");if(ia.has(e.id))throw C("action call argument serializer with id '"+e.id+"' already registered");return aa.unshift(e),ia.set(e.id,e),function(){var t=aa.indexOf(e);t>=0&&aa.splice(t,1),ia.delete(e.id)}}function sa(e,t){if(_(e))return e;for(var r=e,n=function(e){return sa(e,t)},o=0;o<aa.length;o++){var a=aa[o],i=a.serialize(e,n,t);if(i!==Qo)return{$mobxKeystoneSerializer:a.id,value:i}}throw C("serializeActionCallArgument could not serialize the given value: "+r)}function ca(e,t){if(e.serialized)throw C("cannot serialize an already serialized action call");void 0!==t&&Pe(t,"targetRoot");return h({},e,{serialized:!0,args:e.args.map(function(e){return sa(e,t)})})}function fa(e,t){if(_(e))return e;if(!I(e)||"string"!=typeof e.$mobxKeystoneSerializer)throw C("invalid serialized action call argument");var r=e.$mobxKeystoneSerializer,n=ia.get(r);if(!n)throw C("a serializer with id '"+r+"' could not be found");var o=e;return n.deserialize(o.value,function(e){return fa(e,t)},t)}function pa(e,t){if(!e.serialized)throw C("cannot deserialize a non-serialized action call");void 0!==t&&Pe(t,"targetRoot");var r=h({},e,{serialized:void 0,args:e.args.map(function(e){return fa(e,t)})});return delete r.serialized,r}function la(e,t,r){return K(e,"objFn"),Et(function(){var n=e();W(n,"objectSchema");var o=Object.entries(n),a=function(){for(var e=[],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var a,i=k(o);!(a=i()).done;){var u=a.value,s=u[0],c=ar(u[1]),f="...";r.includes(c)||(f=c.getTypeName.apply(c,r.concat([c]))),e.push(s+": "+f+";")}return"{ "+e.join(" ")+" }"},i=new $t(function(e,r){if(!P(e)||t&&!(e instanceof on))return new Nt(r,a(i),e);for(var n,u=new Set(Object.keys(e)),s=k(o);!(n=s()).done;){var c=n.value,f=c[0],p=ar(c[1]),l=e[f],d=p.unchecked?null:p.check(l,[].concat(r,[f]));if(d)return d;u.delete(f)}return u.size>0?new Nt(r,a(i),e):null},a,r);return i},r)}function da(e){return la(e,!1,function(t){return new ha(t,e)})}ua(ra),ua(oa),ua(Yo),ua(Ho),ua(qo),ua(ta),ua(ea);var ha=function(e){function t(t,r){var n;return(n=e.call(this,t)||this)._objTypeFn=r,n._props=Z(function(){var e=n._objTypeFn(),t={};return Object.keys(e).forEach(function(r){var n=ir(e[r]);t[r]={type:n,typeInfo:Gt(n)}}),t}),n}return v(t,e),d(t,[{key:"props",get:function(){return this._props()}}]),t}(Bt);function va(e){return la(function(){return{data:e}},!0,function(t){return new ya(t,ir(e))})}exports.ObjectTypeInfo=ha;var ya=function(e){function t(t,r){var n;return(n=e.call(this,t)||this).dataType=r,n}return v(t,e),d(t,[{key:"dataTypeInfo",get:function(){return Gt(this.dataType)}}]),t}(Bt);exports.FrozenTypeInfo=ya;var ma=new $t(null,function(){return"any"},function(e){return new ga(e)});function ba(){return ma}var ga=function(e){function t(){return e.apply(this,arguments)||this}return v(t,e),t}(Bt);function xa(e,t){return Sa(t,e)}function wa(e){return Sa(e)}function Sa(e,t){if(W(e,"modelProps"),t){lo(t,"baseModel");var r=t[Ct];r&&lo(t=r,"baseModel")}var n,o={},a=e;if(t)for(var i=_t(t),u=0,s=Object.keys(i);u<s.length;u++){var c=s[u];if(e[c])throw C("extended model cannot redeclare base model property named '"+c+"'");a[c]=i[c]}else o[Fe]=Ta(Fe,void 0,!0);if(Object.values(a).some(function(e){return!!e.typeChecker})){for(var f={},p=0,l=Object.entries(a);p<l.length;p++){var d=l[p],h=d[0],v=d[1];f[h]=v.typeChecker?v.typeChecker:ba()}n=da(function(){return f})}for(var y,m=k(Object.keys(e).filter(function(e){return!oo.has(e)}));!(y=m()).done;){var b=y.value;o[b]=Ta(b,e[b],!1)}var g=t||no,x=Object.entries(e).filter(function(e){e[0];return!!e[1].transform}).map(function(e){return[e[0],e[1].transform]}),w=function(e){function t(e,t,r,n){return new g(e,t,r||this.constructor,n,x)}return Aa(t,g),t}(),S=g[Ot];return S&&(w[Ot]=S.slice()),Dt(w,a),w[kt]=n,Object.defineProperties(w.prototype,o),w}function Aa(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ta(e,t,r){return{enumerable:r,configurable:!0,get:function(){return ka(this,t,e)},set:function(r){this[ro]&&Oa(this,t,e,r)}}}function ka(e,t,r){var n=t?t.transform:void 0;return n?ye.getOrCreateMemoTransform(e,r,n).propToData(e.$[r]):e.$[r]}function Oa(e,t,r,n){if(t&&t.options.setterAction&&!f())Uo(e,r,n);else{var o=t?t.transform:void 0;if(o){var a=ye.getOrCreateMemoTransform(e,r,o);e.$[r]=a.dataToProp(n)}else e.$[r]=n}}exports.UncheckedTypeInfo=ga;var Ca=function(e){return function(t){return Ma(e,{})(t)}};exports.model=Ca;var ja,Ma=function(e,t){return function(r){if(lo(r,"a model class"),Mt[e]&&Y("warn",'a model with name "'+e+'" already exists (if you are using hot-reloading you may safely ignore this warning)',"duplicateModelName - "+e),r[Ct])throw C("a class already decorated with `@model` cannot be re-decorated");var n=function(e,n,o){var a=new r(e,n,this.constructor,o);return t&&t.afterNew&&t.afterNew(a),M(a,ro,!0,!1),a.onInit&&(Ar(a,"onInit",pr.OnInit),a.onInit()),a};r.toString=function(){return"class "+r.name+"#"+e},r[ze]=e,Object.setPrototypeOf(n,r),n.prototype=r.prototype,Object.defineProperty(n,"name",h({},Object.getOwnPropertyDescriptor(n,"name"),{value:r.name})),n[Ct]=r;var o={name:e,class:n};return Mt[e]=o,Rt.set(n,o),Rt.set(r,o),n}};function Ra(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function Ia(e,t,r){for(var n=0,o=Object.entries(r);n<o.length;n++){var a=o[n],i=a[0],u=a[1],s=Object.getOwnPropertyDescriptor(t.prototype,i);Ra(Array.isArray(u)?u:[u],t.prototype,i,s||void 0)}return e?Ca(e)(t):t}function Pa(e,t){if(!t.serialized)throw C("cannot apply a non-serialized action call, use 'applyAction' instead");Pe(e,"subtreeRoot");var r=pa(t,e),n=[],o=Xr(e,function(t){_a(e,n,t)});try{return{returnValue:Lo(e,r),serializedActionCall:h({},t,{modelIdOverrides:n})}}finally{o()}}function _a(e,t,r){for(var n=r.length,o=0;o<n;o++){var a=r[o];"replace"!==a.op&&"add"!==a.op||Da(e,t,a.value,a.path)}}function Da(e,t,r,n){if(n.length>=1&&n[n.length-1]===Fe&&"string"==typeof r)co(ht(e,n.slice(0,n.length-1)).value)&&t.push({op:"replace",path:n.slice(),value:r});else if(Array.isArray(r))for(var o=r.length,a=0;a<o;a++)n.push(a),Da(e,t,r[a],n),n.pop();else if(P(r)&&!r[rn])for(var i=Object.keys(r),u=i.length,s=0;s<u;s++){var c=i[s],f=r[c];n.push(c),Da(e,t,f,n),n.pop()}}function Na(e,t){if(!t.serialized)throw C("cannot apply a non-serialized action call, use 'applyAction' instead");Pe(e,"subtreeRoot");var r,n=pa(t,e);return(0,a.runInAction)(function(){r=Lo(e,n),Pn(e,t.modelIdOverrides)}),r}function za(e,t){Pe(e,"subtreeRoot");var o=Symbol("actionTrackingMiddlewareData");function a(e){return e.data[o]}function i(e,t){var r=e.data[o];r?Object.assign(r,t):e.data[o]=t}var u=function(e){return!t.filter||t.filter($a(e))},s=!!t.onResume||!!t.onSuspend,c=function(e){if(i(e,{state:"started"}),t.onStart)return t.onStart(e)||void 0},f=function(e,r){var n=e.parentContext,o=!1;if(n){var u=a(n);u&&u.startAccepted&&"suspended"===u.state&&(o=!0,p(n,!1))}return i(e,{state:"finished"}),t.onFinish&&(r=t.onFinish(e,r)||r),o&&l(n),r},p=function e(r,n){var o=r.parentContext;if(o){var u=a(o);u&&u.startAccepted&&"suspended"===u.state&&e(o,!1)}i(r,{state:n?"realResumed":"fakeResumed"}),t.onResume&&t.onResume(r)},l=function e(r){i(r,{state:"suspended"}),t.onSuspend&&t.onSuspend(r);var n=r.parentContext;if(n){var o=a(n);o&&o.startAccepted&&"fakeResumed"===o.state&&e(n)}};return gr({middleware:function(e,t){var o=$a(e),a=t;if(t=function(){p(o,!0);try{return a()}finally{l(o)}},e.type===r.Sync){var i=c(o);if(i)p(o,!0),l(o),i=f(o,i);else try{i=f(o,{result:ja.Return,value:t()})}catch(m){i=f(o,{result:ja.Throw,value:m})}return Fa(i)}switch(e.asyncStepType){case n.Spawn:var u=c(o);return u?(p(o,!0),l(o),Fa(u=f(o,u))):t();case n.Return:var d=t(),h=f(o,{result:ja.Return,value:d.value});return d.resolution=h.result===ja.Return?"accept":"reject",d.value=h.value,d;case n.Throw:var v=t(),y=f(o,{result:ja.Throw,value:v.value});return v.resolution=y.result===ja.Return?"accept":"reject",v.value=y.value,v;case n.Resume:case n.ResumeError:if(s)return t();throw C("asssertion error: async step should have been filtered out - "+e.asyncStepType);default:throw C("asssertion error: async step should have been filtered out - "+e.asyncStepType)}},filter:function(e){if(e.type===r.Sync){var t=u(e);return t&&i(e,{startAccepted:!0,state:"idle"}),t}switch(e.asyncStepType){case n.Spawn:var o=u(e);return o&&i(e,{startAccepted:!0,state:"idle"}),o;case n.Return:case n.Throw:var c=a(e.spawnAsyncStepContext);return!!c&&c.startAccepted;case n.Resume:case n.ResumeError:if(s){var f=a(e.spawnAsyncStepContext);return!!f&&f.startAccepted}return!1;default:return!1}},subtreeRoot:e})}function Fa(e){if(e.result===ja.Return)return e.value;throw e.value}exports.ActionTrackingResult=ja,function(e){e.Return="return",e.Throw="throw"}(ja||(exports.ActionTrackingResult=ja={}));var Va=Symbol("simpleDataContext");function $a(e){for(;e.previousAsyncStepContext;)e=e.previousAsyncStepContext;var t=e.data[Va];if(!t){var r=e.parentContext?$a(e.parentContext):void 0;(t={actionName:e.actionName,type:e.type,target:e.target,args:e.args,data:e.data,parentContext:r}).rootContext=r?r.rootContext:t,e.data[Va]=t}return t}function Wa(e,t){return Pe(e,"subtreeRoot"),W(t,"listeners"),za(e,{filter:function(e){return!e.parentContext&&!vr(e.actionName)},onStart:function(e){if(t.onStart){var r=Ea(e);return t.onStart(r,e)}},onFinish:function(e,r){if(t.onFinish){var n=Ea(e);return t.onFinish(n,e,r)}}})}function Ea(e){var t=ut(e.target);return{actionName:e.actionName,args:e.args,targetPath:t.path,targetPathIds:Xo(t)}}function Ua(e){Pe(e,"subtreeRoot");var t=!1,r=Symbol("writable");return{dispose:za(e,{filter:function(e){if(vr(e.actionName))return!1;var n=t;if(!n)for(var o=e;o&&!n;)n=!!o.data[r],o=o.parentContext;return!n||(e.data[r]=!0,!1)},onStart:function(e){return{result:ja.Throw,value:C("tried to invoke action '"+e.actionName+"' over a readonly node")}}}),allowWrite:function(e){var r=t;t=!0;try{return e()}finally{t=r}}}}function Ba(e){return"number"==typeof e?""+e:-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Ga(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Ja(e){return e.length<=0?"":"/"+e.map(Ba).join("/")}function Ka(e){if(""===e)return[];if(!e.startsWith("/"))throw C("a JSON pointer must start with '/' or be empty");return(e=e.slice(1)).split("/").map(Ga)}function La(e){return h({},e,{path:Ja(e.path)})}function Qa(e){return h({},e,{path:Ka(e.path)})}function qa(e,t){return Pe(e,"subtreeRoot"),Ha(e,t)}function Ha(e,t){var r,n=h({recording:!0,filter:Ya},t),o=n.recording,a=n.filter,i=[];return r=e?Xr(e,function(t,r){o&&a(t,r)&&i.push({target:e,patches:t,inversePatches:r})}):Zr(function(e,t,r){o&&a(t,r)&&i.push({target:e,patches:t,inversePatches:r})}),{get recording(){return o},set recording(e){o=e},get events(){return i},dispose:function(){r()}}}var Ya=function(){return!0};function Xa(e){W(e,"target");var t=e.model,r=e.actionName;if(fo(t,"target.model"),"string"!=typeof r)throw C("target.actionName must be a string");var n=Symbol("patchRecorder");function o(e){return e.rootContext.data[n]}return za(t,{filter:function(e){var n=e.rootContext;return n.target===t&&n.actionName===r},onStart:function(e){e===e.rootContext&&function(e){e.rootContext.data[n]=Ha(void 0,{recording:!1})}(e)},onResume:function(e){o(e).recording=!0},onSuspend:function(e){o(e).recording=!1},onFinish:function(e,t){if(e===e.rootContext){var r=o(e);try{if(t.result===ja.Throw)for(var n=r.events,a=n.length-1;a>=0;a--){var i=n[a];Pn(i.target,i.inversePatches,!0)}}finally{r.dispose()}}}})}function Za(e,t){vo("transaction",e,t),eo(e.constructor,function(e){Xa({model:e,actionName:t})})}function ei(e){var t=function(t){return new ti(t,ir(e))};return Et(function(){var r=ar(e),n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"Array<"+r.getTypeName.apply(r,t.concat([r]))+">"},o=new $t(function(e,t){if(!V(e))return new Nt(t,n(o),e);if(!r.unchecked)for(var a=0;a<e.length;a++){var i=r.check(e[a],[].concat(t,[a]));if(i)return i}return null},n,t);return o},t)}var ti=function(e){function t(t,r){var n;return(n=e.call(this,t)||this).itemType=r,n}return v(t,e),d(t,[{key:"itemTypeInfo",get:function(){return Gt(this.itemType)}}]),t}(Bt);function ri(e,t,r){var n,o={},a=!1;switch(typeof e){case"string":return ri(tr,e,t);case"number":return ri(Zt,e,t);case"boolean":return ri(Yt,e,t)}arguments.length>=3?(n=t,a=!0,o=h({},r)):2===arguments.length&&(P(t)?o=h({},t):(n=t,a=!0));var i="function"==typeof n;return{$propValueType:null,$propCreationValueType:null,$isOptional:null,$instanceValueType:null,$instanceCreationValueType:null,defaultFn:a&&i?n:le,defaultValue:a&&!i?n:le,typeChecker:ir(e),transform:void 0,options:o}}exports.ArrayTypeInfo=ti;var ni=function(e){function t(){return e.apply(this,arguments)||this}v(t,e);var r=t.prototype;return r._clearUndo=function(){var e=this;si(function(){e.undoEvents.length=0})},r._clearRedo=function(){var e=this;si(function(){e.redoEvents.length=0})},r._undo=function(){var e=this;si(function(){var t=e.undoEvents.pop();e.redoEvents.push(t)})},r._redo=function(){var e=this;si(function(){var t=e.redoEvents.pop();e.undoEvents.push(t)})},r._addUndo=function(e){var t=this;si(function(){t.undoEvents.push(e),t.redoEvents.length=0})},t}(wa({undoEvents:ri(ei(ba()),function(){return[]}),redoEvents:ri(ei(ba()),function(){return[]})}));exports.UndoStore=ni,(0,u.__decorate)([bo],ni.prototype,"_clearUndo",null),(0,u.__decorate)([bo],ni.prototype,"_clearRedo",null),(0,u.__decorate)([bo],ni.prototype,"_undo",null),(0,u.__decorate)([bo],ni.prototype,"_redo",null),(0,u.__decorate)([bo],ni.prototype,"_addUndo",null),exports.UndoStore=ni=(0,u.__decorate)([Ca("mobx-keystone/UndoStore")],ni);var oi=function(){function e(e,t,r){this.disposer=e,this.subtreeRoot=t,this.store=r||new ni({})}var t=e.prototype;return t.clearUndo=function(){this.store._clearUndo()},t.clearRedo=function(){this.store._clearRedo()},t.undo=function(){var e=this;if(!this.canUndo)throw C("nothing to undo");var t=this.undoQueue[this.undoQueue.length-1];si(function(){Pn(e.subtreeRoot,t.inversePatches,!0)}),this.store._undo()},t.redo=function(){var e=this;if(!this.canRedo)throw C("nothing to redo");var t=this.redoQueue[this.redoQueue.length-1];si(function(){Pn(e.subtreeRoot,t.patches)}),this.store._redo()},t.dispose=function(){this.disposer()},d(e,[{key:"undoQueue",get:function(){return this.store.undoEvents}},{key:"redoQueue",get:function(){return this.store.redoEvents}},{key:"undoLevels",get:function(){return this.undoQueue.length}},{key:"canUndo",get:function(){return this.undoLevels>0}},{key:"redoLevels",get:function(){return this.redoQueue.length}},{key:"canRedo",get:function(){return this.redoLevels>0}}]),e}();function ai(e,t){Pe(e,"subtreeRoot");var r,n=Symbol("patchRecorder");function o(e){return e.rootContext.data[n]}var a=za(e,{onStart:function(t){o(t)||function(t){t.rootContext.data[n]={recorder:qa(e,{recording:!1,filter:ui}),recorderStack:0,undoRootContext:t}}(t)},onResume:function(e){var t=o(e);t.recorderStack++,t.recorder.recording=t.recorderStack>0},onSuspend:function(e){var t=o(e);t.recorderStack--,t.recorder.recording=t.recorderStack>0},onFinish:function(e){var t=o(e);if(t&&t.undoRootContext===e){var n=t.recorder;if(n.events.length>0){for(var a,i=[],u=[],s=k(n.events);!(a=s()).done;){var c=a.value;i.push.apply(i,c.patches),u.push.apply(u,c.inversePatches)}r.store._addUndo({targetPath:ut(e.target).path,actionName:e.actionName,patches:i,inversePatches:u})}n.dispose()}}});return r=new oi(a,e,t)}exports.UndoManager=oi,(0,u.__decorate)([a.computed],oi.prototype,"undoQueue",null),(0,u.__decorate)([a.computed],oi.prototype,"redoQueue",null),(0,u.__decorate)([a.computed],oi.prototype,"undoLevels",null),(0,u.__decorate)([a.computed],oi.prototype,"canUndo",null),(0,u.__decorate)([a.action],oi.prototype,"clearUndo",null),(0,u.__decorate)([a.computed],oi.prototype,"redoLevels",null),(0,u.__decorate)([a.computed],oi.prototype,"canRedo",null),(0,u.__decorate)([a.action],oi.prototype,"clearRedo",null),(0,u.__decorate)([a.action],oi.prototype,"undo",null),(0,u.__decorate)([a.action],oi.prototype,"redo",null);var ii=!1,ui=function(){return!ii};function si(e){var t=ii;ii=!0;try{return e()}finally{ii=t}}function ci(e){return"value"===e.type?e.value:e.value.get()}var fi=function(){function e(e){this.nodeContextValue=new WeakMap,this.nodeAtom=new WeakMap,this.setDefault(e)}var t=e.prototype;return t.getNodeAtom=function(e){var t=this.nodeAtom.get(e);return t||(t=(0,a.createAtom)("contextValue"),this.nodeAtom.set(e,t)),t},t.fastGet=function(e){this.getNodeAtom(e).reportObserved();var t=this.nodeContextValue.get(e);if(t)return ci(t);var r=et(e);return r?this.fastGet(r):this.getDefault()},t.get=function(e){return Pe(e,"node"),this.fastGet(e)},t.fastGetProviderNode=function(e){if(this.getNodeAtom(e).reportObserved(),this.nodeContextValue.get(e))return e;var t=et(e);return t?this.fastGetProviderNode(t):void 0},t.getProviderNode=function(e){return Pe(e,"node"),this.fastGetProviderNode(e)},t.getDefault=function(){return ci(this.defaultContextValue)},t.setDefault=function(e){this.defaultContextValue={type:"value",value:e}},t.setDefaultComputed=function(e){this.defaultContextValue={type:"computed",value:(0,a.computed)(e)}},t.set=function(e,t){Pe(e,"node"),this.nodeContextValue.set(e,{type:"value",value:t}),this.getNodeAtom(e).reportChanged()},t.setComputed=function(e,t){Pe(e,"node"),this.nodeContextValue.set(e,{type:"computed",value:(0,a.computed)(t)}),this.getNodeAtom(e).reportChanged()},t.unset=function(e){Pe(e,"node"),this.nodeContextValue.delete(e),this.getNodeAtom(e).reportChanged()},e}();function pi(e){return new fi(e)}function li(e,t,r){for(var n=0,o=Object.entries(r);n<o.length;n++){var a=o[n];Po(e,t,a[0],a[1],!0)}return e}function di(e,t,r){for(var n=function(){var r=a[o],n=r[0],i=r[1];Po(e,t,n,function(e){this[i]=e},!1)},o=0,a=Object.entries(r);o<a.length;o++)n();return e}function hi(e,t){for(var r=function(){var t=o[n],r=t[0],i=t[1];jo(e,r);var u=new WeakMap,s=void 0,c=void 0;"function"==typeof i?s=i:(s=i.get,c=i.equals),e[r]=function(e){var t=u.get(e);return t||(t=(0,a.computed)(s,{name:r,context:e,equals:c}),u.set(e,t)),t.get()}},n=0,o=Object.entries(t);n<o.length;n++)r();return e}function vi(e,t){var r=arguments.length>=2?e:null,n=arguments.length>=2?t:e;Q(n,"namespace");var o={create:r?mi.bind(void 0,r):yi,type:r};return o.views=hi.bind(void 0,o),o.actions=Io.bind(void 0,o,n),o.flowActions=li.bind(void 0,o,n),o.setterActions=di.bind(void 0,o,n),o}function yi(e){return Jn(e)}function mi(e,t){if(fe()){var r=fr(e,t);r&&r.throw(t)}return Jn(t)}function bi(){return this.splice.apply(this,arguments)}(0,u.__decorate)([a.observable.ref],fi.prototype,"defaultContextValue",void 0),(0,u.__decorate)([a.action],fi.prototype,"setDefault",null),(0,u.__decorate)([a.action],fi.prototype,"setDefaultComputed",null),(0,u.__decorate)([a.action],fi.prototype,"set",null),(0,u.__decorate)([a.action],fi.prototype,"setComputed",null),(0,u.__decorate)([a.action],fi.prototype,"unset",null);var gi=vi("mobx-keystone/fnArray").actions({set:function(e,t){(0,a.set)(this,e,t)},delete:function(e){return(0,a.remove)(this,""+e)},setLength:function(e){this.length=e},concat:function(){return this.concat.apply(this,arguments)},copyWithin:function(e,t,r){return this.copyWithin(e,t,r)},fill:function(e,t,r){return this.fill(e,t,r)},pop:function(){return this.pop()},push:function(){return this.push.apply(this,arguments)},reverse:function(){return this.reverse()},shift:function(){return this.shift()},slice:function(e,t){return this.slice(e,t)},sort:function(e){return this.sort(e)},splice:bi,unshift:function(){return this.unshift.apply(this,arguments)}}),xi={set:gi.set,delete:gi.delete,setLength:gi.setLength,concat:gi.concat,copyWithin:gi.copyWithin,fill:gi.fill,pop:gi.pop,push:gi.push,reverse:gi.reverse,shift:gi.shift,slice:gi.slice,sort:gi.sort,splice:gi.splice,unshift:gi.unshift,create:gi.create};exports.fnArray=xi;var wi=vi("mobx-keystone/fnObject").actions({set:function(e,t){(0,a.set)(this,e,t)},delete:function(e){return(0,a.remove)(this,e)},call:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this[e].apply(this,r)}}),Si={set:wi.set,delete:wi.delete,call:wi.call,create:wi.create};exports.fnObject=Si;var Ai=function(){function e(){this._locked=!0}var t=e.prototype;return t.unlockedFn=function(e){var t=this;return function(){var r=t._locked;t._locked=!1;try{return e.apply(void 0,arguments)}finally{t._locked=r}}},t.withUnlock=function(e){var t=this._locked;this._locked=!1;try{return e()}finally{this._locked=t}},d(e,[{key:"isLocked",get:function(){return this._locked}}]),e}();function Ti(e){var t=new WeakMap;return{for:function(r){if(t.has(r))return t.get(r);var n=e(r);return t.set(r,n),n}}}var ki=(0,a.action)(function(e){if($()&&!(0,a.isObservableObject)(e))throw C("assertion failed: expected an observable object");var t=a.observable.map();t.dataObject=e;for(var r=Object.keys(e),n=0;n<r.length;n++){var o=r[n];t.set(o,e[o])}var i=new Ai;return(0,a.observe)(e,(0,a.action)(i.unlockedFn(function(e){switch(e.type){case"add":case"update":t.set(e.name,e.newValue);break;case"remove":t.delete(e.name)}}))),(0,a.intercept)(t,(0,a.action)(function(t){if(!i.isLocked)return null;switch(t.type){case"add":case"update":(0,a.set)(e,t.name,t.newValue);break;case"delete":(0,a.remove)(e,t.name)}return t})),t}),Oi=(0,a.action)(function(e){if($()&&!(0,a.isObservableArray)(e))throw C("assertion failed: expected an observable array");var t=a.observable.map(e);if(t.dataObject=e,t.size!==e.length)throw C("arrays backing a map cannot contain duplicate keys");var r=new Ai;return(0,a.observe)(e,(0,a.action)(r.unlockedFn(function(e){switch(e.type){case"splice":for(var r=e.removed,n=0;n<r.length;n++)t.delete(r[n][0]);for(var o=e.added,a=0;a<o.length;a++)t.set(o[a][0],o[a][1]);break;case"update":t.delete(e.oldValue[0]),t.set(e.newValue[0],e.newValue[1])}}))),(0,a.intercept)(t,(0,a.action)(function(t){if(!r.isLocked)return null;switch(t.type){case"update":var n=e.findIndex(function(e){return e[0]===t.name});e[n]=[t.name,t.newValue];break;case"add":e.push([t.name,t.newValue]);break;case"delete":var o=e.findIndex(function(e){return e[0]===t.name});o>=0&&e.splice(o,1)}return t})),t}),Ci=Ti(function(e){return V(e)?(B(e,"objOrArray"),Oi(e)):(U(e,"objOrArray"),ki(e))});function ji(e){return Ci.for(e)}function Mi(e){G(e,"map");var t=e.dataObject;if(t&&!V(t))return t;for(var r,n={},o=k(e.keys());!(r=o()).done;){var a=r.value;n[a]=e.get(a)}return n}function Ri(e){G(e,"map");var t=e.dataObject;if(t&&V(t))return t;for(var r,n=[],o=k(e.keys());!(r=o()).done;){var a=r.value;n.push([a,e.get(a)])}return n}var Ii={propToData:function(e){return V(e)?ji(e):e},dataToProp:function(e){return z(e)?Ri(e):e}};function Pi(e){return ge(de(e),Ii,!0)}function _i(e,t){return ge(ri(e,t),Ii,!0)}var Di=(0,a.action)(function(e){if($()&&!(0,a.isObservableArray)(e))throw C("assertion failed: expected an observable array");var t=a.observable.set(e);if(t.dataObject=e,t.size!==e.length)throw C("arrays backing a set cannot contain duplicate values");var r=new Ai;return(0,a.observe)(e,(0,a.action)(r.unlockedFn(function(e){switch(e.type){case"splice":for(var r=e.removed,n=0;n<r.length;n++)t.delete(r[n]);for(var o=e.added,a=0;a<o.length;a++)t.add(o[a]);break;case"update":t.delete(e.oldValue),t.add(e.newValue)}}))),(0,a.intercept)(t,(0,a.action)(function(t){if(!r.isLocked)return null;switch(t.type){case"add":e.push(t.newValue);break;case"delete":var n=e.indexOf(t.oldValue);n>=0&&e.splice(n,1)}return t})),t}),Ni=Ti(function(e){return B(e,"array"),Di(e)});function zi(e){return Ni.for(e)}function Fi(e){J(e,"set");var t=e.dataObject;return t||Array.from(e.values())}var Vi={propToData:function(e){return V(e)?zi(e):e},dataToProp:function(e){return F(e)?Fi(e):e}};function $i(e){return ge(de(e),Vi,!0)}function Wi(e,t){return ge(ri(e,t),Vi,!0)}var Ei={propToData:function(e){return P(e)?ji(e):e},dataToProp:function(e){return z(e)?Mi(e):e}};function Ui(e){return ge(de(e),Ei,!0)}function Bi(e,t){return ge(ri(e,t),Ei,!0)}function Gi(e){return new Ki(e)}var Ji="this Date object is immutable",Ki=function(e){function t(){return e.apply(this,arguments)||this}v(t,e);var r=t.prototype;return r.setTime=function(){throw C(Ji)},r.setMilliseconds=function(){throw C(Ji)},r.setUTCMilliseconds=function(){throw C(Ji)},r.setSeconds=function(){throw C(Ji)},r.setUTCSeconds=function(){throw C(Ji)},r.setMinutes=function(){throw C(Ji)},r.setUTCMinutes=function(){throw C(Ji)},r.setHours=function(){throw C(Ji)},r.setUTCHours=function(){throw C(Ji)},r.setDate=function(){throw C(Ji)},r.setUTCDate=function(){throw C(Ji)},r.setMonth=function(){throw C(Ji)},r.setUTCMonth=function(){throw C(Ji)},r.setFullYear=function(){throw C(Ji)},r.setUTCFullYear=function(){throw C(Ji)},t}(w(Date)),Li=he({propToData:function(e){return"string"!=typeof e?e:Gi(e)},dataToProp:function(e){return e instanceof Date?e.toJSON():e}});function Qi(e){return ge(de(e),Li,!0)}function qi(e,t){return ge(ri(e,t),Li,!0)}exports.stringAsDate=Li;var Hi=he({propToData:function(e){return"number"!=typeof e?e:Gi(e)},dataToProp:function(e){return e instanceof Date?e.getTime():e}});function Yi(e){return ge(de(e),Hi,!0)}function Xi(e,t){return ge(ri(e,t),Hi,!0)}function Zi(e,t,n,o){Pe(n,"target");var a=h({logArgsNearName:!0},o),i=0;t.subscribe(function(r){"DISPATCH"===r.type&&function(t,r,n){try{switch(i++,n.payload.type){case"RESET":return _o(r,u),t.init(u);case"COMMIT":return t.init(Tt(r));case"ROLLBACK":return t.init(e.extractState(n));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return void _o(r,e.extractState(n));case"IMPORT_STATE":var o=n.payload.nextLiftedState,a=o.computedStates;_o(r,a[a.length-1].state),t.send(null,o)}}finally{i--}}(t,n,r)});var u=Tt(n);t.init(u);var s=0,c=Symbol("actionId");za(n,{onStart:function(e){e.data[c]=s++},onResume:function(e){e.parentContext&&p(e.parentContext,void 0),p(e,void 0)},onSuspend:function(e){p(e,void 0)},onFinish:function(e,t){p(e,t.result)}});var f=u;function p(e,o){if(!i){var u=Tt(n);if(u!==f||o===ja.Throw){f=u;var s=ut(e.target),p={type:function e(t,n,o){var i="[/"+n.path.join("/")+"] ";var u=i+t.actionName;if(a.logArgsNearName){var s=t.args.map(function(e){try{return JSON.stringify(e)}catch(t){return"**unserializable**"}}).join(", ");s.length>64&&(s=s.slice(0,64)+"..."),u+="("+s+")"}var f=t.data[c];u+=" (id "+(void 0!==f?f:"?");t.type===r.Async&&(u+=", async");u+=")";o===ja.Throw&&(u+=" -error thrown-");if(t.parentContext){var p=e(t.parentContext,ut(t.parentContext.target),void 0);p&&(u=p+" >>> "+u)}return u}(e,s,o),path:s.path,args:e.args};t.send(p,u)}}}}function eu(e,t){Pe(e,"node");var r=Tt(e);return(0,a.reaction)(function(){return Tt(e)},function(e){var n=r;r=e,t(e,n)})}exports.timestampAsDate=Hi;var tu="applyAction";function ru(e){return{type:tu,payload:e}}function nu(e){Pe(e,"target");for(var t=function(t){if(t.type!==tu)throw C("action type was expected to be '"+tu+"', but it was '"+t.type+"'");return Lo(e,t.payload),t},r={getState:function(){return Tt(e)},dispatch:function(e){return ou(e,i,t)},subscribe:function(t){return eu(e,t)}},n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];var i=o.map(function(e){return e(r)});return r}function ou(e,t,r){var n=0;return function e(o){var a=t[n];return n++,a?a(e)(o):r(o)}(e)}exports.reduxActionType=tu;var au=function(e){function t(){return e.apply(this,arguments)||this}return v(t,e),d(t,[{key:"maybeCurrent",get:function(){return this.resolve()}},{key:"isValid",get:function(){return!!this.maybeCurrent}},{key:"current",get:function(){var e=this.maybeCurrent;if(!e)throw C("a reference of type '"+this[ze]+"' could not resolve an object with id '"+this.id+"'");return e}}]),t}(wa({id:ri(tr)}));function iu(e,t){return e instanceof t.refClass}exports.Ref=au,(0,u.__decorate)([a.computed],au.prototype,"maybeCurrent",null),(0,u.__decorate)([a.computed],au.prototype,"isValid",null),(0,u.__decorate)([a.computed],au.prototype,"current",null);var uu=new WeakMap;function su(e,t,r,n){var o=function(e){function r(){return e.apply(this,arguments)||this}v(r,e);var o=r.prototype;return o.resolve=function(){return this.resolver||(this.resolver=t(this)),this.resolver(this)},o.onInit=function(){var e,t=this,r=!0;(0,a.reaction)(function(){return t.maybeCurrent},function(o){var a=e,u=r;e=o,r=!1,lu(t,i,o,a),!u&&n&&o!==a&&n(t,o,a)},{fireImmediately:!0})},r}(au);o=(0,u.__decorate)([Ca(e)],o);var i=function(e){var t;if("string"==typeof e?t=e:(W(e,"target"),t=r(e)),"string"!=typeof t)throw C("ref target object must have an id of string type");return new o({id:t})};return i.refClass=o,i}function cu(e){if(co(e)&&e.getRefId){var t=e.getRefId();if("string"!=typeof t)throw C("'getRefId()' must return a string when present");return t}}function fu(e,t){var r=uu.get(e);if(r||(r={all:a.observable.set(void 0,{deep:!1}),byType:new WeakMap},uu.set(e,r)),t){var n=r.byType.get(t);return n||(n=a.observable.set(void 0,{deep:!1}),r.byType.set(t,n)),n}return r.all}function pu(e,t){return Pe(e,"target"),fu(e,t)}function lu(e,t,r,n){r!==n&&(n&&(fu(n).delete(e),fu(n,t).delete(e)),r&&(fu(r).add(e),fu(r,t).add(e)))}var du=(0,a.action)("customRef",function(e,t){return su(e,function(){return t.resolve},t.getId||cu,t.onResolvedValueChange)});exports.customRef=du;var hu=new WeakMap,vu=(0,a.action)("rootRef",function(e,t){var r=t&&t.getId||cu,n=t&&t.onResolvedValueChange,o=hu.get(r);o||(o=Cr(r),hu.set(r,o));return su(e,function(e){var t;return function(){var n=ct(e);if(yu(e,n,t,r))return t;var a=o.walk(n),i=a?a.get(e.id):void 0;return i&&(t=i),i}},r,n)});function yu(e,t,r,n){return!!r&&(e.id===n(r)&&t===ct(r))}function mu(e,t){Pe(e,"node");var r=h({generateNewIds:!0},t),n=Tt(e);return bn(n,r)}function bu(e,t){return e===t||(Ie(e)?e=Tt(e):(0,a.isObservable)(e)&&(e=(0,a.toJS)(e,gu)),Ie(t)?t=Tt(t):(0,a.isObservable)(t)&&(t=(0,a.toJS)(t,gu)),(0,s.default)(e,t))}exports.rootRef=vu;var gu={exportMapsAsObjects:!1,recurseEverything:!1},xu=function(){function e(e){Pe(e,"original"),this.originalData=e,this.data=bn(this.originalSnapshot,{generateNewIds:!1})}var t=e.prototype;return t.commit=function(){_o(this.originalData,Tt(this.data))},t.commitByPath=function(e){var t=ht(this.data,e);if(!t.resolved)throw C("path "+JSON.stringify(e)+" could not be resolved in draft object");var r=Su(this.data,e);if(!yt(this.originalData,e,r).resolved)throw C("path "+JSON.stringify(e)+" could not be resolved in original object");Pn(this.originalData,[{path:e,op:"replace",value:Tt(t.value)}])},t.reset=function(){_o(this.data,this.originalSnapshot)},t.resetByPath=function(e){var t=ht(this.originalData,e);if(!t.resolved)throw C("path "+JSON.stringify(e)+" could not be resolved in original object");var r=Su(this.originalData,e);if(!yt(this.data,e,r).resolved)throw C("path "+JSON.stringify(e)+" could not be resolved in draft object");Pn(this.data,[{path:e,op:"replace",value:Tt(t.value)}])},t.isDirtyByPath=function(e){var t=ht(this.data,e);if(!t.resolved)throw C("path "+JSON.stringify(e)+" could not be resolved in draft object");var r=Su(this.data,e),n=yt(this.originalData,e,r);return!n.resolved||!bu(t.value,n.value)},d(e,[{key:"isDirty",get:function(){return!bu(Tt(this.data),this.originalSnapshot)}},{key:"originalSnapshot",get:function(){return Tt(this.originalData)}}]),e}();function wu(e){return new xu(e)}function Su(e,t){var r=Zo(e,t);return r.length>=1&&(r[r.length-1]=vt),r}exports.Draft=xu,(0,u.__decorate)([a.action],xu.prototype,"commit",null),(0,u.__decorate)([a.action],xu.prototype,"commitByPath",null),(0,u.__decorate)([a.action],xu.prototype,"reset",null),(0,u.__decorate)([a.action],xu.prototype,"resetByPath",null),(0,u.__decorate)([a.computed],xu.prototype,"isDirty",null),(0,u.__decorate)([a.computed],xu.prototype,"originalSnapshot",null);var Au=pi();function Tu(e){return Au.get(e)}function ku(e){return!!Tu(e)}var Ou=function(){function e(e){var t=this;this.subtreeRoot=e,Pe(e,"subtreeRoot");var r=Au.getDefault();Au.setDefault(this);try{this.subtreeRootClone=mu(e,{generateNewIds:!1}),Au.set(this.subtreeRootClone,this)}catch(f){throw f}finally{Au.setDefault(r)}var n=!1,o=(0,a.reaction)(function(){return zr(e)},function(e){e!==n&&(n=e,e?Dr(t.subtreeRootClone):Nr(t.subtreeRootClone))},{fireImmediately:!0}),i=Xr(e,function(e){if(t.withSandboxPatchRecorder)throw C("original subtree must not change while 'withSandbox' executes");t.allowWrite(function(){Pn(t.subtreeRootClone,e)})}),u=Ua(this.subtreeRootClone),s=u.allowWrite,c=u.dispose;this.allowWrite=s,this.disposer=function(){o(),i(),c(),zr(t.subtreeRootClone)&&Nr(t.subtreeRootClone),t.disposer=function(){}}}var t=e.prototype;return t.withSandbox=function(e,t){K(t,"fn");var r=Array.isArray(e)&&!Re(e,!1),n=r?e:[e],o=this.prepareSandboxChanges(n),a=o.sandboxNodes,i=o.applyRecorderChanges,u=!1;try{var s=this.allowWrite(function(){return t(r?a:a[0])});return"boolean"==typeof s?void(u=s):(u=s.commit,s.return)}finally{i(u)}},t.dispose=function(){this.disposer()},t.prepareSandboxChanges=function(e){var t=this,r=!!this.withSandboxPatchRecorder,n=e.map(function(e){Pe(e,"node");var n=mt(r?t.subtreeRootClone:t.subtreeRoot,e);if(!n)throw C("node is not a child of subtreeRoot"+(r?"Clone":""));var o=ht(t.subtreeRootClone,n).value;if(!o)throw C("path could not be resolved - sandbox may be out of sync with original tree");return o});this.withSandboxPatchRecorder||(this.withSandboxPatchRecorder=qa(this.subtreeRootClone));var o=this.withSandboxPatchRecorder,i=o.events.length;return{sandboxNodes:n,applyRecorderChanges:function(e){r||(o.dispose(),t.withSandboxPatchRecorder=void 0),(0,a.runInAction)(function(){if(e){if(!r)for(var n=o.events.length,a=0;a<n;a++)Pn(t.subtreeRoot,o.events[a].patches)}else t.allowWrite(function(){for(var e=o.events.length;e-- >i;)Pn(t.subtreeRootClone,o.events[e].inversePatches,!0)})})}}},e}();function Cu(e){return new Ou(e)}exports.SandboxManager=Ou;var ju=function(e){function t(){return e.apply(this,arguments)||this}v(t,e);var r=t.prototype;return r.add=function(e){var t=this.items;return t.includes(e)||t.push(e),this},r.clear=function(){this.items.length=0},r.delete=function(e){var t=this.items,r=t.findIndex(function(t){return t===e});return r>=0&&(t.splice(r,1),!0)},r.forEach=function(e,t){for(var r=this.items,n=r.length,o=0;o<n;o++){var a=r[o];e.call(t,a,a,this)}},r.has=function(e){return this.items.includes(e)},r.keys=function(){return this.values()},r.values=function(){var e=this.items;return(0,a.values)(e)[Symbol.iterator]()},r.entries=function(){return this.items.map(function(e){return[e,e]}).values()},r[Symbol.iterator]=function(){return this.values()},d(t,[{key:"size",get:function(){return this.items.length}},{key:Symbol.toStringTag,get:function(){return"ArraySet"}}]),t}(wa({items:ri(ei(ba()),function(){return[]})}));function Mu(e){var t=e?e.slice():[];return new ju({items:t})}function Ru(e){var t=function(t){return new Iu(t,ir(e))};return Et(function(){var r=ar(e),n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"ArraySet<"+r.getTypeName.apply(r,t.concat([r]))+">"},o=new $t(function(e,t){return e instanceof ju?ar(da(function(){return{items:ei(r)}})).check(e.$,t):new Nt(t,n(o),e)},n,t);return o},t)}exports.ArraySet=ju,(0,u.__decorate)([bo],ju.prototype,"add",null),(0,u.__decorate)([bo],ju.prototype,"clear",null),(0,u.__decorate)([bo],ju.prototype,"delete",null),exports.ArraySet=ju=(0,u.__decorate)([Ca("mobx-keystone/ArraySet")],ju);var Iu=function(e){function t(t,r){var n;return(n=e.call(this,t)||this).valueType=r,n}return v(t,e),d(t,[{key:"valueTypeInfo",get:function(){return Gt(this.valueType)}}]),t}(Bt);function Pu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=function(e){return new _u(e,t.map(ir))};return Et(function(){var e=t.map(ar);if(e.some(function(e){return e.unchecked}))return ba();var r=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.map(function(e){return r.includes(e)?"...":e.getTypeName.apply(e,r.concat([e]))}).join(" | ")},o=new $t(function(t,n){return e.every(function(e){return!!e.check(t,n)})?new Nt(n,r(o),t):null},r,n);return o},n)}exports.ArraySetTypeInfo=Iu;var _u=function(e){function t(t,r){var n;return(n=e.call(this,t)||this).orTypes=r,n._orTypeInfos=Z(function(){return n.orTypes.map(Gt)}),n}return v(t,e),d(t,[{key:"orTypeInfos",get:function(){return this._orTypeInfos()}}]),t}(Bt);function Du(e){for(var t=[],r=0,n=Object.keys(e);r<n.length;r++){var o=n[r],a=e[o];"string"==typeof a&&e[a]===+o||t.push(a)}return t}function Nu(e){W(e,"enumObject");var t=Du(e).map(function(e){return Lt(e)});return Pu.apply(void 0,t)}function zu(e){return Pu(e,qt)}function Fu(e){return Pu(e,Ht)}function Vu(e){var t=function(t){return new $u(t,ir(e))};return Et(function(){var r=ar(e),n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"Record<"+r.getTypeName.apply(r,t.concat([r]))+">"},o=new $t(function(e,t){if(!P(e))return new Nt(t,n(o),e);if(!r.unchecked)for(var a=Object.keys(e),i=0;i<a.length;i++){var u=a[i],s=e[u],c=r.check(s,[].concat(t,[u]));if(c)return c}return null},n,t);return o},t)}exports.OrTypeInfo=_u;var $u=function(e){function t(t,r){var n;return(n=e.call(this,t)||this).valueType=r,n}return v(t,e),d(t,[{key:"valueTypeInfo",get:function(){return Gt(this.valueType)}}]),t}(Bt);exports.RecordTypeInfo=$u;var Wu=function(e){function t(){return e.apply(this,arguments)||this}v(t,e);var r=t.prototype;return r.clear=function(){for(var e=this.items,t=Object.keys(e),r=t.length,n=0;n<r;n++){var o=t[n];(0,a.remove)(e,o)}},r.delete=function(e){return!!this.has(e)&&((0,a.remove)(this.items,e),!0)},r.forEach=function(e,t){for(var r=this.items,n=Object.keys(r),o=n.length,a=0;a<o;a++){var i=n[a];e.call(t,r[i],i,this)}},r.get=function(e){return(0,a.get)(this.items,e)},r.has=function(e){return(0,a.has)(this.items,e)},r.set=function(e,t){return(0,a.set)(this.items,e,t),this},r.keys=function(){return(0,a.keys)(this.items)[Symbol.iterator]()},r.values=function(){return(0,a.values)(this.items)[Symbol.iterator]()},r.entries=function(){return(0,a.entries)(this.items)[Symbol.iterator]()},r[Symbol.iterator]=function(){return this.entries()},d(t,[{key:"size",get:function(){return(0,a.keys)(this.items).length}},{key:Symbol.toStringTag,get:function(){return"ObjectMap"}}]),t}(wa({items:ri(Vu(ba()),function(){return{}})}));function Eu(e){var t={};if(e)for(var r=e.length,n=0;n<r;n++){var o=e[n];t[o[0]]=o[1]}return new Wu({items:t})}function Uu(e){var t=function(t){return new Bu(t,ir(e))};return Et(function(){var r=ar(e),n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"ObjectMap<"+r.getTypeName.apply(r,t.concat([r]))+">"},o=new $t(function(e,t){return e instanceof Wu?ar(da(function(){return{items:Vu(r)}})).check(e.$,t):new Nt(t,n(o),e)},n,t);return o},t)}exports.ObjectMap=Wu,(0,u.__decorate)([bo],Wu.prototype,"clear",null),(0,u.__decorate)([bo],Wu.prototype,"delete",null),(0,u.__decorate)([bo],Wu.prototype,"set",null),exports.ObjectMap=Wu=(0,u.__decorate)([Ca("mobx-keystone/ObjectMap")],Wu);var Bu=function(e){function t(t,r){var n;return(n=e.call(this,t)||this).valueType=r,n}return v(t,e),d(t,[{key:"valueTypeInfo",get:function(){return Gt(this.valueType)}}]),t}(Bt);function Gu(){return Lu}exports.ObjectMapTypeInfo=Bu;var Ju="Ref",Ku=da(function(){return{id:tr}}),Lu=new $t(function(e,t){return e instanceof au?ar(Ku).check(e.$,t):new Nt(t,Ju,e)},function(){return Ju},function(e){return new Qu(e)}),Qu=function(e){function t(){return e.apply(this,arguments)||this}return v(t,e),t}(Bt);function qu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=function(e){return new Hu(e,t.map(ir))};return Et(function(){var e=t.map(ar),r=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return"["+e.map(function(e){return r.includes(e)?"...":e.getTypeName.apply(e,r.concat([e]))}).join(", ")+"]"},o=new $t(function(n,a){if(!V(n)||n.length!==t.length)return new Nt(a,r(o),n);for(var i=0;i<n.length;i++){var u=e[i];if(!u.unchecked){var s=u.check(n[i],[].concat(a,[i]));if(s)return s}}return null},r,n);return o},n)}exports.RefTypeInfo=Qu;var Hu=function(e){function t(t,r){var n;return(n=e.call(this,t)||this).itemTypes=r,n._itemTypeInfos=Z(function(){return n.itemTypes.map(Gt)}),n}return v(t,e),d(t,[{key:"itemTypeInfos",get:function(){return this._itemTypeInfos()}}]),t}(Bt);exports.TupleTypeInfo=Hu;var Yu={literal:Lt,undefined:qt,null:Ht,boolean:Yt,number:Zt,string:tr,or:Pu,maybe:zu,maybeNull:Fu,array:ei,record:Vu,unchecked:ba,model:sr,object:da,ref:Gu,frozen:va,enum:Nu,refinement:Jt,integer:nr,nonEmptyString:or,objectMap:Uu,arraySet:Ru,tuple:qu,mapArray:function(e){return ei(qu(tr,e))},setArray:function(e){return ei(e)},mapObject:function(e){return Vu(e)},dateString:or,dateTimestamp:nr};exports.types=Yu;
},{"mobx":"uYi1","uuid":"hs22","tslib":"ZjaW","fast-deep-equal/es6":"XD9V","buffer":"dskh"}],"EM1A":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,n=arguments[3];!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof e&&e.amd)e([],t);else{("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).localforage=t()}}(function(){return function e(n,t,r){function o(a,u){if(!t[a]){if(!n[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var s=t[a]={exports:{}};n[a][0].call(s.exports,function(e){var t=n[a][1][e];return o(t||e)},s,s.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,r){(function(e){"use strict";var n,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(s),u=e.document.createTextNode("");a.observe(u,{characterData:!0}),n=function(){u.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var n=e.document.createElement("script");n.onreadystatechange=function(){s(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n)}:function(){setTimeout(s,0)};else{var c=new e.MessageChannel;c.port1.onmessage=s,n=function(){c.port2.postMessage(0)}}var f=[];function s(){var e,n;r=!0;for(var t=f.length;t;){for(n=f,f=[],e=-1;++e<t;)n[e]();t=f.length}r=!1}t.exports=function(e){1!==f.push(e)||r||n()}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n,t){"use strict";var r=e(1);function o(){}var i={},a=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==o&&v(this,e)}function s(e,n,t){this.promise=e,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof t&&(this.onRejected=t,this.callRejected=this.otherCallRejected)}function l(e,n,t){r(function(){var r;try{r=n(t)}catch(o){return i.reject(e,o)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)})}function d(e){var n=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof n)return function(){n.apply(e,arguments)}}function v(e,n){var t=!1;function r(n){t||(t=!0,i.reject(e,n))}function o(n){t||(t=!0,i.resolve(e,n))}var a=h(function(){n(o,r)});"error"===a.status&&r(a.value)}function h(e,n){var t={};try{t.value=e(n),t.status="success"}catch(r){t.status="error",t.value=r}return t}n.exports=f,f.prototype.catch=function(e){return this.then(null,e)},f.prototype.then=function(e,n){if("function"!=typeof e&&this.state===u||"function"!=typeof n&&this.state===a)return this;var t=new this.constructor(o);this.state!==c?l(t,this.state===u?e:n,this.outcome):this.queue.push(new s(t,e,n));return t},s.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},s.prototype.otherCallFulfilled=function(e){l(this.promise,this.onFulfilled,e)},s.prototype.callRejected=function(e){i.reject(this.promise,e)},s.prototype.otherCallRejected=function(e){l(this.promise,this.onRejected,e)},i.resolve=function(e,n){var t=h(d,n);if("error"===t.status)return i.reject(e,t.value);var r=t.value;if(r)v(e,r);else{e.state=u,e.outcome=n;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(n)}return e},i.reject=function(e,n){e.state=a,e.outcome=n;for(var t=-1,r=e.queue.length;++t<r;)e.queue[t].callRejected(n);return e},f.resolve=function(e){if(e instanceof this)return e;return i.resolve(new this(o),e)},f.reject=function(e){var n=new this(o);return i.reject(n,e)},f.all=function(e){var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);var a=new Array(t),u=0,c=-1,f=new this(o);for(;++c<t;)s(e[c],c);return f;function s(e,o){n.resolve(e).then(function(e){a[o]=e,++u!==t||r||(r=!0,i.resolve(f,a))},function(e){r||(r=!0,i.reject(f,e))})}},f.race=function(e){var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);var a=-1,u=new this(o);for(;++a<t;)c=e[a],n.resolve(c).then(function(e){r||(r=!0,i.resolve(u,e))},function(e){r||(r=!0,i.reject(u,e))});var c;return u}},{1:1}],3:[function(e,t,r){(function(n){"use strict";"function"!=typeof n.Promise&&(n.Promise=e(2))}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,n,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function i(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(o){if("TypeError"!==o.name)throw o;for(var t=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)t.append(e[r]);return t.getBlob(n.type)}}"undefined"==typeof Promise&&e(3);var a=Promise;function u(e,n){n&&e.then(function(e){n(null,e)},function(e){n(e)})}function c(e,n,t){"function"==typeof n&&e.then(n),"function"==typeof t&&e.catch(t)}function f(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function s(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var l="local-forage-detect-blob-support",d=void 0,v={},h=Object.prototype.toString,y="readonly",p="readwrite";function b(e){return"boolean"==typeof d?a.resolve(d):function(e){return new a(function(n){var t=e.transaction(l,p),r=i([""]);t.objectStore(l).put(r,"key"),t.onabort=function(e){e.preventDefault(),e.stopPropagation(),n(!1)},t.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);n(t||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}(e).then(function(e){return d=e})}function m(e){var n=v[e.name],t={};t.promise=new a(function(e,n){t.resolve=e,t.reject=n}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function g(e){var n=v[e.name].deferredOperations.pop();if(n)return n.resolve(),n.promise}function _(e,n){var t=v[e.name].deferredOperations.pop();if(t)return t.reject(n),t.promise}function w(e,n){return new a(function(t,r){if(v[e.name]=v[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!n)return t(e.db);m(e),e.db.close()}var i=[e.name];n&&i.push(e.version);var a=o.open.apply(o,i);n&&(a.onupgradeneeded=function(n){var t=a.result;try{t.createObjectStore(e.storeName),n.oldVersion<=1&&t.createObjectStore(l)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+n.oldVersion+" to version "+n.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),a.onerror=function(e){e.preventDefault(),r(a.error)},a.onsuccess=function(){t(a.result),g(e)}})}function I(e){return w(e,!1)}function S(e){return w(e,!0)}function E(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==n&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||t){if(t){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function N(e){return i([function(e){for(var n=e.length,t=new ArrayBuffer(n),r=new Uint8Array(t),o=0;o<n;o++)r[o]=e.charCodeAt(o);return t}(atob(e.data))],{type:e.type})}function j(e){return e&&e.__local_forage_encoded_blob}function R(e){var n=this,t=n._initReady().then(function(){var e=v[n._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return c(t,e,e),t}function A(e,n,t,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,n);t(null,o)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return a.resolve().then(function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),S(e)}).then(function(){return function(e){m(e);for(var n=v[e.name],t=n.forages,r=0;r<t.length;r++){var o=t[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,I(e).then(function(n){return e.db=n,E(e)?S(e):n}).then(function(r){e.db=n.db=r;for(var o=0;o<t.length;o++)t[o]._dbInfo.db=r}).catch(function(n){throw _(e,n),n})}(e).then(function(){A(e,n,t,r-1)})}).catch(t);t(i)}}var O={_driver:"asyncStorage",_initStorage:function(e){var n=this,t={db:null};if(e)for(var r in e)t[r]=e[r];var o=v[t.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},v[t.name]=o),o.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=R);var i=[];function u(){return a.resolve()}for(var c=0;c<o.forages.length;c++){var f=o.forages[c];f!==n&&i.push(f._initReady().catch(u))}var s=o.forages.slice(0);return a.all(i).then(function(){return t.db=o.db,I(t)}).then(function(e){return t.db=e,E(t,n._defaultConfig.version)?S(t):e}).then(function(e){t.db=o.db=e,n._dbInfo=t;for(var r=0;r<s.length;r++){var i=s[r];i!==n&&(i._dbInfo.db=t.db,i._dbInfo.version=t.version)}})},_support:function(){try{if(!o||!o.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||n)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(e,n){var t=this,r=new a(function(n,r){t.ready().then(function(){A(t._dbInfo,y,function(o,i){if(o)return r(o);try{var a=i.objectStore(t._dbInfo.storeName).openCursor(),u=1;a.onsuccess=function(){var t=a.result;if(t){var r=t.value;j(r)&&(r=N(r));var o=e(r,t.key,u++);void 0!==o?n(o):t.continue()}else n()},a.onerror=function(){r(a.error)}}catch(c){r(c)}})}).catch(r)});return u(r,n),r},getItem:function(e,n){var t=this;e=f(e);var r=new a(function(n,r){t.ready().then(function(){A(t._dbInfo,y,function(o,i){if(o)return r(o);try{var a=i.objectStore(t._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),j(e)&&(e=N(e)),n(e)},a.onerror=function(){r(a.error)}}catch(u){r(u)}})}).catch(r)});return u(r,n),r},setItem:function(e,n,t){var r=this;e=f(e);var o=new a(function(t,o){var i;r.ready().then(function(){return i=r._dbInfo,"[object Blob]"===h.call(n)?b(i.db).then(function(e){return e?n:(t=n,new a(function(e,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:t.type})},r.readAsBinaryString(t)}));var t}):n}).then(function(n){A(r._dbInfo,p,function(i,a){if(i)return o(i);try{var u=a.objectStore(r._dbInfo.storeName);null===n&&(n=void 0);var c=u.put(n,e);a.oncomplete=function(){void 0===n&&(n=null),t(n)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;o(e)}}catch(f){o(f)}})}).catch(o)});return u(o,t),o},removeItem:function(e,n){var t=this;e=f(e);var r=new a(function(n,r){t.ready().then(function(){A(t._dbInfo,p,function(o,i){if(o)return r(o);try{var a=i.objectStore(t._dbInfo.storeName).delete(e);i.oncomplete=function(){n()},i.onerror=function(){r(a.error)},i.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(u){r(u)}})}).catch(r)});return u(r,n),r},clear:function(e){var n=this,t=new a(function(e,t){n.ready().then(function(){A(n._dbInfo,p,function(r,o){if(r)return t(r);try{var i=o.objectStore(n._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error?i.error:i.transaction.error;t(e)}}catch(a){t(a)}})}).catch(t)});return u(t,e),t},length:function(e){var n=this,t=new a(function(e,t){n.ready().then(function(){A(n._dbInfo,y,function(r,o){if(r)return t(r);try{var i=o.objectStore(n._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){t(i.error)}}catch(a){t(a)}})}).catch(t)});return u(t,e),t},key:function(e,n){var t=this,r=new a(function(n,r){e<0?n(null):t.ready().then(function(){A(t._dbInfo,y,function(o,i){if(o)return r(o);try{var a=i.objectStore(t._dbInfo.storeName),u=!1,c=a.openKeyCursor();c.onsuccess=function(){var t=c.result;t?0===e?n(t.key):u?n(t.key):(u=!0,t.advance(e)):n(null)},c.onerror=function(){r(c.error)}}catch(f){r(f)}})}).catch(r)});return u(r,n),r},keys:function(e){var n=this,t=new a(function(e,t){n.ready().then(function(){A(n._dbInfo,y,function(r,o){if(r)return t(r);try{var i=o.objectStore(n._dbInfo.storeName).openKeyCursor(),a=[];i.onsuccess=function(){var n=i.result;n?(a.push(n.key),n.continue()):e(a)},i.onerror=function(){t(i.error)}}catch(u){t(u)}})}).catch(t)});return u(t,e),t},dropInstance:function(e,n){n=s.apply(this,arguments);var t,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var i=e.name===r.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):I(e).then(function(n){var t=v[e.name],r=t.forages;t.db=n;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=n;return n});t=e.storeName?i.then(function(n){if(n.objectStoreNames.contains(e.storeName)){var t=n.version+1;m(e);var r=v[e.name],i=r.forages;n.close();for(var u=0;u<i.length;u++){var c=i[u];c._dbInfo.db=null,c._dbInfo.version=t}return new a(function(n,r){var i=o.open(e.name,t);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),n(e)}}).then(function(e){r.db=e;for(var n=0;n<i.length;n++){var t=i[n];t._dbInfo.db=e,g(t._dbInfo)}}).catch(function(n){throw(_(e,n)||a.resolve()).catch(function(){}),n})}}):i.then(function(n){m(e);var t=v[e.name],r=t.forages;n.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;return new a(function(n,t){var r=o.deleteDatabase(e.name);r.onerror=r.onblocked=function(e){var n=r.result;n&&n.close(),t(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),n(e)}}).then(function(e){t.db=e;for(var n=0;n<r.length;n++)g(r[n]._dbInfo)}).catch(function(n){throw(_(e,n)||a.resolve()).catch(function(){}),n})})}else t=a.reject("Invalid arguments");return u(t,n),t}};var D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x="~~local_forage_type~",B=/^~~local_forage_type~([^~]+)~/,k="__lfsc__:",C=k.length,T="arbf",F="blob",L="si08",M="ui08",z="uic8",P="si16",q="si32",U="ur16",W="ui32",K="fl32",H="fl64",Q=C+T.length,X=Object.prototype.toString;function G(e){var n,t,r,o,i,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var f=new ArrayBuffer(a),s=new Uint8Array(f);for(n=0;n<u;n+=4)t=D.indexOf(e[n]),r=D.indexOf(e[n+1]),o=D.indexOf(e[n+2]),i=D.indexOf(e[n+3]),s[c++]=t<<2|r>>4,s[c++]=(15&r)<<4|o>>2,s[c++]=(3&o)<<6|63&i;return f}function J(e){var n,t=new Uint8Array(e),r="";for(n=0;n<t.length;n+=3)r+=D[t[n]>>2],r+=D[(3&t[n])<<4|t[n+1]>>4],r+=D[(15&t[n+1])<<2|t[n+2]>>6],r+=D[63&t[n+2]];return t.length%3==2?r=r.substring(0,r.length-1)+"=":t.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var V={serialize:function(e,n){var t="";if(e&&(t=X.call(e)),e&&("[object ArrayBuffer]"===t||e.buffer&&"[object ArrayBuffer]"===X.call(e.buffer))){var r,o=k;e instanceof ArrayBuffer?(r=e,o+=T):(r=e.buffer,"[object Int8Array]"===t?o+=L:"[object Uint8Array]"===t?o+=M:"[object Uint8ClampedArray]"===t?o+=z:"[object Int16Array]"===t?o+=P:"[object Uint16Array]"===t?o+=U:"[object Int32Array]"===t?o+=q:"[object Uint32Array]"===t?o+=W:"[object Float32Array]"===t?o+=K:"[object Float64Array]"===t?o+=H:n(new Error("Failed to get type for BinaryArray"))),n(o+J(r))}else if("[object Blob]"===t){var i=new FileReader;i.onload=function(){var t=x+e.type+"~"+J(this.result);n(k+F+t)},i.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(a){console.error("Couldn't convert value into a JSON string: ",e),n(null,a)}},deserialize:function(e){if(e.substring(0,C)!==k)return JSON.parse(e);var n,t=e.substring(Q),r=e.substring(C,Q);if(r===F&&B.test(t)){var o=t.match(B);n=o[1],t=t.substring(o[0].length)}var a=G(t);switch(r){case T:return a;case F:return i([a],{type:n});case L:return new Int8Array(a);case M:return new Uint8Array(a);case z:return new Uint8ClampedArray(a);case P:return new Int16Array(a);case U:return new Uint16Array(a);case q:return new Int32Array(a);case W:return new Uint32Array(a);case K:return new Float32Array(a);case H:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}},stringToBuffer:G,bufferToString:J};function Y(e,n,t,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,r)}function Z(e,n,t,r,o,i){e.executeSql(t,r,o,function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(e,u){u.rows.length?i(e,a):Y(e,n,function(){e.executeSql(t,r,o,i)},i)},i):i(e,a)},i)}var $={_driver:"webSQLStorage",_initStorage:function(e){var n=this,t={db:null};if(e)for(var r in e)t[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new a(function(e,r){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(o){return r(o)}t.db.transaction(function(o){Y(o,t,function(){n._dbInfo=t,e()},function(e,n){r(n)})},r)});return t.serializer=V,o},_support:"function"==typeof openDatabase,iterate:function(e,n){var t=this,r=new a(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){Z(t,o,"SELECT * FROM "+o.storeName,[],function(t,r){for(var i=r.rows,a=i.length,u=0;u<a;u++){var c=i.item(u),f=c.value;if(f&&(f=o.serializer.deserialize(f)),void 0!==(f=e(f,c.key,u+1)))return void n(f)}n()},function(e,n){r(n)})})}).catch(r)});return u(r,n),r},getItem:function(e,n){var t=this;e=f(e);var r=new a(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){Z(t,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,t){var r=t.rows.length?t.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),n(r)},function(e,n){r(n)})})}).catch(r)});return u(r,n),r},setItem:function(e,n,t){return function e(n,t,r,o){var i=this;n=f(n);var c=new a(function(a,u){i.ready().then(function(){void 0===t&&(t=null);var c=t,f=i._dbInfo;f.serializer.serialize(t,function(t,s){s?u(s):f.db.transaction(function(e){Z(e,f,"INSERT OR REPLACE INTO "+f.storeName+" (key, value) VALUES (?, ?)",[n,t],function(){a(c)},function(e,n){u(n)})},function(t){if(t.code===t.QUOTA_ERR){if(o>0)return void a(e.apply(i,[n,c,r,o-1]));u(t)}})})}).catch(u)});return u(c,r),c}.apply(this,[e,n,t,1])},removeItem:function(e,n){var t=this;e=f(e);var r=new a(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){Z(t,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){n()},function(e,n){r(n)})})}).catch(r)});return u(r,n),r},clear:function(e){var n=this,t=new a(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){Z(n,r,"DELETE FROM "+r.storeName,[],function(){e()},function(e,n){t(n)})})}).catch(t)});return u(t,e),t},length:function(e){var n=this,t=new a(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){Z(n,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(n,t){var r=t.rows.item(0).c;e(r)},function(e,n){t(n)})})}).catch(t)});return u(t,e),t},key:function(e,n){var t=this,r=new a(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){Z(t,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,t){var r=t.rows.length?t.rows.item(0).key:null;n(r)},function(e,n){r(n)})})}).catch(r)});return u(r,n),r},keys:function(e){var n=this,t=new a(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){Z(n,r,"SELECT key FROM "+r.storeName,[],function(n,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o).key);e(r)},function(e,n){t(n)})})}).catch(t)});return u(t,e),t},dropInstance:function(e,n){n=s.apply(this,arguments);var t=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var r,o=this;return u(r=e.name?new a(function(n){var r;r=e.name===t.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?n({db:r,storeNames:[e.storeName]}):n(function(e){return new a(function(n,t){e.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(t,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);n({db:e,storeNames:o})},function(e,n){t(n)})},function(e){t(e)})})}(r))}).then(function(e){return new a(function(n,t){e.db.transaction(function(r){function o(e){return new a(function(n,t){r.executeSql("DROP TABLE IF EXISTS "+e,[],function(){n()},function(e,n){t(n)})})}for(var i=[],u=0,c=e.storeNames.length;u<c;u++)i.push(o(e.storeNames[u]));a.all(i).then(function(){n()}).catch(function(e){t(e)})},function(e){t(e)})})}):a.reject("Invalid arguments"),n),r}};function ee(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function ne(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}()||localStorage.length>0}var te={_driver:"localStorageWrapper",_initStorage:function(e){var n={};if(e)for(var t in e)n[t]=e[t];return n.keyPrefix=ee(e,this._defaultConfig),ne()?(this._dbInfo=n,n.serializer=V,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,n){var t=this,r=t.ready().then(function(){for(var n=t._dbInfo,r=n.keyPrefix,o=r.length,i=localStorage.length,a=1,u=0;u<i;u++){var c=localStorage.key(u);if(0===c.indexOf(r)){var f=localStorage.getItem(c);if(f&&(f=n.serializer.deserialize(f)),void 0!==(f=e(f,c.substring(o),a++)))return f}}});return u(r,n),r},getItem:function(e,n){var t=this;e=f(e);var r=t.ready().then(function(){var n=t._dbInfo,r=localStorage.getItem(n.keyPrefix+e);return r&&(r=n.serializer.deserialize(r)),r});return u(r,n),r},setItem:function(e,n,t){var r=this;e=f(e);var o=r.ready().then(function(){void 0===n&&(n=null);var t=n;return new a(function(o,i){var a=r._dbInfo;a.serializer.serialize(n,function(n,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,n),o(t)}catch(u){"QuotaExceededError"!==u.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==u.name||i(u),i(u)}})})});return u(o,t),o},removeItem:function(e,n){var t=this;e=f(e);var r=t.ready().then(function(){var n=t._dbInfo;localStorage.removeItem(n.keyPrefix+e)});return u(r,n),r},clear:function(e){var n=this,t=n.ready().then(function(){for(var e=n._dbInfo.keyPrefix,t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}});return u(t,e),t},length:function(e){var n=this.keys().then(function(e){return e.length});return u(n,e),n},key:function(e,n){var t=this,r=t.ready().then(function(){var n,r=t._dbInfo;try{n=localStorage.key(e)}catch(o){n=null}return n&&(n=n.substring(r.keyPrefix.length)),n});return u(r,n),r},keys:function(e){var n=this,t=n.ready().then(function(){for(var e=n._dbInfo,t=localStorage.length,r=[],o=0;o<t;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r});return u(t,e),t},dropInstance:function(e,n){if(n=s.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var r,o=this;return u(r=e.name?new a(function(n){e.storeName?n(ee(e,o._defaultConfig)):n(e.name+"/")}).then(function(e){for(var n=localStorage.length-1;n>=0;n--){var t=localStorage.key(n);0===t.indexOf(e)&&localStorage.removeItem(t)}}):a.reject("Invalid arguments"),n),r}},re=function(e,n){for(var t,r,o=e.length,i=0;i<o;){if((t=e[i])===(r=n)||"number"==typeof t&&"number"==typeof r&&isNaN(t)&&isNaN(r))return!0;i++}return!1},oe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ie={},ae={},ue={INDEXEDDB:O,WEBSQL:$,LOCALSTORAGE:te},ce=[ue.INDEXEDDB._driver,ue.WEBSQL._driver,ue.LOCALSTORAGE._driver],fe=["dropInstance"],se=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(fe),le={description:"",driver:ce.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function de(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function ve(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(oe(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var he=new(function(){function e(n){for(var t in function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),ue)if(ue.hasOwnProperty(t)){var r=ue[t],o=r._driver;this[t]=o,ie[o]||this.defineDriver(r)}this._defaultConfig=ve({},le),this._config=ve({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var n in e){if("storeName"===n&&(e[n]=e[n].replace(/\W/g,"_")),"version"===n&&"number"!=typeof e[n])return new Error("Database version must be a number.");this._config[n]=e[n]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,n,t){var r=new a(function(n,t){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void t(o);for(var i=se.concat("_initStorage"),c=0,f=i.length;c<f;c++){var s=i[c];if((!re(fe,s)||e[s])&&"function"!=typeof e[s])return void t(o)}!function(){for(var n=function(e){return function(){var n=new Error("Method "+e+" is not implemented by the current driver"),t=a.reject(n);return u(t,arguments[arguments.length-1]),t}},t=0,r=fe.length;t<r;t++){var o=fe[t];e[o]||(e[o]=n(o))}}();var l=function(t){ie[r]&&console.info("Redefining LocalForage driver: "+r),ie[r]=e,ae[r]=t,n()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(l,t):l(!!e._support):l(!0)}catch(d){t(d)}});return c(r,n,t),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,n,t){var r=ie[e]?a.resolve(ie[e]):a.reject(new Error("Driver not found."));return c(r,n,t),r},e.prototype.getSerializer=function(e){var n=a.resolve(V);return c(n,e),n},e.prototype.ready=function(e){var n=this,t=n._driverSet.then(function(){return null===n._ready&&(n._ready=n._initDriver()),n._ready});return c(t,e,e),t},e.prototype.setDriver=function(e,n,t){var r=this;oe(e)||(e=[e]);var o=this._getSupportedDrivers(e);function i(){r._config.driver=r.driver()}function u(e){return r._extend(e),i(),r._ready=r._initStorage(r._config),r._ready}var f=null!==this._driverSet?this._driverSet.catch(function(){return a.resolve()}):a.resolve();return this._driverSet=f.then(function(){var e=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then(function(e){r._driver=e._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var n=0;return function t(){for(;n<e.length;){var o=e[n];return n++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(u).catch(t)}i();var c=new Error("No available storage method found.");return r._driverSet=a.reject(c),r._driverSet}()}}(o)})}).catch(function(){i();var e=new Error("No available storage method found.");return r._driverSet=a.reject(e),r._driverSet}),c(this._driverSet,n,t),this._driverSet},e.prototype.supports=function(e){return!!ae[e]},e.prototype._extend=function(e){ve(this,e)},e.prototype._getSupportedDrivers=function(e){for(var n=[],t=0,r=e.length;t<r;t++){var o=e[t];this.supports(o)&&n.push(o)}return n},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,n=se.length;e<n;e++)de(this,se[e])},e.prototype.createInstance=function(n){return new e(n)},e}());n.exports=he},{3:3}]},{},[4])(4)});
},{}],"lPMX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.persist=exports.default=void 0;var e=require("mobx-keystone");function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var r={clear:function(){return n(function(){return window.localStorage.clear()})},getItem:function(e){return n(function(){return window.localStorage.getItem(e)})},removeItem:function(e){return n(function(){return window.localStorage.removeItem(e)})},setItem:function(e,t){return n(function(){return window.localStorage.setItem(e,t)})}};function n(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Promise.resolve(e.apply(void 0,r))}catch(o){return Promise.reject(o)}}var o=function(n,o,a){void 0===a&&(a={});var s=a,l=s.storage,u=s.jsonify,c=void 0===u||u,f=s.whitelist,d=s.blacklist;if("undefined"==typeof window||void 0===window.localStorage||l&&l!==window.localStorage||(l=r),!l)return Promise.reject("localStorage (the default storage engine) is not supported in this environment. Please configure a different storage engine via the `storage:` option.");var p=new Set(f||[]),v=new Set(d||[]);return(0,e.onSnapshot)(o,function(r){var o=t({},r);Object.keys(o).forEach(function(t){t!==e.modelTypeKey&&t!==e.modelIdKey&&(f&&!p.has(t)&&delete o[t],d&&v.has(t)&&delete o[t])});var i=c?JSON.stringify(o):o;l.setItem(n,i)}),l.getItem(n).then(function(r){var n=i(r)?JSON.parse(r):r;if(n){var a=(0,e.getSnapshot)(o);for(var s in n)s in a||(console.warn("persisted store contained non-existent key: "+s),delete n[s]);(0,e.applySnapshot)(o,t({},a,n,{$modelId:o.$modelId}))}})};function i(e){return"string"==typeof e}exports.persist=o;var a=o;exports.default=a;
},{"mobx-keystone":"bpa9"}],"VRlQ":[function(require,module,exports) {
"use strict";function e(e,r){return Array.from(Array(r-e)).reduce(function(e){return e.concat(e[e.length-1]+1)},[e])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.range=void 0,exports.range=e;
},{}],"G6kf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ItemIcons=exports.Emotes=exports.Animations=exports.TiledTileMaps=exports.Nineslices=exports.BitmapFonts=exports.Images=exports.SpriteSheets=exports.FrameConfig16x16=exports.COLOURS=exports.Orientation=exports.LOG_PREFIX=exports.APP_ID=void 0;var e=require("tslib"),t=require("~/Core/collections");exports.APP_ID="Game",exports.LOG_PREFIX="Game";var r,s="/0x72_DungeonTilesetII_v1.3--extruded.png",o="/0x72_DungeonTilesetII_v1.3.png",a="/LevelOne.json",i="/LevelTwo.json",n="/LevelThree.json",p="/emotes_pixel_style1.png",g="/interface_bg_tan.png",m="/items_spritesheet_16x16.png",l="/black_16bfZX.fnt",h="/black_16bfZX_0.png",f="/white_16bfZX.fnt",x="/white_16bfZX_0.png";!function(e){e.LeftDown="leftdown",e.Left="left",e.LeftUp="leftup",e.Up="up",e.RightUp="rightup",e.Right="right",e.RightDown="rightdown",e.Down="down"}(r=exports.Orientation||(exports.Orientation={})),exports.COLOURS={Grey:{Light:10066329,Default:6710886,Dark:2236962},White:{Default:16777215}},exports.FrameConfig16x16={frameWidth:16,frameHeight:16},exports.SpriteSheets={Dungeon:{key:"DungeonSpriteSheet",url:o,frameConfig:{frameWidth:16,frameHeight:16}},EmotesStyleOne:{key:"EmotesStyleOne",url:p,frameConfig:{frameWidth:16,frameHeight:16,spacing:0,margin:0}},Characters:{key:"Characters",url:s,frameConfig:{frameWidth:16,frameHeight:32,spacing:2,margin:1}},Items:{key:"Items",url:m,frameConfig:exports.FrameConfig16x16}},exports.Images={DungeonTiles:{key:"Dungeon",url:o},UiDialogBg:{key:"UiDialogBg",url:g}},exports.BitmapFonts={WhiteSixteenbfZXFont:{key:"WhiteSixteenbfZXFont",png:x,fnt:f},BlackSixteenbfZXFont:{key:"BlackSixteenbfZXFont",png:h,fnt:l}},exports.Nineslices={Dialog:{key:exports.Images.UiDialogBg.key,startX:0,startY:0,width:48,height:48,cornerOffset:16,border:2}},exports.TiledTileMaps={LevelOne:{key:"LevelOneTiledMap",url:a,tileset:exports.Images.DungeonTiles.key,tileimage:exports.Images.DungeonTiles.key},LevelTwo:{key:"LevelTwoTiledMap",url:i,tileset:exports.Images.DungeonTiles.key,tileimage:exports.Images.DungeonTiles.key},LevelThree:{key:"LevelThreeTiledMap",url:n,tileset:exports.Images.DungeonTiles.key,tileimage:exports.Images.DungeonTiles.key}},exports.Animations={WarriorMove:{key:"WarriorMove",frameRate:8,repeat:-1,padding:1,frames:[76,77,78,79],sheet:exports.SpriteSheets.Characters.key},WarriorJump:{key:"WarriorJump",frameRate:8,repeat:0,padding:1,frames:[75,76,77,80,80],sheet:exports.SpriteSheets.Characters.key},WarriorIdle:{key:"WarriorIdle",sheet:exports.SpriteSheets.Characters.key,frames:[72,73,74,75],margin:1,frameRate:4,repeat:-1},GoblinMove:{key:"GoblinMove",frameRate:8,repeat:-1,padding:1,frames:[59,60,61,62],sheet:exports.SpriteSheets.Dungeon.key},GoblinIdle:{key:"GoblinIdle",sheet:exports.SpriteSheets.Dungeon.key,frames:[55,56,57,58],margin:1,frameRate:4,repeat:-1},LootChestIdle:{key:"LootChestIdle",sheet:exports.SpriteSheets.Dungeon.key,frames:[595],repeat:0,margin:0,spacing:0},LootChestOpenFull:{key:"LootChestOpenFull",sheet:exports.SpriteSheets.Dungeon.key,frames:[627,628,629],repeat:0,margin:0,spacing:0},LootChestOpenEmpty:{key:"LootChestOpenEmpty",sheet:exports.SpriteSheets.Dungeon.key,frames:[595,596,597],repeat:0,margin:0,spacing:0},LootChestCloseFull:{key:"LootChestCloseFull",sheet:exports.SpriteSheets.Dungeon.key,frames:[629,628,627],repeat:0,margin:0,spacing:0},LootChestCloseEmpty:{key:"LootChestCloseEmpty",sheet:exports.SpriteSheets.Dungeon.key,frames:[597,596,595],repeat:0,margin:0,spacing:0}},exports.Emotes={Default:{width:16,height:16,sheet:exports.SpriteSheets.EmotesStyleOne.key,frames:{Stressed:0,Chirpy:1,Sad:2,Woops:3,Pious:4,Expletive:5,Laugh:6,Happy:7,SarcasticDisbelief:8,Greed:9,Pride:10,Idea:11,Blank:12,Sarcasm:13,Attack:14,Sleep:15,Love:16,Alarm:17,Unsure:18,Annoyed:19,Tired:20,Unlike:21,Exclamation:22,No:23,Shocked:24,Query:25,Like:26,BigWoops:27,Despair:28,Angry:29}}},exports.ItemIcons={armour:{sheet:exports.SpriteSheets.Items,frames:t.range(0,4)},artifact:{sheet:exports.SpriteSheets.Items,frames:t.range(303,317)},currency:{sheet:exports.SpriteSheets.Items,frames:t.range(99,123)},enchantment:{sheet:exports.SpriteSheets.Items,frames:t.range(268,272)},gem:{sheet:exports.SpriteSheets.Items,frames:t.range(126,135)},jewellery:{sheet:exports.SpriteSheets.Items,frames:e.__spreadArrays(t.range(208,222),t.range(253,267))},sword:{sheet:exports.SpriteSheets.Items,frames:t.range(339,343)},spear:{sheet:exports.SpriteSheets.Items,frames:t.range(318,322)},bow:{sheet:exports.SpriteSheets.Items,frames:t.range(68,82)}};
},{"tslib":"vCxL","~/Core/collections":"VRlQ"}],"ZSBB":[function(require,module,exports) {
var define;
var e;!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof e&&e.amd?e(["exports"],r):r(t.kaop={})}(this,function(e){"use strict";function t(e){return!e.advice}var r={isMethod:t,isValidArraySignature:function(e){return e.every(function(e){return"function"==typeof e})&&1===e.filter(t).length},getMethodFromArraySignature:function(e){return e.find(t)},isAsync:function(e){return!!e.toString().match(/[a-zA-Z$_]\.commit/)},createInstance:function(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}};function n(e,t,n,o){return function(){var i,c,a,u=-1;function s(){var e=Array.prototype.slice.call(arguments);if(p.args.push.apply(p.args,e),n[++u]){var t=n[u];if(r.isMethod(t)){if(!p.prevented)try{if(o){var s=o(p);Object.assign(s,p.scope),p.result=p.scope=s}else p.result=t.apply(p.scope,p.args)}catch(e){p.exception=e}}else t.call(void 0,p);r.isAsync(t)||p.commit()}else{if(p.exception){if(!i)throw p.exception;a(p.exception)}i&&c(p.result)}}"constructor"!==t&&n.some(function(e){return r.isAsync(e)})&&(i=new Promise(function(e,t){c=e,a=t}));var p={args:Array.prototype.slice.call(arguments),scope:this,key:t,method:r.getMethodFromArraySignature(n),target:e,ES6newTarget:new.target,exception:void 0,prevented:void 0,result:void 0,commit:s,prevent:function(){p.prevented=!0},handle:function(){var e=p.exception;return delete p.exception,e},skip:function(){u=n.findIndex(r.isMethod)-1}};return s(),i||p.result}}var o={advice:function(e){return e.advice=1,e},aspect:function(e){return function(t){return Object.keys(t).reduce(e,t)}},wove:function(e,t){var o=Object.assign({},t);for(var i in o)o[i]instanceof Array&&r.isValidArraySignature(o[i])&&(o[i]=n(e,i,o[i]));return o},createProxyFn:n};function i(e,t,r){function n(){"function"==typeof this.constructor&&this.constructor.apply(this,arguments)}n.super=e,n.signature=t;var i=o.wove(n,t);return n.prototype=Object.assign(Object.create(e.prototype),i),n}var c=function(e){return i(function(){},e)},a=function(e,t){return i(e,t)},u=function(e){for(var t in e.signature)e.signature[t]instanceof Array&&r.isValidArraySignature(e.signature[t])&&(e.prototype[t]=r.getMethodFromArraySignature(e.signature[t]));return e},s={apply:o.advice(function(e){e.target.super.prototype[e.key].apply(e.scope,e.args)}),implement:o.advice(function(e){e.args.unshift(e.target.super.prototype[e.key].bind(e.scope))})},p={args:function(){var e=Array.prototype.slice.call(arguments);return o.advice(function(t){if("constructor"!==t.key)throw new Error("inject only available in constructor");e.forEach(function(e){t.args.push(e())})})},assign:function(e){return o.advice(function(t){for(var r in e){var n=e[r];t.scope[r]=n()}})}},f={factory:function(e){return function(){return r.createInstance(e,Array.prototype.slice.call(arguments))}},singleton:function(e){var t;return function(){var n=Array.prototype.slice.call(arguments);return t||(t=r.createInstance(e,n)),t}}},l=o,y={createClass:c,extend:a,clear:u,override:s,inject:p,provider:f,reflect:l};e.default=y,e.createClass=c,e.extend=a,e.clear=u,e.override=s,e.inject=p,e.provider=f,e.reflect=l,Object.defineProperty(e,"__esModule",{value:!0})});
},{}],"v8xR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.afterMethod=y,exports.beforeMethod=g,exports.afterInstance=b,exports.beforeInstance=v,exports.onException=h,exports.applyAspect=M,exports.clearAdvices=f,Object.defineProperty(exports,"inject",{enumerable:!0,get:function(){return t.inject}}),Object.defineProperty(exports,"provider",{enumerable:!0,get:function(){return t.provider}}),exports.clearMethod=void 0;var t=require("kaop");require("reflect-metadata");const e="original-method",r="before-method",o="after-method",n="before-instance",c="after-instance";function a(t,r){const o=i(e,r);return Reflect.getMetadata(o,t)}function s(t){const r=i(e,"constructor");return Reflect.getMetadata(r,t.prototype)}function u(t){Object.getOwnPropertyNames(t).forEach(e=>{if("function"==typeof t[e]){const r=a(t,e);r&&Object.defineProperty(t,e,{value:r})}})}function f(t){const e=s(t);return u(e),u(e.prototype),e}function i(t,e){return`${t}-${e}`}const p=a;function d(e,r,o,n,c,a){const s=[...n||[],o,...c||[]];return t.reflect.createProxyFn(e,r,s,a)}function l(a,s,u,f,p,l){const g=Reflect.getMetadata(p,s)||[];g.unshift(...u.map(t.reflect.advice)),Reflect.defineMetadata(p,g,s);const y=i(e,f);Reflect.getMetadata(y,s)||Reflect.defineMetadata(y,l,s);const v=Reflect.getMetadata(y,s);if("constructor"===f){const t=i(n,f),e=i(c,f),r=d(a,f,v,Reflect.getMetadata(t,s),Reflect.getMetadata(e,s),t=>Reflect.construct(t.target.prototype.constructor,t.args,t.ES6newTarget));return r.prototype=a.prototype,r}{const t=i(r,f),e=i(o,f);return d(a,f,v,Reflect.getMetadata(t,s),Reflect.getMetadata(e,s))}}function g(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return Object.assign((t,o,n)=>{const c=i(r,o);return n.value=l(t,t,e,o,c,n.value),n},{advices:()=>e})}function y(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Object.assign((t,r,n)=>{const c=i(o,r);return n.value=l(t,t,e,r,c,n.value),n},{advices:()=>e})}function v(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Object.assign(function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"constructor";const o=i(n,r);return l(t,t.prototype,e,r,o,t.prototype.constructor)},{advices:()=>e})}function b(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Object.assign(function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"constructor";const o=i(c,r);return l(t,t.prototype,e,r,o,t.prototype.constructor)},{advices:()=>e})}function h(t){return y(e=>e.exception&&t(e))}function M(t){return function(e){const r=t.constructor instanceof Array?t.constructor:[];delete t.constructor;for(let o in t)t[o].forEach(t=>Object.defineProperty(e.prototype,o,t(e,o,Object.getOwnPropertyDescriptor(e.prototype,o))));return r.forEach(t=>e=t(e)),e}}exports.clearMethod=p;
},{"kaop":"ZSBB","reflect-metadata":"npqE"}],"IAgR":[function(require,module,exports) {
var s=1e3,e=60*s,r=60*e,a=24*r,n=7*a,c=365.25*a;function t(t){if(!((t=String(t)).length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(u){var i=parseFloat(u[1]);switch((u[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return i*c;case"weeks":case"week":case"w":return i*n;case"days":case"day":case"d":return i*a;case"hours":case"hour":case"hrs":case"hr":case"h":return i*r;case"minutes":case"minute":case"mins":case"min":case"m":return i*e;case"seconds":case"second":case"secs":case"sec":case"s":return i*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function u(n){var c=Math.abs(n);return c>=a?Math.round(n/a)+"d":c>=r?Math.round(n/r)+"h":c>=e?Math.round(n/e)+"m":c>=s?Math.round(n/s)+"s":n+"ms"}function i(n){var c=Math.abs(n);return c>=a?o(n,c,a,"day"):c>=r?o(n,c,r,"hour"):c>=e?o(n,c,e,"minute"):c>=s?o(n,c,s,"second"):n+" ms"}function o(s,e,r,a){var n=e>=1.5*r;return Math.round(s/r)+" "+a+(n?"s":"")}module.exports=function(s,e){e=e||{};var r=typeof s;if("string"===r&&s.length>0)return t(s);if("number"===r&&isFinite(s))return e.long?i(s):u(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};
},{}],"Kest":[function(require,module,exports) {
function e(e){function n(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]}function t(e){let o;function i(...e){if(!i.enabled)return;const n=i,s=Number(new Date),r=s-(o||s);n.diff=r,n.prev=o,n.curr=s,o=s,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(s,r)=>{if("%%"===s)return s;a++;const o=t.formatters[r];if("function"==typeof o){const t=e[a];s=o.call(n,t),e.splice(a,1),a--}return s}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=n(e),i.destroy=s,i.extend=r,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function s(){const e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}function r(e,n){const s=t(this.namespace+(void 0===n?":":n)+e);return s.log=this.log,s}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.names=[],t.skips=[];const s=("string"==typeof e?e:"").split(/[\s,]+/),r=s.length;for(n=0;n<r;n++)s[n]&&("-"===(e=s[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){const e=t.instances[n];e.enabled=t.enabled(e.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,s;for(n=0,s=t.skips.length;n<s;n++)if(t.skips[n].test(e))return!1;for(n=0,s=t.names.length;n<s;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=require("ms"),Object.keys(e).forEach(n=>{t[n]=e[n]}),t.instances=[],t.names=[],t.skips=[],t.formatters={},t.selectColor=n,t.enable(t.load()),t}module.exports=e;
},{"ms":"IAgR"}],"jcLW":[function(require,module,exports) {
var process = require("process");
var e=require("process");function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function C(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),!this.useColors)return;const o="color: "+this.color;e.splice(1,0,o,"color: inherit");let C=0,t=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(C++,"%c"===e&&(t=C))}),e.splice(t,0,o)}function t(...e){return"object"==typeof console&&console.log&&console.log(...e)}function r(e){try{e?exports.storage.setItem("debug",e):exports.storage.removeItem("debug")}catch(o){}}function n(){let o;try{o=exports.storage.getItem("debug")}catch(C){}return!o&&void 0!==e&&"env"in e&&(o=void 0),o}function s(){try{return localStorage}catch(e){}}exports.log=t,exports.formatArgs=C,exports.save=r,exports.load=n,exports.useColors=o,exports.storage=s(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],module.exports=require("./common")(exports);const{formatters:F}=module.exports;F.j=function(e){try{return JSON.stringify(e)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}};
},{"./common":"Kest","process":"pBGv"}],"FMRX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.logsPropertyBefore=exports.logsPropertyAfter=exports.logsBefore=exports.logsAfter=exports.LogsAll=exports.Logs=exports.LogMethodProperty=exports.LogMethodAction=exports.Logger=void 0;var e=require("tslib"),o=require("kaop-ts"),t=e.__importDefault(require("debug")),r=require("~/Config/constants");function s(e){return t.default([r.APP_ID,e].join("."))}exports.Logger=s,exports.LogMethodAction=function(e){if(e.scope.log){var o=e.method,t=e.args,r=e.result;e.scope.log(o.name,t,r)}},exports.LogMethodProperty=function(e){return function(o){if(o.scope.log){var t=o.method,r=(o.args,o.result,o.scope);o.scope.log(t.name,e,r)}}},exports.Logs=o.afterInstance(function(e){var o=e.method;e.scope.log=s(o.name)}),exports.LogsAll=o.afterInstance(function(e){var t=e.scope,r=t.prototype,s=o.afterMethod(exports.LogMethodAction);for(var p in r)Object.defineProperty(r,p,s(t,p,Object.getOwnPropertyDescriptor(r,p)))}),exports.logsAfter=o.afterMethod(exports.LogMethodAction),exports.logsBefore=o.beforeMethod(exports.LogMethodAction),exports.logsPropertyAfter=function(e){return o.afterMethod(exports.LogMethodProperty(e))},exports.logsPropertyBefore=function(e){return o.beforeMethod(exports.LogMethodProperty(e))};
},{"tslib":"vCxL","kaop-ts":"v8xR","debug":"jcLW","~/Config/constants":"G6kf"}],"YY25":[function(require,module,exports) {
Array.prototype.forEach||(Array.prototype.forEach=function(r){"use strict";if(null==this)throw new TypeError;var t=Object(this),o=t.length>>>0;if("function"!=typeof r)throw new TypeError;for(var e=arguments.length>=2?arguments[1]:void 0,n=0;n<o;n++)n in t&&r.call(e,t[n],n,t)});
},{}],"gqxH":[function(require,module,exports) {
Array.isArray||(Array.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)});
},{}],"Y9iA":[function(require,module,exports) {
!function(){function t(t){t&&(t.setTargetAtTime||(t.setTargetAtTime=t.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var e=this.internal_createGain();return t(e.gain),e},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(e){var o=e?this.internal_createDelay(e):this.internal_createDelay();return t(o.delayTime),o},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var e=this.internal_createBufferSource();return e.start?(e.internal_start=e.start,e.start=function(t,o,r){void 0!==r?e.internal_start(t||0,o,r):e.internal_start(t||0,o||0)}):e.start=function(t,e,o){e||o?this.noteGrainOn(t||0,e,o):this.noteOn(t||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(t){this.noteOff(t||0)},t(e.playbackRate),e},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var e=this.internal_createDynamicsCompressor();return t(e.threshold),t(e.knee),t(e.ratio),t(e.reduction),t(e.attack),t(e.release),e},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var e=this.internal_createBiquadFilter();return t(e.frequency),t(e.detune),t(e.Q),t(e.gain),e},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var e=this.internal_createOscillator();return e.start?(e.internal_start=e.start,e.start=function(t){e.internal_start(t||0)}):e.start=function(t){this.noteOn(t||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(t){this.noteOff(t||0)},e.setPeriodicWave||(e.setPeriodicWave=e.setWaveTable),t(e.frequency),t(e.detune),e})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext)}();
},{}],"wQCg":[function(require,module,exports) {
window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){});
},{}],"lMa3":[function(require,module,exports) {
Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)});
},{}],"rxtq":[function(require,module,exports) {
!function(){if("performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1){var n=Date.now();performance.timing&&performance.timing.navigationStart&&(n=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-n}}}();
},{}],"hYvb":[function(require,module,exports) {
for(var n=Date.now(),e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;i++)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var i=Date.now(),o=16+n-i;return o<0&&(o=0),n=i,setTimeout(function(){n=Date.now(),e(performance.now())},o)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)});
},{}],"Im3b":[function(require,module,exports) {
if("function"!=typeof window.Uint32Array&&"object"!=typeof window.Uint32Array){var t=function(t){var r=new Array;window[t]=function(t){if("number"==typeof t){Array.call(this,t),this.length=t;for(var r=0;r<this.length;r++)this[r]=0}else{Array.call(this,t.length),this.length=t.length;for(r=0;r<this.length;r++)this[r]=t[r]}},window[t].prototype=r,window[t].constructor=window[t]};t("Float32Array"),t("Uint32Array"),t("Uint16Array"),t("Int16Array"),t("ArrayBuffer")}
},{}],"GUoX":[function(require,module,exports) {
require("./Array.forEach"),require("./Array.isArray"),require("./AudioContextMonkeyPatch"),require("./console"),require("./Math.trunc"),require("./performance.now"),require("./requestAnimationFrame"),require("./Uint32Array");
},{"./Array.forEach":"YY25","./Array.isArray":"gqxH","./AudioContextMonkeyPatch":"Y9iA","./console":"wQCg","./Math.trunc":"lMa3","./performance.now":"rxtq","./requestAnimationFrame":"hYvb","./Uint32Array":"Im3b"}],"PaIu":[function(require,module,exports) {
module.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27};
},{}],"RtU1":[function(require,module,exports) {
var E={DEFAULT:0,LINEAR:0,NEAREST:1};module.exports=E;
},{}],"BLd6":[function(require,module,exports) {
var e={VERSION:"3.23.0",BlendModes:require("./renderer/BlendModes"),ScaleModes:require("./renderer/ScaleModes"),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};module.exports=e;
},{"./renderer/BlendModes":"PaIu","./renderer/ScaleModes":"RtU1"}],"erhr":[function(require,module,exports) {
var r=function(r){if("object"!=typeof r||r.nodeType||r===r.window)return!1;try{if(r.constructor&&!{}.hasOwnProperty.call(r.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0};module.exports=r;
},{}],"SFmW":[function(require,module,exports) {
var r=require("./IsPlainObject"),e=function(){var i,o,a,n,t,l,f=arguments[0]||{},s=1,u=arguments.length,y=!1;for("boolean"==typeof f&&(y=f,f=arguments[1]||{},s=2),u===s&&(f=this,--s);s<u;s++)if(null!=(i=arguments[s]))for(o in i)a=f[o],f!==(n=i[o])&&(y&&n&&(r(n)||(t=Array.isArray(n)))?(t?(t=!1,l=a&&Array.isArray(a)?a:[]):l=a&&r(a)?a:{},f[o]=e(y,l,n)):void 0!==n&&(f[o]=n));return f};module.exports=e;
},{"./IsPlainObject":"erhr"}],"B18i":[function(require,module,exports) {
var T={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};module.exports=T;
},{}],"cGae":[function(require,module,exports) {
var e=function(e){return e.y+e.height-e.height*e.originY};module.exports=e;
},{}],"K2CY":[function(require,module,exports) {
var i=function(i){return i.x-i.width*i.originX+.5*i.width};module.exports=i;
},{}],"kdcZ":[function(require,module,exports) {
var r=function(r,i){var t=r.width*r.originX;return r.x=i+t-.5*r.width,r};module.exports=r;
},{}],"FQxV":[function(require,module,exports) {
var r=function(r,e){return r.y=e+r.height*r.originY,r};module.exports=r;
},{}],"vfYv":[function(require,module,exports) {
var e=require("../../bounds/GetBottom"),r=require("../../bounds/GetCenterX"),o=require("../../bounds/SetCenterX"),t=require("../../bounds/SetTop"),u=function(u,n,d,i){return void 0===d&&(d=0),void 0===i&&(i=0),o(u,r(n)+d),t(u,e(n)+i),u};module.exports=u;
},{"../../bounds/GetBottom":"cGae","../../bounds/GetCenterX":"K2CY","../../bounds/SetCenterX":"kdcZ","../../bounds/SetTop":"FQxV"}],"V2KS":[function(require,module,exports) {
var r=function(r){return r.x-r.width*r.originX};module.exports=r;
},{}],"Ih21":[function(require,module,exports) {
var r=function(r,i){return r.x=i+r.width*r.originX,r};module.exports=r;
},{}],"XQ8R":[function(require,module,exports) {
var e=require("../../bounds/GetBottom"),o=require("../../bounds/GetLeft"),r=require("../../bounds/SetLeft"),t=require("../../bounds/SetTop"),u=function(u,d,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),r(u,o(d)-i),t(u,e(d)+n),u};module.exports=u;
},{"../../bounds/GetBottom":"cGae","../../bounds/GetLeft":"V2KS","../../bounds/SetLeft":"Ih21","../../bounds/SetTop":"FQxV"}],"qkG5":[function(require,module,exports) {
var i=function(i){return i.x+i.width-i.width*i.originX};module.exports=i;
},{}],"MrHk":[function(require,module,exports) {
var i=function(i,r){return i.x=r-i.width+i.width*i.originX,i};module.exports=i;
},{}],"vx9L":[function(require,module,exports) {
var e=require("../../bounds/GetBottom"),o=require("../../bounds/GetRight"),r=require("../../bounds/SetRight"),t=require("../../bounds/SetTop"),u=function(u,i,d,n){return void 0===d&&(d=0),void 0===n&&(n=0),r(u,o(i)+d),t(u,e(i)+n),u};module.exports=u;
},{"../../bounds/GetBottom":"cGae","../../bounds/GetRight":"qkG5","../../bounds/SetRight":"MrHk","../../bounds/SetTop":"FQxV"}],"sBnq":[function(require,module,exports) {
var e=function(e,i){return e.y=i-e.height+e.height*e.originY,e};module.exports=e;
},{}],"RGjq":[function(require,module,exports) {
var e=require("../../bounds/GetBottom"),o=require("../../bounds/GetLeft"),t=require("../../bounds/SetBottom"),r=require("../../bounds/SetRight"),u=function(u,i,d,n){return void 0===d&&(d=0),void 0===n&&(n=0),r(u,o(i)-d),t(u,e(i)+n),u};module.exports=u;
},{"../../bounds/GetBottom":"cGae","../../bounds/GetLeft":"V2KS","../../bounds/SetBottom":"sBnq","../../bounds/SetRight":"MrHk"}],"XsM9":[function(require,module,exports) {
var e=function(e){return e.y-e.height*e.originY+.5*e.height};module.exports=e;
},{}],"xrQ3":[function(require,module,exports) {
var r=function(r,e){var i=r.height*r.originY;return r.y=e+i-.5*r.height,r};module.exports=r;
},{}],"H1wN":[function(require,module,exports) {
var e=require("../../bounds/GetCenterY"),r=require("../../bounds/GetLeft"),t=require("../../bounds/SetCenterY"),u=require("../../bounds/SetRight"),n=function(n,o,i,d){return void 0===i&&(i=0),void 0===d&&(d=0),u(n,r(o)-i),t(n,e(o)+d),n};module.exports=n;
},{"../../bounds/GetCenterY":"XsM9","../../bounds/GetLeft":"V2KS","../../bounds/SetCenterY":"xrQ3","../../bounds/SetRight":"MrHk"}],"vf2c":[function(require,module,exports) {
var r=function(r){return r.y-r.height*r.originY};module.exports=r;
},{}],"Mi6Q":[function(require,module,exports) {
var e=require("../../bounds/GetLeft"),r=require("../../bounds/GetTop"),o=require("../../bounds/SetRight"),u=require("../../bounds/SetTop"),t=function(t,i,d,n){return void 0===d&&(d=0),void 0===n&&(n=0),o(t,e(i)-d),u(t,r(i)-n),t};module.exports=t;
},{"../../bounds/GetLeft":"V2KS","../../bounds/GetTop":"vf2c","../../bounds/SetRight":"MrHk","../../bounds/SetTop":"FQxV"}],"zmzp":[function(require,module,exports) {
var e=require("../../bounds/GetBottom"),o=require("../../bounds/GetRight"),t=require("../../bounds/SetBottom"),r=require("../../bounds/SetLeft"),u=function(u,i,d,n){return void 0===d&&(d=0),void 0===n&&(n=0),r(u,o(i)+d),t(u,e(i)+n),u};module.exports=u;
},{"../../bounds/GetBottom":"cGae","../../bounds/GetRight":"qkG5","../../bounds/SetBottom":"sBnq","../../bounds/SetLeft":"Ih21"}],"HijZ":[function(require,module,exports) {
var e=require("../../bounds/GetCenterY"),r=require("../../bounds/GetRight"),t=require("../../bounds/SetCenterY"),u=require("../../bounds/SetLeft"),n=function(n,o,i,d){return void 0===i&&(i=0),void 0===d&&(d=0),u(n,r(o)+i),t(n,e(o)+d),n};module.exports=n;
},{"../../bounds/GetCenterY":"XsM9","../../bounds/GetRight":"qkG5","../../bounds/SetCenterY":"xrQ3","../../bounds/SetLeft":"Ih21"}],"Svo7":[function(require,module,exports) {
var e=require("../../bounds/GetRight"),r=require("../../bounds/GetTop"),o=require("../../bounds/SetLeft"),u=require("../../bounds/SetTop"),t=function(t,i,d,n){return void 0===d&&(d=0),void 0===n&&(n=0),o(t,e(i)+d),u(t,r(i)-n),t};module.exports=t;
},{"../../bounds/GetRight":"qkG5","../../bounds/GetTop":"vf2c","../../bounds/SetLeft":"Ih21","../../bounds/SetTop":"FQxV"}],"TzSm":[function(require,module,exports) {
var e=require("../../bounds/GetCenterX"),r=require("../../bounds/GetTop"),o=require("../../bounds/SetBottom"),t=require("../../bounds/SetCenterX"),u=function(u,n,d,i){return void 0===d&&(d=0),void 0===i&&(i=0),t(u,e(n)+d),o(u,r(n)-i),u};module.exports=u;
},{"../../bounds/GetCenterX":"K2CY","../../bounds/GetTop":"vf2c","../../bounds/SetBottom":"sBnq","../../bounds/SetCenterX":"kdcZ"}],"coWg":[function(require,module,exports) {
var e=require("../../bounds/GetLeft"),o=require("../../bounds/GetTop"),r=require("../../bounds/SetBottom"),t=require("../../bounds/SetLeft"),u=function(u,d,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),t(u,e(d)-i),r(u,o(d)-n),u};module.exports=u;
},{"../../bounds/GetLeft":"V2KS","../../bounds/GetTop":"vf2c","../../bounds/SetBottom":"sBnq","../../bounds/SetLeft":"Ih21"}],"tHmY":[function(require,module,exports) {
var e=require("../../bounds/GetRight"),o=require("../../bounds/GetTop"),r=require("../../bounds/SetBottom"),t=require("../../bounds/SetRight"),u=function(u,i,d,n){return void 0===d&&(d=0),void 0===n&&(n=0),t(u,e(i)+d),r(u,o(i)-n),u};module.exports=u;
},{"../../bounds/GetRight":"qkG5","../../bounds/GetTop":"vf2c","../../bounds/SetBottom":"sBnq","../../bounds/SetRight":"MrHk"}],"VtJw":[function(require,module,exports) {
var e=require("../const"),r=[];r[e.BOTTOM_CENTER]=require("./BottomCenter"),r[e.BOTTOM_LEFT]=require("./BottomLeft"),r[e.BOTTOM_RIGHT]=require("./BottomRight"),r[e.LEFT_BOTTOM]=require("./LeftBottom"),r[e.LEFT_CENTER]=require("./LeftCenter"),r[e.LEFT_TOP]=require("./LeftTop"),r[e.RIGHT_BOTTOM]=require("./RightBottom"),r[e.RIGHT_CENTER]=require("./RightCenter"),r[e.RIGHT_TOP]=require("./RightTop"),r[e.TOP_CENTER]=require("./TopCenter"),r[e.TOP_LEFT]=require("./TopLeft"),r[e.TOP_RIGHT]=require("./TopRight");var T=function(e,T,t,i,o){return r[t](e,T,i,o)};module.exports=T;
},{"../const":"B18i","./BottomCenter":"vfYv","./BottomLeft":"XQ8R","./BottomRight":"vx9L","./LeftBottom":"RGjq","./LeftCenter":"H1wN","./LeftTop":"Mi6Q","./RightBottom":"zmzp","./RightCenter":"HijZ","./RightTop":"Svo7","./TopCenter":"TzSm","./TopLeft":"coWg","./TopRight":"tHmY"}],"URw3":[function(require,module,exports) {
var r=require("../display/align/to/QuickSet"),e=function(e,t,a,i){for(var n=e[0],o=1;o<e.length;o++){var u=e[o];r(u,n,t,a,i),n=u}return e};module.exports=e;
},{"../display/align/to/QuickSet":"VtJw"}],"T0j7":[function(require,module,exports) {
var o=function(o,r,e,v,i,d){var f;void 0===v&&(v=0),void 0===i&&(i=0),void 0===d&&(d=1);var n=0,t=o.length;if(1===d)for(f=i;f<t;f++)o[f][r]+=e+n*v,n++;else for(f=i;f>=0;f--)o[f][r]+=e+n*v,n++;return o};module.exports=o;
},{}],"yvcn":[function(require,module,exports) {
var e=require("./PropertyValueInc"),r=function(r,n,u,o,t){return e(r,"angle",n,u,o,t)};module.exports=r;
},{"./PropertyValueInc":"T0j7"}],"OdBQ":[function(require,module,exports) {
var r=function(r,a,e){for(var l=0;l<r.length;l++){var n=r[l];a.call(e,n)}return r};module.exports=r;
},{}],"guN5":[function(require,module,exports) {
var r=function(r,n,o){void 0===o&&(o=0);for(var e=o;e<r.length;e++){var t=r[e],u=!0;for(var v in n)t[v]!==n[v]&&(u=!1);if(u)return t}return null};module.exports=r;
},{}],"cAmm":[function(require,module,exports) {
var e=require("../../bounds/GetBottom"),r=require("../../bounds/GetCenterX"),o=require("../../bounds/SetBottom"),t=require("../../bounds/SetCenterX"),u=function(u,n,d,i){return void 0===d&&(d=0),void 0===i&&(i=0),t(u,r(n)+d),o(u,e(n)+i),u};module.exports=u;
},{"../../bounds/GetBottom":"cGae","../../bounds/GetCenterX":"K2CY","../../bounds/SetBottom":"sBnq","../../bounds/SetCenterX":"kdcZ"}],"colH":[function(require,module,exports) {
var e=require("../../bounds/GetBottom"),o=require("../../bounds/GetLeft"),t=require("../../bounds/SetBottom"),r=require("../../bounds/SetLeft"),u=function(u,d,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),r(u,o(d)-i),t(u,e(d)+n),u};module.exports=u;
},{"../../bounds/GetBottom":"cGae","../../bounds/GetLeft":"V2KS","../../bounds/SetBottom":"sBnq","../../bounds/SetLeft":"Ih21"}],"Yby2":[function(require,module,exports) {
var e=require("../../bounds/GetBottom"),o=require("../../bounds/GetRight"),t=require("../../bounds/SetBottom"),r=require("../../bounds/SetRight"),u=function(u,i,d,n){return void 0===d&&(d=0),void 0===n&&(n=0),r(u,o(i)+d),t(u,e(i)+n),u};module.exports=u;
},{"../../bounds/GetBottom":"cGae","../../bounds/GetRight":"qkG5","../../bounds/SetBottom":"sBnq","../../bounds/SetRight":"MrHk"}],"u1hz":[function(require,module,exports) {
var e=require("./SetCenterX"),r=require("./SetCenterY"),t=function(t,n,u){return e(t,n),r(t,u)};module.exports=t;
},{"./SetCenterX":"kdcZ","./SetCenterY":"xrQ3"}],"lZx9":[function(require,module,exports) {
var e=require("../../bounds/CenterOn"),r=require("../../bounds/GetCenterX"),n=require("../../bounds/GetCenterY"),u=function(u,o,t,d){return void 0===t&&(t=0),void 0===d&&(d=0),e(u,r(o)+t,n(o)+d),u};module.exports=u;
},{"../../bounds/CenterOn":"u1hz","../../bounds/GetCenterX":"K2CY","../../bounds/GetCenterY":"XsM9"}],"GVDA":[function(require,module,exports) {
var e=require("../../bounds/GetCenterY"),r=require("../../bounds/GetLeft"),t=require("../../bounds/SetCenterY"),u=require("../../bounds/SetLeft"),n=function(n,o,d,i){return void 0===d&&(d=0),void 0===i&&(i=0),u(n,r(o)-d),t(n,e(o)+i),n};module.exports=n;
},{"../../bounds/GetCenterY":"XsM9","../../bounds/GetLeft":"V2KS","../../bounds/SetCenterY":"xrQ3","../../bounds/SetLeft":"Ih21"}],"Nn1T":[function(require,module,exports) {
var e=require("../../bounds/GetCenterY"),r=require("../../bounds/GetRight"),t=require("../../bounds/SetCenterY"),u=require("../../bounds/SetRight"),i=function(i,n,o,d){return void 0===o&&(o=0),void 0===d&&(d=0),u(i,r(n)+o),t(i,e(n)+d),i};module.exports=i;
},{"../../bounds/GetCenterY":"XsM9","../../bounds/GetRight":"qkG5","../../bounds/SetCenterY":"xrQ3","../../bounds/SetRight":"MrHk"}],"LSW6":[function(require,module,exports) {
var e=require("../../bounds/GetCenterX"),r=require("../../bounds/GetTop"),o=require("../../bounds/SetCenterX"),u=require("../../bounds/SetTop"),n=function(n,t,d,i){return void 0===d&&(d=0),void 0===i&&(i=0),o(n,e(t)+d),u(n,r(t)-i),n};module.exports=n;
},{"../../bounds/GetCenterX":"K2CY","../../bounds/GetTop":"vf2c","../../bounds/SetCenterX":"kdcZ","../../bounds/SetTop":"FQxV"}],"uKuo":[function(require,module,exports) {
var e=require("../../bounds/GetLeft"),r=require("../../bounds/GetTop"),o=require("../../bounds/SetLeft"),u=require("../../bounds/SetTop"),t=function(t,d,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),o(t,e(d)-i),u(t,r(d)-n),t};module.exports=t;
},{"../../bounds/GetLeft":"V2KS","../../bounds/GetTop":"vf2c","../../bounds/SetLeft":"Ih21","../../bounds/SetTop":"FQxV"}],"cW8X":[function(require,module,exports) {
var e=require("../../bounds/GetRight"),r=require("../../bounds/GetTop"),o=require("../../bounds/SetRight"),u=require("../../bounds/SetTop"),i=function(i,t,d,n){return void 0===d&&(d=0),void 0===n&&(n=0),o(i,e(t)+d),u(i,r(t)-n),i};module.exports=i;
},{"../../bounds/GetRight":"qkG5","../../bounds/GetTop":"vf2c","../../bounds/SetRight":"MrHk","../../bounds/SetTop":"FQxV"}],"qLyQ":[function(require,module,exports) {
var T=require("../const"),e=[];e[T.BOTTOM_CENTER]=require("./BottomCenter"),e[T.BOTTOM_LEFT]=require("./BottomLeft"),e[T.BOTTOM_RIGHT]=require("./BottomRight"),e[T.CENTER]=require("./Center"),e[T.LEFT_CENTER]=require("./LeftCenter"),e[T.RIGHT_CENTER]=require("./RightCenter"),e[T.TOP_CENTER]=require("./TopCenter"),e[T.TOP_LEFT]=require("./TopLeft"),e[T.TOP_RIGHT]=require("./TopRight"),e[T.LEFT_BOTTOM]=e[T.BOTTOM_LEFT],e[T.LEFT_TOP]=e[T.TOP_LEFT],e[T.RIGHT_BOTTOM]=e[T.BOTTOM_RIGHT],e[T.RIGHT_TOP]=e[T.TOP_RIGHT];var r=function(T,r,t,O,E){return e[t](T,r,O,E)};module.exports=r;
},{"../const":"B18i","./BottomCenter":"cAmm","./BottomLeft":"colH","./BottomRight":"Yby2","./Center":"lZx9","./LeftCenter":"GVDA","./RightCenter":"Nn1T","./TopCenter":"LSW6","./TopLeft":"uKuo","./TopRight":"cW8X"}],"cEup":[function(require,module,exports) {
var r=function(r,e,n){var o=typeof r;return r&&"number"!==o&&"string"!==o&&r.hasOwnProperty(e)&&void 0!==r[e]?r[e]:n};module.exports=r;
},{}],"lZkB":[function(require,module,exports) {
var o=function(){};module.exports=o;
},{}],"JASv":[function(require,module,exports) {
function e(e){return!!e.get&&"function"==typeof e.get||!!e.set&&"function"==typeof e.set}function t(t,n,i){var r=i?t[n]:Object.getOwnPropertyDescriptor(t,n);return!i&&r.value&&"object"==typeof r.value&&(r=r.value),!(!r||!e(r))&&(void 0===r.enumerable&&(r.enumerable=!0),void 0===r.configurable&&(r.configurable=!0),r)}function n(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!!n&&(n.value&&"object"==typeof n.value&&(n=n.value),!1===n.configurable)}function i(e,i,r,a){for(var u in i)if(i.hasOwnProperty(u)){var p=t(i,u,r);if(!1!==p){if(n((a||e).prototype,u)){if(o.ignoreFinals)continue;throw new Error("cannot override final property '"+u+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(e.prototype,u,p)}else e.prototype[u]=i[u]}}function r(e,t){if(t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++)i(e,t[n].prototype||t[n])}}function o(e){var t,n;if(e||(e={}),e.initialize){if("function"!=typeof e.initialize)throw new Error("initialize must be a function");t=e.initialize,delete e.initialize}else if(e.Extends){var o=e.Extends;t=function(){o.apply(this,arguments)}}else t=function(){};e.Extends?(t.prototype=Object.create(e.Extends.prototype),t.prototype.constructor=t,n=e.Extends,delete e.Extends):t.prototype.constructor=t;var a=null;return e.Mixins&&(a=e.Mixins,delete e.Mixins),r(t,a),i(t,e,!0,n),t}o.extend=i,o.mixin=r,o.ignoreFinals=!1,module.exports=o;
},{}],"inZZ":[function(require,module,exports) {
var r=function(r,t,o){return r.radius>0&&t>=r.left&&t<=r.right&&o>=r.top&&o<=r.bottom&&(r.x-t)*(r.x-t)+(r.y-o)*(r.y-o)<=r.radius*r.radius};module.exports=r;
},{}],"ytOT":[function(require,module,exports) {
var E={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};module.exports=E;
},{}],"IDPQ":[function(require,module,exports) {
var i=require("../../utils/Class"),t=require("../const"),s=new i({initialize:function(i,s){void 0===i&&(i=0),void 0===s&&(s=i),this.type=t.POINT,this.x=i,this.y=s},setTo:function(i,t){return void 0===i&&(i=0),void 0===t&&(t=i),this.x=i,this.y=t,this}});module.exports=s;
},{"../../utils/Class":"JASv","../const":"ytOT"}],"e6EJ":[function(require,module,exports) {
var i=require("../point/Point"),r=function(r,n,o){return void 0===o&&(o=new i),o.x=r.x+r.radius*Math.cos(n),o.y=r.y+r.radius*Math.sin(n),o};module.exports=r;
},{"../point/Point":"IDPQ"}],"eCA1":[function(require,module,exports) {
var t=function(t,a,n){return Math.max(a,Math.min(n,t))};module.exports=t;
},{}],"YRnl":[function(require,module,exports) {
var r=require("./Clamp"),e=function(e,u,n){return(n-u)*(e=r(e,0,1))};module.exports=e;
},{"./Clamp":"eCA1"}],"HC1y":[function(require,module,exports) {
var E={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};module.exports=E;
},{}],"iDO6":[function(require,module,exports) {
var e=require("./CircumferencePoint"),r=require("../../math/FromPercent"),i=require("../../math/const"),n=require("../point/Point"),t=function(t,o,u){void 0===u&&(u=new n);var c=r(o,0,i.PI2);return e(t,c,u)};module.exports=t;
},{"./CircumferencePoint":"e6EJ","../../math/FromPercent":"YRnl","../../math/const":"HC1y","../point/Point":"IDPQ"}],"ouyc":[function(require,module,exports) {
var r=function(r){return Math.PI*r.radius*2};module.exports=r;
},{}],"JZAE":[function(require,module,exports) {
var r=require("./Circumference"),e=require("./CircumferencePoint"),u=require("../../math/FromPercent"),i=require("../../math/const"),n=function(n,o,t,c){void 0===c&&(c=[]),!o&&t>0&&(o=r(n)/t);for(var m=0;m<o;m++){var a=u(m/o,0,i.PI2);c.push(e(n,a))}return c};module.exports=n;
},{"./Circumference":"ouyc","./CircumferencePoint":"e6EJ","../../math/FromPercent":"YRnl","../../math/const":"HC1y"}],"keI1":[function(require,module,exports) {
var a=require("../point/Point"),r=function(r,t){void 0===t&&(t=new a);var n=2*Math.PI*Math.random(),o=Math.random()+Math.random(),i=o>1?2-o:o,d=i*Math.cos(n),e=i*Math.sin(n);return t.x=r.x+d*r.radius,t.y=r.y+e*r.radius,t};module.exports=r;
},{"../point/Point":"IDPQ"}],"VKcd":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./Contains"),s=require("./GetPoint"),n=require("./GetPoints"),e=require("../const"),r=require("./Random"),u=new t({initialize:function(t,i,s){void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=0),this.type=e.CIRCLE,this.x=t,this.y=i,this._radius=s,this._diameter=2*s},contains:function(t,s){return i(this,t,s)},getPoint:function(t,i){return s(this,t,i)},getPoints:function(t,i,s){return n(this,t,i,s)},getRandomPoint:function(t){return r(this,t)},setTo:function(t,i,s){return this.x=t,this.y=i,this._radius=s,this._diameter=2*s,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(t,i){return void 0===i&&(i=t),this.x=t,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(t){this._radius=t,this._diameter=2*t}},diameter:{get:function(){return this._diameter},set:function(t){this._diameter=t,this._radius=.5*t}},left:{get:function(){return this.x-this._radius},set:function(t){this.x=t+this._radius}},right:{get:function(){return this.x+this._radius},set:function(t){this.x=t-this._radius}},top:{get:function(){return this.y-this._radius},set:function(t){this.y=t+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(t){this.y=t-this._radius}}});module.exports=u;
},{"../../utils/Class":"JASv","./Contains":"inZZ","./GetPoint":"iDO6","./GetPoints":"JZAE","../const":"ytOT","./Random":"keI1"}],"kuUI":[function(require,module,exports) {
var a=require("../../math/Clamp"),t=2,h={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(t,h,i,l){return void 0===t&&(t=1),void 0===h?this.alpha=t:(this._alphaTL=a(t,0,1),this._alphaTR=a(h,0,1),this._alphaBL=a(i,0,1),this._alphaBR=a(l,0,1)),this},alpha:{get:function(){return this._alpha},set:function(h){var i=a(h,0,1);this._alpha=i,this._alphaTL=i,this._alphaTR=i,this._alphaBL=i,this._alphaBR=i,0===i?this.renderFlags&=~t:this.renderFlags|=t}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(h){var i=a(h,0,1);this._alphaTL=i,0!==i&&(this.renderFlags|=t)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(h){var i=a(h,0,1);this._alphaTR=i,0!==i&&(this.renderFlags|=t)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(h){var i=a(h,0,1);this._alphaBL=i,0!==i&&(this.renderFlags|=t)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(h){var i=a(h,0,1);this._alphaBR=i,0!==i&&(this.renderFlags|=t)}}};module.exports=h;
},{"../../math/Clamp":"eCA1"}],"NpXe":[function(require,module,exports) {
var a=require("../../math/Clamp"),t=2,e={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a){return void 0===a&&(a=1),this.alpha=a,this},alpha:{get:function(){return this._alpha},set:function(e){var h=a(e,0,1);this._alpha=h,0===h?this.renderFlags&=~t:this.renderFlags|=t}}};module.exports=e;
},{"../../math/Clamp":"eCA1"}],"JJlS":[function(require,module,exports) {
"use strict";var e=Object.prototype.hasOwnProperty,t="~";function n(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,n,o,s,i){if("function"!=typeof o)throw new TypeError("The listener must be a function");var c=new r(o,s||e,i),f=t?t+n:n;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],c]:e._events[f].push(c):(e._events[f]=c,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(t=!1)),i.prototype.eventNames=function(){var n,r,o=[];if(0===this._eventsCount)return o;for(r in n=this._events)e.call(n,r)&&o.push(t?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(n)):o},i.prototype.listeners=function(e){var n=t?t+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,s=r.length,i=new Array(s);o<s;o++)i[o]=r[o].fn;return i},i.prototype.listenerCount=function(e){var n=t?t+e:e,r=this._events[n];return r?r.fn?1:r.length:0},i.prototype.emit=function(e,n,r,o,s,i){var c=t?t+e:e;if(!this._events[c])return!1;var f,u,a=this._events[c],l=arguments.length;if(a.fn){switch(a.once&&this.removeListener(e,a.fn,void 0,!0),l){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,r),!0;case 4:return a.fn.call(a.context,n,r,o),!0;case 5:return a.fn.call(a.context,n,r,o,s),!0;case 6:return a.fn.call(a.context,n,r,o,s,i),!0}for(u=1,f=new Array(l-1);u<l;u++)f[u-1]=arguments[u];a.fn.apply(a.context,f)}else{var v,h=a.length;for(u=0;u<h;u++)switch(a[u].once&&this.removeListener(e,a[u].fn,void 0,!0),l){case 1:a[u].fn.call(a[u].context);break;case 2:a[u].fn.call(a[u].context,n);break;case 3:a[u].fn.call(a[u].context,n,r);break;case 4:a[u].fn.call(a[u].context,n,r,o);break;default:if(!f)for(v=1,f=new Array(l-1);v<l;v++)f[v-1]=arguments[v];a[u].fn.apply(a[u].context,f)}}return!0},i.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},i.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},i.prototype.removeListener=function(e,n,r,o){var i=t?t+e:e;if(!this._events[i])return this;if(!n)return s(this,i),this;var c=this._events[i];if(c.fn)c.fn!==n||o&&!c.once||r&&c.context!==r||s(this,i);else{for(var f=0,u=[],a=c.length;f<a;f++)(c[f].fn!==n||o&&!c[f].once||r&&c[f].context!==r)&&u.push(c[f]);u.length?this._events[i]=1===u.length?u[0]:u:s(this,i)}return this},i.prototype.removeAllListeners=function(e){var r;return e?(r=t?t+e:e,this._events[r]&&s(this,r)):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=t,i.EventEmitter=i,"undefined"!=typeof module&&(module.exports=i);
},{}],"eGX0":[function(require,module,exports) {
module.exports="add";
},{}],"edEl":[function(require,module,exports) {
module.exports="complete";
},{}],"s011":[function(require,module,exports) {
module.exports="repeat";
},{}],"DFCZ":[function(require,module,exports) {
module.exports="restart";
},{}],"xnJO":[function(require,module,exports) {
module.exports="start";
},{}],"nFO5":[function(require,module,exports) {
module.exports="pauseall";
},{}],"Rv54":[function(require,module,exports) {
module.exports="remove";
},{}],"GVH9":[function(require,module,exports) {
module.exports="resumeall";
},{}],"x3pP":[function(require,module,exports) {
module.exports="animationcomplete";
},{}],"h9fC":[function(require,module,exports) {
module.exports="animationcomplete-";
},{}],"ouni":[function(require,module,exports) {
module.exports="animationrepeat-";
},{}],"SSnw":[function(require,module,exports) {
module.exports="animationrestart-";
},{}],"DCWo":[function(require,module,exports) {
module.exports="animationstart-";
},{}],"UtUw":[function(require,module,exports) {
module.exports="animationupdate-";
},{}],"JbXx":[function(require,module,exports) {
module.exports="animationrepeat";
},{}],"n3yf":[function(require,module,exports) {
module.exports="animationrestart";
},{}],"z7sD":[function(require,module,exports) {
module.exports="animationstart";
},{}],"cOBH":[function(require,module,exports) {
module.exports="animationupdate";
},{}],"SxpX":[function(require,module,exports) {
module.exports={ADD_ANIMATION:require("./ADD_ANIMATION_EVENT"),ANIMATION_COMPLETE:require("./ANIMATION_COMPLETE_EVENT"),ANIMATION_REPEAT:require("./ANIMATION_REPEAT_EVENT"),ANIMATION_RESTART:require("./ANIMATION_RESTART_EVENT"),ANIMATION_START:require("./ANIMATION_START_EVENT"),PAUSE_ALL:require("./PAUSE_ALL_EVENT"),REMOVE_ANIMATION:require("./REMOVE_ANIMATION_EVENT"),RESUME_ALL:require("./RESUME_ALL_EVENT"),SPRITE_ANIMATION_COMPLETE:require("./SPRITE_ANIMATION_COMPLETE_EVENT"),SPRITE_ANIMATION_KEY_COMPLETE:require("./SPRITE_ANIMATION_KEY_COMPLETE_EVENT"),SPRITE_ANIMATION_KEY_REPEAT:require("./SPRITE_ANIMATION_KEY_REPEAT_EVENT"),SPRITE_ANIMATION_KEY_RESTART:require("./SPRITE_ANIMATION_KEY_RESTART_EVENT"),SPRITE_ANIMATION_KEY_START:require("./SPRITE_ANIMATION_KEY_START_EVENT"),SPRITE_ANIMATION_KEY_UPDATE:require("./SPRITE_ANIMATION_KEY_UPDATE_EVENT"),SPRITE_ANIMATION_REPEAT:require("./SPRITE_ANIMATION_REPEAT_EVENT"),SPRITE_ANIMATION_RESTART:require("./SPRITE_ANIMATION_RESTART_EVENT"),SPRITE_ANIMATION_START:require("./SPRITE_ANIMATION_START_EVENT"),SPRITE_ANIMATION_UPDATE:require("./SPRITE_ANIMATION_UPDATE_EVENT")};
},{"./ADD_ANIMATION_EVENT":"eGX0","./ANIMATION_COMPLETE_EVENT":"edEl","./ANIMATION_REPEAT_EVENT":"s011","./ANIMATION_RESTART_EVENT":"DFCZ","./ANIMATION_START_EVENT":"xnJO","./PAUSE_ALL_EVENT":"nFO5","./REMOVE_ANIMATION_EVENT":"Rv54","./RESUME_ALL_EVENT":"GVH9","./SPRITE_ANIMATION_COMPLETE_EVENT":"x3pP","./SPRITE_ANIMATION_KEY_COMPLETE_EVENT":"h9fC","./SPRITE_ANIMATION_KEY_REPEAT_EVENT":"ouni","./SPRITE_ANIMATION_KEY_RESTART_EVENT":"SSnw","./SPRITE_ANIMATION_KEY_START_EVENT":"DCWo","./SPRITE_ANIMATION_KEY_UPDATE_EVENT":"UtUw","./SPRITE_ANIMATION_REPEAT_EVENT":"JbXx","./SPRITE_ANIMATION_RESTART_EVENT":"n3yf","./SPRITE_ANIMATION_START_EVENT":"z7sD","./SPRITE_ANIMATION_UPDATE_EVENT":"cOBH"}],"KnbC":[function(require,module,exports) {
var r=function(r,e,n){if(!e.length)return NaN;if(1===e.length)return e[0];var t,f,l=1;if(n){if(r<e[0][n])return e[0];for(;e[l][n]<r;)l++}else for(;e[l]<r;)l++;return l>e.length&&(l=e.length),n?(t=e[l-1][n],(f=e[l][n])-r<=r-t?e[l]:e[l-1]):(t=e[l-1],(f=e[l])-r<=r-t?f:t)};module.exports=r;
},{}],"JfIh":[function(require,module,exports) {
var t=require("../utils/Class"),i=new t({initialize:function(t,i,e,r){this.textureKey=t,this.textureFrame=i,this.index=e,this.frame=r,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration}},destroy:function(){this.frame=void 0}});module.exports=i;
},{"../utils/Class":"JASv"}],"OqLI":[function(require,module,exports) {
var r=function(r,e,n){if(r&&"number"!=typeof r){if(r.hasOwnProperty(e))return r[e];if(-1!==e.indexOf(".")){for(var t=e.split("."),f=r,i=n,o=0;o<t.length;o++){if(!f.hasOwnProperty(t[o])){i=n;break}i=f[t[o]],f=f[t[o]]}return i}return n}return n};module.exports=r;
},{}],"cvH8":[function(require,module,exports) {
var e=require("../math/Clamp"),t=require("../utils/Class"),r=require("eventemitter3"),a=require("./events"),i=require("../utils/array/FindClosestInSorted"),s=require("./AnimationFrame"),n=require("../utils/object/GetValue"),m=new t({Extends:r,initialize:function(e,t,i){r.call(this),this.manager=e,this.key=t,this.type="frame",this.frames=this.getFrames(e.textureManager,n(i,"frames",[]),n(i,"defaultTextureKey",null)),this.frameRate=n(i,"frameRate",null),this.duration=n(i,"duration",null),null===this.duration&&null===this.frameRate?(this.frameRate=24,this.duration=this.frameRate/this.frames.length*1e3):this.duration&&null===this.frameRate?this.frameRate=this.frames.length/(this.duration/1e3):this.duration=this.frames.length/this.frameRate*1e3,this.msPerFrame=1e3/this.frameRate,this.skipMissedFrames=n(i,"skipMissedFrames",!0),this.delay=n(i,"delay",0),this.repeat=n(i,"repeat",0),this.repeatDelay=n(i,"repeatDelay",0),this.yoyo=n(i,"yoyo",!1),this.showOnStart=n(i,"showOnStart",!1),this.hideOnComplete=n(i,"hideOnComplete",!1),this.paused=!1,this.manager.on(a.PAUSE_ALL,this.pause,this),this.manager.on(a.RESUME_ALL,this.resume,this)},addFrame:function(e){return this.addFrameAt(this.frames.length,e)},addFrameAt:function(e,t){var r=this.getFrames(this.manager.textureManager,t);if(r.length>0){if(0===e)this.frames=r.concat(this.frames);else if(e===this.frames.length)this.frames=this.frames.concat(r);else{var a=this.frames.slice(0,e),i=this.frames.slice(e);this.frames=a.concat(r,i)}this.updateFrameSequence()}return this},checkFrame:function(e){return e>=0&&e<this.frames.length},completeAnimation:function(e){this.hideOnComplete&&(e.parent.visible=!1),e.stop()},getFirstTick:function(e,t){void 0===t&&(t=!0),e.accumulator=0,e.nextTick=e.msPerFrame+e.currentFrame.duration,t&&(e.nextTick+=e._delay)},getFrameAt:function(e){return this.frames[e]},getFrames:function(e,t,r){var a,i,m,h,o=[],u=1;if("string"==typeof t){h=t;var f=e.get(h).getFrameNames();t=[],f.forEach(function(e,r){t.push({key:h,frame:r})})}if(!Array.isArray(t)||0===t.length)return o;for(m=0;m<t.length;m++){var p=t[m],l=n(p,"key",r);if(l){var d=n(p,"frame",0),c=e.getFrame(l,d);(i=new s(l,d,u,c)).duration=n(p,"duration",0),i.isFirst=!a,a&&(a.nextFrame=i,i.prevFrame=a),o.push(i),a=i,u++}}if(o.length>0){i.isLast=!0,i.nextFrame=o[0],o[0].prevFrame=i;var F=1/(o.length-1);for(m=0;m<o.length;m++)o[m].progress=m*F}return o},getNextTick:function(e){e.accumulator-=e.nextTick,e.nextTick=e.msPerFrame+e.currentFrame.duration},load:function(e,t){t>=this.frames.length&&(t=0),e.currentAnim!==this&&(e.currentAnim=this,e.frameRate=this.frameRate,e.duration=this.duration,e.msPerFrame=this.msPerFrame,e.skipMissedFrames=this.skipMissedFrames,e._delay=this.delay,e._repeat=this.repeat,e._repeatDelay=this.repeatDelay,e._yoyo=this.yoyo);var r=this.frames[t];0!==t||e.forward||(r=this.getLastFrame()),e.updateFrame(r)},getFrameByProgress:function(t){return t=e(t,0,1),i(t,this.frames,"progress")},nextFrame:function(e){var t=e.currentFrame;t.isLast?e._yoyo?this.handleYoyoFrame(e,!1):e.repeatCounter>0?e._reverse&&e.forward?e.forward=!1:this.repeatAnimation(e):this.completeAnimation(e):this.updateAndGetNextTick(e,t.nextFrame)},handleYoyoFrame:function(e,t){if(t||(t=!1),e._reverse===!t&&e.repeatCounter>0)return e._repeatDelay&&!e.pendingRepeat||(e.forward=t),void this.repeatAnimation(e);if(e._reverse===t||0!==e.repeatCounter){e.forward=t;var r=t?e.currentFrame.nextFrame:e.currentFrame.prevFrame;this.updateAndGetNextTick(e,r)}else this.completeAnimation(e)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(e){var t=e.currentFrame;t.isFirst?e._yoyo?this.handleYoyoFrame(e,!0):e.repeatCounter>0?e._reverse&&!e.forward?(e.currentFrame=this.getLastFrame(),this.repeatAnimation(e)):(e.forward=!0,this.repeatAnimation(e)):this.completeAnimation(e):this.updateAndGetNextTick(e,t.prevFrame)},updateAndGetNextTick:function(e,t){e.updateFrame(t),this.getNextTick(e)},removeFrame:function(e){var t=this.frames.indexOf(e);return-1!==t&&this.removeFrameAt(t),this},removeFrameAt:function(e){return this.frames.splice(e,1),this.updateFrameSequence(),this},repeatAnimation:function(e){if(2===e._pendingStop)return this.completeAnimation(e);if(e._repeatDelay>0&&!1===e.pendingRepeat)e.pendingRepeat=!0,e.accumulator-=e.nextTick,e.nextTick+=e._repeatDelay;else if(e.repeatCounter--,e.updateFrame(e.currentFrame[e.forward?"nextFrame":"prevFrame"]),e.isPlaying){this.getNextTick(e),e.pendingRepeat=!1;var t=e.currentFrame,r=e.parent;this.emit(a.ANIMATION_REPEAT,this,t),r.emit(a.SPRITE_ANIMATION_KEY_REPEAT+this.key,this,t,e.repeatCounter,r),r.emit(a.SPRITE_ANIMATION_REPEAT,this,t,e.repeatCounter,r)}},setFrame:function(e){e.forward?this.nextFrame(e):this.previousFrame(e)},toJSON:function(){var e={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(t){e.frames.push(t.toJSON())}),e},updateFrameSequence:function(){for(var e,t=this.frames.length,r=1/(t-1),a=0;a<t;a++)(e=this.frames[a]).index=a+1,e.isFirst=!1,e.isLast=!1,e.progress=a*r,0===a?(e.isFirst=!0,1===t?(e.isLast=!0,e.nextFrame=e,e.prevFrame=e):(e.isLast=!1,e.prevFrame=this.frames[t-1],e.nextFrame=this.frames[a+1])):a===t-1&&t>1?(e.isLast=!0,e.prevFrame=this.frames[t-2],e.nextFrame=this.frames[0]):t>1&&(e.prevFrame=this.frames[a-1],e.nextFrame=this.frames[a+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.removeAllListeners(),this.manager.off(a.PAUSE_ALL,this.pause,this),this.manager.off(a.RESUME_ALL,this.resume,this),this.manager.remove(this.key);for(var e=0;e<this.frames.length;e++)this.frames[e].destroy();this.frames=[],this.manager=null}});module.exports=m;
},{"../math/Clamp":"eCA1","../utils/Class":"JASv","eventemitter3":"JJlS","./events":"SxpX","../utils/array/FindClosestInSorted":"KnbC","./AnimationFrame":"JfIh","../utils/object/GetValue":"OqLI"}],"hTYM":[function(require,module,exports) {
var t=require("../../animations/Animation"),i=require("../../utils/Class"),e=require("../../animations/events"),n=new i({initialize:function(t){this.parent=t,this.animationManager=t.scene.sys.anims,this.animationManager.once(e.REMOVE_ANIMATION,this.remove,this),this.isPlaying=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this._timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this._delay=0,this._repeat=0,this._repeatDelay=0,this._yoyo=!1,this.forward=!0,this._reverse=!1,this.accumulator=0,this.nextTick=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(i){return i instanceof t&&(i=i.key),this.nextAnim=i,this.parent},setDelay:function(t){return void 0===t&&(t=0),this._delay=t,this.parent},getDelay:function(){return this._delay},delayedPlay:function(t,i,e){return this.play(i,!0,e),this.nextTick+=t,this.parent},getCurrentKey:function(){if(this.currentAnim)return this.currentAnim.key},load:function(t,i){return void 0===i&&(i=0),this.isPlaying&&this.stop(),this.animationManager.load(this,t,i),this.parent},pause:function(t){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==t&&this.updateFrame(t),this.parent},resume:function(t){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==t&&this.updateFrame(t),this.parent},isPaused:{get:function(){return this._paused}},play:function(i,e,n){return void 0===e&&(e=!1),void 0===n&&(n=0),i instanceof t&&(i=i.key),e&&this.isPlaying&&this.currentAnim.key===i?this.parent:(this.forward=!0,this._reverse=!1,this._paused=!1,this._wasPlaying=!0,this._startAnimation(i,n))},playReverse:function(i,e,n){return void 0===e&&(e=!1),void 0===n&&(n=0),i instanceof t&&(i=i.key),e&&this.isPlaying&&this.currentAnim.key===i?this.parent:(this.forward=!1,this._reverse=!0,this._startAnimation(i,n))},_startAnimation:function(t,i){this.load(t,i);var n=this.currentAnim,r=this.parent;if(!n)return r;this.repeatCounter=-1===this._repeat?Number.MAX_VALUE:this._repeat,n.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,n.showOnStart&&(r.visible=!0);var s=this.currentFrame;return n.emit(e.ANIMATION_START,n,s,r),r.emit(e.SPRITE_ANIMATION_KEY_START+t,n,s,r),r.emit(e.SPRITE_ANIMATION_START,n,s,r),r},reverse:function(){return this.isPlaying&&(this._reverse=!this._reverse,this.forward=!this.forward),this.parent},getProgress:function(){var t=this.currentFrame.progress;return this.forward||(t=1-t),t},setProgress:function(t){return this.forward||(t=1-t),this.setCurrentFrame(this.currentAnim.getFrameByProgress(t)),this.parent},remove:function(t,i){void 0===i&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},getRepeat:function(){return this._repeat},setRepeat:function(t){return this._repeat=t,this.repeatCounter=-1===t?Number.MAX_VALUE:t,this.parent},getRepeatDelay:function(){return this._repeatDelay},setRepeatDelay:function(t){return this._repeatDelay=t,this.parent},restart:function(t){void 0===t&&(t=!1);var i=this.currentAnim;i.getFirstTick(this,t),this.forward=!0,this.isPlaying=!0,this.pendingRepeat=!1,this._paused=!1,this.updateFrame(i.frames[0]);var n=this.parent,r=this.currentFrame;return i.emit(e.ANIMATION_RESTART,i,r,n),n.emit(e.SPRITE_ANIMATION_KEY_RESTART+i.key,i,r,n),n.emit(e.SPRITE_ANIMATION_RESTART,i,r,n),this.parent},stop:function(){this._pendingStop=0,this.isPlaying=!1;var t=this.parent,i=this.currentAnim,n=this.currentFrame;if(i&&(i.emit(e.ANIMATION_COMPLETE,i,n,t),t.emit(e.SPRITE_ANIMATION_KEY_COMPLETE+i.key,i,n,t),t.emit(e.SPRITE_ANIMATION_COMPLETE,i,n,t)),this.nextAnim){var r=this.nextAnim;this.nextAnim=null,this.play(r)}return t},stopAfterDelay:function(t){return this._pendingStop=1,this._pendingStopValue=t,this.parent},stopOnRepeat:function(){return this._pendingStop=2,this.parent},stopOnFrame:function(t){return this._pendingStop=3,this._pendingStopValue=t,this.parent},setTimeScale:function(t){return void 0===t&&(t=1),this._timeScale=t,this.parent},getTimeScale:function(){return this._timeScale},getTotalFrames:function(){return this.currentAnim.frames.length},update:function(t,i){if(this.currentAnim&&this.isPlaying&&!this.currentAnim.paused){if(this.accumulator+=i*this._timeScale,1===this._pendingStop&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.currentAnim.completeAnimation(this);this.accumulator>=this.nextTick&&this.currentAnim.setFrame(this)}},setCurrentFrame:function(t){var i=this.parent;return this.currentFrame=t,i.texture=t.frame.texture,i.frame=t.frame,i.isCropped&&i.frame.updateCropUVs(i._crop,i.flipX,i.flipY),i.setSizeToFrame(),i._originComponent&&(t.frame.customPivot?i.setOrigin(t.frame.pivotX,t.frame.pivotY):i.updateDisplayOrigin()),i},updateFrame:function(t){var i=this.setCurrentFrame(t);if(this.isPlaying){t.setAlpha&&(i.alpha=t.alpha);var n=this.currentAnim;i.emit(e.SPRITE_ANIMATION_KEY_UPDATE+n.key,n,t,i),i.emit(e.SPRITE_ANIMATION_UPDATE,n,t,i),3===this._pendingStop&&this._pendingStopValue===t&&this.currentAnim.completeAnimation(this)}},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},setYoyo:function(t){return void 0===t&&(t=!1),this._yoyo=t,this.parent},getYoyo:function(){return this._yoyo},destroy:function(){this.animationManager.off(e.REMOVE_ANIMATION,this.remove,this),this.animationManager=null,this.parent=null,this.currentAnim=null,this.currentFrame=null}});module.exports=n;
},{"../../animations/Animation":"cvH8","../../utils/Class":"JASv","../../animations/events":"SxpX"}],"yktY":[function(require,module,exports) {
var e=require("../../renderer/BlendModes"),n={_blendMode:e.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(n){"string"==typeof n&&(n=e[n]),(n|=0)>=-1&&(this._blendMode=n)}},setBlendMode:function(e){return this.blendMode=e,this}};module.exports=n;
},{"../../renderer/BlendModes":"PaIu"}],"mSeY":[function(require,module,exports) {
var t={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,i){return this.width=t,this.height=i,this},setDisplaySize:function(t,i){return this.displayWidth=t,this.displayHeight=i,this}};module.exports=t;
},{}],"oinM":[function(require,module,exports) {
var i={texture:null,frame:null,isCropped:!1,setCrop:function(i,t,e,s){if(void 0===i)this.isCropped=!1;else if(this.frame){if("number"==typeof i)this.frame.setCropUVs(this._crop,i,t,e,s,this.flipX,this.flipY);else{var r=i;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};module.exports=i;
},{}],"p0cU":[function(require,module,exports) {
var t={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.scene.sys.queueDepthSort(),this._depth=t}},setDepth:function(t){return void 0===t&&(t=0),this.depth=t,this}};module.exports=t;
},{}],"tSkO":[function(require,module,exports) {
var i={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(i){return this.flipX=i,this},setFlipY:function(i){return this.flipY=i,this},setFlip:function(i,t){return this.flipX=i,this.flipY=t,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};module.exports=i;
},{}],"mjUt":[function(require,module,exports) {
var t=function(t,h,e){return!(t.width<=0||t.height<=0)&&(t.x<=h&&t.x+t.width>=h&&t.y<=e&&t.y+t.height>=e)};module.exports=t;
},{}],"x5Kb":[function(require,module,exports) {
var t=function(t){return 2*(t.width+t.height)};module.exports=t;
},{}],"DH2T":[function(require,module,exports) {
var t=require("./Perimeter"),i=require("../point/Point"),r=function(r,e,o){if(void 0===o&&(o=new i),e<=0||e>=1)return o.x=r.x,o.y=r.y,o;var h=t(r)*e;return e>.5?(h-=r.width+r.height)<=r.width?(o.x=r.right-h,o.y=r.bottom):(o.x=r.x,o.y=r.bottom-(h-r.width)):h<=r.width?(o.x=r.x+h,o.y=r.y):(o.x=r.right,o.y=r.y+(h-r.width)),o};module.exports=r;
},{"./Perimeter":"x5Kb","../point/Point":"IDPQ"}],"m1JL":[function(require,module,exports) {
var r=require("./GetPoint"),e=require("./Perimeter"),i=function(i,o,t,u){void 0===u&&(u=[]),!o&&t>0&&(o=e(i)/t);for(var n=0;n<o;n++){var v=n/o;u.push(r(i,v))}return u};module.exports=i;
},{"./GetPoint":"DH2T","./Perimeter":"x5Kb"}],"v5jv":[function(require,module,exports) {
var e=require("../point/Point"),n=function(n,o,r){return void 0===r&&(r=new e),r.x=n.x1+(n.x2-n.x1)*o,r.y=n.y1+(n.y2-n.y1)*o,r};module.exports=n;
},{"../point/Point":"IDPQ"}],"cDwM":[function(require,module,exports) {
var r=function(r){return Math.sqrt((r.x2-r.x1)*(r.x2-r.x1)+(r.y2-r.y1)*(r.y2-r.y1))};module.exports=r;
},{}],"DOcs":[function(require,module,exports) {
var r=require("./Length"),e=require("../point/Point"),n=function(n,o,i,t){void 0===t&&(t=[]),!o&&i>0&&(o=r(n)/i);for(var u=n.x1,v=n.y1,a=n.x2,p=n.y2,x=0;x<o;x++){var d=x/o,f=u+(a-u)*d,h=v+(p-v)*d;t.push(new e(f,h))}return t};module.exports=n;
},{"./Length":"cDwM","../point/Point":"IDPQ"}],"SrIb":[function(require,module,exports) {
var r=require("../point/Point"),n=function(n,o){void 0===o&&(o=new r);var e=Math.random();return o.x=n.x1+e*(n.x2-n.x1),o.y=n.y1+e*(n.y2-n.y1),o};module.exports=n;
},{"../point/Point":"IDPQ"}],"mjnD":[function(require,module,exports) {
var e=function(e,o,r){return void 0===r&&(r=1e-4),Math.abs(e-o)<r};module.exports=e;
},{}],"qKN5":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("../math/fuzzy/Equal"),s=new t({initialize:function(t,i){this.x=0,this.y=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0):(void 0===i&&(i=t),this.x=t||0,this.y=i||0)},clone:function(){return new s(this.x,this.y)},copy:function(t){return this.x=t.x||0,this.y=t.y||0,this},setFromObject:function(t){return this.x=t.x||0,this.y=t.y||0,this},set:function(t,i){return void 0===i&&(i=t),this.x=t,this.y=i,this},setTo:function(t,i){return this.set(t,i)},setToPolar:function(t,i){return null==i&&(i=1),this.x=Math.cos(t)*i,this.y=Math.sin(t)*i,this},equals:function(t){return this.x===t.x&&this.y===t.y},fuzzyEquals:function(t,s){return i(this.x,t.x,s)&&i(this.y,t.y,s)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},setAngle:function(t){return this.setToPolar(t,this.length())},add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(t){var i=t.x-this.x,s=t.y-this.y;return Math.sqrt(i*i+s*s)},distanceSq:function(t){var i=t.x-this.x,s=t.y-this.y;return i*i+s*s},length:function(){var t=this.x,i=this.y;return Math.sqrt(t*t+i*i)},setLength:function(t){return this.normalize().scale(t)},lengthSq:function(){var t=this.x,i=this.y;return t*t+i*i},normalize:function(){var t=this.x,i=this.y,s=t*t+i*i;return s>0&&(s=1/Math.sqrt(s),this.x=t*s,this.y=i*s),this},normalizeRightHand:function(){var t=this.x;return this.x=-1*this.y,this.y=t,this},normalizeLeftHand:function(){var t=this.x;return this.x=this.y,this.y=-1*t,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lerp:function(t,i){void 0===i&&(i=0);var s=this.x,n=this.y;return this.x=s+i*(t.x-s),this.y=n+i*(t.y-n),this},transformMat3:function(t){var i=this.x,s=this.y,n=t.val;return this.x=n[0]*i+n[3]*s+n[6],this.y=n[1]*i+n[4]*s+n[7],this},transformMat4:function(t){var i=this.x,s=this.y,n=t.val;return this.x=n[0]*i+n[4]*s+n[12],this.y=n[1]*i+n[5]*s+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(t){var i=this.length();return i&&i>t&&this.scale(t/i),this},reflect:function(t){return t=t.clone().normalize(),this.subtract(t.scale(2*this.dot(t)))},mirror:function(t){return this.reflect(t).negate()},rotate:function(t){var i=Math.cos(t),s=Math.sin(t);return this.set(i*this.x-s*this.y,s*this.x+i*this.y)}});s.ZERO=new s,s.RIGHT=new s(1,0),s.LEFT=new s(-1,0),s.UP=new s(0,-1),s.DOWN=new s(0,1),s.ONE=new s(1,1),module.exports=s;
},{"../utils/Class":"JASv","../math/fuzzy/Equal":"mjnD"}],"nem2":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./GetPoint"),n=require("./GetPoints"),s=require("../const"),e=require("./Random"),h=require("../../math/Vector2"),o=new t({initialize:function(t,i,n,e){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===e&&(e=0),this.type=s.LINE,this.x1=t,this.y1=i,this.x2=n,this.y2=e},getPoint:function(t,n){return i(this,t,n)},getPoints:function(t,i,s){return n(this,t,i,s)},getRandomPoint:function(t){return e(this,t)},setTo:function(t,i,n,s){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===s&&(s=0),this.x1=t,this.y1=i,this.x2=n,this.y2=s,this},getPointA:function(t){return void 0===t&&(t=new h),t.set(this.x1,this.y1),t},getPointB:function(t){return void 0===t&&(t=new h),t.set(this.x2,this.y2),t},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(t){this.x1<=this.x2?this.x1=t:this.x2=t}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(t){this.x1>this.x2?this.x1=t:this.x2=t}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(t){this.y1<=this.y2?this.y1=t:this.y2=t}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(t){this.y1>this.y2?this.y1=t:this.y2=t}}});module.exports=o;
},{"../../utils/Class":"JASv","./GetPoint":"v5jv","./GetPoints":"DOcs","../const":"ytOT","./Random":"SrIb","../../math/Vector2":"qKN5"}],"zxcx":[function(require,module,exports) {
var t=require("../point/Point"),n=function(n,o){return void 0===o&&(o=new t),o.x=n.x+Math.random()*n.width,o.y=n.y+Math.random()*n.height,o};module.exports=n;
},{"../point/Point":"IDPQ"}],"wYVB":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./Contains"),h=require("./GetPoint"),n=require("./GetPoints"),s=require("../const"),e=require("../line/Line"),o=require("./Random"),r=new t({initialize:function(t,i,h,n){void 0===t&&(t=0),void 0===i&&(i=0),void 0===h&&(h=0),void 0===n&&(n=0),this.type=s.RECTANGLE,this.x=t,this.y=i,this.width=h,this.height=n},contains:function(t,h){return i(this,t,h)},getPoint:function(t,i){return h(this,t,i)},getPoints:function(t,i,h){return n(this,t,i,h)},getRandomPoint:function(t){return o(this,t)},setTo:function(t,i,h,n){return this.x=t,this.y=i,this.width=h,this.height=n,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(t,i){return void 0===i&&(i=t),this.x=t,this.y=i,this},setSize:function(t,i){return void 0===i&&(i=t),this.width=t,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(t){return void 0===t&&(t=new e),t.setTo(this.x,this.y,this.right,this.y),t},getLineB:function(t){return void 0===t&&(t=new e),t.setTo(this.right,this.y,this.right,this.bottom),t},getLineC:function(t){return void 0===t&&(t=new e),t.setTo(this.right,this.bottom,this.x,this.bottom),t},getLineD:function(t){return void 0===t&&(t=new e),t.setTo(this.x,this.bottom,this.x,this.y),t},left:{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}},right:{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}},top:{get:function(){return this.y},set:function(t){t>=this.bottom?this.height=0:this.height=this.bottom-t,this.y=t}},bottom:{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});module.exports=r;
},{"../../utils/Class":"JASv","./Contains":"mjUt","./GetPoint":"DH2T","./GetPoints":"m1JL","../const":"ytOT","../line/Line":"nem2","./Random":"zxcx"}],"fCbb":[function(require,module,exports) {
var r=function(r,t,a,n){var o=Math.cos(n),e=Math.sin(n),s=r.x-t,u=r.y-a;return r.x=s*o-u*e+t,r.y=s*e+u*o+a,r};module.exports=r;
},{}],"akFY":[function(require,module,exports) {
var t=require("../../geom/rectangle/Rectangle"),i=require("../../math/RotateAround"),s=require("../../math/Vector2"),h={prepareBoundsOutput:function(t,s){(void 0===s&&(s=!1),0!==this.rotation&&i(t,this.x,this.y,this.rotation),s&&this.parentContainer)&&this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t);return t},getCenter:function(t){return void 0===t&&(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,t},getTopLeft:function(t,i){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(t,i)},getTopCenter:function(t,i){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(t,i)},getTopRight:function(t,i){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(t,i)},getLeftCenter:function(t,i){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(t,i)},getRightCenter:function(t,i){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(t,i)},getBottomLeft:function(t,i){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(t,i)},getBottomCenter:function(t,i){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(t,i)},getBottomRight:function(t,i){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(t,i)},getBounds:function(i){var s,h,e,n,r,o,a,p;if(void 0===i&&(i=new t),this.parentContainer){var g=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(i),g.transformPoint(i.x,i.y,i),s=i.x,h=i.y,this.getTopRight(i),g.transformPoint(i.x,i.y,i),e=i.x,n=i.y,this.getBottomLeft(i),g.transformPoint(i.x,i.y,i),r=i.x,o=i.y,this.getBottomRight(i),g.transformPoint(i.x,i.y,i),a=i.x,p=i.y}else this.getTopLeft(i),s=i.x,h=i.y,this.getTopRight(i),e=i.x,n=i.y,this.getBottomLeft(i),r=i.x,o=i.y,this.getBottomRight(i),a=i.x,p=i.y;return i.x=Math.min(s,e,r,a),i.y=Math.min(h,n,o,p),i.width=Math.max(s,e,r,a)-i.x,i.height=Math.max(h,n,o,p)-i.y,i}};module.exports=h;
},{"../../geom/rectangle/Rectangle":"wYVB","../../math/RotateAround":"fCbb","../../math/Vector2":"qKN5"}],"cFm7":[function(require,module,exports) {
module.exports="blur";
},{}],"iN1j":[function(require,module,exports) {
module.exports="boot";
},{}],"oOMS":[function(require,module,exports) {
module.exports="contextlost";
},{}],"EW1a":[function(require,module,exports) {
module.exports="contextrestored";
},{}],"T9So":[function(require,module,exports) {
module.exports="destroy";
},{}],"t6VK":[function(require,module,exports) {
module.exports="focus";
},{}],"eZYl":[function(require,module,exports) {
module.exports="hidden";
},{}],"XFXR":[function(require,module,exports) {
module.exports="pause";
},{}],"zJwY":[function(require,module,exports) {
module.exports="postrender";
},{}],"UEu4":[function(require,module,exports) {
module.exports="poststep";
},{}],"SKKr":[function(require,module,exports) {
module.exports="prerender";
},{}],"phlF":[function(require,module,exports) {
module.exports="prestep";
},{}],"fMXk":[function(require,module,exports) {
module.exports="ready";
},{}],"swsX":[function(require,module,exports) {
module.exports="resume";
},{}],"oPsZ":[function(require,module,exports) {
module.exports="step";
},{}],"G6ce":[function(require,module,exports) {
module.exports="visible";
},{}],"Dc0S":[function(require,module,exports) {
module.exports={BLUR:require("./BLUR_EVENT"),BOOT:require("./BOOT_EVENT"),CONTEXT_LOST:require("./CONTEXT_LOST_EVENT"),CONTEXT_RESTORED:require("./CONTEXT_RESTORED_EVENT"),DESTROY:require("./DESTROY_EVENT"),FOCUS:require("./FOCUS_EVENT"),HIDDEN:require("./HIDDEN_EVENT"),PAUSE:require("./PAUSE_EVENT"),POST_RENDER:require("./POST_RENDER_EVENT"),POST_STEP:require("./POST_STEP_EVENT"),PRE_RENDER:require("./PRE_RENDER_EVENT"),PRE_STEP:require("./PRE_STEP_EVENT"),READY:require("./READY_EVENT"),RESUME:require("./RESUME_EVENT"),STEP:require("./STEP_EVENT"),VISIBLE:require("./VISIBLE_EVENT")};
},{"./BLUR_EVENT":"cFm7","./BOOT_EVENT":"iN1j","./CONTEXT_LOST_EVENT":"oOMS","./CONTEXT_RESTORED_EVENT":"EW1a","./DESTROY_EVENT":"T9So","./FOCUS_EVENT":"t6VK","./HIDDEN_EVENT":"eZYl","./PAUSE_EVENT":"XFXR","./POST_RENDER_EVENT":"zJwY","./POST_STEP_EVENT":"UEu4","./PRE_RENDER_EVENT":"SKKr","./PRE_STEP_EVENT":"phlF","./READY_EVENT":"fMXk","./RESUME_EVENT":"swsX","./STEP_EVENT":"oPsZ","./VISIBLE_EVENT":"G6ce"}],"oyuU":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../../core/events"),r=new e({initialize:function(e,r){var i=e.sys.game.renderer;if(this.renderer=i,this.bitmapMask=r,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.prevFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,i&&i.gl){var a=i.width,s=i.height,n=0==(a&a-1)&&0==(s&s-1),u=i.gl,m=n?u.REPEAT:u.CLAMP_TO_EDGE,l=u.LINEAR;this.mainTexture=i.createTexture2D(0,l,l,m,m,u.RGBA,null,a,s),this.maskTexture=i.createTexture2D(0,l,l,m,m,u.RGBA,null,a,s),this.mainFramebuffer=i.createFramebuffer(a,s,this.mainTexture,!0),this.maskFramebuffer=i.createFramebuffer(a,s,this.maskTexture,!0),e.sys.game.events.on(t.CONTEXT_RESTORED,function(e){var t=e.width,r=e.height,i=0==(t&t-1)&&0==(r&r-1),a=e.gl,s=i?a.REPEAT:a.CLAMP_TO_EDGE,n=a.LINEAR;this.mainTexture=e.createTexture2D(0,n,n,s,s,a.RGBA,null,t,r),this.maskTexture=e.createTexture2D(0,n,n,s,s,a.RGBA,null,t,r),this.mainFramebuffer=e.createFramebuffer(t,r,this.mainTexture,!0),this.maskFramebuffer=e.createFramebuffer(t,r,this.maskTexture,!0)},this)}},setBitmap:function(e){this.bitmapMask=e},preRenderWebGL:function(e,t,r){e.pipelines.BitmapMaskPipeline.beginMask(this,t,r)},postRenderWebGL:function(e,t){e.pipelines.BitmapMaskPipeline.endMask(this,t)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null;var e=this.renderer;e&&e.gl&&(e.deleteTexture(this.mainTexture),e.deleteTexture(this.maskTexture),e.deleteFramebuffer(this.mainFramebuffer),e.deleteFramebuffer(this.maskFramebuffer)),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null,this.prevFramebuffer=null,this.renderer=null}});module.exports=r;
},{"../../utils/Class":"JASv","../../core/events":"Dc0S"}],"O7xh":[function(require,module,exports) {
var e=require("../../utils/Class"),t=new e({initialize:function(e,t){this.geometryMask=t,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(e){return this.geometryMask=e,this},setInvertAlpha:function(e){return void 0===e&&(e=!0),this.invertAlpha=e,this},preRenderWebGL:function(e,t,s){var n=e.gl;e.flush(),0===e.maskStack.length&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),e.maskCount=0),e.currentCameraMask.mask!==this&&(e.currentMask.mask=this),e.maskStack.push({mask:this,camera:s}),this.applyStencil(e,s,!0),e.maskCount++},applyStencil:function(e,t,s){var n=e.gl,a=this.geometryMask,r=e.maskCount;n.colorMask(!1,!1,!1,!1),s?(n.stencilFunc(n.EQUAL,r,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,r+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),a.renderWebGL(e,a,0,t),e.flush(),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),s?this.invertAlpha?n.stencilFunc(n.NOTEQUAL,r+1,255):n.stencilFunc(n.EQUAL,r+1,255):this.invertAlpha?n.stencilFunc(n.NOTEQUAL,r,255):n.stencilFunc(n.EQUAL,r,255)},postRenderWebGL:function(e){var t=e.gl;if(e.maskStack.pop(),e.maskCount--,0===e.maskStack.length)e.flush(),e.currentMask.mask=null,t.disable(t.STENCIL_TEST);else{e.flush();var s=e.maskStack[e.maskStack.length-1];s.mask.applyStencil(e,s.camera,!1),e.currentCameraMask.mask!==s.mask?(e.currentMask.mask=s.mask,e.currentMask.camera=s.camera):e.currentMask.mask=null}},preRenderCanvas:function(e,t,s){var n=this.geometryMask;e.currentContext.save(),n.renderCanvas(e,n,0,s,null,null,!0),e.currentContext.clip()},postRenderCanvas:function(e){e.currentContext.restore()},destroy:function(){this.geometryMask=null}});module.exports=t;
},{"../../utils/Class":"JASv"}],"KdnY":[function(require,module,exports) {
var s=require("../../display/mask/BitmapMask"),t=require("../../display/mask/GeometryMask"),e={mask:null,setMask:function(s){return this.mask=s,this},clearMask:function(s){return void 0===s&&(s=!1),s&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(t){return void 0===t&&(this.texture||this.shader)&&(t=this),new s(this.scene,t)},createGeometryMask:function(s){return void 0===s&&"Graphics"===this.type&&(s=this),new t(this.scene,s)}};module.exports=e;
},{"../../display/mask/BitmapMask":"oyuU","../../display/mask/GeometryMask":"O7xh"}],"wJcP":[function(require,module,exports) {
var i={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(i){this._displayOriginX=i,this.originX=i/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(i){this._displayOriginY=i,this.originY=i/this.height}},setOrigin:function(i,t){return void 0===i&&(i=.5),void 0===t&&(t=i),this.originX=i,this.originY=t,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(i,t){return void 0===i&&(i=0),void 0===t&&(t=i),this.displayOriginX=i,this.displayOriginY=t,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};module.exports=i;
},{}],"VYZO":[function(require,module,exports) {
var r=require("./const"),e=function(e){return e*r.DEG_TO_RAD};module.exports=e;
},{"./const":"HC1y"}],"zHgc":[function(require,module,exports) {
var r=function(r,e,n){return r&&r.hasOwnProperty(e)?r[e]:n};module.exports=r;
},{}],"lmb7":[function(require,module,exports) {
var E={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26};module.exports=E;
},{}],"jxtP":[function(require,module,exports) {
var t=require("../../math/DegToRad"),e=require("../../tweens/builders/GetBoolean"),i=require("../../utils/object/GetValue"),a=require("../../tweens/tween/const"),s=require("../../math/Vector2"),h={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(t,e){void 0===e&&(e=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=t,e&&this.startFollow(e),this},setRotateToPath:function(t,e){return void 0===e&&(e=0),this.rotateToPath=t,this.pathRotationOffset=e,this},isFollowing:function(){var t=this.pathTween;return t&&t.isPlaying()},startFollow:function(h,o){void 0===h&&(h={}),void 0===o&&(o=0);var r=this.pathTween;r&&r.isPlaying()&&r.stop(),"number"==typeof h&&(h={duration:h}),h.from=i(h,"from",0),h.to=i(h,"to",1);var n=e(h,"positionOnPath",!1);this.rotateToPath=e(h,"rotateToPath",!1),this.pathRotationOffset=i(h,"rotationOffset",0);var p=i(h,"startAt",o);if(p&&(h.onStart=function(t){var e=t.data[0];e.progress=p,e.elapsed=e.duration*p;var i=e.ease(e.progress);e.current=e.start+(e.end-e.start)*i,e.target[e.key]=e.current}),this.pathOffset||(this.pathOffset=new s(this.x,this.y)),this.pathVector||(this.pathVector=new s),this.pathDelta||(this.pathDelta=new s),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(h),this.path.getStartPoint(this.pathOffset),n&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var f=this.path.getPoint(.1);this.rotation=Math.atan2(f.y-this.y,f.x-this.x)+t(this.pathRotationOffset)}return this.pathConfig=h,this},pauseFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.pause(),this},resumeFollow:function(){var t=this.pathTween;return t&&t.isPaused()&&t.resume(),this},stopFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.stop(),this},pathUpdate:function(){var e=this.pathTween;if(e){var i=e.data[0],s=this.pathDelta,h=this.pathVector;if(s.copy(h).negate(),i.state===a.COMPLETE)return this.path.getPoint(1,h),s.add(h),h.add(this.pathOffset),void this.setPosition(h.x,h.y);if(i.state!==a.PLAYING_FORWARD&&i.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(e.getValue(),h),s.add(h),h.add(this.pathOffset);var o=this.x,r=this.y;this.setPosition(h.x,h.y);var n=this.x-o,p=this.y-r;if(0===n&&0===p)return;if(i.state!==this._prevDirection)return void(this._prevDirection=i.state);this.rotateToPath&&(this.rotation=Math.atan2(p,n)+t(this.pathRotationOffset))}}};module.exports=h;
},{"../../math/DegToRad":"VYZO","../../tweens/builders/GetBoolean":"zHgc","../../utils/object/GetValue":"OqLI","../../tweens/tween/const":"lmb7","../../math/Vector2":"qKN5"}],"lRBP":[function(require,module,exports) {
var e={defaultPipeline:null,pipeline:null,initPipeline:function(e){void 0===e&&(e="TextureTintPipeline");var i=this.scene.sys.game.renderer;return!!(i&&i.gl&&i.hasPipeline(e))&&(this.defaultPipeline=i.getPipeline(e),this.pipeline=this.defaultPipeline,!0)},setPipeline:function(e){var i=this.scene.sys.game.renderer;return i&&i.gl&&i.hasPipeline(e)&&(this.pipeline=i.getPipeline(e)),this},resetPipeline:function(){return this.pipeline=this.defaultPipeline,null!==this.pipeline},getPipelineName:function(){return this.pipeline.name}};module.exports=e;
},{}],"XDIh":[function(require,module,exports) {
var o={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(o,r){return void 0===r&&(r=o),this.scrollFactorX=o,this.scrollFactorY=r,this}};module.exports=o;
},{}],"fcVe":[function(require,module,exports) {
var t={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){return void 0===t&&(t=this.frame),this.width=t.realWidth,this.height=t.realHeight,this},setSize:function(t,i){return this.width=t,this.height=i,this},setDisplaySize:function(t,i){return this.displayWidth=t,this.displayHeight=i,this}};module.exports=t;
},{}],"fef1":[function(require,module,exports) {
var t=8,e={texture:null,frame:null,isCropped:!1,setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(e,i,s){return void 0===i&&(i=!0),void 0===s&&(s=!0),this.frame=this.texture.get(e),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=t:this.renderFlags&=~t,this._sizeComponent&&i&&this.setSizeToFrame(),this._originComponent&&s&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};module.exports=e;
},{}],"dL5p":[function(require,module,exports) {
var t=8,i={texture:null,frame:null,isCropped:!1,setCrop:function(t,i,e,s){if(void 0===t)this.isCropped=!1;else if(this.frame){if("number"==typeof t)this.frame.setCropUVs(this._crop,t,i,e,s,this.flipX,this.flipY);else{var r=t;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(t,i){return this.texture=this.scene.sys.textures.get(t),this.setFrame(i)},setFrame:function(i,e,s){return void 0===e&&(e=!0),void 0===s&&(s=!0),this.frame=this.texture.get(i),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=t:this.renderFlags&=~t,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&s&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};module.exports=i;
},{}],"En61":[function(require,module,exports) {
var t=function(t){return(t>>16)+(65280&t)+((255&t)<<16)},i={_tintTL:16777215,_tintTR:16777215,_tintBL:16777215,_tintBR:16777215,_isTinted:!1,tintFill:!1,clearTint:function(){return this.setTint(16777215),this._isTinted=!1,this},setTint:function(i,n,s,e){return void 0===i&&(i=16777215),void 0===n&&(n=i,s=i,e=i),this._tintTL=t(i),this._tintTR=t(n),this._tintBL=t(s),this._tintBR=t(e),this._isTinted=!0,this.tintFill=!1,this},setTintFill:function(t,i,n,s){return this.setTint(t,i,n,s),this.tintFill=!0,this},tintTopLeft:{get:function(){return this._tintTL},set:function(i){this._tintTL=t(i),this._isTinted=!0}},tintTopRight:{get:function(){return this._tintTR},set:function(i){this._tintTR=t(i),this._isTinted=!0}},tintBottomLeft:{get:function(){return this._tintBL},set:function(i){this._tintBL=t(i),this._isTinted=!0}},tintBottomRight:{get:function(){return this._tintBR},set:function(i){this._tintBR=t(i),this._isTinted=!0}},tint:{set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){return this._isTinted}}};module.exports=i;
},{}],"jFLe":[function(require,module,exports) {
var e=function(e){var t={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(t.textureKey=e.texture.key,t.frameKey=e.frame.name),t};module.exports=e;
},{}],"s0s4":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("../../math/const"),r=require("../../math/Vector2"),a=new t({initialize:function(t,i,r,a,n,s){void 0===t&&(t=1),void 0===i&&(i=0),void 0===r&&(r=0),void 0===a&&(a=1),void 0===n&&(n=0),void 0===s&&(s=0),this.matrix=new Float32Array([t,i,r,a,n,s,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(t){this.matrix[0]=t}},b:{get:function(){return this.matrix[1]},set:function(t){this.matrix[1]=t}},c:{get:function(){return this.matrix[2]},set:function(t){this.matrix[2]=t}},d:{get:function(){return this.matrix[3]},set:function(t){this.matrix[3]=t}},e:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},f:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},tx:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},ty:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var t=this.matrix,r=t[0],a=t[1],n=t[2],s=t[3];return r||a?a>0?Math.acos(r/this.scaleX):-Math.acos(r/this.scaleX):n||s?i.TAU-(s>0?Math.acos(-n/this.scaleY):-Math.acos(n/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var t=this.matrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},translate:function(t,i){var r=this.matrix;return r[4]=r[0]*t+r[2]*i+r[4],r[5]=r[1]*t+r[3]*i+r[5],this},scale:function(t,i){var r=this.matrix;return r[0]*=t,r[1]*=t,r[2]*=i,r[3]*=i,this},rotate:function(t){var i=Math.sin(t),r=Math.cos(t),a=this.matrix,n=a[0],s=a[1],e=a[2],o=a[3];return a[0]=n*r+e*i,a[1]=s*r+o*i,a[2]=n*-i+e*r,a[3]=s*-i+o*r,this},multiply:function(t,i){var r=this.matrix,a=t.matrix,n=r[0],s=r[1],e=r[2],o=r[3],h=r[4],c=r[5],u=a[0],m=a[1],f=a[2],x=a[3],l=a[4],v=a[5],d=void 0===i?this:i;return d.a=u*n+m*e,d.b=u*s+m*o,d.c=f*n+x*e,d.d=f*s+x*o,d.e=l*n+v*e+h,d.f=l*s+v*o+c,d},multiplyWithOffset:function(t,i,r){var a=this.matrix,n=t.matrix,s=a[0],e=a[1],o=a[2],h=a[3],c=i*s+r*o+a[4],u=i*e+r*h+a[5],m=n[0],f=n[1],x=n[2],l=n[3],v=n[4],d=n[5];return a[0]=m*s+f*o,a[1]=m*e+f*h,a[2]=x*s+l*o,a[3]=x*e+l*h,a[4]=v*s+d*o+c,a[5]=v*e+d*h+u,this},transform:function(t,i,r,a,n,s){var e=this.matrix,o=e[0],h=e[1],c=e[2],u=e[3],m=e[4],f=e[5];return e[0]=t*o+i*c,e[1]=t*h+i*u,e[2]=r*o+a*c,e[3]=r*h+a*u,e[4]=n*o+s*c+m,e[5]=n*h+s*u+f,this},transformPoint:function(t,i,r){void 0===r&&(r={x:0,y:0});var a=this.matrix,n=a[0],s=a[1],e=a[2],o=a[3],h=a[4],c=a[5];return r.x=t*n+i*e+h,r.y=t*s+i*o+c,r},invert:function(){var t=this.matrix,i=t[0],r=t[1],a=t[2],n=t[3],s=t[4],e=t[5],o=i*n-r*a;return t[0]=n/o,t[1]=-r/o,t[2]=-a/o,t[3]=i/o,t[4]=(a*e-n*s)/o,t[5]=-(i*e-r*s)/o,this},copyFrom:function(t){var i=this.matrix;return i[0]=t.a,i[1]=t.b,i[2]=t.c,i[3]=t.d,i[4]=t.e,i[5]=t.f,this},copyFromArray:function(t){var i=this.matrix;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],this},copyToContext:function(t){var i=this.matrix;return t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),t},setToContext:function(t){var i=this.matrix;return t.setTransform(i[0],i[1],i[2],i[3],i[4],i[5]),t},copyToArray:function(t){var i=this.matrix;return void 0===t?t=[i[0],i[1],i[2],i[3],i[4],i[5]]:(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5]),t},setTransform:function(t,i,r,a,n,s){var e=this.matrix;return e[0]=t,e[1]=i,e[2]=r,e[3]=a,e[4]=n,e[5]=s,this},decomposeMatrix:function(){var t=this.decomposedMatrix,i=this.matrix,r=i[0],a=i[1],n=i[2],s=i[3],e=r*s-a*n;if(t.translateX=i[4],t.translateY=i[5],r||a){var o=Math.sqrt(r*r+a*a);t.rotation=a>0?Math.acos(r/o):-Math.acos(r/o),t.scaleX=o,t.scaleY=e/o}else if(n||s){var h=Math.sqrt(n*n+s*s);t.rotation=.5*Math.PI-(s>0?Math.acos(-n/h):-Math.acos(n/h)),t.scaleX=e/h,t.scaleY=h}else t.rotation=0,t.scaleX=0,t.scaleY=0;return t},applyITRS:function(t,i,r,a,n){var s=this.matrix,e=Math.sin(r),o=Math.cos(r);return s[4]=t,s[5]=i,s[0]=o*a,s[1]=e*a,s[2]=-e*n,s[3]=o*n,this},applyInverse:function(t,i,a){void 0===a&&(a=new r);var n=this.matrix,s=n[0],e=n[1],o=n[2],h=n[3],c=n[4],u=n[5],m=1/(s*h+o*-e);return a.x=h*m*t+-o*m*i+(u*o-c*h)*m,a.y=s*m*i+-e*m*t+(-u*s+c*e)*m,a},getX:function(t,i){return t*this.a+i*this.c+this.e},getY:function(t,i){return t*this.b+i*this.d+this.f},getCSSMatrix:function(){var t=this.matrix;return"matrix("+t[0]+","+t[1]+","+t[2]+","+t[3]+","+t[4]+","+t[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});module.exports=a;
},{"../../utils/Class":"JASv","../../math/const":"HC1y","../../math/Vector2":"qKN5"}],"wXAg":[function(require,module,exports) {
var r=function(r,e,n){var o=n-e;return e+((r-e)%o+o)%o};module.exports=r;
},{}],"hYrI":[function(require,module,exports) {
var r=require("../Wrap"),e=function(e){return r(e,-Math.PI,Math.PI)};module.exports=e;
},{"../Wrap":"wXAg"}],"NtQj":[function(require,module,exports) {
var r=require("../Wrap"),e=function(e){return r(e,-180,180)};module.exports=e;
},{"../Wrap":"wXAg"}],"w1na":[function(require,module,exports) {
var t=require("../../math/const"),i=require("./TransformMatrix"),n=require("../../math/angle/Wrap"),s=require("../../math/angle/WrapDegrees"),e=4,r={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(t){this._scaleX=t,this._scaleY=t,0===t?this.renderFlags&=~e:this.renderFlags|=e}},scaleX:{get:function(){return this._scaleX},set:function(t){this._scaleX=t,0===t?this.renderFlags&=~e:this.renderFlags|=e}},scaleY:{get:function(){return this._scaleY},set:function(t){this._scaleY=t,0===t?this.renderFlags&=~e:this.renderFlags|=e}},angle:{get:function(){return s(this._rotation*t.RAD_TO_DEG)},set:function(i){this.rotation=s(i)*t.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=n(t)}},setPosition:function(t,i,n,s){return void 0===t&&(t=0),void 0===i&&(i=t),void 0===n&&(n=0),void 0===s&&(s=0),this.x=t,this.y=i,this.z=n,this.w=s,this},setRandomPosition:function(t,i,n,s){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=this.scene.sys.scale.width),void 0===s&&(s=this.scene.sys.scale.height),this.x=t+Math.random()*n,this.y=i+Math.random()*s,this},setRotation:function(t){return void 0===t&&(t=0),this.rotation=t,this},setAngle:function(t){return void 0===t&&(t=0),this.angle=t,this},setScale:function(t,i){return void 0===t&&(t=1),void 0===i&&(i=t),this.scaleX=t,this.scaleY=i,this},setX:function(t){return void 0===t&&(t=0),this.x=t,this},setY:function(t){return void 0===t&&(t=0),this.y=t,this},setZ:function(t){return void 0===t&&(t=0),this.z=t,this},setW:function(t){return void 0===t&&(t=0),this.w=t,this},getLocalTransformMatrix:function(t){return void 0===t&&(t=new i),t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(t,n){void 0===t&&(t=new i),void 0===n&&(n=new i);var s=this.parentContainer;if(!s)return this.getLocalTransformMatrix(t);for(t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);s;)n.applyITRS(s.x,s.y,s._rotation,s._scaleX,s._scaleY),n.multiply(t,t),s=s.parentContainer;return t},getParentRotation:function(){for(var t=0,i=this.parentContainer;i;)t+=i.rotation,i=i.parentContainer;return t}};module.exports=r;
},{"../../math/const":"HC1y","./TransformMatrix":"s0s4","../../math/angle/Wrap":"hYrI","../../math/angle/WrapDegrees":"NtQj"}],"HA2z":[function(require,module,exports) {
var i=1,s={_visible:!0,visible:{get:function(){return this._visible},set:function(s){s?(this._visible=!0,this.renderFlags|=i):(this._visible=!1,this.renderFlags&=~i)}},setVisible:function(i){return this.visible=i,this}};module.exports=s;
},{}],"VjLH":[function(require,module,exports) {
module.exports={Alpha:require("./Alpha"),AlphaSingle:require("./AlphaSingle"),Animation:require("./Animation"),BlendMode:require("./BlendMode"),ComputedSize:require("./ComputedSize"),Crop:require("./Crop"),Depth:require("./Depth"),Flip:require("./Flip"),GetBounds:require("./GetBounds"),Mask:require("./Mask"),Origin:require("./Origin"),PathFollower:require("./PathFollower"),Pipeline:require("./Pipeline"),ScrollFactor:require("./ScrollFactor"),Size:require("./Size"),Texture:require("./Texture"),TextureCrop:require("./TextureCrop"),Tint:require("./Tint"),ToJSON:require("./ToJSON"),Transform:require("./Transform"),TransformMatrix:require("./TransformMatrix"),Visible:require("./Visible")};
},{"./Alpha":"kuUI","./AlphaSingle":"NpXe","./Animation":"hTYM","./BlendMode":"yktY","./ComputedSize":"mSeY","./Crop":"oinM","./Depth":"p0cU","./Flip":"tSkO","./GetBounds":"akFY","./Mask":"KdnY","./Origin":"wJcP","./PathFollower":"jxtP","./Pipeline":"lRBP","./ScrollFactor":"XDIh","./Size":"fcVe","./Texture":"fef1","./TextureCrop":"dL5p","./Tint":"En61","./ToJSON":"jFLe","./Transform":"w1na","./TransformMatrix":"s0s4","./Visible":"HA2z"}],"xIZO":[function(require,module,exports) {
module.exports="changedata";
},{}],"jnUI":[function(require,module,exports) {
module.exports="changedata-";
},{}],"UNMG":[function(require,module,exports) {
module.exports="removedata";
},{}],"pFad":[function(require,module,exports) {
module.exports="setdata";
},{}],"A8rk":[function(require,module,exports) {
module.exports={CHANGE_DATA:require("./CHANGE_DATA_EVENT"),CHANGE_DATA_KEY:require("./CHANGE_DATA_KEY_EVENT"),REMOVE_DATA:require("./REMOVE_DATA_EVENT"),SET_DATA:require("./SET_DATA_EVENT")};
},{"./CHANGE_DATA_EVENT":"xIZO","./CHANGE_DATA_KEY_EVENT":"jnUI","./REMOVE_DATA_EVENT":"UNMG","./SET_DATA_EVENT":"pFad"}],"Zl43":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("./events"),i=new t({initialize:function(t,e){this.parent=t,this.events=e,e||(this.events=t.events?t.events:t),this.list={},this.values={},this._frozen=!1,!t.hasOwnProperty("sys")&&this.events&&this.events.once("destroy",this.destroy,this)},get:function(t){var e=this.list;if(Array.isArray(t)){for(var i=[],s=0;s<t.length;s++)i.push(e[t[s]]);return i}return e[t]},getAll:function(){var t={};for(var e in this.list)this.list.hasOwnProperty(e)&&(t[e]=this.list[e]);return t},query:function(t){var e={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(t)&&(e[i]=this.list[i]);return e},set:function(t,e){if(this._frozen)return this;if("string"==typeof t)return this.setValue(t,e);for(var i in t)this.setValue(i,t[i]);return this},inc:function(t,e){if(this._frozen)return this;void 0===e&&(e=1);var i=this.get(t);return void 0===i&&(i=0),this.set(t,i+e),this},toggle:function(t){return this._frozen?this:(this.set(t,!this.get(t)),this)},setValue:function(t,i){if(this._frozen)return this;if(this.has(t))this.values[t]=i;else{var s=this,r=this.list,n=this.events,h=this.parent;Object.defineProperty(this.values,t,{enumerable:!0,configurable:!0,get:function(){return r[t]},set:function(i){if(!s._frozen){var o=r[t];r[t]=i,n.emit(e.CHANGE_DATA,h,t,i,o),n.emit(e.CHANGE_DATA_KEY+t,h,i,o)}}}),r[t]=i,n.emit(e.SET_DATA,h,t,i)}return this},each:function(t,e){for(var i=[this.parent,null,void 0],s=1;s<arguments.length;s++)i.push(arguments[s]);for(var r in this.list)i[1]=r,i[2]=this.list[r],t.apply(e,i);return this},merge:function(t,e){for(var i in void 0===e&&(e=!0),t)t.hasOwnProperty(i)&&(e||!e&&!this.has(i))&&this.setValue(i,t[i]);return this},remove:function(t){if(this._frozen)return this;if(!Array.isArray(t))return this.removeValue(t);for(var e=0;e<t.length;e++)this.removeValue(t[e]);return this},removeValue:function(t){if(this.has(t)){var i=this.list[t];delete this.list[t],delete this.values[t],this.events.emit(e.REMOVE_DATA,this.parent,t,i)}return this},pop:function(t){var i=void 0;return!this._frozen&&this.has(t)&&(i=this.list[t],delete this.list[t],delete this.values[t],this.events.emit(e.REMOVE_DATA,this.parent,t,i)),i},has:function(t){return this.list.hasOwnProperty(t)},setFreeze:function(t){return this._frozen=t,this},reset:function(){for(var t in this.list)delete this.list[t],delete this.values[t];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(e.CHANGE_DATA),this.events.off(e.SET_DATA),this.events.off(e.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(t){this._frozen=!!t}},count:{get:function(){var t=0;for(var e in this.list)void 0!==this.list[e]&&t++;return t}}});module.exports=i;
},{"../utils/Class":"JASv","./events":"A8rk"}],"ynyQ":[function(require,module,exports) {
module.exports="created";
},{}],"IdoH":[function(require,module,exports) {
module.exports="error";
},{}],"xnkS":[function(require,module,exports) {
module.exports="loop";
},{}],"Ojyx":[function(require,module,exports) {
module.exports="play";
},{}],"RNL7":[function(require,module,exports) {
module.exports="seeked";
},{}],"XGz5":[function(require,module,exports) {
module.exports="seeking";
},{}],"SclH":[function(require,module,exports) {
module.exports="stop";
},{}],"XDSa":[function(require,module,exports) {
module.exports="timeout";
},{}],"YvXm":[function(require,module,exports) {
module.exports="unlocked";
},{}],"obPU":[function(require,module,exports) {
module.exports={DESTROY:require("./DESTROY_EVENT"),VIDEO_COMPLETE:require("./VIDEO_COMPLETE_EVENT"),VIDEO_CREATED:require("./VIDEO_CREATED_EVENT"),VIDEO_ERROR:require("./VIDEO_ERROR_EVENT"),VIDEO_LOOP:require("./VIDEO_LOOP_EVENT"),VIDEO_PLAY:require("./VIDEO_PLAY_EVENT"),VIDEO_SEEKED:require("./VIDEO_SEEKED_EVENT"),VIDEO_SEEKING:require("./VIDEO_SEEKING_EVENT"),VIDEO_STOP:require("./VIDEO_STOP_EVENT"),VIDEO_TIMEOUT:require("./VIDEO_TIMEOUT_EVENT"),VIDEO_UNLOCKED:require("./VIDEO_UNLOCKED_EVENT")};
},{"./DESTROY_EVENT":"T9So","./VIDEO_COMPLETE_EVENT":"edEl","./VIDEO_CREATED_EVENT":"ynyQ","./VIDEO_ERROR_EVENT":"IdoH","./VIDEO_LOOP_EVENT":"xnkS","./VIDEO_PLAY_EVENT":"Ojyx","./VIDEO_SEEKED_EVENT":"RNL7","./VIDEO_SEEKING_EVENT":"XGz5","./VIDEO_STOP_EVENT":"SclH","./VIDEO_TIMEOUT_EVENT":"XDSa","./VIDEO_UNLOCKED_EVENT":"YvXm"}],"AetT":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("./components/ToJSON"),e=require("../data/DataManager"),s=require("eventemitter3"),n=require("./events"),a=new t({Extends:s,initialize:function(t,i){s.call(this),this.scene=t,this.type=i,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,t.sys.queueDepthSort()},setActive:function(t){return this.active=t,this},setName:function(t){return this.name=t,this},setState:function(t){return this.state=t,this},setDataEnabled:function(){return this.data||(this.data=new e(this)),this},setData:function(t,i){return this.data||(this.data=new e(this)),this.data.set(t,i),this},incData:function(t,i){return this.data||(this.data=new e(this)),this.data.inc(t,i),this},toggleData:function(t){return this.data||(this.data=new e(this)),this.data.toggle(t),this},getData:function(t){return this.data||(this.data=new e(this)),this.data.get(t)},setInteractive:function(t,i,e){return this.scene.sys.input.enable(this,t,i,e),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},update:function(){},toJSON:function(){return i(this)},willRender:function(t){return!(a.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&t.id)},getIndexList:function(){for(var t=this,i=this.parentContainer,e=[];i&&(e.unshift(i.getIndex(t)),t=i,i.parentContainer);)i=i.parentContainer;return e.unshift(this.scene.sys.displayList.getIndex(t)),e},destroy:function(t){if(void 0===t&&(t=!1),this.scene&&!this.ignoreDestroy){this.preDestroy&&this.preDestroy.call(this),this.emit(n.DESTROY,this);var i=this.scene.sys;t||(i.displayList.remove(this),i.updateList.remove(this)),this.input&&(i.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),t||i.queueDepthSort(),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0,this.removeAllListeners()}}});a.RENDER_MASK=15,module.exports=a;
},{"../utils/Class":"JASv","./components/ToJSON":"jFLe","../data/DataManager":"Zl43","eventemitter3":"JJlS","./events":"obPU"}],"SQPm":[function(require,module,exports) {
var e=require("../../renderer/BlendModes"),i=require("../../geom/circle/Circle"),t=require("../../geom/circle/Contains"),n=require("../../utils/Class"),s=require("../components"),r=require("../GameObject"),h=require("../../geom/rectangle/Rectangle"),o=require("../../geom/rectangle/Contains"),u=new n({Extends:r,Mixins:[s.Depth,s.GetBounds,s.Origin,s.Transform,s.ScrollFactor,s.Visible],initialize:function(i,t,n,s,h){void 0===s&&(s=1),void 0===h&&(h=s),r.call(this,i,"Zone"),this.setPosition(t,n),this.width=s,this.height=h,this.blendMode=e.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,i,t){void 0===t&&(t=!0),this.width=e,this.height=i,this.updateDisplayOrigin();var n=this.input;return t&&n&&!n.customHitArea&&(n.hitArea.width=e,n.hitArea.height=i),this},setDisplaySize:function(e,i){return this.displayWidth=e,this.displayHeight=i,this},setCircleDropZone:function(e){return this.setDropZone(new i(0,0,e),t)},setRectangleDropZone:function(e,i){return this.setDropZone(new h(0,0,e,i),o)},setDropZone:function(e,i){return void 0===e?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(e,i,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(){},renderWebGL:function(){}});module.exports=u;
},{"../../renderer/BlendModes":"PaIu","../../geom/circle/Circle":"VKcd","../../geom/circle/Contains":"inZZ","../../utils/Class":"JASv","../components":"VjLH","../GameObject":"AetT","../../geom/rectangle/Rectangle":"wYVB","../../geom/rectangle/Contains":"mjUt"}],"zE02":[function(require,module,exports) {
var e=require("../display/align/in/QuickSet"),i=require("../display/align/const"),t=require("../utils/object/GetFastValue"),r=require("../utils/NOOP"),s=require("../gameobjects/zone/Zone"),o=new s({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1),n=function(r,s){void 0===s&&(s={});var n=s.hasOwnProperty("width"),l=s.hasOwnProperty("height"),u=t(s,"width",-1),a=t(s,"height",-1),h=t(s,"cellWidth",1),c=t(s,"cellHeight",h),y=t(s,"position",i.TOP_LEFT),d=t(s,"x",0),g=t(s,"y",0),p=0,q=0,f=u*h,v=a*c;o.setPosition(d,g),o.setSize(h,c);for(var w=0;w<r.length;w++)if(e(r[w],o,y),n&&-1===u)o.x+=h;else if(l&&-1===a)o.y+=c;else if(p+=h,o.x+=h,p===f&&(p=0,q+=c,o.x=d,o.y+=c,q===v))break;return r};module.exports=n;
},{"../display/align/in/QuickSet":"qLyQ","../display/align/const":"B18i","../utils/object/GetFastValue":"cEup","../utils/NOOP":"lZkB","../gameobjects/zone/Zone":"SQPm"}],"oAWH":[function(require,module,exports) {
var r=require("./PropertyValueInc"),e=function(e,u,a,n,o){return r(e,"alpha",u,a,n,o)};module.exports=e;
},{"./PropertyValueInc":"T0j7"}],"AlRj":[function(require,module,exports) {
var r=require("./PropertyValueInc"),e=function(e,u,n,o,t){return r(e,"x",u,n,o,t)};module.exports=e;
},{"./PropertyValueInc":"T0j7"}],"XYHg":[function(require,module,exports) {
var r=require("./PropertyValueInc"),e=function(e,u,n,l,o,t,a){return null==n&&(n=u),r(e,"x",u,l,t,a),r(e,"y",n,o,t,a)};module.exports=e;
},{"./PropertyValueInc":"T0j7"}],"yNU6":[function(require,module,exports) {
var r=require("./PropertyValueInc"),e=function(e,u,n,o,t){return r(e,"y",u,n,o,t)};module.exports=e;
},{"./PropertyValueInc":"T0j7"}],"bAYG":[function(require,module,exports) {
var r=function(r,o,t,a){void 0===t&&(t=0),void 0===a&&(a=6.28);for(var i=t,n=(a-t)/r.length,d=0;d<r.length;d++)r[d].x=o.x+o.radius*Math.cos(i),r[d].y=o.y+o.radius*Math.sin(i),i+=n;return r};module.exports=r;
},{}],"wqfy":[function(require,module,exports) {
var t=function(t,h,o,e){void 0===o&&(o=0),void 0===e&&(e=6.28);for(var i=o,n=(e-o)/t.length,r=h.width/2,a=h.height/2,d=0;d<t.length;d++)t[d].x=h.x+r*Math.cos(i),t[d].y=h.y+a*Math.sin(i),i+=n;return t};module.exports=t;
},{}],"AxQf":[function(require,module,exports) {
var e=require("../geom/line/GetPoints"),r=function(r,n){for(var t=e(n,r.length),o=0;o<r.length;o++){var i=r[o],l=t[o];i.x=l.x,i.y=l.y}return r};module.exports=r;
},{"../geom/line/GetPoints":"DOcs"}],"ZEcu":[function(require,module,exports) {
var t=require("./Perimeter"),e=require("../point/Point"),r=function(r,o,i,a){if(void 0===a&&(a=[]),!o&&!i)return a;o?i=Math.round(t(r)/o):o=t(r)/i;for(var n=r.x,u=r.y,s=0,b=0;b<i;b++)switch(a.push(new e(n,u)),s){case 0:(n+=o)>=r.right&&(s=1,u+=n-r.right,n=r.right);break;case 1:(u+=o)>=r.bottom&&(s=2,n-=u-r.bottom,u=r.bottom);break;case 2:(n-=o)<=r.left&&(s=3,u-=r.left-n,n=r.left);break;case 3:(u-=o)<=r.top&&(s=0,u=r.top)}return a};module.exports=r;
},{"./Perimeter":"x5Kb","../point/Point":"IDPQ"}],"Eleg":[function(require,module,exports) {
var r=function(r,o){void 0===o&&(o=1);for(var u=null,n=0;n<o;n++)u=r.shift(),r.push(u);return u};module.exports=r;
},{}],"TmzT":[function(require,module,exports) {
var o=function(o,r){void 0===r&&(r=1);for(var n=null,u=0;u<r;u++)n=o.pop(),o.unshift(n);return n};module.exports=o;
},{}],"qbgD":[function(require,module,exports) {
var r=require("../geom/rectangle/MarchingAnts"),e=require("../utils/array/RotateLeft"),t=require("../utils/array/RotateRight"),a=function(a,i,n){void 0===n&&(n=0);var o=r(i,!1,a.length);n>0?e(o,n):n<0&&t(o,Math.abs(n));for(var u=0;u<a.length;u++)a[u].x=o[u].x,a[u].y=o[u].y;return a};module.exports=a;
},{"../geom/rectangle/MarchingAnts":"ZEcu","../utils/array/RotateLeft":"Eleg","../utils/array/RotateRight":"TmzT"}],"D2JB":[function(require,module,exports) {
var a=function(a,r,o){void 0===r&&(r=1),void 0===o&&(o=[]);var t=Math.round(a.x1),u=Math.round(a.y1),h=Math.round(a.x2),d=Math.round(a.y2),n=Math.abs(h-t),v=Math.abs(d-u),M=t<h?1:-1,s=u<d?1:-1,x=n-v;o.push({x:t,y:u});for(var y=1;t!==h||u!==d;){var e=x<<1;e>-v&&(x-=v,t+=M),e<n&&(x+=n,u+=s),y%r==0&&o.push({x:t,y:u}),y++}return o};module.exports=a;
},{}],"jZDk":[function(require,module,exports) {
var x=require("../geom/line/BresenhamPoints"),y=function(y,e,o){var r=x({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},o),n=x({x1:e.x2,y1:e.y2,x2:e.x3,y2:e.y3},o),t=x({x1:e.x3,y1:e.y3,x2:e.x1,y2:e.y1},o);r.pop(),n.pop(),t.pop();for(var a=(r=r.concat(n,t)).length/y.length,p=0,l=0;l<y.length;l++){var h=y[l],g=r[Math.floor(p)];h.x=g.x,h.y=g.y,p+=a}return y};module.exports=y;
},{"../geom/line/BresenhamPoints":"D2JB"}],"J1oK":[function(require,module,exports) {
var r=function(r,n,a){for(var e=0;e<r.length;e++)r[e].anims.play(n,a);return r};module.exports=r;
},{}],"Jwua":[function(require,module,exports) {
var o=function(o,r,e,v,i,d){var f;void 0===v&&(v=0),void 0===i&&(i=0),void 0===d&&(d=1);var n=0,t=o.length;if(1===d)for(f=i;f<t;f++)o[f][r]=e+n*v,n++;else for(f=i;f>=0;f--)o[f][r]=e+n*v,n++;return o};module.exports=o;
},{}],"qjcD":[function(require,module,exports) {
var r=require("../geom/circle/Random"),e=function(e,o){for(var n=0;n<e.length;n++)r(o,e[n]);return e};module.exports=e;
},{"../geom/circle/Random":"keI1"}],"wdHx":[function(require,module,exports) {
var t=require("../point/Point"),a=function(a,r){void 0===r&&(r=new t);var h=Math.random()*Math.PI*2,n=Math.sqrt(Math.random());return r.x=a.x+n*Math.cos(h)*a.width/2,r.y=a.y+n*Math.sin(h)*a.height/2,r};module.exports=a;
},{"../point/Point":"IDPQ"}],"ye3W":[function(require,module,exports) {
var e=require("../geom/ellipse/Random"),r=function(r,o){for(var n=0;n<r.length;n++)e(o,r[n]);return r};module.exports=r;
},{"../geom/ellipse/Random":"wdHx"}],"nznH":[function(require,module,exports) {
var e=require("../geom/line/Random"),r=function(r,n){for(var o=0;o<r.length;o++)e(n,r[o]);return r};module.exports=r;
},{"../geom/line/Random":"SrIb"}],"m3RN":[function(require,module,exports) {
var e=require("../geom/rectangle/Random"),r=function(r,n){for(var o=0;o<r.length;o++)e(n,r[o]);return r};module.exports=r;
},{"../geom/rectangle/Random":"zxcx"}],"GQ7o":[function(require,module,exports) {
var r=require("../point/Point"),n=function(n,o){void 0===o&&(o=new r);var t=n.x2-n.x1,x=n.y2-n.y1,a=n.x3-n.x1,e=n.y3-n.y1,y=Math.random(),i=Math.random();return y+i>=1&&(y=1-y,i=1-i),o.x=n.x1+(t*y+a*i),o.y=n.y1+(x*y+e*i),o};module.exports=n;
},{"../point/Point":"IDPQ"}],"f1Te":[function(require,module,exports) {
var r=require("../geom/triangle/Random"),e=function(e,n){for(var o=0;o<e.length;o++)r(n,e[o]);return e};module.exports=e;
},{"../geom/triangle/Random":"GQ7o"}],"sIYL":[function(require,module,exports) {
var r=require("./PropertyValueInc"),e=function(e,o,t,n,u){return r(e,"rotation",o,t,n,u)};module.exports=e;
},{"./PropertyValueInc":"T0j7"}],"mg12":[function(require,module,exports) {
var a=function(a,t,n,r,o){var e=r+Math.atan2(a.y-n,a.x-t);return a.x=t+o*Math.cos(e),a.y=n+o*Math.sin(e),a};module.exports=a;
},{}],"ovvS":[function(require,module,exports) {
var r=function(r,t,a,e){var n=r-a,o=t-e;return Math.sqrt(n*n+o*o)};module.exports=r;
},{}],"CC7e":[function(require,module,exports) {
var e=require("../math/RotateAroundDistance"),t=require("../math/distance/DistanceBetween"),r=function(r,a,n){for(var i=a.x,o=a.y,u=0;u<r.length;u++){var c=r[u];e(c,i,o,n,Math.max(1,t(c.x,c.y,i,o)))}return r};module.exports=r;
},{"../math/RotateAroundDistance":"mg12","../math/distance/DistanceBetween":"ovvS"}],"X9RV":[function(require,module,exports) {
var r=require("../math/RotateAroundDistance"),e=function(e,t,n,a){var o=t.x,u=t.y;if(0===a)return e;for(var i=0;i<e.length;i++)r(e[i],o,u,n,a);return e};module.exports=e;
},{"../math/RotateAroundDistance":"mg12"}],"oiYH":[function(require,module,exports) {
var e=require("./PropertyValueInc"),r=function(r,u,n,o,t){return e(r,"scaleX",u,n,o,t)};module.exports=r;
},{"./PropertyValueInc":"T0j7"}],"mfOG":[function(require,module,exports) {
var e=require("./PropertyValueInc"),r=function(r,l,u,n,a,c,o){return null==u&&(u=l),e(r,"scaleX",l,n,c,o),e(r,"scaleY",u,a,c,o)};module.exports=r;
},{"./PropertyValueInc":"T0j7"}],"LOXl":[function(require,module,exports) {
var e=require("./PropertyValueInc"),r=function(r,u,n,o,t){return e(r,"scaleY",u,n,o,t)};module.exports=r;
},{"./PropertyValueInc":"T0j7"}],"NCLI":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,t,u,a,o){return e(r,"alpha",t,u,a,o)};module.exports=r;
},{"./PropertyValueSet":"Jwua"}],"jx2B":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,o,t,u){return e(r,"blendMode",o,0,t,u)};module.exports=r;
},{"./PropertyValueSet":"Jwua"}],"wEpL":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,t,u,o,n){return e(r,"depth",t,u,o,n)};module.exports=r;
},{"./PropertyValueSet":"Jwua"}],"cgO2":[function(require,module,exports) {
var e=function(e,r,t){for(var n=0;n<e.length;n++)e[n].setInteractive(r,t);return e};module.exports=e;
},{}],"ySnk":[function(require,module,exports) {
var r=require("./PropertyValueSet"),e=function(e,i,n,o,u,t,l){return null==n&&(n=i),r(e,"originX",i,o,t,l),r(e,"originY",n,u,t,l)};module.exports=e;
},{"./PropertyValueSet":"Jwua"}],"l9Fj":[function(require,module,exports) {
var r=require("./PropertyValueSet"),e=function(e,t,o,u,n){return r(e,"rotation",t,o,u,n)};module.exports=e;
},{"./PropertyValueSet":"Jwua"}],"gMDK":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,l,u,t,a,n,o){return null==u&&(u=l),e(r,"scaleX",l,t,n,o),e(r,"scaleY",u,a,n,o)};module.exports=r;
},{"./PropertyValueSet":"Jwua"}],"F5P4":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,t,u,o,a){return e(r,"scaleX",t,u,o,a)};module.exports=r;
},{"./PropertyValueSet":"Jwua"}],"MLlg":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,t,u,o,a){return e(r,"scaleY",t,u,o,a)};module.exports=r;
},{"./PropertyValueSet":"Jwua"}],"Hklk":[function(require,module,exports) {
var r=require("./PropertyValueSet"),e=function(e,l,o,t,u,c,a){return null==o&&(o=l),r(e,"scrollFactorX",l,t,c,a),r(e,"scrollFactorY",o,u,c,a)};module.exports=e;
},{"./PropertyValueSet":"Jwua"}],"mii0":[function(require,module,exports) {
var r=require("./PropertyValueSet"),e=function(e,o,t,u,l){return r(e,"scrollFactorX",o,t,u,l)};module.exports=e;
},{"./PropertyValueSet":"Jwua"}],"abHn":[function(require,module,exports) {
var r=require("./PropertyValueSet"),e=function(e,o,t,u,l){return r(e,"scrollFactorY",o,t,u,l)};module.exports=e;
},{"./PropertyValueSet":"Jwua"}],"I90c":[function(require,module,exports) {
var r=function(r,t,e,n,o){for(var u=0;u<r.length;u++)r[u].setTint(t,e,n,o);return r};module.exports=r;
},{}],"ahgz":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,t,u,i){return e(r,"visible",t,0,u,i)};module.exports=r;
},{"./PropertyValueSet":"Jwua"}],"CVPg":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,t,u,o,n){return e(r,"x",t,u,o,n)};module.exports=r;
},{"./PropertyValueSet":"Jwua"}],"iQ7s":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,u,t,l,n,o,a){return null==t&&(t=u),e(r,"x",u,l,o,a),e(r,"y",t,n,o,a)};module.exports=r;
},{"./PropertyValueSet":"Jwua"}],"Iu5w":[function(require,module,exports) {
var e=require("./PropertyValueSet"),r=function(r,t,u,o,n){return e(r,"y",t,u,o,n)};module.exports=r;
},{"./PropertyValueSet":"Jwua"}],"T9tY":[function(require,module,exports) {
var e=require("../math/Vector2"),x=function(x,r,y,o,t){var n,i,l,f,v,a;if(void 0===o&&(o=0),void 0===t&&(t=new e),x.length>1)if(0===o){var h=x.length-1;for(n=x[h].x,i=x[h].y,l=h-1;l>=0;l--)f=(a=x[l]).x,v=a.y,a.x=n,a.y=i,n=f,i=v;x[h].x=r,x[h].y=y}else{for(n=x[0].x,i=x[0].y,l=1;l<x.length;l++)f=(a=x[l]).x,v=a.y,a.x=n,a.y=i,n=f,i=v;x[0].x=r,x[0].y=y}else n=x[0].x,i=x[0].y,x[0].x=r,x[0].y=y;return t.x=n,t.y=i,t};module.exports=x;
},{"../math/Vector2":"qKN5"}],"W8ol":[function(require,module,exports) {
var r=function(r){for(var o=r.length-1;o>0;o--){var a=Math.floor(Math.random()*(o+1)),t=r[o];r[o]=r[a],r[a]=t}return r};module.exports=r;
},{}],"aag6":[function(require,module,exports) {
var r=require("../utils/array/Shuffle"),e=function(e){return r(e)};module.exports=e;
},{"../utils/array/Shuffle":"W8ol"}],"mRwI":[function(require,module,exports) {
var t=function(t,a,n){return(t=Math.max(0,Math.min(1,(t-a)/(n-a))))*t*t*(t*(6*t-15)+10)};module.exports=t;
},{}],"YN7c":[function(require,module,exports) {
var e=require("../math/SmootherStep"),r=function(r,t,o,h,n){void 0===n&&(n=!1);var a,l=Math.abs(h-o)/r.length;if(n)for(a=0;a<r.length;a++)r[a][t]+=e(a*l,o,h);else for(a=0;a<r.length;a++)r[a][t]=e(a*l,o,h);return r};module.exports=r;
},{"../math/SmootherStep":"mRwI"}],"Q10R":[function(require,module,exports) {
var r=function(r,e,n){return r<=e?0:r>=n?1:(r=(r-e)/(n-e))*r*(3-2*r)};module.exports=r;
},{}],"h7Of":[function(require,module,exports) {
var e=require("../math/SmoothStep"),t=function(t,r,o,h,n){void 0===n&&(n=!1);var a,l=Math.abs(h-o)/t.length;if(n)for(a=0;a<t.length;a++)t[a][r]+=e(a*l,o,h);else for(a=0;a<t.length;a++)t[a][r]=e(a*l,o,h);return t};module.exports=t;
},{"../math/SmoothStep":"Q10R"}],"UBNN":[function(require,module,exports) {
var e=function(e,r,t,n,o){void 0===o&&(o=!1);var l,a=Math.abs(n-t)/e.length;if(o)for(l=0;l<e.length;l++)e[l][r]+=l*a+t;else for(l=0;l<e.length;l++)e[l][r]=l*a+t;return e};module.exports=e;
},{}],"v1Cy":[function(require,module,exports) {
var e=function(e){for(var r=0;r<e.length;r++)e[r].visible=!e[r].visible;return e};module.exports=e;
},{}],"eKPu":[function(require,module,exports) {
var r=require("../math/Wrap"),t=function(t,o,e){void 0===e&&(e=0);for(var a=0;a<t.length;a++){var i=t[a];i.x=r(i.x,o.left-e,o.right+e),i.y=r(i.y,o.top-e,o.bottom+e)}return t};module.exports=t;
},{"../math/Wrap":"wXAg"}],"qHcr":[function(require,module,exports) {
module.exports={AlignTo:require("./AlignTo"),Angle:require("./Angle"),Call:require("./Call"),GetFirst:require("./GetFirst"),GetLast:require("./GetLast"),GridAlign:require("./GridAlign"),IncAlpha:require("./IncAlpha"),IncX:require("./IncX"),IncXY:require("./IncXY"),IncY:require("./IncY"),PlaceOnCircle:require("./PlaceOnCircle"),PlaceOnEllipse:require("./PlaceOnEllipse"),PlaceOnLine:require("./PlaceOnLine"),PlaceOnRectangle:require("./PlaceOnRectangle"),PlaceOnTriangle:require("./PlaceOnTriangle"),PlayAnimation:require("./PlayAnimation"),PropertyValueInc:require("./PropertyValueInc"),PropertyValueSet:require("./PropertyValueSet"),RandomCircle:require("./RandomCircle"),RandomEllipse:require("./RandomEllipse"),RandomLine:require("./RandomLine"),RandomRectangle:require("./RandomRectangle"),RandomTriangle:require("./RandomTriangle"),Rotate:require("./Rotate"),RotateAround:require("./RotateAround"),RotateAroundDistance:require("./RotateAroundDistance"),ScaleX:require("./ScaleX"),ScaleXY:require("./ScaleXY"),ScaleY:require("./ScaleY"),SetAlpha:require("./SetAlpha"),SetBlendMode:require("./SetBlendMode"),SetDepth:require("./SetDepth"),SetHitArea:require("./SetHitArea"),SetOrigin:require("./SetOrigin"),SetRotation:require("./SetRotation"),SetScale:require("./SetScale"),SetScaleX:require("./SetScaleX"),SetScaleY:require("./SetScaleY"),SetScrollFactor:require("./SetScrollFactor"),SetScrollFactorX:require("./SetScrollFactorX"),SetScrollFactorY:require("./SetScrollFactorY"),SetTint:require("./SetTint"),SetVisible:require("./SetVisible"),SetX:require("./SetX"),SetXY:require("./SetXY"),SetY:require("./SetY"),ShiftPosition:require("./ShiftPosition"),Shuffle:require("./Shuffle"),SmootherStep:require("./SmootherStep"),SmoothStep:require("./SmoothStep"),Spread:require("./Spread"),ToggleVisible:require("./ToggleVisible"),WrapInRectangle:require("./WrapInRectangle")};
},{"./AlignTo":"URw3","./Angle":"yvcn","./Call":"OdBQ","./GetFirst":"guN5","./GetLast":"guN5","./GridAlign":"zE02","./IncAlpha":"oAWH","./IncX":"AlRj","./IncXY":"XYHg","./IncY":"yNU6","./PlaceOnCircle":"bAYG","./PlaceOnEllipse":"wqfy","./PlaceOnLine":"AxQf","./PlaceOnRectangle":"qbgD","./PlaceOnTriangle":"jZDk","./PlayAnimation":"J1oK","./PropertyValueInc":"T0j7","./PropertyValueSet":"Jwua","./RandomCircle":"qjcD","./RandomEllipse":"ye3W","./RandomLine":"nznH","./RandomRectangle":"m3RN","./RandomTriangle":"f1Te","./Rotate":"sIYL","./RotateAround":"CC7e","./RotateAroundDistance":"X9RV","./ScaleX":"oiYH","./ScaleXY":"mfOG","./ScaleY":"LOXl","./SetAlpha":"NCLI","./SetBlendMode":"jx2B","./SetDepth":"wEpL","./SetHitArea":"cgO2","./SetOrigin":"ySnk","./SetRotation":"l9Fj","./SetScale":"gMDK","./SetScaleX":"F5P4","./SetScaleY":"MLlg","./SetScrollFactor":"Hklk","./SetScrollFactorX":"mii0","./SetScrollFactorY":"abHn","./SetTint":"I90c","./SetVisible":"ahgz","./SetX":"CVPg","./SetXY":"iQ7s","./SetY":"Iu5w","./ShiftPosition":"T9tY","./Shuffle":"aag6","./SmootherStep":"YN7c","./SmoothStep":"h7Of","./Spread":"UBNN","./ToggleVisible":"v1Cy","./WrapInRectangle":"eKPu"}],"l4f9":[function(require,module,exports) {
var t=require("../utils/Class"),e=new t({initialize:function(t){if(this.entries={},this.size=0,Array.isArray(t))for(var e=0;e<t.length;e++)this.set(t[e][0],t[e][1])},set:function(t,e){return this.has(t)||this.size++,this.entries[t]=e,this},get:function(t){if(this.has(t))return this.entries[t]},getArray:function(){var t=[],e=this.entries;for(var i in e)t.push(e[i]);return t},has:function(t){return this.entries.hasOwnProperty(t)},delete:function(t){return this.has(t)&&(delete this.entries[t],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(t){delete this.entries[t]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var t=[],e=this.entries;for(var i in e)t.push(e[i]);return t},dump:function(){var t=this.entries;for(var e in console.group("Map"),t)console.log(e,t[e]);console.groupEnd()},each:function(t){var e=this.entries;for(var i in e)if(!1===t(i,e[i]))break;return this},contains:function(t){var e=this.entries;for(var i in e)if(e[i]===t)return!0;return!1},merge:function(t,e){void 0===e&&(e=!1);var i=this.entries,r=t.entries;for(var n in r)i.hasOwnProperty(n)&&e?i[n]=r[n]:this.set(n,r[n]);return this}});module.exports=e;
},{"../utils/Class":"JASv"}],"e5Qb":[function(require,module,exports) {
var e=function(e,r,n,a){void 0===r&&(r=0),void 0===n&&(n=" "),void 0===a&&(a=3);var i=0;if(r+1>=(e=e.toString()).length)switch(a){case 1:e=new Array(r+1-e.length).join(n)+e;break;case 3:var t=Math.ceil((i=r-e.length)/2);e=new Array(i-t+1).join(n)+e+new Array(t+1).join(n);break;default:e+=new Array(r+1-e.length).join(n)}return e};module.exports=e;
},{}],"BEbl":[function(require,module,exports) {
var e=require("./Animation"),t=require("../utils/Class"),r=require("../structs/Map"),i=require("eventemitter3"),s=require("./events"),a=require("../core/events"),n=require("../utils/object/GetValue"),h=require("../utils/string/Pad"),u=new t({Extends:i,initialize:function(e){i.call(this),this.game=e,this.textureManager=null,this.globalTimeScale=1,this.anims=new r,this.paused=!1,this.name="AnimationManager",e.events.once(a.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(a.DESTROY,this.destroy,this)},add:function(e,t){return this.anims.has(e)?(console.warn("Animation key exists: "+e),this):(t.key=e,this.anims.set(e,t),this.emit(s.ADD_ANIMATION,e,t),this)},exists:function(e){return this.anims.has(e)},create:function(t){var r=t.key,i=!1;return r&&((i=this.get(r))||(i=new e(this,r,t),this.anims.set(r,i),this.emit(s.ADD_ANIMATION,r,i))),i},fromJSON:function(e,t){void 0===t&&(t=!1),t&&this.anims.clear(),"string"==typeof e&&(e=JSON.parse(e));var r=[];if(e.hasOwnProperty("anims")&&Array.isArray(e.anims)){for(var i=0;i<e.anims.length;i++)r.push(this.create(e.anims[i]));e.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=e.globalTimeScale)}else e.hasOwnProperty("key")&&"frame"===e.type&&r.push(this.create(e));return r},generateFrameNames:function(e,t){var r=n(t,"prefix",""),i=n(t,"start",0),s=n(t,"end",0),a=n(t,"suffix",""),u=n(t,"zeroPad",0),o=n(t,"outputArray",[]),m=n(t,"frames",!1),l=this.textureManager.get(e);if(!l)return o;var f,g,c=i<s?1:-1;if(s+=c,t)if(Array.isArray(m))for(f=0;f<m.length;f++)g=r+h(m[f],u,"0",1)+a,l.has(g)&&o.push({key:e,frame:g});else for(f=i;f!==s;f+=c)g=r+h(f,u,"0",1)+a,l.has(g)&&o.push({key:e,frame:g});else for(m=l.getFrameNames(),f=0;f<m.length;f++)o.push({key:e,frame:m[f]});return o},generateFrameNumbers:function(e,t){var r,i=n(t,"start",0),s=n(t,"end",-1),a=n(t,"first",!1),h=n(t,"outputArray",[]),u=n(t,"frames",!1),o=this.textureManager.get(e);if(!o)return h;if(a&&o.has(a)&&h.push({key:e,frame:a}),Array.isArray(u))for(r=0;r<u.length;r++)o.has(u[r])&&h.push({key:e,frame:u[r]});else{-1===s&&(s=o.frameTotal);var m=i<s?1:-1;for(s+=m,r=i;r!==s;r+=m)o.has(r)&&h.push({key:e,frame:r})}return h},get:function(e){return this.anims.get(e)},load:function(e,t,r){var i=this.get(t);return i?i.load(e,r):console.warn("Missing animation: "+t),e},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(s.PAUSE_ALL)),this},play:function(e,t){if(Array.isArray(t)||(t=[t]),!this.get(e))return this;for(var r=0;r<t.length;r++)t[r].anims.play(e);return this},remove:function(e){var t=this.get(e);return t&&(this.emit(s.REMOVE_ANIMATION,e,t),this.anims.delete(e)),t},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(s.RESUME_ALL)),this},staggerPlay:function(e,t,r){if(void 0===r&&(r=0),Array.isArray(t)||(t=[t]),!this.get(e))return this;for(var i=0;i<t.length;i++)t[i].anims.delayedPlay(r*i,e);return this},toJSON:function(e){var t={anims:[],globalTimeScale:this.globalTimeScale};return void 0!==e&&""!==e?t.anims.push(this.anims.get(e).toJSON()):this.anims.each(function(e,r){t.anims.push(r.toJSON())}),t},destroy:function(){this.anims.clear(),this.textureManager=null,this.game=null}});module.exports=u;
},{"./Animation":"cvH8","../utils/Class":"JASv","../structs/Map":"l4f9","eventemitter3":"JJlS","./events":"SxpX","../core/events":"Dc0S","../utils/object/GetValue":"OqLI","../utils/string/Pad":"e5Qb"}],"l5Gc":[function(require,module,exports) {
module.exports={Animation:require("./Animation"),AnimationFrame:require("./AnimationFrame"),AnimationManager:require("./AnimationManager"),Events:require("./events")};
},{"./Animation":"cvH8","./AnimationFrame":"JfIh","./AnimationManager":"BEbl","./events":"SxpX"}],"W7pU":[function(require,module,exports) {
module.exports={ADD:require("./ADD_EVENT"),REMOVE:require("./REMOVE_EVENT")};
},{"./ADD_EVENT":"eGX0","./REMOVE_EVENT":"Rv54"}],"EIF7":[function(require,module,exports) {
var e=require("../utils/Class"),t=require("../structs/Map"),s=require("eventemitter3"),i=require("./events"),n=new e({initialize:function(){this.entries=new t,this.events=new s},add:function(e,t){return this.entries.set(e,t),this.events.emit(i.ADD,this,e,t),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var t=this.get(e);return t&&(this.entries.delete(e),this.events.emit(i.REMOVE,this,e,t.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});module.exports=n;
},{"../utils/Class":"JASv","../structs/Map":"l4f9","eventemitter3":"JJlS","./events":"W7pU"}],"P8ic":[function(require,module,exports) {
var t=require("./BaseCache"),s=require("../utils/Class"),i=require("../core/events"),e=new s({initialize:function(s){this.game=s,this.binary=new t,this.bitmapFont=new t,this.json=new t,this.physics=new t,this.shader=new t,this.audio=new t,this.video=new t,this.text=new t,this.html=new t,this.obj=new t,this.tilemap=new t,this.xml=new t,this.custom={},this.game.events.once(i.DESTROY,this.destroy,this)},addCustom:function(s){return this.custom.hasOwnProperty(s)||(this.custom[s]=new t),this.custom[s]},destroy:function(){for(var t=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],s=0;s<t.length;s++)this[t[s]].destroy(),this[t[s]]=null;for(var i in this.custom)this.custom[i].destroy();this.custom=null,this.game=null}});module.exports=e;
},{"./BaseCache":"EIF7","../utils/Class":"JASv","../core/events":"Dc0S"}],"kCvn":[function(require,module,exports) {
module.exports={BaseCache:require("./BaseCache"),CacheManager:require("./CacheManager"),Events:require("./events")};
},{"./BaseCache":"EIF7","./CacheManager":"P8ic","./events":"W7pU"}],"tuTN":[function(require,module,exports) {
var t=require("../../utils/Class"),s=require("../../utils/object/GetValue"),i=new t({initialize:function(t){this.camera=s(t,"camera",null),this.left=s(t,"left",null),this.right=s(t,"right",null),this.up=s(t,"up",null),this.down=s(t,"down",null),this.zoomIn=s(t,"zoomIn",null),this.zoomOut=s(t,"zoomOut",null),this.zoomSpeed=s(t,"zoomSpeed",.01),this.speedX=0,this.speedY=0;var i=s(t,"speed",null);"number"==typeof i?(this.speedX=i,this.speedY=i):(this.speedX=s(t,"speed.x",0),this.speedY=s(t,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(t){return this.camera=t,this},update:function(t){if(this.active){void 0===t&&(t=1);var s=this.camera;this.up&&this.up.isDown?s.scrollY-=this.speedY*t|0:this.down&&this.down.isDown&&(s.scrollY+=this.speedY*t|0),this.left&&this.left.isDown?s.scrollX-=this.speedX*t|0:this.right&&this.right.isDown&&(s.scrollX+=this.speedX*t|0),this.zoomIn&&this.zoomIn.isDown?(s.zoom-=this.zoomSpeed,s.zoom<.1&&(s.zoom=.1)):this.zoomOut&&this.zoomOut.isDown&&(s.zoom+=this.zoomSpeed)}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});module.exports=i;
},{"../../utils/Class":"JASv","../../utils/object/GetValue":"OqLI"}],"oF8k":[function(require,module,exports) {
var e=require("../../utils/Class"),s=require("../../utils/object/GetValue"),t=new e({initialize:function(e){this.camera=s(e,"camera",null),this.left=s(e,"left",null),this.right=s(e,"right",null),this.up=s(e,"up",null),this.down=s(e,"down",null),this.zoomIn=s(e,"zoomIn",null),this.zoomOut=s(e,"zoomOut",null),this.zoomSpeed=s(e,"zoomSpeed",.01),this.accelX=0,this.accelY=0;var t=s(e,"acceleration",null);"number"==typeof t?(this.accelX=t,this.accelY=t):(this.accelX=s(e,"acceleration.x",0),this.accelY=s(e,"acceleration.y",0)),this.dragX=0,this.dragY=0;var i=s(e,"drag",null);"number"==typeof i?(this.dragX=i,this.dragY=i):(this.dragX=s(e,"drag.x",0),this.dragY=s(e,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var h=s(e,"maxSpeed",null);"number"==typeof h?(this.maxSpeedX=h,this.maxSpeedY=h):(this.maxSpeedX=s(e,"maxSpeed.x",0),this.maxSpeedY=s(e,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(e){return this.camera=e,this},update:function(e){if(this.active){void 0===e&&(e=1);var s=this.camera;this._speedX>0?(this._speedX-=this.dragX*e,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*e,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*e,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*e,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,0!==this._speedX&&(s.scrollX-=this._speedX*e|0),0!==this._speedY&&(s.scrollY-=this._speedY*e|0),0!==this._zoom&&(s.zoom+=this._zoom,s.zoom<.001&&(s.zoom=.001))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});module.exports=t;
},{"../../utils/Class":"JASv","../../utils/object/GetValue":"OqLI"}],"epik":[function(require,module,exports) {
module.exports={FixedKeyControl:require("./FixedKeyControl"),SmoothedKeyControl:require("./SmoothedKeyControl")};
},{"./FixedKeyControl":"tuTN","./SmoothedKeyControl":"oF8k"}],"Fy3z":[function(require,module,exports) {
module.exports="cameradestroy";
},{}],"tBKM":[function(require,module,exports) {
module.exports="camerafadeincomplete";
},{}],"tEHD":[function(require,module,exports) {
module.exports="camerafadeinstart";
},{}],"TBHd":[function(require,module,exports) {
module.exports="camerafadeoutcomplete";
},{}],"gJOl":[function(require,module,exports) {
module.exports="camerafadeoutstart";
},{}],"cFCD":[function(require,module,exports) {
module.exports="cameraflashcomplete";
},{}],"lPBP":[function(require,module,exports) {
module.exports="cameraflashstart";
},{}],"KFPS":[function(require,module,exports) {
module.exports="camerapancomplete";
},{}],"Fz54":[function(require,module,exports) {
module.exports="camerapanstart";
},{}],"yPid":[function(require,module,exports) {
module.exports="camerarotatecomplete";
},{}],"HV6C":[function(require,module,exports) {
module.exports="camerarotatestart";
},{}],"Virp":[function(require,module,exports) {
module.exports="camerashakecomplete";
},{}],"VEdL":[function(require,module,exports) {
module.exports="camerashakestart";
},{}],"IaPv":[function(require,module,exports) {
module.exports="camerazoomcomplete";
},{}],"ZKkg":[function(require,module,exports) {
module.exports="camerazoomstart";
},{}],"nSiV":[function(require,module,exports) {
module.exports={DESTROY:require("./DESTROY_EVENT"),FADE_IN_COMPLETE:require("./FADE_IN_COMPLETE_EVENT"),FADE_IN_START:require("./FADE_IN_START_EVENT"),FADE_OUT_COMPLETE:require("./FADE_OUT_COMPLETE_EVENT"),FADE_OUT_START:require("./FADE_OUT_START_EVENT"),FLASH_COMPLETE:require("./FLASH_COMPLETE_EVENT"),FLASH_START:require("./FLASH_START_EVENT"),PAN_COMPLETE:require("./PAN_COMPLETE_EVENT"),PAN_START:require("./PAN_START_EVENT"),POST_RENDER:require("./POST_RENDER_EVENT"),PRE_RENDER:require("./PRE_RENDER_EVENT"),ROTATE_COMPLETE:require("./ROTATE_COMPLETE_EVENT"),ROTATE_START:require("./ROTATE_START_EVENT"),SHAKE_COMPLETE:require("./SHAKE_COMPLETE_EVENT"),SHAKE_START:require("./SHAKE_START_EVENT"),ZOOM_COMPLETE:require("./ZOOM_COMPLETE_EVENT"),ZOOM_START:require("./ZOOM_START_EVENT")};
},{"./DESTROY_EVENT":"Fy3z","./FADE_IN_COMPLETE_EVENT":"tBKM","./FADE_IN_START_EVENT":"tEHD","./FADE_OUT_COMPLETE_EVENT":"TBHd","./FADE_OUT_START_EVENT":"gJOl","./FLASH_COMPLETE_EVENT":"cFCD","./FLASH_START_EVENT":"lPBP","./PAN_COMPLETE_EVENT":"KFPS","./PAN_START_EVENT":"Fz54","./POST_RENDER_EVENT":"zJwY","./PRE_RENDER_EVENT":"SKKr","./ROTATE_COMPLETE_EVENT":"yPid","./ROTATE_START_EVENT":"HV6C","./SHAKE_COMPLETE_EVENT":"Virp","./SHAKE_START_EVENT":"VEdL","./ZOOM_COMPLETE_EVENT":"IaPv","./ZOOM_START_EVENT":"ZKkg"}],"r4If":[function(require,module,exports) {
var r=function(r,e,n){return r<<16|e<<8|n};module.exports=r;
},{}],"toNz":[function(require,module,exports) {
var r=function(r,e,n,o){return o<<24|r<<16|e<<8|n};module.exports=r;
},{}],"lAtf":[function(require,module,exports) {
var o=require("./GetColor"),r=function(r,t,l,a){void 0===t&&(t=1),void 0===l&&(l=1);var e=Math.floor(6*r),f=6*r-e,h=Math.floor(l*(1-t)*255),M=Math.floor(l*(1-f*t)*255),i=Math.floor(l*(1-(1-f)*t)*255),u=l=Math.floor(l*=255),v=l,c=l,d=e%6;return 0===d?(v=i,c=h):1===d?(u=M,c=h):2===d?(u=h,c=i):3===d?(u=h,v=M):4===d?(u=i,v=h):5===d&&(v=h,c=M),a?a.setTo?a.setTo(u,v,c,a.alpha,!1):(a.r=u,a.g=v,a.b=c,a.color=o(u,v,c),a):{r:u,g:v,b:c,color:o(u,v,c)}};module.exports=r;
},{"./GetColor":"r4If"}],"Bvv3":[function(require,module,exports) {
var h=function(h,r,a,t){void 0===t&&(t={h:0,s:0,v:0}),h/=255,r/=255,a/=255;var v=Math.min(h,r,a),n=Math.max(h,r,a),o=n-v,s=0,e=0===n?0:o/n,_=n;return n!==v&&(n===h?s=(r-a)/o+(r<a?6:0):n===r?s=(a-h)/o+2:n===a&&(s=(h-r)/o+4),s/=6),t.hasOwnProperty("_h")?(t._h=s,t._s=e,t._v=_):(t.h=s,t.s=e,t.v=_),t};module.exports=h;
},{}],"oiID":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./GetColor"),h=require("./GetColor32"),s=require("./HSVToRGB"),n=require("./RGBToHSV"),r=new t({initialize:function(t,i,h,s){void 0===t&&(t=0),void 0===i&&(i=0),void 0===h&&(h=0),void 0===s&&(s=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(t,i,h,s)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(t,i,h,s,n){return void 0===s&&(s=255),void 0===n&&(n=!0),this._locked=!0,this.red=t,this.green=i,this.blue=h,this.alpha=s,this._locked=!1,this.update(n)},setGLTo:function(t,i,h,s){return void 0===s&&(s=1),this._locked=!0,this.redGL=t,this.greenGL=i,this.blueGL=h,this.alphaGL=s,this._locked=!1,this.update(!0)},setFromRGB:function(t){return this._locked=!0,this.red=t.r,this.green=t.g,this.blue=t.b,t.hasOwnProperty("a")&&(this.alpha=t.a),this._locked=!1,this.update(!0)},setFromHSV:function(t,i,h){return s(t,i,h,this)},update:function(t){if(void 0===t&&(t=!1),this._locked)return this;var s=this.r,r=this.g,e=this.b,o=this.a;return this._color=i(s,r,e),this._color32=h(s,r,e,o),this._rgba="rgba("+s+","+r+","+e+","+o/255+")",t&&n(s,r,e,this),this},updateHSV:function(){var t=this.r,i=this.g,h=this.b;return n(t,i,h,this),this},clone:function(){return new r(this.r,this.g,this.b,this.a)},gray:function(t){return this.setTo(t,t,t)},random:function(t,i){void 0===t&&(t=0),void 0===i&&(i=255);var h=Math.floor(t+Math.random()*(i-t)),s=Math.floor(t+Math.random()*(i-t)),n=Math.floor(t+Math.random()*(i-t));return this.setTo(h,s,n)},randomGray:function(t,i){void 0===t&&(t=0),void 0===i&&(i=255);var h=Math.floor(t+Math.random()*(i-t));return this.setTo(h,h,h)},saturate:function(t){return this.s+=t/100,this},desaturate:function(t){return this.s-=t/100,this},lighten:function(t){return this.v+=t/100,this},darken:function(t){return this.v-=t/100,this},brighten:function(t){var i=this.r,h=this.g,s=this.b;return i=Math.max(0,Math.min(255,i-Math.round(-t/100*255))),h=Math.max(0,Math.min(255,h-Math.round(-t/100*255))),s=Math.max(0,Math.min(255,s-Math.round(-t/100*255))),this.setTo(i,h,s)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(t){this.gl[0]=Math.min(Math.abs(t),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(t){this.gl[1]=Math.min(Math.abs(t),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(t){this.gl[2]=Math.min(Math.abs(t),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(t){this.gl[3]=Math.min(Math.abs(t),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(t){t=Math.floor(Math.abs(t)),this.r=Math.min(t,255),this.gl[0]=t/255,this.update(!0)}},green:{get:function(){return this.g},set:function(t){t=Math.floor(Math.abs(t)),this.g=Math.min(t,255),this.gl[1]=t/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(t){t=Math.floor(Math.abs(t)),this.b=Math.min(t,255),this.gl[2]=t/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(t){t=Math.floor(Math.abs(t)),this.a=Math.min(t,255),this.gl[3]=t/255,this.update()}},h:{get:function(){return this._h},set:function(t){this._h=t,s(t,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(t){this._s=t,s(this._h,t,this._v,this)}},v:{get:function(){return this._v},set:function(t){this._v=t,s(this._h,this._s,t,this)}}});module.exports=r;
},{"../../utils/Class":"JASv","./GetColor":"r4If","./GetColor32":"toNz","./HSVToRGB":"lAtf","./RGBToHSV":"Bvv3"}],"PFSf":[function(require,module,exports) {
var r=require("./Color"),e=function(e){var a=new r;e=e.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(r,e,a,n){return e+e+a+a+n+n});var n=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(n){var f=parseInt(n[1],16),t=parseInt(n[2],16),d=parseInt(n[3],16);a.setTo(f,t,d)}return a};module.exports=e;
},{"./Color":"oiID"}],"XwhQ":[function(require,module,exports) {
var r=function(r){return r>16777215?{a:r>>>24,r:r>>16&255,g:r>>8&255,b:255&r}:{a:255,r:r>>16&255,g:r>>8&255,b:255&r}};module.exports=r;
},{}],"Hl3C":[function(require,module,exports) {
var r=require("./Color"),e=require("./IntegerToRGB"),o=function(o){var n=e(o);return new r(n.r,n.g,n.b,n.a)};module.exports=o;
},{"./Color":"oiID","./IntegerToRGB":"XwhQ"}],"C6qA":[function(require,module,exports) {
var r=require("./Color"),e=function(e){return new r(e.r,e.g,e.b,e.a)};module.exports=e;
},{"./Color":"oiID"}],"fcv9":[function(require,module,exports) {
var e=require("./Color"),r=function(r){var s=new e,a=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(r.toLowerCase());if(a){var o=parseInt(a[1],10),t=parseInt(a[2],10),d=parseInt(a[3],10),n=void 0!==a[4]?parseFloat(a[4]):1;s.setTo(o,t,d,255*n)}return s};module.exports=r;
},{"./Color":"oiID"}],"pQCJ":[function(require,module,exports) {
var r=require("./HexStringToColor"),e=require("./IntegerToColor"),o=require("./ObjectToColor"),t=require("./RGBStringToColor"),u=function(u){switch(typeof u){case"string":return"rgb"===u.substr(0,3).toLowerCase()?t(u):r(u);case"number":return e(u);case"object":return o(u)}};module.exports=u;
},{"./HexStringToColor":"PFSf","./IntegerToColor":"Hl3C","./ObjectToColor":"C6qA","./RGBStringToColor":"fcv9"}],"cnbb":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("../../gameobjects/components"),s=require("../../math/DegToRad"),h=require("eventemitter3"),e=require("./events"),r=require("../../geom/rectangle/Rectangle"),n=require("../../gameobjects/components/TransformMatrix"),o=require("../../display/color/ValueToColor"),u=require("../../math/Vector2"),a=new t({Extends:h,Mixins:[i.Alpha,i.Visible],initialize:function(t,i,s,e){void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===e&&(e=0),h.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.resolution=1,this.roundPixels=!1,this.useBounds=!1,this.worldView=new r,this.dirty=!0,this._x=t,this._y=i,this._cx=0,this._cy=0,this._cw=0,this._ch=0,this._width=s,this._height=e,this._bounds=new r,this._scrollX=0,this._scrollY=0,this._zoom=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=o("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new u(s/2,e/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null},setOrigin:function(t,i){return void 0===t&&(t=.5),void 0===i&&(i=t),this.originX=t,this.originY=i,this},getScroll:function(t,i,s){void 0===s&&(s=new u);var h=.5*this.width,e=.5*this.height;return s.x=t-h,s.y=i-e,this.useBounds&&(s.x=this.clampX(s.x),s.y=this.clampY(s.y)),s},centerOnX:function(t){var i=.5*this.width;return this.midPoint.x=t,this.scrollX=t-i,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(t){var i=.5*this.height;return this.midPoint.y=t,this.scrollY=t-i,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(t,i){return this.centerOnX(t),this.centerOnY(i),this},centerToBounds:function(){if(this.useBounds){var t=this._bounds,i=.5*this.width,s=.5*this.height;this.midPoint.set(t.centerX,t.centerY),this.scrollX=t.centerX-i,this.scrollY=t.centerY-s}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(t){if(this.disableCull)return t;var i=this.matrix.matrix,s=i[0],h=i[1],e=i[2],r=i[3],n=s*r-h*e;if(!n)return t;var o=i[4],u=i[5],a=this.scrollX,c=this.scrollY,l=this.width,d=this.height,g=this.culledObjects,m=t.length;n=1/n,g.length=0;for(var f=0;f<m;++f){var _=t[f];if(_.hasOwnProperty("width")&&!_.parentContainer){var y=_.width,w=_.height,v=_.x-a*_.scrollFactorX-y*_.originX,p=_.y-c*_.scrollFactorY-w*_.originY,x=v*s+p*e+o,Y=v*h+p*r+u,X=(v+y)*s+(p+w)*e+o,b=(v+y)*h+(p+w)*r+u,M=this.y,V=M+d,k=this.x;X>k&&x<k+l&&b>M&&Y<V&&g.push(_)}else g.push(_)}return g},getWorldPoint:function(t,i,s){void 0===s&&(s=new u);var h=this.matrix.matrix,e=h[0],r=h[1],n=h[2],o=h[3],a=h[4],c=h[5],l=e*o-r*n;if(!l)return s.x=t,s.y=i,s;var d=o*(l=1/l),g=-r*l,m=-n*l,f=e*l,_=(n*c-o*a)*l,y=(r*a-e*c)*l,w=Math.cos(this.rotation),v=Math.sin(this.rotation),p=this.zoom,x=this.resolution,Y=this.scrollX,X=this.scrollY,b=t+(Y*w-X*v)*p,M=i+(Y*v+X*w)*p;return s.x=(b*d+M*m)*x+_,s.y=(b*g+M*f)*x+y,s},ignore:function(t){var i=this.id;Array.isArray(t)||(t=[t]);for(var s=0;s<t.length;s++){var h=t[s];Array.isArray(h)?this.ignore(h):h.isParent?this.ignore(h.getChildren()):h.cameraFilter|=i}return this},preRender:function(t){var i=this.width,s=this.height,h=.5*i,e=.5*s,r=this.zoom*t,n=this.matrix,o=i*this.originX,u=s*this.originY,a=this.scrollX,c=this.scrollY;this.useBounds&&(a=this.clampX(a),c=this.clampY(c)),this.roundPixels&&(o=Math.round(o),u=Math.round(u)),this.scrollX=a,this.scrollY=c;var l=a+h,d=c+e;this.midPoint.set(l,d);var g=i/r,m=s/r;this.worldView.setTo(l-g/2,d-m/2,g,m),n.applyITRS(this.x+o,this.y+u,this.rotation,r,r),n.translate(-o,-u)},clampX:function(t){var i=this._bounds,s=this.displayWidth,h=i.x+(s-this.width)/2,e=Math.max(h,h+i.width-s);return t<h?t=h:t>e&&(t=e),t},clampY:function(t){var i=this._bounds,s=this.displayHeight,h=i.y+(s-this.height)/2,e=Math.max(h,h+i.height-s);return t<h?t=h:t>e&&(t=e),t},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(t){return void 0===t&&(t=0),this.rotation=s(t),this},setBackgroundColor:function(t){return void 0===t&&(t="rgba(0,0,0,0)"),this.backgroundColor=o(t),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(t,i,s,h,e){return void 0===e&&(e=!1),this._bounds.setTo(t,i,s,h),this.dirty=!0,this.useBounds=!0,e?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(t){void 0===t&&(t=new r);var i=this._bounds;return t.setTo(i.x,i.y,i.width,i.height),t},setName:function(t){return void 0===t&&(t=""),this.name=t,this},setPosition:function(t,i){return void 0===i&&(i=t),this.x=t,this.y=i,this},setRotation:function(t){return void 0===t&&(t=0),this.rotation=t,this},setRoundPixels:function(t){return this.roundPixels=t,this},setScene:function(t){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=t;var i=t.sys;this.sceneManager=i.game.scene,this.scaleManager=i.scale,this.cameraManager=i.cameras;var s=this.scaleManager.resolution;return this.resolution=s,this._cx=this._x*s,this._cy=this._y*s,this._cw=this._width*s,this._ch=this._height*s,this.updateSystem(),this},setScroll:function(t,i){return void 0===i&&(i=t),this.scrollX=t,this.scrollY=i,this},setSize:function(t,i){return void 0===i&&(i=t),this.width=t,this.height=i,this},setViewport:function(t,i,s,h){return this.x=t,this.y=i,this.width=s,this.height=h,this},setZoom:function(t){return void 0===t&&(t=1),0===t&&(t=.001),this.zoom=t,this},setMask:function(t,i){return void 0===i&&(i=!0),this.mask=t,this._maskCamera=i?this.cameraManager.default:this,this},clearMask:function(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var t={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(t.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),t},update:function(){},updateSystem:function(){if(this.scaleManager){var t=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,i=this.sceneManager;t&&!this._customViewport?i.customViewports++:!t&&this._customViewport&&i.customViewports--,this.dirty=!0,this._customViewport=t}},destroy:function(){this.emit(e.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(t){this._x=t,this._cx=t*this.resolution,this.updateSystem()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._cy=t*this.resolution,this.updateSystem()}},width:{get:function(){return this._width},set:function(t){this._width=t,this._cw=t*this.resolution,this.updateSystem()}},height:{get:function(){return this._height},set:function(t){this._height=t,this._ch=t*this.resolution,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(t){this._scrollX=t,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(t){this._scrollY=t,this.dirty=!0}},zoom:{get:function(){return this._zoom},set:function(t){this._zoom=t,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=t,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoom}},displayHeight:{get:function(){return this.height/this.zoom}}});module.exports=a;
},{"../../utils/Class":"JASv","../../gameobjects/components":"VjLH","../../math/DegToRad":"VYZO","eventemitter3":"JJlS","./events":"nSiV","../../geom/rectangle/Rectangle":"wYVB","../../gameobjects/components/TransformMatrix":"s0s4","../../display/color/ValueToColor":"pQCJ","../../math/Vector2":"qKN5"}],"dL2W":[function(require,module,exports) {
var n="",r=function(){var r=function(n){for(var r=["i","webkitI","msI","mozI","oI"],e=0;e<r.length;e++){var t=r[e]+"mageSmoothingEnabled";if(t in n)return t}return null};return{disable:function(e){return""===n&&(n=r(e)),n&&(e[n]=!1),e},enable:function(e){return""===n&&(n=r(e)),n&&(e[n]=!0),e},getPrefix:r,isEnabled:function(r){return null!==n?r[n]:null}}};module.exports=r();
},{}],"J9p3":[function(require,module,exports) {
var n=require("../../const"),t=require("./Smoothing"),e=[],r=!1,a=function(){var a=function(a,i,u,c,v){var f;void 0===i&&(i=1),void 0===u&&(u=1),void 0===c&&(c=n.CANVAS),void 0===v&&(v=!1);var l=o(c);return null===l?(l={parent:a,canvas:document.createElement("canvas"),type:c},c===n.CANVAS&&e.push(l),f=l.canvas):(l.parent=a,f=l.canvas),v&&(l.parent=f),f.width=i,f.height=u,r&&c===n.CANVAS&&t.disable(f.getContext("2d")),f},o=function(t){if(void 0===t&&(t=n.CANVAS),t===n.WEBGL)return null;for(var r=0;r<e.length;r++){var a=e[r];if(!a.parent&&a.type===t)return a}return null},i=function(){var n=0;return e.forEach(function(t){t.parent&&n++}),n};return{create2D:function(t,e,r){return a(t,e,r,n.CANVAS)},create:a,createWebGL:function(t,e,r){return a(t,e,r,n.WEBGL)},disableSmoothing:function(){r=!0},enableSmoothing:function(){r=!1},first:o,free:function(){return e.length-i()},pool:e,remove:function(n){var t=n instanceof HTMLCanvasElement;e.forEach(function(e){(t&&e.canvas===n||!t&&e.parent===n)&&(e.parent=null,e.canvas.width=1,e.canvas.height=1)})},total:i}};module.exports=a();
},{"../../const":"BLd6","./Smoothing":"dL2W"}],"IU3l":[function(require,module,exports) {
var t=function(t,e,r){return t.x=e-t.width/2,t.y=r-t.height/2,t};module.exports=t;
},{}],"yaGh":[function(require,module,exports) {
var i=require("../../../math/Clamp"),t=require("../../../utils/Class"),e=require("../events"),s=new t({initialize:function(i){this.camera=i,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,t,s,h,n,r,a,o){if(void 0===i&&(i=!0),void 0===t&&(t=1e3),void 0===s&&(s=0),void 0===h&&(h=0),void 0===n&&(n=0),void 0===r&&(r=!1),void 0===a&&(a=null),void 0===o&&(o=this.camera.scene),!r&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=t,this.direction=i,this.progress=0,this.red=s,this.green=h,this.blue=n,this.alpha=i?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=a,this._onUpdateScope=o;var l=i?e.FADE_OUT_START:e.FADE_IN_START;return this.camera.emit(l,this.camera,this,t,s,h,n),this.camera},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=i(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(i){if(!this.isRunning&&!this.isComplete)return!1;var t=this.camera;return i.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",i.fillRect(t._cx,t._cy,t._cw,t._ch),!0},postRenderWebGL:function(i,t){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera,s=this.red/255,h=this.blue/255,n=this.green/255;return i.drawFillRect(e._cx,e._cy,e._cw,e._ch,t(s,n,h,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var i=this.direction?e.FADE_OUT_COMPLETE:e.FADE_IN_COMPLETE;this.camera.emit(i,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});module.exports=s;
},{"../../../math/Clamp":"eCA1","../../../utils/Class":"JASv","../events":"nSiV"}],"L7A3":[function(require,module,exports) {
var i=require("../../../math/Clamp"),t=require("../../../utils/Class"),e=require("../events"),s=new t({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,t,s,n,h,a,r){return void 0===i&&(i=250),void 0===t&&(t=255),void 0===s&&(s=255),void 0===n&&(n=255),void 0===h&&(h=!1),void 0===a&&(a=null),void 0===r&&(r=this.camera.scene),!h&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=i,this.progress=0,this.red=t,this.green=s,this.blue=n,this.alpha=1,this._elapsed=0,this._onUpdate=a,this._onUpdateScope=r,this.camera.emit(e.FLASH_START,this.camera,this,i,t,s,n),this.camera)},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=i(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(i){if(!this.isRunning)return!1;var t=this.camera;return i.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",i.fillRect(t._cx,t._cy,t._cw,t._ch),!0},postRenderWebGL:function(i,t){if(!this.isRunning)return!1;var e=this.camera,s=this.red/255,n=this.blue/255,h=this.green/255;return i.drawFillRect(e._cx,e._cy,e._cw,e._ch,t(s,h,n,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(e.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});module.exports=s;
},{"../../../math/Clamp":"eCA1","../../../utils/Class":"JASv","../events":"nSiV"}],"GnBV":[function(require,module,exports) {
var o=function(o,r){return void 0===r&&(r=1.70158),o*o*((r+1)*o-r)};module.exports=o;
},{}],"tW3M":[function(require,module,exports) {
var o=function(o,r){return void 0===r&&(r=1.70158),--o*o*((r+1)*o+r)+1};module.exports=o;
},{}],"JOai":[function(require,module,exports) {
var r=function(r,o){void 0===o&&(o=1.70158);var e=1.525*o;return(r*=2)<1?r*r*((e+1)*r-e)*.5:.5*((r-=2)*r*((e+1)*r+e)+2)};module.exports=r;
},{}],"F4AP":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"GnBV","./Out":"tW3M","./InOut":"JOai"}],"WhAC":[function(require,module,exports) {
var r=function(r){return(r=1-r)<1/2.75?1-7.5625*r*r:r<2/2.75?1-(7.5625*(r-=1.5/2.75)*r+.75):r<2.5/2.75?1-(7.5625*(r-=2.25/2.75)*r+.9375):1-(7.5625*(r-=2.625/2.75)*r+.984375)};module.exports=r;
},{}],"UB9d":[function(require,module,exports) {
var r=function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375};module.exports=r;
},{}],"kiqL":[function(require,module,exports) {
var r=function(r){var e=!1;return r<.5?(r=1-2*r,e=!0):r=2*r-1,r<1/2.75?r*=7.5625*r:r=r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375,e?.5*(1-r):.5*r+.5};module.exports=r;
},{}],"cCrV":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"WhAC","./Out":"UB9d","./InOut":"kiqL"}],"W9pM":[function(require,module,exports) {
var r=function(r){return 1-Math.sqrt(1-r*r)};module.exports=r;
},{}],"MUa1":[function(require,module,exports) {
var r=function(r){return Math.sqrt(1- --r*r)};module.exports=r;
},{}],"LKt3":[function(require,module,exports) {
var t=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};module.exports=t;
},{}],"ENYI":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"W9pM","./Out":"MUa1","./InOut":"LKt3"}],"sDg3":[function(require,module,exports) {
var r=function(r){return r*r*r};module.exports=r;
},{}],"nKDC":[function(require,module,exports) {
var r=function(r){return--r*r*r+1};module.exports=r;
},{}],"MUd3":[function(require,module,exports) {
var r=function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)};module.exports=r;
},{}],"tneV":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"sDg3","./Out":"nKDC","./InOut":"MUd3"}],"LFpF":[function(require,module,exports) {
var t=function(t,r,a){if(void 0===r&&(r=.1),void 0===a&&(a=.1),0===t)return 0;if(1===t)return 1;var i=a/4;return r<1?r=1:i=a*Math.asin(1/r)/(2*Math.PI),-r*Math.pow(2,10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/a)};module.exports=t;
},{}],"Xlpy":[function(require,module,exports) {
var t=function(t,r,a){if(void 0===r&&(r=.1),void 0===a&&(a=.1),0===t)return 0;if(1===t)return 1;var i=a/4;return r<1?r=1:i=a*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-i)*(2*Math.PI)/a)+1};module.exports=t;
},{}],"A0Fx":[function(require,module,exports) {
var t=function(t,a,r){if(void 0===a&&(a=.1),void 0===r&&(r=.1),0===t)return 0;if(1===t)return 1;var h=r/4;return a<1?a=1:h=r*Math.asin(1/a)/(2*Math.PI),(t*=2)<1?a*Math.pow(2,10*(t-=1))*Math.sin((t-h)*(2*Math.PI)/r)*-.5:a*Math.pow(2,-10*(t-=1))*Math.sin((t-h)*(2*Math.PI)/r)*.5+1};module.exports=t;
},{}],"J0wD":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"LFpF","./Out":"Xlpy","./InOut":"A0Fx"}],"oCXm":[function(require,module,exports) {
var o=function(o){return Math.pow(2,10*(o-1))-.001};module.exports=o;
},{}],"YrJo":[function(require,module,exports) {
var o=function(o){return 1-Math.pow(2,-10*o)};module.exports=o;
},{}],"EdFI":[function(require,module,exports) {
var o=function(o){return(o*=2)<1?.5*Math.pow(2,10*(o-1)):.5*(2-Math.pow(2,-10*(o-1)))};module.exports=o;
},{}],"eVA3":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"oCXm","./Out":"YrJo","./InOut":"EdFI"}],"wR8k":[function(require,module,exports) {
var r=function(r){return r};module.exports=r;
},{}],"osry":[function(require,module,exports) {
module.exports=require("./Linear");
},{"./Linear":"wR8k"}],"HkIx":[function(require,module,exports) {
var r=function(r){return r*r};module.exports=r;
},{}],"d0J8":[function(require,module,exports) {
var r=function(r){return r*(2-r)};module.exports=r;
},{}],"Nmxt":[function(require,module,exports) {
var r=function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)};module.exports=r;
},{}],"bsh8":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"HkIx","./Out":"d0J8","./InOut":"Nmxt"}],"vxw3":[function(require,module,exports) {
var r=function(r){return r*r*r*r};module.exports=r;
},{}],"P2sy":[function(require,module,exports) {
var r=function(r){return 1- --r*r*r*r};module.exports=r;
},{}],"jIFE":[function(require,module,exports) {
var r=function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)};module.exports=r;
},{}],"DcML":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"vxw3","./Out":"P2sy","./InOut":"jIFE"}],"aDns":[function(require,module,exports) {
var r=function(r){return r*r*r*r*r};module.exports=r;
},{}],"F048":[function(require,module,exports) {
var r=function(r){return--r*r*r*r*r+1};module.exports=r;
},{}],"ONnZ":[function(require,module,exports) {
var r=function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)};module.exports=r;
},{}],"d79z":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"aDns","./Out":"F048","./InOut":"ONnZ"}],"rq6D":[function(require,module,exports) {
var t=function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)};module.exports=t;
},{}],"O0Gy":[function(require,module,exports) {
var t=function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)};module.exports=t;
},{}],"tDBN":[function(require,module,exports) {
var t=function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))};module.exports=t;
},{}],"xCtq":[function(require,module,exports) {
module.exports={In:require("./In"),Out:require("./Out"),InOut:require("./InOut")};
},{"./In":"rq6D","./Out":"O0Gy","./InOut":"tDBN"}],"umuz":[function(require,module,exports) {
var o=function(o,r){return void 0===r&&(r=1),o<=0?0:o>=1?1:1/r*(1+(r*o|0))};module.exports=o;
},{}],"XJeC":[function(require,module,exports) {
module.exports=require("./Stepped");
},{"./Stepped":"umuz"}],"Zpuc":[function(require,module,exports) {
var e=require("./back"),u=require("./bounce"),t=require("./circular"),n=require("./cubic"),a=require("./elastic"),O=require("./expo"),r=require("./linear"),i=require("./quadratic"),I=require("./quartic"),s=require("./quintic"),c=require("./sine"),o=require("./stepped");module.exports={Power0:r,Power1:i.Out,Power2:n.Out,Power3:I.Out,Power4:s.Out,Linear:r,Quad:i.Out,Cubic:n.Out,Quart:I.Out,Quint:s.Out,Sine:c.Out,Expo:O.Out,Circ:t.Out,Elastic:a.Out,Back:e.Out,Bounce:u.Out,Stepped:o,"Quad.easeIn":i.In,"Cubic.easeIn":n.In,"Quart.easeIn":I.In,"Quint.easeIn":s.In,"Sine.easeIn":c.In,"Expo.easeIn":O.In,"Circ.easeIn":t.In,"Elastic.easeIn":a.In,"Back.easeIn":e.In,"Bounce.easeIn":u.In,"Quad.easeOut":i.Out,"Cubic.easeOut":n.Out,"Quart.easeOut":I.Out,"Quint.easeOut":s.Out,"Sine.easeOut":c.Out,"Expo.easeOut":O.Out,"Circ.easeOut":t.Out,"Elastic.easeOut":a.Out,"Back.easeOut":e.Out,"Bounce.easeOut":u.Out,"Quad.easeInOut":i.InOut,"Cubic.easeInOut":n.InOut,"Quart.easeInOut":I.InOut,"Quint.easeInOut":s.InOut,"Sine.easeInOut":c.InOut,"Expo.easeInOut":O.InOut,"Circ.easeInOut":t.InOut,"Elastic.easeInOut":a.InOut,"Back.easeInOut":e.InOut,"Bounce.easeInOut":u.InOut};
},{"./back":"F4AP","./bounce":"cCrV","./circular":"ENYI","./cubic":"tneV","./elastic":"J0wD","./expo":"eVA3","./linear":"osry","./quadratic":"bsh8","./quartic":"DcML","./quintic":"d79z","./sine":"xCtq","./stepped":"XJeC"}],"Ldis":[function(require,module,exports) {
var t=require("../../../math/Clamp"),i=require("../../../utils/Class"),s=require("../../../math/easing/EaseMap"),e=require("../events"),n=require("../../../math/Vector2"),a=new i({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=new n,this.current=new n,this.destination=new n,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,i,n,a,h,r,o){void 0===n&&(n=1e3),void 0===a&&(a=s.Linear),void 0===h&&(h=!1),void 0===r&&(r=null),void 0===o&&(o=this.camera.scene);var c=this.camera;return!h&&this.isRunning?c:(this.isRunning=!0,this.duration=n,this.progress=0,this.source.set(c.scrollX,c.scrollY),this.destination.set(t,i),c.getScroll(t,i,this.current),"string"==typeof a&&s.hasOwnProperty(a)?this.ease=s[a]:"function"==typeof a&&(this.ease=a),this._elapsed=0,this._onUpdate=r,this._onUpdateScope=o,this.camera.emit(e.PAN_START,this.camera,this,n,t,i),c)},update:function(i,s){if(this.isRunning){this._elapsed+=s;var e=t(this._elapsed/this.duration,0,1);this.progress=e;var n=this.camera;if(this._elapsed<this.duration){var a=this.ease(e);n.getScroll(this.destination.x,this.destination.y,this.current);var h=this.source.x+(this.current.x-this.source.x)*a,r=this.source.y+(this.current.y-this.source.y)*a;n.setScroll(h,r),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,e,h,r)}else n.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,e,n.scrollX,n.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(e.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});module.exports=a;
},{"../../../math/Clamp":"eCA1","../../../utils/Class":"JASv","../../../math/easing/EaseMap":"Zpuc","../events":"nSiV","../../../math/Vector2":"qKN5"}],"kBBA":[function(require,module,exports) {
var t=require("../../../math/Clamp"),s=require("../../../utils/Class"),i=require("../events"),e=require("../../../math/Vector2"),n=new s({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.intensity=new e,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(t,s,e,n,h){return void 0===t&&(t=100),void 0===s&&(s=.05),void 0===e&&(e=!1),void 0===n&&(n=null),void 0===h&&(h=this.camera.scene),!e&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=t,this.progress=0,"number"==typeof s?this.intensity.set(s):this.intensity.set(s.x,s.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=n,this._onUpdateScope=h,this.camera.emit(i.SHAKE_START,this.camera,this,t,s),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(s,i){if(this.isRunning)if(this._elapsed+=i,this.progress=t(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var e=this.intensity,n=this.camera._cw,h=this.camera._ch,a=this.camera.zoom;this._offsetX=(Math.random()*e.x*n*2-e.x*n)*a,this._offsetY=(Math.random()*e.y*h*2-e.y*h)*a,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});module.exports=n;
},{"../../../math/Clamp":"eCA1","../../../utils/Class":"JASv","../events":"nSiV","../../../math/Vector2":"qKN5"}],"XMaa":[function(require,module,exports) {
var t=require("../../../math/Clamp"),i=require("../../../utils/Class"),s=require("../events"),e=require("../../../math/easing/EaseMap"),a=new i({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(t,i,a,n,h,o,r){void 0===a&&(a=1e3),void 0===n&&(n=e.Linear),void 0===h&&(h=!1),void 0===o&&(o=null),void 0===r&&(r=this.camera.scene),void 0===i&&(i=!1),this.shortestPath=i;var c=t;t<0?(c=-1*t,this.clockwise=!1):this.clockwise=!0;var u=360*Math.PI/180;c-=Math.floor(c/u)*u;var d=this.camera;if(!h&&this.isRunning)return d;if(this.isRunning=!0,this.duration=a,this.progress=0,this.source=d.rotation,this.destination=c,"string"==typeof n&&e.hasOwnProperty(n)?this.ease=e[n]:"function"==typeof n&&(this.ease=n),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=r,this.shortestPath){var l=0,p=0;(l=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+u)-this.source)<(p=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+u)-this.destination)?this.clockwise=!0:l>p&&(this.clockwise=!1)}return this.camera.emit(s.ROTATE_START,this.camera,this,a,c),d},update:function(i,s){if(this.isRunning){this._elapsed+=s;var e=t(this._elapsed/this.duration,0,1);this.progress=e;var a=this.camera;if(this._elapsed<this.duration){var n=this.ease(e);this.current=a.rotation;var h=0,o=360*Math.PI/180,r=this.destination,c=this.current;!1===this.clockwise&&(r=this.current,c=this.destination),h=r>=c?Math.abs(r-c):Math.abs(r+o)-c;var u=0;u=this.clockwise?a.rotation+h*n:a.rotation-h*n,a.rotation=u,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,e,u)}else a.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,e,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});module.exports=a;
},{"../../../math/Clamp":"eCA1","../../../utils/Class":"JASv","../events":"nSiV","../../../math/easing/EaseMap":"Zpuc"}],"fHjP":[function(require,module,exports) {
var t=require("../../../math/Clamp"),i=require("../../../utils/Class"),s=require("../../../math/easing/EaseMap"),e=require("../events"),n=new i({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,i,n,a,h,o){void 0===i&&(i=1e3),void 0===n&&(n=s.Linear),void 0===a&&(a=!1),void 0===h&&(h=null),void 0===o&&(o=this.camera.scene);var r=this.camera;return!a&&this.isRunning?r:(this.isRunning=!0,this.duration=i,this.progress=0,this.source=r.zoom,this.destination=t,"string"==typeof n&&s.hasOwnProperty(n)?this.ease=s[n]:"function"==typeof n&&(this.ease=n),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=o,this.camera.emit(e.ZOOM_START,this.camera,this,i,t),r)},update:function(i,s){this.isRunning&&(this._elapsed+=s,this.progress=t(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(e.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});module.exports=n;
},{"../../../math/Clamp":"eCA1","../../../utils/Class":"JASv","../../../math/easing/EaseMap":"Zpuc","../events":"nSiV"}],"DS3c":[function(require,module,exports) {
module.exports={Fade:require("./Fade"),Flash:require("./Flash"),Pan:require("./Pan"),Shake:require("./Shake"),RotateTo:require("./RotateTo"),Zoom:require("./Zoom")};
},{"./Fade":"yaGh","./Flash":"L7A3","./Pan":"Ldis","./Shake":"kBBA","./RotateTo":"XMaa","./Zoom":"fHjP"}],"jlgm":[function(require,module,exports) {
var r=function(r,e,n){return(e-r)*n+r};module.exports=r;
},{}],"k5El":[function(require,module,exports) {
var t=require("./BaseCamera"),e=require("../../display/canvas/CanvasPool"),i=require("../../geom/rectangle/CenterOn"),s=require("../../math/Clamp"),h=require("../../utils/Class"),r=require("../../gameobjects/components"),n=require("./effects"),o=require("../../math/Linear"),l=require("../../geom/rectangle/Rectangle"),f=require("../../math/Vector2"),a=new h({Extends:t,Mixins:[r.Flip,r.Tint],initialize:function(e,i,s,h){t.call(this,e,i,s,h),this.inputEnabled=!0,this.fadeEffect=new n.Fade(this),this.flashEffect=new n.Flash(this),this.shakeEffect=new n.Shake(this),this.panEffect=new n.Pan(this),this.rotateToEffect=new n.RotateTo(this),this.zoomEffect=new n.Zoom(this),this.lerp=new f(1,1),this.followOffset=new f,this.deadzone=null,this._follow=null,this.renderToTexture=!1,this.renderToGame=!0,this.canvas=null,this.context=null,this.glTexture=null,this.framebuffer=null,this.pipeline=null},setRenderToTexture:function(t,i){void 0===i&&(i=!0);var s=this.scene.sys.game.renderer;return s.gl?(this.glTexture=s.createTextureFromSource(null,this.width,this.height,0),this.framebuffer=s.createFramebuffer(this.width,this.height,this.glTexture,!1)):(this.canvas=e.create2D(this,this.width,this.height),this.context=this.canvas.getContext("2d")),this.renderToTexture=!0,this.renderToGame=i,t&&this.setPipeline(t),this},setPipeline:function(t){if("string"==typeof t){var e=this.scene.sys.game.renderer;e.gl&&e.hasPipeline(t)&&(this.pipeline=e.getPipeline(t))}else this.pipeline=t;return this},clearRenderToTexture:function(){if(this.scene){var t=this.scene.sys.game.renderer;if(t)return t.gl?(this.framebuffer&&t.deleteFramebuffer(this.framebuffer),this.glTexture&&t.deleteTexture(this.glTexture),this.framebuffer=null,this.glTexture=null,this.pipeline=null):(e.remove(this),this.canvas=null,this.context=null),this.renderToTexture=!1,this}},setDeadzone:function(t,e){if(void 0===t)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=t,this.deadzone.height=e):this.deadzone=new l(0,0,t,e),this._follow){var s=this.width/2,h=this.height/2,r=this._follow.x-this.followOffset.x,n=this._follow.y-this.followOffset.y;this.midPoint.set(r,n),this.scrollX=r-s,this.scrollY=n-h}i(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(t,e,i,s,h,r){return this.fadeEffect.start(!1,t,e,i,s,!0,h,r)},fadeOut:function(t,e,i,s,h,r){return this.fadeEffect.start(!0,t,e,i,s,!0,h,r)},fadeFrom:function(t,e,i,s,h,r,n){return this.fadeEffect.start(!1,t,e,i,s,h,r,n)},fade:function(t,e,i,s,h,r,n){return this.fadeEffect.start(!0,t,e,i,s,h,r,n)},flash:function(t,e,i,s,h,r,n){return this.flashEffect.start(t,e,i,s,h,r,n)},shake:function(t,e,i,s,h){return this.shakeEffect.start(t,e,i,s,h)},pan:function(t,e,i,s,h,r,n){return this.panEffect.start(t,e,i,s,h,r,n)},rotateTo:function(t,e,i,s,h,r,n){return this.rotateToEffect.start(t,e,i,s,h,r,n)},zoomTo:function(t,e,i,s,h,r){return this.zoomEffect.start(t,e,i,s,h,r)},preRender:function(t){var e=this.width,s=this.height,h=.5*e,r=.5*s,n=this.zoom*t,l=this.matrix,f=e*this.originX,a=s*this.originY,u=this._follow,c=this.deadzone,d=this.scrollX,p=this.scrollY;if(c&&i(c,this.midPoint.x,this.midPoint.y),u&&!this.panEffect.isRunning){var m=u.x-this.followOffset.x,w=u.y-this.followOffset.y;c?(m<c.x?d=o(d,d-(c.x-m),this.lerp.x):m>c.right&&(d=o(d,d+(m-c.right),this.lerp.x)),w<c.y?p=o(p,p-(c.y-w),this.lerp.y):w>c.bottom&&(p=o(p,p+(w-c.bottom),this.lerp.y))):(d=o(d,m-f,this.lerp.x),p=o(p,w-a,this.lerp.y))}this.useBounds&&(d=this.clampX(d),p=this.clampY(p)),this.roundPixels&&(f=Math.round(f),a=Math.round(a)),this.scrollX=d,this.scrollY=p;var x=d+h,g=p+r;this.midPoint.set(x,g);var T=e/n,E=s/n;this.worldView.setTo(x-T/2,g-E/2,T,E),l.applyITRS(this.x+f,this.y+a,this.rotation,n,n),l.translate(-f,-a),this.shakeEffect.preRender()},setLerp:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=t),this.lerp.set(t,e),this},setFollowOffset:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.followOffset.set(t,e),this},startFollow:function(t,e,i,h,r,n){void 0===e&&(e=!1),void 0===i&&(i=1),void 0===h&&(h=i),void 0===r&&(r=0),void 0===n&&(n=r),this._follow=t,this.roundPixels=e,i=s(i,0,1),h=s(h,0,1),this.lerp.set(i,h),this.followOffset.set(r,n);var o=this.width/2,l=this.height/2,f=t.x-r,a=t.y-n;return this.midPoint.set(f,a),this.scrollX=f-o,this.scrollY=a-l,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(t,e){this.visible&&(this.rotateToEffect.update(t,e),this.panEffect.update(t,e),this.zoomEffect.update(t,e),this.shakeEffect.update(t,e),this.flashEffect.update(t,e),this.fadeEffect.update(t,e))},destroy:function(){this.clearRenderToTexture(),this.resetFX(),t.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});module.exports=a;
},{"./BaseCamera":"cnbb","../../display/canvas/CanvasPool":"J9p3","../../geom/rectangle/CenterOn":"IU3l","../../math/Clamp":"eCA1","../../utils/Class":"JASv","../../gameobjects/components":"VjLH","./effects":"DS3c","../../math/Linear":"jlgm","../../geom/rectangle/Rectangle":"wYVB","../../math/Vector2":"qKN5"}],"ZrqD":[function(require,module,exports) {
var n={},t={},e={register:function(t,e,r,o){void 0===o&&(o=!1),n[t]={plugin:e,mapping:r,custom:o}},registerCustom:function(n,e,r,o){t[n]={plugin:e,mapping:r,data:o}},hasCore:function(t){return n.hasOwnProperty(t)},hasCustom:function(n){return t.hasOwnProperty(n)},getCore:function(t){return n[t]},getCustom:function(n){return t[n]},getCustomClass:function(n){return t.hasOwnProperty(n)?t[n].plugin:null},remove:function(t){n.hasOwnProperty(t)&&delete n[t]},removeCustom:function(n){t.hasOwnProperty(n)&&delete t[n]},destroyCorePlugins:function(){for(var t in n)n.hasOwnProperty(t)&&delete n[t]},destroyCustomPlugins:function(){for(var n in t)t.hasOwnProperty(n)&&delete t[n]}};module.exports=e;
},{}],"y3le":[function(require,module,exports) {
module.exports="enterfullscreen";
},{}],"L3FY":[function(require,module,exports) {
module.exports="fullscreenfailed";
},{}],"gZMW":[function(require,module,exports) {
module.exports="fullscreenunsupported";
},{}],"W3kM":[function(require,module,exports) {
module.exports="leavefullscreen";
},{}],"KZl6":[function(require,module,exports) {
module.exports="orientationchange";
},{}],"Thhb":[function(require,module,exports) {
module.exports="resize";
},{}],"A24E":[function(require,module,exports) {
module.exports={ENTER_FULLSCREEN:require("./ENTER_FULLSCREEN_EVENT"),FULLSCREEN_FAILED:require("./FULLSCREEN_FAILED_EVENT"),FULLSCREEN_UNSUPPORTED:require("./FULLSCREEN_UNSUPPORTED_EVENT"),LEAVE_FULLSCREEN:require("./LEAVE_FULLSCREEN_EVENT"),ORIENTATION_CHANGE:require("./ORIENTATION_CHANGE_EVENT"),RESIZE:require("./RESIZE_EVENT")};
},{"./ENTER_FULLSCREEN_EVENT":"y3le","./FULLSCREEN_FAILED_EVENT":"L3FY","./FULLSCREEN_UNSUPPORTED_EVENT":"gZMW","./LEAVE_FULLSCREEN_EVENT":"W3kM","./ORIENTATION_CHANGE_EVENT":"KZl6","./RESIZE_EVENT":"Thhb"}],"JBYK":[function(require,module,exports) {
module.exports="create";
},{}],"ULbo":[function(require,module,exports) {
module.exports="postupdate";
},{}],"S42G":[function(require,module,exports) {
module.exports="preupdate";
},{}],"hb9F":[function(require,module,exports) {
module.exports="render";
},{}],"Fzq7":[function(require,module,exports) {
module.exports="shutdown";
},{}],"BpSv":[function(require,module,exports) {
module.exports="sleep";
},{}],"LNIL":[function(require,module,exports) {
module.exports="transitioncomplete";
},{}],"jTC6":[function(require,module,exports) {
module.exports="transitioninit";
},{}],"Z39W":[function(require,module,exports) {
module.exports="transitionout";
},{}],"cPfa":[function(require,module,exports) {
module.exports="transitionstart";
},{}],"IyEV":[function(require,module,exports) {
module.exports="transitionwake";
},{}],"CqoN":[function(require,module,exports) {
module.exports="update";
},{}],"vMjM":[function(require,module,exports) {
module.exports="wake";
},{}],"zvkO":[function(require,module,exports) {
module.exports={BOOT:require("./BOOT_EVENT"),CREATE:require("./CREATE_EVENT"),DESTROY:require("./DESTROY_EVENT"),PAUSE:require("./PAUSE_EVENT"),POST_UPDATE:require("./POST_UPDATE_EVENT"),PRE_UPDATE:require("./PRE_UPDATE_EVENT"),READY:require("./READY_EVENT"),RENDER:require("./RENDER_EVENT"),RESUME:require("./RESUME_EVENT"),SHUTDOWN:require("./SHUTDOWN_EVENT"),SLEEP:require("./SLEEP_EVENT"),START:require("./START_EVENT"),TRANSITION_COMPLETE:require("./TRANSITION_COMPLETE_EVENT"),TRANSITION_INIT:require("./TRANSITION_INIT_EVENT"),TRANSITION_OUT:require("./TRANSITION_OUT_EVENT"),TRANSITION_START:require("./TRANSITION_START_EVENT"),TRANSITION_WAKE:require("./TRANSITION_WAKE_EVENT"),UPDATE:require("./UPDATE_EVENT"),WAKE:require("./WAKE_EVENT")};
},{"./BOOT_EVENT":"iN1j","./CREATE_EVENT":"JBYK","./DESTROY_EVENT":"T9So","./PAUSE_EVENT":"XFXR","./POST_UPDATE_EVENT":"ULbo","./PRE_UPDATE_EVENT":"S42G","./READY_EVENT":"fMXk","./RENDER_EVENT":"hb9F","./RESUME_EVENT":"swsX","./SHUTDOWN_EVENT":"Fzq7","./SLEEP_EVENT":"BpSv","./START_EVENT":"xnJO","./TRANSITION_COMPLETE_EVENT":"LNIL","./TRANSITION_INIT_EVENT":"jTC6","./TRANSITION_OUT_EVENT":"Z39W","./TRANSITION_START_EVENT":"cPfa","./TRANSITION_WAKE_EVENT":"IyEV","./UPDATE_EVENT":"CqoN","./WAKE_EVENT":"vMjM"}],"Jfqi":[function(require,module,exports) {
var s=require("./Camera"),e=require("../../utils/Class"),t=require("../../utils/object/GetFastValue"),i=require("../../plugins/PluginCache"),r=require("../../geom/rectangle/Contains"),a=require("../../scale/events"),n=require("../../scene/events"),h=new e({initialize:function(s){this.scene=s,this.systems=s.sys,this.roundPixels=s.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,s.sys.events.once(n.BOOT,this.boot,this),s.sys.events.on(n.START,this.start,this)},boot:function(){var e=this.systems;e.settings.cameras?this.fromJSON(e.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new s(0,0,e.scale.width,e.scale.height).setScene(this.scene),e.game.scale.on(a.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0]}var e=this.systems.events;e.on(n.UPDATE,this.update,this),e.once(n.SHUTDOWN,this.shutdown,this)},add:function(e,t,i,r,a,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===r&&(r=this.scene.sys.scale.height),void 0===a&&(a=!1),void 0===n&&(n="");var h=new s(e,t,i,r);return h.setName(n),h.setScene(this.scene),h.setRoundPixels(this.roundPixels),h.id=this.getNextID(),this.cameras.push(h),a&&(this.main=h),h},addExisting:function(s,e){return void 0===e&&(e=!1),-1===this.cameras.indexOf(s)?(s.id=this.getNextID(),s.setRoundPixels(this.roundPixels),this.cameras.push(s),e&&(this.main=s),s):null},getNextID:function(){for(var s=this.cameras,e=1,t=0;t<32;t++){for(var i=!1,r=0;r<s.length;r++){var a=s[r];a&&a.id===e&&(i=!0)}if(!i)return e;e<<=1}return 0},getTotal:function(s){void 0===s&&(s=!1);for(var e=0,t=this.cameras,i=0;i<t.length;i++){var r=t[i];(!s||s&&r.visible)&&e++}return e},fromJSON:function(s){Array.isArray(s)||(s=[s]);for(var e=this.scene.sys.scale.width,i=this.scene.sys.scale.height,r=0;r<s.length;r++){var a=s[r],n=t(a,"x",0),h=t(a,"y",0),o=t(a,"width",e),c=t(a,"height",i),u=this.add(n,h,o,c);u.name=t(a,"name",""),u.zoom=t(a,"zoom",1),u.rotation=t(a,"rotation",0),u.scrollX=t(a,"scrollX",0),u.scrollY=t(a,"scrollY",0),u.roundPixels=t(a,"roundPixels",!1),u.visible=t(a,"visible",!0);var l=t(a,"backgroundColor",!1);l&&u.setBackgroundColor(l);var d=t(a,"bounds",null);if(d){var m=t(d,"x",0),v=t(d,"y",0),f=t(d,"width",e),g=t(d,"height",i);u.setBounds(m,v,f,g)}}return this},getCamera:function(s){for(var e=this.cameras,t=0;t<e.length;t++)if(e[t].name===s)return e[t];return null},getCamerasBelowPointer:function(s){for(var e=this.cameras,t=s.x,i=s.y,a=[],n=0;n<e.length;n++){var h=e[n];h.visible&&h.inputEnabled&&r(h,t,i)&&a.unshift(h)}return a},remove:function(s,e){void 0===e&&(e=!0),Array.isArray(s)||(s=[s]);for(var t=0,i=this.cameras,r=0;r<s.length;r++){var a=i.indexOf(s[r]);-1!==a&&(e&&i[a].destroy(),i.splice(a,1),t++)}return!this.main&&i[0]&&(this.main=i[0]),t},render:function(s,e,t){for(var i=this.scene,r=this.cameras,a=0;a<this.cameras.length;a++){var n=r[a];n.visible&&n.alpha>0&&(n.preRender(1),s.render(i,e,t,n))}},resetAll:function(){for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(s,e){for(var t=0;t<this.cameras.length;t++)this.cameras[t].update(s,e)},onResize:function(s,e,t,i,r,a){for(var n=0;n<this.cameras.length;n++){var h=this.cameras[n];0===h._x&&0===h._y&&h._width===r&&h._height===a&&h.setSize(e.width,e.height)}},resize:function(s,e){for(var t=0;t<this.cameras.length;t++)this.cameras[t].setSize(s,e)},shutdown:function(){this.main=void 0;for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();this.cameras=[];var e=this.systems.events;e.off(n.UPDATE,this.update,this),e.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(n.START,this.start,this),this.scene=null,this.systems=null}});i.register("CameraManager",h,"cameras"),module.exports=h;
},{"./Camera":"k5El","../../utils/Class":"JASv","../../utils/object/GetFastValue":"cEup","../../plugins/PluginCache":"ZrqD","../../geom/rectangle/Contains":"mjUt","../../scale/events":"A24E","../../scene/events":"zvkO"}],"tars":[function(require,module,exports) {
module.exports={Camera:require("./Camera"),BaseCamera:require("./BaseCamera"),CameraManager:require("./CameraManager"),Effects:require("./effects"),Events:require("./events")};
},{"./Camera":"k5El","./BaseCamera":"cnbb","./CameraManager":"Jfqi","./effects":"DS3c","./events":"nSiV"}],"icNy":[function(require,module,exports) {
module.exports={Controls:require("./controls"),Scene2D:require("./2d")};
},{"./controls":"epik","./2d":"tars"}],"yCDM":[function(require,module,exports) {
var process = require("process");
var e=require("process"),o={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function i(){var i=navigator.userAgent;/Windows/.test(i)?o.windows=!0:/Mac OS/.test(i)&&!/like Mac OS/.test(i)?o.macOS=!0:/Android/.test(i)?o.android=!0:/Linux/.test(i)?o.linux=!0:/iP[ao]d|iPhone/i.test(i)?(o.iOS=!0,navigator.appVersion.match(/OS (\d+)/),o.iOSVersion=parseInt(RegExp.$1,10),o.iPhone=-1!==i.toLowerCase().indexOf("iphone"),o.iPad=-1!==i.toLowerCase().indexOf("ipad")):/Kindle/.test(i)||/\bKF[A-Z][A-Z]+/.test(i)||/Silk.*Mobile Safari/.test(i)?o.kindle=!0:/CrOS/.test(i)&&(o.chromeOS=!0),(/Windows Phone/i.test(i)||/IEMobile/i.test(i))&&(o.android=!1,o.iOS=!1,o.macOS=!1,o.windows=!0,o.windowsPhone=!0);var n=/Silk/.test(i);return(o.windows||o.macOS||o.linux&&!n||o.chromeOS)&&(o.desktop=!0),(o.windowsPhone||/Windows NT/i.test(i)&&/Touch/i.test(i))&&(o.desktop=!1),navigator.standalone&&(o.webApp=!0),void 0!==window.cordova&&(o.cordova=!0),void 0!==e&&e.versions&&e.versions.node&&(o.node=!0),o.node&&"object"==typeof e.versions&&(o.nodeWebkit=!!e.versions["node-webkit"],o.electron=!!e.versions.electron),void 0!==window.ejecta&&(o.ejecta=!0),/Crosswalk/.test(i)&&(o.crosswalk=!0),o.pixelRatio=window.devicePixelRatio||1,o}module.exports=i();
},{"process":"pBGv"}],"fQ5S":[function(require,module,exports) {
var e=require("./OS"),r={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};function i(){var i=navigator.userAgent;return/Edge\/\d+/.test(i)?r.edge=!0:/Chrome\/(\d+)/.test(i)&&!e.windowsPhone?(r.chrome=!0,r.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(i)?(r.firefox=!0,r.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(i)&&e.iOS?r.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(i)?(r.ie=!0,r.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(i)?r.opera=!0:/Safari/.test(i)&&!e.windowsPhone?r.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(i)&&(r.ie=!0,r.trident=!0,r.tridentVersion=parseInt(RegExp.$1,10),r.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(i)&&(r.silk=!0),r}module.exports=i();
},{"./OS":"yCDM"}],"TWyt":[function(require,module,exports) {
var e=require("./OS"),t=require("./Browser"),i=require("../display/canvas/CanvasPool"),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function a(){var e=new ArrayBuffer(4),t=new Uint8Array(e),i=new Uint32Array(e);return t[0]=161,t[1]=178,t[2]=195,t[3]=212,3569595041===i[0]||2712847316!==i[0]&&null}function n(){r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch(o){r.localStorage=!1}r.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),r.fileSystem=!!window.requestFileSystem;var n=!1;return r.webGL=function(){if(window.WebGLRenderingContext)try{var e=i.createWebGL(this),t=e.getContext("webgl")||e.getContext("experimental-webgl"),r=i.create2D(this),a=r.getContext("2d").createImageData(1,1);return n=a.data instanceof Uint8ClampedArray,i.remove(e),i.remove(r),!!t}catch(o){return!1}return!1}(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,t.firefox&&t.firefoxVersion<21&&(r.getUserMedia=!1),!e.iOS&&(t.ie||t.firefox||t.chrome)&&(r.canvasBitBltShift=!0),(t.safari||t.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(r.littleEndian=a()),r.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==r.littleEndian&&n,r}module.exports=n();
},{"./OS":"yCDM","./Browser":"fQ5S","../display/canvas/CanvasPool":"J9p3"}],"vfaK":[function(require,module,exports) {
var e=require("./Browser"),n={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function o(){return("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(n.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(n.mspointer=!0),navigator.getGamepads&&(n.gamepads=!0),"onwheel"in window||e.ie&&"WheelEvent"in window?n.wheelEvent="wheel":"onmousewheel"in window?n.wheelEvent="mousewheel":e.firefox&&"MouseScrollEvent"in window&&(n.wheelEvent="DOMMouseScroll"),n}module.exports=o();
},{"./Browser":"fQ5S"}],"lxiE":[function(require,module,exports) {
var a=require("./Browser"),e={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function o(){e.audioData=!!window.Audio,e.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var o=document.createElement("audio"),c=!!o.canPlayType;try{if(c&&(o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(e.ogg=!0),(o.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||o.canPlayType("audio/opus;").replace(/^no$/,""))&&(e.opus=!0),o.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(e.mp3=!0),o.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(e.wav=!0),(o.canPlayType("audio/x-m4a;")||o.canPlayType("audio/aac;").replace(/^no$/,""))&&(e.m4a=!0),o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(e.webm=!0),""!==o.canPlayType('audio/mp4;codecs="ec-3"')))if(a.edge)e.dolby=!0;else if(a.safari&&a.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var d=parseInt(RegExp.$1,10),i=parseInt(RegExp.$2,10);(10===d&&i>=11||d>10)&&(e.dolby=!0)}}catch(n){}return e}module.exports=o();
},{"./Browser":"fQ5S"}],"kv3m":[function(require,module,exports) {
var e={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};function c(){var c=document.createElement("video"),a=!!c.canPlayType;try{a&&(c.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(e.ogg=!0),c.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(e.h264=!0,e.mp4=!0),c.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(e.webm=!0),c.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(e.vp9=!0),c.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(e.hls=!0))}catch(o){}return e}module.exports=c();
},{}],"oizS":[function(require,module,exports) {
var e={available:!1,cancel:"",keyboard:!1,request:""};function t(){var t,n="Fullscreen",l="FullScreen",r=["request"+n,"request"+l,"webkitRequest"+n,"webkitRequest"+l,"msRequest"+n,"msRequest"+l,"mozRequest"+l,"mozRequest"+n];for(t=0;t<r.length;t++)if(document.documentElement[r[t]]){e.available=!0,e.request=r[t];break}var u=["cancel"+l,"exit"+n,"webkitCancel"+l,"webkitExit"+n,"msCancel"+l,"msExit"+n,"mozCancel"+l,"mozExit"+n];if(e.available)for(t=0;t<u.length;t++)if(document[u[t]]){e.cancel=u[t];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(e.keyboard=!0),Object.defineProperty(e,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),e}module.exports=t();
},{}],"bbqJ":[function(require,module,exports) {
var a=require("../display/canvas/CanvasPool"),e={supportInverseAlpha:!1,supportNewBlendModes:!1};function t(){var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",r="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",A=new Image;return A.onload=function(){var n=new Image;n.onload=function(){var t=a.create(n,6,1).getContext("2d");if(t.globalCompositeOperation="multiply",t.drawImage(A,0,0),t.drawImage(n,2,0),!t.getImageData(2,0,1,1))return!1;var r=t.getImageData(2,0,1,1).data;a.remove(n),e.supportNewBlendModes=255===r[0]&&0===r[1]&&0===r[2]},n.src=t+"/wCKxvRF"+r},A.src=t+"AP804Oa6"+r,!1}function r(){var e=a.create(this,2,1).getContext("2d");e.fillStyle="rgba(10, 20, 30, 0.5)",e.fillRect(0,0,1,1);var t=e.getImageData(0,0,1,1);if(null===t)return!1;e.putImageData(t,1,0);var r=e.getImageData(1,0,1,1);return r.data[0]===t.data[0]&&r.data[1]===t.data[1]&&r.data[2]===t.data[2]&&r.data[3]===t.data[3]}function A(){return void 0!==document&&(e.supportNewBlendModes=t(),e.supportInverseAlpha=r()),e}module.exports=A();
},{"../display/canvas/CanvasPool":"J9p3"}],"n98o":[function(require,module,exports) {
module.exports={os:require("./OS"),browser:require("./Browser"),features:require("./Features"),input:require("./Input"),audio:require("./Audio"),video:require("./Video"),fullscreen:require("./Fullscreen"),canvasFeatures:require("./CanvasFeatures")};
},{"./OS":"yCDM","./Browser":"fQ5S","./Features":"TWyt","./Input":"vfaK","./Audio":"lxiE","./Video":"kv3m","./Fullscreen":"oizS","./CanvasFeatures":"bbqJ"}],"RPI7":[function(require,module,exports) {
var t=function(t,a,n,r){return Math.atan2(r-a,n-t)};module.exports=t;
},{}],"AwkV":[function(require,module,exports) {
var t=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)};module.exports=t;
},{}],"PBZV":[function(require,module,exports) {
var t=function(t,a){return Math.atan2(a.x-t.x,a.y-t.y)};module.exports=t;
},{}],"mOoO":[function(require,module,exports) {
var t=function(t,a,n,r){return Math.atan2(n-t,r-a)};module.exports=t;
},{}],"e60w":[function(require,module,exports) {
var r=require("../const"),t=function(t){return t>Math.PI&&(t-=r.PI2),Math.abs(((t+r.TAU)%r.PI2-r.PI2)%r.PI2)};module.exports=t;
},{"../const":"HC1y"}],"bNWx":[function(require,module,exports) {
var t=function(t){return(t%=2*Math.PI)>=0?t:t+2*Math.PI};module.exports=t;
},{}],"haSM":[function(require,module,exports) {
var r=function(r,n){return Math.random()*(n-r)+r};module.exports=r;
},{}],"Mz7u":[function(require,module,exports) {
var e=require("../FloatBetween"),t=function(){return e(-Math.PI,Math.PI)};module.exports=t;
},{"../FloatBetween":"haSM"}],"fu1S":[function(require,module,exports) {
var e=require("../FloatBetween"),r=function(){return e(-180,180)};module.exports=r;
},{"../FloatBetween":"haSM"}],"BU5R":[function(require,module,exports) {
var r=require("./Normalize"),e=function(e){return r(e+Math.PI)};module.exports=e;
},{"./Normalize":"bNWx"}],"VcIV":[function(require,module,exports) {
var a=require("../const"),t=function(t,r,e){return void 0===e&&(e=.05),t===r?t:(Math.abs(r-t)<=e||Math.abs(r-t)>=a.PI2-e?t=r:(Math.abs(r-t)>Math.PI&&(r<t?r+=a.PI2:r-=a.PI2),r>t?t+=e:r<t&&(t-=e)),t)};module.exports=t;
},{"../const":"HC1y"}],"e5HG":[function(require,module,exports) {
var r=function(r,o){var t=o-r;return 0===t?0:t-360*Math.floor((t- -180)/360)};module.exports=r;
},{}],"OskH":[function(require,module,exports) {
module.exports={Between:require("./Between"),BetweenPoints:require("./BetweenPoints"),BetweenPointsY:require("./BetweenPointsY"),BetweenY:require("./BetweenY"),CounterClockwise:require("./CounterClockwise"),Normalize:require("./Normalize"),Random:require("./Random"),RandomDegrees:require("./RandomDegrees"),Reverse:require("./Reverse"),RotateTo:require("./RotateTo"),ShortestBetween:require("./ShortestBetween"),Wrap:require("./Wrap"),WrapDegrees:require("./WrapDegrees")};
},{"./Between":"RPI7","./BetweenPoints":"AwkV","./BetweenPointsY":"PBZV","./BetweenY":"mOoO","./CounterClockwise":"e60w","./Normalize":"bNWx","./Random":"Mz7u","./RandomDegrees":"fu1S","./Reverse":"BU5R","./RotateTo":"VcIV","./ShortestBetween":"e5HG","./Wrap":"hYrI","./WrapDegrees":"NtQj"}],"o5Th":[function(require,module,exports) {
var r=function(r,t){var a=r.x-t.x,e=r.y-t.y;return Math.sqrt(a*a+e*e)};module.exports=r;
},{}],"OBCi":[function(require,module,exports) {
var r=function(r,e){var n=r.x-e.x,o=r.y-e.y;return n*n+o*o};module.exports=r;
},{}],"ii5p":[function(require,module,exports) {
var a=function(a,t,r,e){return Math.max(Math.abs(a-r),Math.abs(t-e))};module.exports=a;
},{}],"CDqT":[function(require,module,exports) {
var t=function(t,o,r,a,e){return void 0===e&&(e=2),Math.sqrt(Math.pow(r-t,e)+Math.pow(a-o,e))};module.exports=t;
},{}],"O4SG":[function(require,module,exports) {
var a=function(a,t,r,e){return Math.abs(a-r)+Math.abs(t-e)};module.exports=a;
},{}],"OAF7":[function(require,module,exports) {
var r=function(r,e,n,o){var t=r-n,u=e-o;return t*t+u*u};module.exports=r;
},{}],"X5vI":[function(require,module,exports) {
module.exports={Between:require("./DistanceBetween"),BetweenPoints:require("./DistanceBetweenPoints"),BetweenPointsSquared:require("./DistanceBetweenPointsSquared"),Chebyshev:require("./DistanceChebyshev"),Power:require("./DistancePower"),Snake:require("./DistanceSnake"),Squared:require("./DistanceSquared")};
},{"./DistanceBetween":"ovvS","./DistanceBetweenPoints":"o5Th","./DistanceBetweenPointsSquared":"OBCi","./DistanceChebyshev":"ii5p","./DistancePower":"CDqT","./DistanceSnake":"O4SG","./DistanceSquared":"OAF7"}],"ywWJ":[function(require,module,exports) {
module.exports={Back:require("./back"),Bounce:require("./bounce"),Circular:require("./circular"),Cubic:require("./cubic"),Elastic:require("./elastic"),Expo:require("./expo"),Linear:require("./linear"),Quadratic:require("./quadratic"),Quartic:require("./quartic"),Quintic:require("./quintic"),Sine:require("./sine"),Stepped:require("./stepped")};
},{"./back":"F4AP","./bounce":"cCrV","./circular":"ENYI","./cubic":"tneV","./elastic":"J0wD","./expo":"eVA3","./linear":"osry","./quadratic":"bsh8","./quartic":"DcML","./quintic":"d79z","./sine":"xCtq","./stepped":"XJeC"}],"R9Ot":[function(require,module,exports) {
var e=function(e,o){return void 0===o&&(o=1e-4),Math.ceil(e-o)};module.exports=e;
},{}],"C359":[function(require,module,exports) {
var o=function(o,r){return void 0===r&&(r=1e-4),Math.floor(o+r)};module.exports=o;
},{}],"UunE":[function(require,module,exports) {
var e=function(e,o,r){return void 0===r&&(r=1e-4),e>o-r};module.exports=e;
},{}],"wdSg":[function(require,module,exports) {
var e=function(e,o,r){return void 0===r&&(r=1e-4),e<o+r};module.exports=e;
},{}],"x2F2":[function(require,module,exports) {
module.exports={Ceil:require("./Ceil"),Equal:require("./Equal"),Floor:require("./Floor"),GreaterThan:require("./GreaterThan"),LessThan:require("./LessThan")};
},{"./Ceil":"R9Ot","./Equal":"mjnD","./Floor":"C359","./GreaterThan":"UunE","./LessThan":"wdSg"}],"NGK2":[function(require,module,exports) {
var r=function(r){if(0===r)return 1;for(var e=r;--r;)e*=r;return e};module.exports=r;
},{}],"CMpK":[function(require,module,exports) {
var r=require("./Factorial"),e=function(e,o){return r(e)/r(o)/r(e-o)};module.exports=e;
},{"./Factorial":"NGK2"}],"ZMFy":[function(require,module,exports) {
var r=require("../Bernstein"),e=function(e,t){for(var n=0,o=e.length-1,a=0;a<=o;a++)n+=Math.pow(1-t,o-a)*Math.pow(t,a)*e[a]*r(o,a);return n};module.exports=e;
},{"../Bernstein":"CMpK"}],"t86q":[function(require,module,exports) {
var r=function(r,e,n,o,t){var u=.5*(o-e),a=.5*(t-n),v=r*r;return(2*n-2*o+u+a)*(r*v)+(-3*n+3*o-2*u-a)*v+u*r+n};module.exports=r;
},{}],"iYNF":[function(require,module,exports) {
var r=require("../CatmullRom"),o=function(o,t){var e=o.length-1,l=e*t,a=Math.floor(l);return o[0]===o[e]?(t<0&&(a=Math.floor(l=e*(1+t))),r(l-a,o[(a-1+e)%e],o[a],o[(a+1)%e],o[(a+2)%e])):t<0?o[0]-(r(-l,o[0],o[0],o[1],o[1])-o[0]):t>1?o[e]-(r(l-e,o[e],o[e],o[e-1],o[e-1])-o[e]):r(l-a,o[a?a-1:0],o[a],o[e<a+1?e:a+1],o[e<a+2?e:a+2])};module.exports=o;
},{"../CatmullRom":"t86q"}],"n5uh":[function(require,module,exports) {
function n(n,r){var t=1-n;return t*t*t*r}function r(n,r){var t=1-n;return 3*t*t*n*r}function t(n,r){return 3*(1-n)*n*n*r}function u(n,r){return n*n*n*r}var e=function(e,o,c,f,i){return n(e,o)+r(e,c)+t(e,f)+u(e,i)};module.exports=e;
},{}],"HmTo":[function(require,module,exports) {
var r=require("../Linear"),e=function(e,n){var o=e.length-1,t=o*n,a=Math.floor(t);return n<0?r(e[0],e[1],t):n>1?r(e[o],e[o-1],o-t):r(e[a],e[a+1>o?o:a+1],t-a)};module.exports=e;
},{"../Linear":"jlgm"}],"jkAk":[function(require,module,exports) {
function n(n,r){var t=1-n;return t*t*r}function r(n,r){return 2*(1-n)*n*r}function t(n,r){return n*n*r}var u=function(u,e,o,c){return n(u,e)+r(u,o)+t(u,c)};module.exports=u;
},{}],"nt5E":[function(require,module,exports) {
var e=require("../SmoothStep"),r=function(r,o,t){return o+(t-o)*e(r,0,1)};module.exports=r;
},{"../SmoothStep":"Q10R"}],"tip6":[function(require,module,exports) {
var e=require("../SmootherStep"),r=function(r,o,t){return o+(t-o)*e(r,0,1)};module.exports=r;
},{"../SmootherStep":"mRwI"}],"OHzt":[function(require,module,exports) {
module.exports={Bezier:require("./BezierInterpolation"),CatmullRom:require("./CatmullRomInterpolation"),CubicBezier:require("./CubicBezierInterpolation"),Linear:require("./LinearInterpolation"),QuadraticBezier:require("./QuadraticBezierInterpolation"),SmoothStep:require("./SmoothStepInterpolation"),SmootherStep:require("./SmootherStepInterpolation")};
},{"./BezierInterpolation":"ZMFy","./CatmullRomInterpolation":"iYNF","./CubicBezierInterpolation":"n5uh","./LinearInterpolation":"HmTo","./QuadraticBezierInterpolation":"jkAk","./SmoothStepInterpolation":"nt5E","./SmootherStepInterpolation":"tip6"}],"AMmm":[function(require,module,exports) {
var r=function(r){var t=Math.log(r)/.6931471805599453;return 1<<Math.ceil(t)};module.exports=r;
},{}],"vq1z":[function(require,module,exports) {
var r=function(r,e){return r>0&&0==(r&r-1)&&e>0&&0==(e&e-1)};module.exports=r;
},{}],"zDvY":[function(require,module,exports) {
var r=function(r){return r>0&&0==(r&r-1)};module.exports=r;
},{}],"aTXq":[function(require,module,exports) {
module.exports={GetNext:require("./GetPowerOfTwo"),IsSize:require("./IsSizePowerOfTwo"),IsValue:require("./IsValuePowerOfTwo")};
},{"./GetPowerOfTwo":"AMmm","./IsSizePowerOfTwo":"vq1z","./IsValuePowerOfTwo":"zDvY"}],"XcEv":[function(require,module,exports) {
var e=function(e,o,r,t){return void 0===r&&(r=0),0===o?e:(e-=r,e=o*Math.ceil(e/o),t?(r+e)/o:r+e)};module.exports=e;
},{}],"hQtq":[function(require,module,exports) {
var o=function(o,r,t,e){return void 0===t&&(t=0),0===r?o:(o-=t,o=r*Math.floor(o/r),e?(t+o)/r:t+o)};module.exports=o;
},{}],"nlRR":[function(require,module,exports) {
var o=function(o,r,n,t){return void 0===n&&(n=0),0===r?o:(o-=n,o=r*Math.round(o/r),t?(n+o)/r:n+o)};module.exports=o;
},{}],"hZOV":[function(require,module,exports) {
module.exports={Ceil:require("./SnapCeil"),Floor:require("./SnapFloor"),To:require("./SnapTo")};
},{"./SnapCeil":"XcEv","./SnapFloor":"hQtq","./SnapTo":"nlRR"}],"ekdW":[function(require,module,exports) {
var t=require("../../utils/Class"),s=new t({initialize:function(t){void 0===t&&(t=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],t&&this.init(t)},rnd:function(){var t=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|t,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},hash:function(t){var s,i=this.n;t=t.toString();for(var n=0;n<t.length;n++)s=.02519603282416938*(i+=t.charCodeAt(n)),s-=i=s>>>0,i=(s*=i)>>>0,i+=4294967296*(s-=i);return this.n=i,2.3283064365386963e-10*(i>>>0)},init:function(t){"string"==typeof t?this.state(t):this.sow(t)},sow:function(t){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,t)for(var s=0;s<t.length&&null!=t[s];s++){var i=t[s];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+1.1102230246251565e-16*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(t,s){return Math.floor(this.realInRange(0,s-t+1)+t)},between:function(t,s){return Math.floor(this.realInRange(0,s-t+1)+t)},realInRange:function(t,s){return this.frac()*(s-t)+t},normal:function(){return 1-2*this.frac()},uuid:function(){var t="",s="";for(s=t="";t++<36;s+=~t%5|3*t&4?(15^t?8^this.frac()*(20^t?16:4):4).toString(16):"-");return s},pick:function(t){return t[this.integerInRange(0,t.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(t){return t[~~(Math.pow(this.frac(),2)*(t.length-1)+.5)]},timestamp:function(t,s){return this.realInRange(t||9466848e5,s||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(t){return"string"==typeof t&&t.match(/^!rnd/)&&(t=t.split(","),this.c=parseFloat(t[1]),this.s0=parseFloat(t[2]),this.s1=parseFloat(t[3]),this.s2=parseFloat(t[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(t){for(var s=t.length-1;s>0;s--){var i=Math.floor(this.frac()*(s+1)),n=t[i];t[i]=t[s],t[s]=n}return t}});module.exports=s;
},{"../../utils/Class":"JASv"}],"QFgQ":[function(require,module,exports) {
var r=function(r){for(var e=0,n=0;n<r.length;n++)e+=+r[n];return e/r.length};module.exports=r;
},{}],"SQE2":[function(require,module,exports) {
var o=function(o,r){return Math.floor(Math.random()*(r-o+1)+o)};module.exports=o;
},{}],"KXaJ":[function(require,module,exports) {
var o=function(o,r,t){void 0===r&&(r=0),void 0===t&&(t=10);var a=Math.pow(t,-r);return Math.ceil(o*a)/a};module.exports=o;
},{}],"NER2":[function(require,module,exports) {
var r=function(r,t){return Math.abs(r-t)};module.exports=r;
},{}],"aMXJ":[function(require,module,exports) {
var o=function(o,r,t){void 0===r&&(r=0),void 0===t&&(t=10);var a=Math.pow(t,-r);return Math.floor(o*a)/a};module.exports=o;
},{}],"hlNo":[function(require,module,exports) {
var e=function(e,r){return e/r/1e3};module.exports=e;
},{}],"a7Dg":[function(require,module,exports) {
var o=function(o){return o==parseFloat(o)?!(o%2):void 0};module.exports=o;
},{}],"zIaR":[function(require,module,exports) {
var o=function(o){return o===parseFloat(o)?!(o%2):void 0};module.exports=o;
},{}],"icQA":[function(require,module,exports) {
var n=function(n,r,t){return Math.min(n+r,t)};module.exports=n;
},{}],"RUWr":[function(require,module,exports) {
var r=function(r,t,a){return Math.max(r-t,a)};module.exports=r;
},{}],"R3mS":[function(require,module,exports) {
var o=function(o,r,v,d){void 0===v&&(v=r+1);var e=(o-r)/(v-r);return e>1?void 0!==d?(e=(d-o)/(d-v))<0&&(e=0):e=1:e<0&&(e=0),e};module.exports=o;
},{}],"vauQ":[function(require,module,exports) {
var r=require("./const"),e=function(e){return e*r.RAD_TO_DEG};module.exports=e;
},{"./const":"HC1y"}],"rwh1":[function(require,module,exports) {
var a=function(a,t){void 0===t&&(t=1);var o=2*Math.random()*Math.PI;return a.x=Math.cos(o)*t,a.y=Math.sin(o)*t,a};module.exports=a;
},{}],"foHQ":[function(require,module,exports) {
var a=function(a,t){void 0===t&&(t=1);var r=2*Math.random()*Math.PI,o=2*Math.random()-1,h=Math.sqrt(1-o*o)*t;return a.x=Math.cos(r)*h,a.y=Math.sin(r)*h,a.z=o*t,a};module.exports=a;
},{}],"wY1S":[function(require,module,exports) {
var a=function(a,o){return void 0===o&&(o=1),a.x=(2*Math.random()-1)*o,a.y=(2*Math.random()-1)*o,a.z=(2*Math.random()-1)*o,a.w=(2*Math.random()-1)*o,a};module.exports=a;
},{}],"nTmU":[function(require,module,exports) {
var t=function(t,a){var n=t.x,o=t.y;return t.x=n*Math.cos(a)-o*Math.sin(a),t.y=n*Math.sin(a)+o*Math.cos(a),t};module.exports=t;
},{}],"ucib":[function(require,module,exports) {
var o=function(o){return o>0?Math.ceil(o):Math.floor(o)};module.exports=o;
},{}],"Otse":[function(require,module,exports) {
var o=function(o,r,t){void 0===r&&(r=0),void 0===t&&(t=10);var a=Math.pow(t,-r);return Math.round(o*a)/a};module.exports=o;
},{}],"Ccy5":[function(require,module,exports) {
var o=function(o,r,i,n){void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=1),n*=Math.PI/o;for(var t=[],v=[],d=0;d<o;d++)r+=(i-=r*n)*n,t[d]=i,v[d]=r;return{sin:v,cos:t,length:o}};module.exports=o;
},{}],"XSWM":[function(require,module,exports) {
var r=require("./Vector2"),e=function(e,o,t,n){void 0===n&&(n=new r);var u=0,a=0;return e>0&&e<=o*t&&(u=e>o-1?e-(a=Math.floor(e/o))*o:e,n.set(u,a)),n};module.exports=e;
},{"./Vector2":"qKN5"}],"pLDR":[function(require,module,exports) {
var r=require("./Vector2"),e=function(e,o,t,n,a,i,u,c){void 0===c&&(c=new r);var s=Math.sin(a),v=Math.cos(a),d=v*i,h=s*i,x=-s*u,M=v*u,f=1/(d*M+x*-h);return c.x=M*f*e+-x*f*o+(n*x-t*M)*f,c.y=d*f*o+-h*f*e+(-n*d+t*h)*f,c};module.exports=e;
},{"./Vector2":"qKN5"}],"GwaO":[function(require,module,exports) {
var r=function(r,t,a){return Math.abs(r-t)<=a};module.exports=r;
},{}],"mpxL":[function(require,module,exports) {
var t=require("../utils/Class"),i=new t({initialize:function(t,i,s){this.x=0,this.y=0,this.z=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=i||0,this.z=s||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},clone:function(){return new i(this.x,this.y,this.z)},crossVectors:function(t,i){var s=t.x,h=t.y,n=t.z,r=i.x,e=i.y,u=i.z;return this.x=h*u-n*e,this.y=n*r-s*u,this.z=s*e-h*r,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this},set:function(t,i,s){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=i||0,this.z=s||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(t){var i=t.x-this.x,s=t.y-this.y,h=t.z-this.z||0;return Math.sqrt(i*i+s*s+h*h)},distanceSq:function(t){var i=t.x-this.x,s=t.y-this.y,h=t.z-this.z||0;return i*i+s*s+h*h},length:function(){var t=this.x,i=this.y,s=this.z;return Math.sqrt(t*t+i*i+s*s)},lengthSq:function(){var t=this.x,i=this.y,s=this.z;return t*t+i*i+s*s},normalize:function(){var t=this.x,i=this.y,s=this.z,h=t*t+i*i+s*s;return h>0&&(h=1/Math.sqrt(h),this.x=t*h,this.y=i*h,this.z=s*h),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},cross:function(t){var i=this.x,s=this.y,h=this.z,n=t.x,r=t.y,e=t.z;return this.x=s*e-h*r,this.y=h*n-i*e,this.z=i*r-s*n,this},lerp:function(t,i){void 0===i&&(i=0);var s=this.x,h=this.y,n=this.z;return this.x=s+i*(t.x-s),this.y=h+i*(t.y-h),this.z=n+i*(t.z-n),this},transformMat3:function(t){var i=this.x,s=this.y,h=this.z,n=t.val;return this.x=i*n[0]+s*n[3]+h*n[6],this.y=i*n[1]+s*n[4]+h*n[7],this.z=i*n[2]+s*n[5]+h*n[8],this},transformMat4:function(t){var i=this.x,s=this.y,h=this.z,n=t.val;return this.x=n[0]*i+n[4]*s+n[8]*h+n[12],this.y=n[1]*i+n[5]*s+n[9]*h+n[13],this.z=n[2]*i+n[6]*s+n[10]*h+n[14],this},transformCoordinates:function(t){var i=this.x,s=this.y,h=this.z,n=t.val,r=i*n[0]+s*n[4]+h*n[8]+n[12],e=i*n[1]+s*n[5]+h*n[9]+n[13],u=i*n[2]+s*n[6]+h*n[10]+n[14],y=i*n[3]+s*n[7]+h*n[11]+n[15];return this.x=r/y,this.y=e/y,this.z=u/y,this},transformQuat:function(t){var i=this.x,s=this.y,h=this.z,n=t.x,r=t.y,e=t.z,u=t.w,y=u*i+r*h-e*s,z=u*s+e*i-n*h,x=u*h+n*s-r*i,o=-n*i-r*s-e*h;return this.x=y*u+o*-n+z*-e-x*-r,this.y=z*u+o*-r+x*-n-y*-e,this.z=x*u+o*-e+y*-r-z*-n,this},project:function(t){var i=this.x,s=this.y,h=this.z,n=t.val,r=n[0],e=n[1],u=n[2],y=n[3],z=n[4],x=n[5],o=n[6],c=n[7],a=n[8],f=n[9],v=n[10],l=n[11],w=n[12],d=n[13],p=n[14],m=1/(i*y+s*c+h*l+n[15]);return this.x=(i*r+s*z+h*a+w)*m,this.y=(i*e+s*x+h*f+d)*m,this.z=(i*u+s*o+h*v+p)*m,this},unproject:function(t,i){var s=t.x,h=t.y,n=t.z,r=t.w,e=this.x-s,u=r-this.y-1-h,y=this.z;return this.x=2*e/n-1,this.y=2*u/r-1,this.z=2*y-1,this.project(i)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});i.ZERO=new i,i.RIGHT=new i(1,0,0),i.LEFT=new i(-1,0,0),i.UP=new i(0,-1,0),i.DOWN=new i(0,1,0),i.FORWARD=new i(0,0,1),i.BACK=new i(0,0,-1),i.ONE=new i(1,1,1),module.exports=i;
},{"../utils/Class":"JASv"}],"LgFg":[function(require,module,exports) {
var t=require("../utils/Class"),i=new t({initialize:function(t,i,s,h){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=i||0,this.z=s||0,this.w=h||0)},clone:function(){return new i(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this.w=t.w||0,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},set:function(t,i,s,h){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=i||0,this.z=s||0,this.w=h||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this.w+=t.w||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this.w-=t.w||0,this},scale:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},length:function(){var t=this.x,i=this.y,s=this.z,h=this.w;return Math.sqrt(t*t+i*i+s*s+h*h)},lengthSq:function(){var t=this.x,i=this.y,s=this.z,h=this.w;return t*t+i*i+s*s+h*h},normalize:function(){var t=this.x,i=this.y,s=this.z,h=this.w,n=t*t+i*i+s*s+h*h;return n>0&&(n=1/Math.sqrt(n),this.x=t*n,this.y=i*n,this.z=s*n,this.w=h*n),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,i){void 0===i&&(i=0);var s=this.x,h=this.y,n=this.z,r=this.w;return this.x=s+i*(t.x-s),this.y=h+i*(t.y-h),this.z=n+i*(t.z-n),this.w=r+i*(t.w-r),this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this.w*=t.w||1,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this.w/=t.w||1,this},distance:function(t){var i=t.x-this.x,s=t.y-this.y,h=t.z-this.z||0,n=t.w-this.w||0;return Math.sqrt(i*i+s*s+h*h+n*n)},distanceSq:function(t){var i=t.x-this.x,s=t.y-this.y,h=t.z-this.z||0,n=t.w-this.w||0;return i*i+s*s+h*h+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(t){var i=this.x,s=this.y,h=this.z,n=this.w,r=t.val;return this.x=r[0]*i+r[4]*s+r[8]*h+r[12]*n,this.y=r[1]*i+r[5]*s+r[9]*h+r[13]*n,this.z=r[2]*i+r[6]*s+r[10]*h+r[14]*n,this.w=r[3]*i+r[7]*s+r[11]*h+r[15]*n,this},transformQuat:function(t){var i=this.x,s=this.y,h=this.z,n=t.x,r=t.y,e=t.z,o=t.w,y=o*i+r*h-e*s,u=o*s+e*i-n*h,z=o*h+n*s-r*i,x=-n*i-r*s-e*h;return this.x=y*o+x*-n+u*-e-z*-r,this.y=u*o+x*-r+z*-n-y*-e,this.z=z*o+x*-e+y*-r-u*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});i.prototype.sub=i.prototype.subtract,i.prototype.mul=i.prototype.multiply,i.prototype.div=i.prototype.divide,i.prototype.dist=i.prototype.distance,i.prototype.distSq=i.prototype.distanceSq,i.prototype.len=i.prototype.length,i.prototype.lenSq=i.prototype.lengthSq,module.exports=i;
},{"../utils/Class":"JASv"}],"nDr2":[function(require,module,exports) {
var t=require("../utils/Class"),n=new t({initialize:function(t){this.val=new Float32Array(9),t?this.copy(t):this.identity()},clone:function(){return new n(this)},set:function(t){return this.copy(t)},copy:function(t){var n=this.val,i=t.val;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this},fromMat4:function(t){var n=t.val,i=this.val;return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[4],i[4]=n[5],i[5]=n[6],i[6]=n[8],i[7]=n[9],i[8]=n[10],this},fromArray:function(t){var n=this.val;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],this},identity:function(){var t=this.val;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,this},transpose:function(){var t=this.val,n=t[1],i=t[2],r=t[5];return t[1]=t[3],t[2]=t[6],t[3]=n,t[5]=t[7],t[6]=i,t[7]=r,this},invert:function(){var t=this.val,n=t[0],i=t[1],r=t[2],a=t[3],s=t[4],u=t[5],e=t[6],v=t[7],h=t[8],l=h*s-u*v,o=-h*a+u*e,c=v*a-s*e,f=n*l+i*o+r*c;return f?(f=1/f,t[0]=l*f,t[1]=(-h*i+r*v)*f,t[2]=(u*i-r*s)*f,t[3]=o*f,t[4]=(h*n-r*e)*f,t[5]=(-u*n+r*a)*f,t[6]=c*f,t[7]=(-v*n+i*e)*f,t[8]=(s*n-i*a)*f,this):null},adjoint:function(){var t=this.val,n=t[0],i=t[1],r=t[2],a=t[3],s=t[4],u=t[5],e=t[6],v=t[7],h=t[8];return t[0]=s*h-u*v,t[1]=r*v-i*h,t[2]=i*u-r*s,t[3]=u*e-a*h,t[4]=n*h-r*e,t[5]=r*a-n*u,t[6]=a*v-s*e,t[7]=i*e-n*v,t[8]=n*s-i*a,this},determinant:function(){var t=this.val,n=t[0],i=t[1],r=t[2],a=t[3],s=t[4],u=t[5],e=t[6],v=t[7],h=t[8];return n*(h*s-u*v)+i*(-h*a+u*e)+r*(v*a-s*e)},multiply:function(t){var n=this.val,i=n[0],r=n[1],a=n[2],s=n[3],u=n[4],e=n[5],v=n[6],h=n[7],l=n[8],o=t.val,c=o[0],f=o[1],y=o[2],m=o[3],p=o[4],d=o[5],w=o[6],x=o[7],M=o[8];return n[0]=c*i+f*s+y*v,n[1]=c*r+f*u+y*h,n[2]=c*a+f*e+y*l,n[3]=m*i+p*s+d*v,n[4]=m*r+p*u+d*h,n[5]=m*a+p*e+d*l,n[6]=w*i+x*s+M*v,n[7]=w*r+x*u+M*h,n[8]=w*a+x*e+M*l,this},translate:function(t){var n=this.val,i=t.x,r=t.y;return n[6]=i*n[0]+r*n[3]+n[6],n[7]=i*n[1]+r*n[4]+n[7],n[8]=i*n[2]+r*n[5]+n[8],this},rotate:function(t){var n=this.val,i=n[0],r=n[1],a=n[2],s=n[3],u=n[4],e=n[5],v=Math.sin(t),h=Math.cos(t);return n[0]=h*i+v*s,n[1]=h*r+v*u,n[2]=h*a+v*e,n[3]=h*s-v*i,n[4]=h*u-v*r,n[5]=h*e-v*a,this},scale:function(t){var n=this.val,i=t.x,r=t.y;return n[0]=i*n[0],n[1]=i*n[1],n[2]=i*n[2],n[3]=r*n[3],n[4]=r*n[4],n[5]=r*n[5],this},fromQuat:function(t){var n=t.x,i=t.y,r=t.z,a=t.w,s=n+n,u=i+i,e=r+r,v=n*s,h=n*u,l=n*e,o=i*u,c=i*e,f=r*e,y=a*s,m=a*u,p=a*e,d=this.val;return d[0]=1-(o+f),d[3]=h+p,d[6]=l-m,d[1]=h-p,d[4]=1-(v+f),d[7]=c+y,d[2]=l+m,d[5]=c-y,d[8]=1-(v+o),this},normalFromMat4:function(t){var n=t.val,i=this.val,r=n[0],a=n[1],s=n[2],u=n[3],e=n[4],v=n[5],h=n[6],l=n[7],o=n[8],c=n[9],f=n[10],y=n[11],m=n[12],p=n[13],d=n[14],w=n[15],x=r*v-a*e,M=r*h-s*e,z=r*l-u*e,A=a*h-s*v,F=a*l-u*v,j=s*l-u*h,q=o*p-c*m,C=o*d-f*m,Q=o*w-y*m,b=c*d-f*p,g=c*w-y*p,k=f*w-y*d,B=x*k-M*g+z*b+A*Q-F*C+j*q;return B?(B=1/B,i[0]=(v*k-h*g+l*b)*B,i[1]=(h*Q-e*k-l*C)*B,i[2]=(e*g-v*Q+l*q)*B,i[3]=(s*g-a*k-u*b)*B,i[4]=(r*k-s*Q+u*C)*B,i[5]=(a*Q-r*g-u*q)*B,i[6]=(p*j-d*F+w*A)*B,i[7]=(d*z-m*j-w*M)*B,i[8]=(m*F-p*z+w*x)*B,this):null}});module.exports=n;
},{"../utils/Class":"JASv"}],"COcU":[function(require,module,exports) {
var t=require("../utils/Class"),i=1e-6,r=new t({initialize:function(t){this.val=new Float32Array(16),t?this.copy(t):this.identity()},clone:function(){return new r(this)},set:function(t){return this.copy(t)},copy:function(t){var i=this.val,r=t.val;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],this},fromArray:function(t){var i=this.val;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],this},zero:function(){var t=this.val;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=0,this},xyz:function(t,i,r){this.identity();var a=this.val;return a[12]=t,a[13]=i,a[14]=r,this},scaling:function(t,i,r){this.zero();var a=this.val;return a[0]=t,a[5]=i,a[10]=r,a[15]=1,this},identity:function(){var t=this.val;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},transpose:function(){var t=this.val,i=t[1],r=t[2],a=t[3],n=t[6],s=t[7],h=t[11];return t[1]=t[4],t[2]=t[8],t[3]=t[12],t[4]=i,t[6]=t[9],t[7]=t[13],t[8]=r,t[9]=n,t[11]=t[14],t[12]=a,t[13]=s,t[14]=h,this},invert:function(){var t=this.val,i=t[0],r=t[1],a=t[2],n=t[3],s=t[4],h=t[5],o=t[6],u=t[7],l=t[8],e=t[9],v=t[10],c=t[11],f=t[12],y=t[13],M=t[14],z=t[15],x=i*h-r*s,m=i*o-a*s,p=i*u-n*s,d=r*o-a*h,w=r*u-n*h,L=a*u-n*o,A=l*y-e*f,q=l*M-v*f,b=l*z-c*f,R=e*M-v*y,X=e*z-c*y,Y=v*z-c*M,Z=x*Y-m*X+p*R+d*b-w*q+L*A;return Z?(Z=1/Z,t[0]=(h*Y-o*X+u*R)*Z,t[1]=(a*X-r*Y-n*R)*Z,t[2]=(y*L-M*w+z*d)*Z,t[3]=(v*w-e*L-c*d)*Z,t[4]=(o*b-s*Y-u*q)*Z,t[5]=(i*Y-a*b+n*q)*Z,t[6]=(M*p-f*L-z*m)*Z,t[7]=(l*L-v*p+c*m)*Z,t[8]=(s*X-h*b+u*A)*Z,t[9]=(r*b-i*X-n*A)*Z,t[10]=(f*w-y*p+z*x)*Z,t[11]=(e*p-l*w-c*x)*Z,t[12]=(h*q-s*R-o*A)*Z,t[13]=(i*R-r*q+a*A)*Z,t[14]=(y*m-f*d-M*x)*Z,t[15]=(l*d-e*m+v*x)*Z,this):null},adjoint:function(){var t=this.val,i=t[0],r=t[1],a=t[2],n=t[3],s=t[4],h=t[5],o=t[6],u=t[7],l=t[8],e=t[9],v=t[10],c=t[11],f=t[12],y=t[13],M=t[14],z=t[15];return t[0]=h*(v*z-c*M)-e*(o*z-u*M)+y*(o*c-u*v),t[1]=-(r*(v*z-c*M)-e*(a*z-n*M)+y*(a*c-n*v)),t[2]=r*(o*z-u*M)-h*(a*z-n*M)+y*(a*u-n*o),t[3]=-(r*(o*c-u*v)-h*(a*c-n*v)+e*(a*u-n*o)),t[4]=-(s*(v*z-c*M)-l*(o*z-u*M)+f*(o*c-u*v)),t[5]=i*(v*z-c*M)-l*(a*z-n*M)+f*(a*c-n*v),t[6]=-(i*(o*z-u*M)-s*(a*z-n*M)+f*(a*u-n*o)),t[7]=i*(o*c-u*v)-s*(a*c-n*v)+l*(a*u-n*o),t[8]=s*(e*z-c*y)-l*(h*z-u*y)+f*(h*c-u*e),t[9]=-(i*(e*z-c*y)-l*(r*z-n*y)+f*(r*c-n*e)),t[10]=i*(h*z-u*y)-s*(r*z-n*y)+f*(r*u-n*h),t[11]=-(i*(h*c-u*e)-s*(r*c-n*e)+l*(r*u-n*h)),t[12]=-(s*(e*M-v*y)-l*(h*M-o*y)+f*(h*v-o*e)),t[13]=i*(e*M-v*y)-l*(r*M-a*y)+f*(r*v-a*e),t[14]=-(i*(h*M-o*y)-s*(r*M-a*y)+f*(r*o-a*h)),t[15]=i*(h*v-o*e)-s*(r*v-a*e)+l*(r*o-a*h),this},determinant:function(){var t=this.val,i=t[0],r=t[1],a=t[2],n=t[3],s=t[4],h=t[5],o=t[6],u=t[7],l=t[8],e=t[9],v=t[10],c=t[11],f=t[12],y=t[13],M=t[14],z=t[15];return(i*h-r*s)*(v*z-c*M)-(i*o-a*s)*(e*z-c*y)+(i*u-n*s)*(e*M-v*y)+(r*o-a*h)*(l*z-c*f)-(r*u-n*h)*(l*M-v*f)+(a*u-n*o)*(l*y-e*f)},multiply:function(t){var i=this.val,r=i[0],a=i[1],n=i[2],s=i[3],h=i[4],o=i[5],u=i[6],l=i[7],e=i[8],v=i[9],c=i[10],f=i[11],y=i[12],M=i[13],z=i[14],x=i[15],m=t.val,p=m[0],d=m[1],w=m[2],L=m[3];return i[0]=p*r+d*h+w*e+L*y,i[1]=p*a+d*o+w*v+L*M,i[2]=p*n+d*u+w*c+L*z,i[3]=p*s+d*l+w*f+L*x,p=m[4],d=m[5],w=m[6],L=m[7],i[4]=p*r+d*h+w*e+L*y,i[5]=p*a+d*o+w*v+L*M,i[6]=p*n+d*u+w*c+L*z,i[7]=p*s+d*l+w*f+L*x,p=m[8],d=m[9],w=m[10],L=m[11],i[8]=p*r+d*h+w*e+L*y,i[9]=p*a+d*o+w*v+L*M,i[10]=p*n+d*u+w*c+L*z,i[11]=p*s+d*l+w*f+L*x,p=m[12],d=m[13],w=m[14],L=m[15],i[12]=p*r+d*h+w*e+L*y,i[13]=p*a+d*o+w*v+L*M,i[14]=p*n+d*u+w*c+L*z,i[15]=p*s+d*l+w*f+L*x,this},multiplyLocal:function(t){var i=[],r=this.val,a=t.val;return i[0]=r[0]*a[0]+r[1]*a[4]+r[2]*a[8]+r[3]*a[12],i[1]=r[0]*a[1]+r[1]*a[5]+r[2]*a[9]+r[3]*a[13],i[2]=r[0]*a[2]+r[1]*a[6]+r[2]*a[10]+r[3]*a[14],i[3]=r[0]*a[3]+r[1]*a[7]+r[2]*a[11]+r[3]*a[15],i[4]=r[4]*a[0]+r[5]*a[4]+r[6]*a[8]+r[7]*a[12],i[5]=r[4]*a[1]+r[5]*a[5]+r[6]*a[9]+r[7]*a[13],i[6]=r[4]*a[2]+r[5]*a[6]+r[6]*a[10]+r[7]*a[14],i[7]=r[4]*a[3]+r[5]*a[7]+r[6]*a[11]+r[7]*a[15],i[8]=r[8]*a[0]+r[9]*a[4]+r[10]*a[8]+r[11]*a[12],i[9]=r[8]*a[1]+r[9]*a[5]+r[10]*a[9]+r[11]*a[13],i[10]=r[8]*a[2]+r[9]*a[6]+r[10]*a[10]+r[11]*a[14],i[11]=r[8]*a[3]+r[9]*a[7]+r[10]*a[11]+r[11]*a[15],i[12]=r[12]*a[0]+r[13]*a[4]+r[14]*a[8]+r[15]*a[12],i[13]=r[12]*a[1]+r[13]*a[5]+r[14]*a[9]+r[15]*a[13],i[14]=r[12]*a[2]+r[13]*a[6]+r[14]*a[10]+r[15]*a[14],i[15]=r[12]*a[3]+r[13]*a[7]+r[14]*a[11]+r[15]*a[15],this.fromArray(i)},translate:function(t){var i=t.x,r=t.y,a=t.z,n=this.val;return n[12]=n[0]*i+n[4]*r+n[8]*a+n[12],n[13]=n[1]*i+n[5]*r+n[9]*a+n[13],n[14]=n[2]*i+n[6]*r+n[10]*a+n[14],n[15]=n[3]*i+n[7]*r+n[11]*a+n[15],this},translateXYZ:function(t,i,r){var a=this.val;return a[12]=a[0]*t+a[4]*i+a[8]*r+a[12],a[13]=a[1]*t+a[5]*i+a[9]*r+a[13],a[14]=a[2]*t+a[6]*i+a[10]*r+a[14],a[15]=a[3]*t+a[7]*i+a[11]*r+a[15],this},scale:function(t){var i=t.x,r=t.y,a=t.z,n=this.val;return n[0]=n[0]*i,n[1]=n[1]*i,n[2]=n[2]*i,n[3]=n[3]*i,n[4]=n[4]*r,n[5]=n[5]*r,n[6]=n[6]*r,n[7]=n[7]*r,n[8]=n[8]*a,n[9]=n[9]*a,n[10]=n[10]*a,n[11]=n[11]*a,this},scaleXYZ:function(t,i,r){var a=this.val;return a[0]=a[0]*t,a[1]=a[1]*t,a[2]=a[2]*t,a[3]=a[3]*t,a[4]=a[4]*i,a[5]=a[5]*i,a[6]=a[6]*i,a[7]=a[7]*i,a[8]=a[8]*r,a[9]=a[9]*r,a[10]=a[10]*r,a[11]=a[11]*r,this},makeRotationAxis:function(t,i){var r=Math.cos(i),a=Math.sin(i),n=1-r,s=t.x,h=t.y,o=t.z,u=n*s,l=n*h;return this.fromArray([u*s+r,u*h-a*o,u*o+a*h,0,u*h+a*o,l*h+r,l*o-a*s,0,u*o-a*h,l*o+a*s,n*o*o+r,0,0,0,0,1]),this},rotate:function(t,r){var a=this.val,n=r.x,s=r.y,h=r.z,o=Math.sqrt(n*n+s*s+h*h);if(Math.abs(o)<i)return null;n*=o=1/o,s*=o,h*=o;var u=Math.sin(t),l=Math.cos(t),e=1-l,v=a[0],c=a[1],f=a[2],y=a[3],M=a[4],z=a[5],x=a[6],m=a[7],p=a[8],d=a[9],w=a[10],L=a[11],A=n*n*e+l,q=s*n*e+h*u,b=h*n*e-s*u,R=n*s*e-h*u,X=s*s*e+l,Y=h*s*e+n*u,Z=n*h*e+s*u,g=s*h*e-n*u,k=h*h*e+l;return a[0]=v*A+M*q+p*b,a[1]=c*A+z*q+d*b,a[2]=f*A+x*q+w*b,a[3]=y*A+m*q+L*b,a[4]=v*R+M*X+p*Y,a[5]=c*R+z*X+d*Y,a[6]=f*R+x*X+w*Y,a[7]=y*R+m*X+L*Y,a[8]=v*Z+M*g+p*k,a[9]=c*Z+z*g+d*k,a[10]=f*Z+x*g+w*k,a[11]=y*Z+m*g+L*k,this},rotateX:function(t){var i=this.val,r=Math.sin(t),a=Math.cos(t),n=i[4],s=i[5],h=i[6],o=i[7],u=i[8],l=i[9],e=i[10],v=i[11];return i[4]=n*a+u*r,i[5]=s*a+l*r,i[6]=h*a+e*r,i[7]=o*a+v*r,i[8]=u*a-n*r,i[9]=l*a-s*r,i[10]=e*a-h*r,i[11]=v*a-o*r,this},rotateY:function(t){var i=this.val,r=Math.sin(t),a=Math.cos(t),n=i[0],s=i[1],h=i[2],o=i[3],u=i[8],l=i[9],e=i[10],v=i[11];return i[0]=n*a-u*r,i[1]=s*a-l*r,i[2]=h*a-e*r,i[3]=o*a-v*r,i[8]=n*r+u*a,i[9]=s*r+l*a,i[10]=h*r+e*a,i[11]=o*r+v*a,this},rotateZ:function(t){var i=this.val,r=Math.sin(t),a=Math.cos(t),n=i[0],s=i[1],h=i[2],o=i[3],u=i[4],l=i[5],e=i[6],v=i[7];return i[0]=n*a+u*r,i[1]=s*a+l*r,i[2]=h*a+e*r,i[3]=o*a+v*r,i[4]=u*a-n*r,i[5]=l*a-s*r,i[6]=e*a-h*r,i[7]=v*a-o*r,this},fromRotationTranslation:function(t,i){var r=this.val,a=t.x,n=t.y,s=t.z,h=t.w,o=a+a,u=n+n,l=s+s,e=a*o,v=a*u,c=a*l,f=n*u,y=n*l,M=s*l,z=h*o,x=h*u,m=h*l;return r[0]=1-(f+M),r[1]=v+m,r[2]=c-x,r[3]=0,r[4]=v-m,r[5]=1-(e+M),r[6]=y+z,r[7]=0,r[8]=c+x,r[9]=y-z,r[10]=1-(e+f),r[11]=0,r[12]=i.x,r[13]=i.y,r[14]=i.z,r[15]=1,this},fromQuat:function(t){var i=this.val,r=t.x,a=t.y,n=t.z,s=t.w,h=r+r,o=a+a,u=n+n,l=r*h,e=r*o,v=r*u,c=a*o,f=a*u,y=n*u,M=s*h,z=s*o,x=s*u;return i[0]=1-(c+y),i[1]=e+x,i[2]=v-z,i[3]=0,i[4]=e-x,i[5]=1-(l+y),i[6]=f+M,i[7]=0,i[8]=v+z,i[9]=f-M,i[10]=1-(l+c),i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this},frustum:function(t,i,r,a,n,s){var h=this.val,o=1/(i-t),u=1/(a-r),l=1/(n-s);return h[0]=2*n*o,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=2*n*u,h[6]=0,h[7]=0,h[8]=(i+t)*o,h[9]=(a+r)*u,h[10]=(s+n)*l,h[11]=-1,h[12]=0,h[13]=0,h[14]=s*n*2*l,h[15]=0,this},perspective:function(t,i,r,a){var n=this.val,s=1/Math.tan(t/2),h=1/(r-a);return n[0]=s/i,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(a+r)*h,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*a*r*h,n[15]=0,this},perspectiveLH:function(t,i,r,a){var n=this.val;return n[0]=2*r/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2*r/i,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=-a/(r-a),n[11]=1,n[12]=0,n[13]=0,n[14]=r*a/(r-a),n[15]=0,this},ortho:function(t,i,r,a,n,s){var h=this.val,o=t-i,u=r-a,l=n-s;return o=0===o?o:1/o,u=0===u?u:1/u,l=0===l?l:1/l,h[0]=-2*o,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=-2*u,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=2*l,h[11]=0,h[12]=(t+i)*o,h[13]=(a+r)*u,h[14]=(s+n)*l,h[15]=1,this},lookAt:function(t,r,a){var n=this.val,s=t.x,h=t.y,o=t.z,u=a.x,l=a.y,e=a.z,v=r.x,c=r.y,f=r.z;if(Math.abs(s-v)<i&&Math.abs(h-c)<i&&Math.abs(o-f)<i)return this.identity();var y=s-v,M=h-c,z=o-f,x=1/Math.sqrt(y*y+M*M+z*z),m=l*(z*=x)-e*(M*=x),p=e*(y*=x)-u*z,d=u*M-l*y;(x=Math.sqrt(m*m+p*p+d*d))?(m*=x=1/x,p*=x,d*=x):(m=0,p=0,d=0);var w=M*d-z*p,L=z*m-y*d,A=y*p-M*m;return(x=Math.sqrt(w*w+L*L+A*A))?(w*=x=1/x,L*=x,A*=x):(w=0,L=0,A=0),n[0]=m,n[1]=w,n[2]=y,n[3]=0,n[4]=p,n[5]=L,n[6]=M,n[7]=0,n[8]=d,n[9]=A,n[10]=z,n[11]=0,n[12]=-(m*s+p*h+d*o),n[13]=-(w*s+L*h+A*o),n[14]=-(y*s+M*h+z*o),n[15]=1,this},yawPitchRoll:function(t,i,r){this.zero(),a.zero(),n.zero();var s=this.val,h=a.val,o=n.val,u=Math.sin(r),l=Math.cos(r);return s[10]=1,s[15]=1,s[0]=l,s[1]=u,s[4]=-u,s[5]=l,u=Math.sin(i),l=Math.cos(i),h[0]=1,h[15]=1,h[5]=l,h[10]=l,h[9]=-u,h[6]=u,u=Math.sin(t),l=Math.cos(t),o[5]=1,o[15]=1,o[0]=l,o[2]=-u,o[8]=u,o[10]=l,this.multiplyLocal(a),this.multiplyLocal(n),this},setWorldMatrix:function(t,i,r,s,h){return this.yawPitchRoll(t.y,t.x,t.z),a.scaling(r.x,r.y,r.z),n.xyz(i.x,i.y,i.z),this.multiplyLocal(a),this.multiplyLocal(n),void 0!==s&&this.multiplyLocal(s),void 0!==h&&this.multiplyLocal(h),this}}),a=new r,n=new r;module.exports=r;
},{"../utils/Class":"JASv"}],"RIRY":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("./Vector3"),s=require("./Matrix3"),h=1e-6,r=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),e=new i(1,0,0),a=new i(0,1,0),y=new i,o=new s,x=new t({initialize:function(t,i,s,h){"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=i||0,this.z=s||0,this.w=h||0)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},set:function(t,i,s,h){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=i||0,this.z=s||0,this.w=h||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this},scale:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},length:function(){var t=this.x,i=this.y,s=this.z,h=this.w;return Math.sqrt(t*t+i*i+s*s+h*h)},lengthSq:function(){var t=this.x,i=this.y,s=this.z,h=this.w;return t*t+i*i+s*s+h*h},normalize:function(){var t=this.x,i=this.y,s=this.z,h=this.w,r=t*t+i*i+s*s+h*h;return r>0&&(r=1/Math.sqrt(r),this.x=t*r,this.y=i*r,this.z=s*r,this.w=h*r),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,i){void 0===i&&(i=0);var s=this.x,h=this.y,r=this.z,n=this.w;return this.x=s+i*(t.x-s),this.y=h+i*(t.y-h),this.z=r+i*(t.z-r),this.w=n+i*(t.w-n),this},rotationTo:function(t,i){var s=t.x*i.x+t.y*i.y+t.z*i.z;return s<-.999999?(y.copy(e).cross(t).length()<h&&y.copy(a).cross(t),y.normalize(),this.setAxisAngle(y,Math.PI)):s>.999999?(this.x=0,this.y=0,this.z=0,this.w=1,this):(y.copy(t).cross(i),this.x=y.x,this.y=y.y,this.z=y.z,this.w=1+s,this.normalize())},setAxes:function(t,i,s){var h=o.val;return h[0]=i.x,h[3]=i.y,h[6]=i.z,h[1]=s.x,h[4]=s.y,h[7]=s.z,h[2]=-t.x,h[5]=-t.y,h[8]=-t.z,this.fromMat3(o).normalize()},identity:function(){return this.x=0,this.y=0,this.z=0,this.w=1,this},setAxisAngle:function(t,i){i*=.5;var s=Math.sin(i);return this.x=s*t.x,this.y=s*t.y,this.z=s*t.z,this.w=Math.cos(i),this},multiply:function(t){var i=this.x,s=this.y,h=this.z,r=this.w,n=t.x,e=t.y,a=t.z,y=t.w;return this.x=i*y+r*n+s*a-h*e,this.y=s*y+r*e+h*n-i*a,this.z=h*y+r*a+i*e-s*n,this.w=r*y-i*n-s*e-h*a,this},slerp:function(t,i){var s=this.x,r=this.y,n=this.z,e=this.w,a=t.x,y=t.y,o=t.z,x=t.w,z=s*a+r*y+n*o+e*x;z<0&&(z=-z,a=-a,y=-y,o=-o,x=-x);var u=1-i,w=i;if(1-z>h){var c=Math.acos(z),f=Math.sin(c);u=Math.sin((1-i)*c)/f,w=Math.sin(i*c)/f}return this.x=u*s+w*a,this.y=u*r+w*y,this.z=u*n+w*o,this.w=u*e+w*x,this},invert:function(){var t=this.x,i=this.y,s=this.z,h=this.w,r=t*t+i*i+s*s+h*h,n=r?1/r:0;return this.x=-t*n,this.y=-i*n,this.z=-s*n,this.w=h*n,this},conjugate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},rotateX:function(t){t*=.5;var i=this.x,s=this.y,h=this.z,r=this.w,n=Math.sin(t),e=Math.cos(t);return this.x=i*e+r*n,this.y=s*e+h*n,this.z=h*e-s*n,this.w=r*e-i*n,this},rotateY:function(t){t*=.5;var i=this.x,s=this.y,h=this.z,r=this.w,n=Math.sin(t),e=Math.cos(t);return this.x=i*e-h*n,this.y=s*e+r*n,this.z=h*e+i*n,this.w=r*e-s*n,this},rotateZ:function(t){t*=.5;var i=this.x,s=this.y,h=this.z,r=this.w,n=Math.sin(t),e=Math.cos(t);return this.x=i*e+s*n,this.y=s*e-i*n,this.z=h*e+r*n,this.w=r*e-h*n,this},calculateW:function(){var t=this.x,i=this.y,s=this.z;return this.w=-Math.sqrt(1-t*t-i*i-s*s),this},fromMat3:function(t){var i,s=t.val,h=s[0]+s[4]+s[8];if(h>0)i=Math.sqrt(h+1),this.w=.5*i,i=.5/i,this.x=(s[7]-s[5])*i,this.y=(s[2]-s[6])*i,this.z=(s[3]-s[1])*i;else{var e=0;s[4]>s[0]&&(e=1),s[8]>s[3*e+e]&&(e=2);var a=r[e],y=r[a];i=Math.sqrt(s[3*e+e]-s[3*a+a]-s[3*y+y]+1),n[e]=.5*i,i=.5/i,n[a]=(s[3*a+e]+s[3*e+a])*i,n[y]=(s[3*y+e]+s[3*e+y])*i,this.x=n[0],this.y=n[1],this.z=n[2],this.w=(s[3*y+a]-s[3*a+y])*i}return this}});module.exports=x;
},{"../utils/Class":"JASv","./Vector3":"mpxL","./Matrix3":"nDr2"}],"A6Hg":[function(require,module,exports) {
var e=require("../math/Vector3"),r=require("../math/Matrix4"),t=require("../math/Quaternion"),n=new r,a=new t,o=new e,i=function(e,r,t){return a.setAxisAngle(r,t),n.fromRotationTranslation(a,o.set(0,0,0)),e.transformMat4(n)};module.exports=i;
},{"../math/Vector3":"mpxL","../math/Matrix4":"COcU","../math/Quaternion":"RIRY"}],"nIfb":[function(require,module,exports) {
var e=require("./const"),r=require("../utils/object/Extend"),i={Angle:require("./angle/"),Distance:require("./distance/"),Easing:require("./easing/"),Fuzzy:require("./fuzzy/"),Interpolation:require("./interpolation/"),Pow2:require("./pow2/"),Snap:require("./snap/"),RandomDataGenerator:require("./random-data-generator/RandomDataGenerator"),Average:require("./Average"),Bernstein:require("./Bernstein"),Between:require("./Between"),CatmullRom:require("./CatmullRom"),CeilTo:require("./CeilTo"),Clamp:require("./Clamp"),DegToRad:require("./DegToRad"),Difference:require("./Difference"),Factorial:require("./Factorial"),FloatBetween:require("./FloatBetween"),FloorTo:require("./FloorTo"),FromPercent:require("./FromPercent"),GetSpeed:require("./GetSpeed"),IsEven:require("./IsEven"),IsEvenStrict:require("./IsEvenStrict"),Linear:require("./Linear"),MaxAdd:require("./MaxAdd"),MinSub:require("./MinSub"),Percent:require("./Percent"),RadToDeg:require("./RadToDeg"),RandomXY:require("./RandomXY"),RandomXYZ:require("./RandomXYZ"),RandomXYZW:require("./RandomXYZW"),Rotate:require("./Rotate"),RotateAround:require("./RotateAround"),RotateAroundDistance:require("./RotateAroundDistance"),RoundAwayFromZero:require("./RoundAwayFromZero"),RoundTo:require("./RoundTo"),SinCosTableGenerator:require("./SinCosTableGenerator"),SmootherStep:require("./SmootherStep"),SmoothStep:require("./SmoothStep"),ToXY:require("./ToXY"),TransformXY:require("./TransformXY"),Within:require("./Within"),Wrap:require("./Wrap"),Vector2:require("./Vector2"),Vector3:require("./Vector3"),Vector4:require("./Vector4"),Matrix3:require("./Matrix3"),Matrix4:require("./Matrix4"),Quaternion:require("./Quaternion"),RotateVec3:require("./RotateVec3")};i=r(!1,i,e),module.exports=i;
},{"./const":"HC1y","../utils/object/Extend":"SFmW","./angle/":"OskH","./distance/":"X5vI","./easing/":"ywWJ","./fuzzy/":"x2F2","./interpolation/":"OHzt","./pow2/":"aTXq","./snap/":"hZOV","./random-data-generator/RandomDataGenerator":"ekdW","./Average":"QFgQ","./Bernstein":"CMpK","./Between":"SQE2","./CatmullRom":"t86q","./CeilTo":"KXaJ","./Clamp":"eCA1","./DegToRad":"VYZO","./Difference":"NER2","./Factorial":"NGK2","./FloatBetween":"haSM","./FloorTo":"aMXJ","./FromPercent":"YRnl","./GetSpeed":"hlNo","./IsEven":"a7Dg","./IsEvenStrict":"zIaR","./Linear":"jlgm","./MaxAdd":"icQA","./MinSub":"RUWr","./Percent":"R3mS","./RadToDeg":"vauQ","./RandomXY":"rwh1","./RandomXYZ":"foHQ","./RandomXYZW":"wY1S","./Rotate":"nTmU","./RotateAround":"fCbb","./RotateAroundDistance":"mg12","./RoundAwayFromZero":"ucib","./RoundTo":"Otse","./SinCosTableGenerator":"Ccy5","./SmootherStep":"mRwI","./SmoothStep":"Q10R","./ToXY":"XSWM","./TransformXY":"pLDR","./Within":"GwaO","./Wrap":"wXAg","./Vector2":"qKN5","./Vector3":"mpxL","./Vector4":"LgFg","./Matrix3":"nDr2","./Matrix4":"COcU","./Quaternion":"RIRY","./RotateVec3":"A6Hg"}],"CApx":[function(require,module,exports) {
var e={Global:["game","anims","cache","plugins","registry","scale","sound","textures"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};e.DefaultScene.push("CameraManager3D"),e.Global.push("facebook"),module.exports=e;
},{}],"coGi":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("../const"),i=require("../device"),s=require("../utils/object/GetFastValue"),a=require("../utils/object/GetValue"),n=require("../utils/object/IsPlainObject"),r=require("../math/"),h=require("../utils/NOOP"),o=require("../plugins/DefaultPlugins"),l=require("../display/color/ValueToColor"),u=new t({initialize:function(t){void 0===t&&(t={});this.width=a(t,"width",1024),this.height=a(t,"height",768),this.zoom=a(t,"zoom",1),this.resolution=a(t,"resolution",1),this.parent=a(t,"parent",void 0),this.scaleMode=a(t,"scaleMode",0),this.expandParent=a(t,"expandParent",!0),this.autoRound=a(t,"autoRound",!1),this.autoCenter=a(t,"autoCenter",0),this.resizeInterval=a(t,"resizeInterval",500),this.fullscreenTarget=a(t,"fullscreenTarget",null),this.minWidth=a(t,"minWidth",0),this.maxWidth=a(t,"maxWidth",0),this.minHeight=a(t,"minHeight",0),this.maxHeight=a(t,"maxHeight",0);var u=a(t,"scale",null);u&&(this.width=a(u,"width",this.width),this.height=a(u,"height",this.height),this.zoom=a(u,"zoom",this.zoom),this.resolution=a(u,"resolution",this.resolution),this.parent=a(u,"parent",this.parent),this.scaleMode=a(u,"mode",this.scaleMode),this.expandParent=a(u,"expandParent",this.expandParent),this.autoRound=a(u,"autoRound",this.autoRound),this.autoCenter=a(u,"autoCenter",this.autoCenter),this.resizeInterval=a(u,"resizeInterval",this.resizeInterval),this.fullscreenTarget=a(u,"fullscreenTarget",this.fullscreenTarget),this.minWidth=a(u,"min.width",this.minWidth),this.maxWidth=a(u,"max.width",this.maxWidth),this.minHeight=a(u,"min.height",this.minHeight),this.maxHeight=a(u,"max.height",this.maxHeight)),this.renderType=a(t,"type",e.AUTO),this.canvas=a(t,"canvas",null),this.context=a(t,"context",null),this.canvasStyle=a(t,"canvasStyle",null),this.customEnvironment=a(t,"customEnvironment",!1),this.sceneConfig=a(t,"scene",null),this.seed=a(t,"seed",[(Date.now()*Math.random()).toString()]),r.RND=new r.RandomDataGenerator(this.seed),this.gameTitle=a(t,"title",""),this.gameURL=a(t,"url","https://phaser.io"),this.gameVersion=a(t,"version",""),this.autoFocus=a(t,"autoFocus",!0),this.domCreateContainer=a(t,"dom.createContainer",!1),this.domBehindCanvas=a(t,"dom.behindCanvas",!1),this.inputKeyboard=a(t,"input.keyboard",!0),this.inputKeyboardEventTarget=a(t,"input.keyboard.target",window),this.inputKeyboardCapture=a(t,"input.keyboard.capture",[]),this.inputMouse=a(t,"input.mouse",!0),this.inputMouseEventTarget=a(t,"input.mouse.target",null),this.inputMouseCapture=a(t,"input.mouse.capture",!0),this.inputTouch=a(t,"input.touch",i.input.touch),this.inputTouchEventTarget=a(t,"input.touch.target",null),this.inputTouchCapture=a(t,"input.touch.capture",!0),this.inputActivePointers=a(t,"input.activePointers",1),this.inputSmoothFactor=a(t,"input.smoothFactor",0),this.inputWindowEvents=a(t,"input.windowEvents",!0),this.inputGamepad=a(t,"input.gamepad",!1),this.inputGamepadEventTarget=a(t,"input.gamepad.target",window),this.disableContextMenu=a(t,"disableContextMenu",!1),this.audio=a(t,"audio"),this.hideBanner=!1===a(t,"banner",null),this.hidePhaser=a(t,"banner.hidePhaser",!1),this.bannerTextColor=a(t,"banner.text","#ffffff"),this.bannerBackgroundColor=a(t,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=a(t,"fps",null);var d=a(t,"render",t);this.antialias=a(d,"antialias",!0),this.antialiasGL=a(d,"antialiasGL",!0),this.mipmapFilter=a(d,"mipmapFilter","LINEAR"),this.desynchronized=a(d,"desynchronized",!1),this.roundPixels=a(d,"roundPixels",!1),this.pixelArt=a(d,"pixelArt",1!==this.zoom),this.pixelArt&&(this.antialias=!1,this.roundPixels=!0),this.transparent=a(d,"transparent",!1),this.clearBeforeRender=a(d,"clearBeforeRender",!0),this.premultipliedAlpha=a(d,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=a(d,"failIfMajorPerformanceCaveat",!1),this.powerPreference=a(d,"powerPreference","default"),this.batchSize=a(d,"batchSize",2e3),this.maxLights=a(d,"maxLights",10);var p=a(t,"backgroundColor",0);this.backgroundColor=l(p),0===p&&this.transparent&&(this.backgroundColor.alpha=0),this.preBoot=a(t,"callbacks.preBoot",h),this.postBoot=a(t,"callbacks.postBoot",h),this.physics=a(t,"physics",{}),this.defaultPhysicsSystem=a(this.physics,"default",!1),this.loaderBaseURL=a(t,"loader.baseURL",""),this.loaderPath=a(t,"loader.path",""),this.loaderMaxParallelDownloads=a(t,"loader.maxParallelDownloads",32),this.loaderCrossOrigin=a(t,"loader.crossOrigin",void 0),this.loaderResponseType=a(t,"loader.responseType",""),this.loaderAsync=a(t,"loader.async",!0),this.loaderUser=a(t,"loader.user",""),this.loaderPassword=a(t,"loader.password",""),this.loaderTimeout=a(t,"loader.timeout",0),this.loaderWithCredentials=a(t,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var A=a(t,"plugins",null),c=o.DefaultScene;A&&(Array.isArray(A)?this.defaultPlugins=A:n(A)&&(this.installGlobalPlugins=s(A,"global",[]),this.installScenePlugins=s(A,"scene",[]),Array.isArray(A.default)?c=A.default:Array.isArray(A.defaultMerge)&&(c=c.concat(A.defaultMerge)))),this.defaultPlugins=c;var g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=a(t,"images.default",g+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=a(t,"images.missing",g+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),window&&(window.FORCE_WEBGL?this.renderType=e.WEBGL:window.FORCE_CANVAS&&(this.renderType=e.CANVAS))}});module.exports=u;
},{"../utils/Class":"JASv","../const":"BLd6","../device":"n98o","../utils/object/GetFastValue":"cEup","../utils/object/GetValue":"OqLI","../utils/object/IsPlainObject":"erhr","../math/":"nIfb","../utils/NOOP":"lZkB","../plugins/DefaultPlugins":"CApx","../display/color/ValueToColor":"pQCJ"}],"IIpR":[function(require,module,exports) {
var e={setCrisp:function(e){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach(function(t){e.style["image-rendering"]=t}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};module.exports=e;
},{}],"dhWQ":[function(require,module,exports) {
var e=require("../../display/canvas/CanvasPool"),a=require("../../display/color/Color"),t=require("../../utils/object/GetFastValue"),l=function(l,o){var n=t(o,"callback"),r=t(o,"type","image/png"),i=t(o,"encoder",.92),c=Math.abs(Math.round(t(o,"x",0))),u=Math.abs(Math.round(t(o,"y",0))),d=t(o,"width",l.width),h=t(o,"height",l.height);if(t(o,"getPixel",!1)){var s=l.getContext("2d").getImageData(c,u,1,1).data;n.call(null,new a(s[0],s[1],s[2],s[3]/255))}else if(0!==c||0!==u||d!==l.width||h!==l.height){var g=e.createWebGL(this,d,h);g.getContext("2d").drawImage(l,c,u,d,h,0,0,d,h);var v=new Image;v.onerror=function(){n.call(null),e.remove(g)},v.onload=function(){n.call(null,v),e.remove(g)},v.src=g.toDataURL(r,i)}else{var m=new Image;m.onerror=function(){n.call(null)},m.onload=function(){n.call(null,m)},m.src=l.toDataURL(r,i)}};module.exports=l;
},{"../../display/canvas/CanvasPool":"J9p3","../../display/color/Color":"oiID","../../utils/object/GetFastValue":"cEup"}],"UPGW":[function(require,module,exports) {
var e=require("../../BlendModes"),o=require("../../../device/CanvasFeatures"),r=function(){var r=[],t=o.supportNewBlendModes,i="source-over";return r[e.NORMAL]=i,r[e.ADD]="lighter",r[e.MULTIPLY]=t?"multiply":i,r[e.SCREEN]=t?"screen":i,r[e.OVERLAY]=t?"overlay":i,r[e.DARKEN]=t?"darken":i,r[e.LIGHTEN]=t?"lighten":i,r[e.COLOR_DODGE]=t?"color-dodge":i,r[e.COLOR_BURN]=t?"color-burn":i,r[e.HARD_LIGHT]=t?"hard-light":i,r[e.SOFT_LIGHT]=t?"soft-light":i,r[e.DIFFERENCE]=t?"difference":i,r[e.EXCLUSION]=t?"exclusion":i,r[e.HUE]=t?"hue":i,r[e.SATURATION]=t?"saturation":i,r[e.COLOR]=t?"color":i,r[e.LUMINOSITY]=t?"luminosity":i,r[e.ERASE]="destination-out",r[e.SOURCE_IN]="source-in",r[e.SOURCE_OUT]="source-out",r[e.SOURCE_ATOP]="source-atop",r[e.DESTINATION_OVER]="destination-over",r[e.DESTINATION_IN]="destination-in",r[e.DESTINATION_OUT]="destination-out",r[e.DESTINATION_ATOP]="destination-atop",r[e.LIGHTER]="lighter",r[e.COPY]="copy",r[e.XOR]="xor",r};module.exports=r;
},{"../../BlendModes":"PaIu","../../../device/CanvasFeatures":"bbqJ"}],"aHN6":[function(require,module,exports) {
var t=require("../snapshot/CanvasSnapshot"),e=require("../../cameras/2d/events"),a=require("../../utils/Class"),i=require("../../const"),s=require("./utils/GetBlendModes"),n=require("../../scale/events"),r=require("../../gameobjects/components/TransformMatrix"),o=new a({initialize:function(t){this.game=t,this.type=i.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.config={clearBeforeRender:t.config.clearBeforeRender,backgroundColor:t.config.backgroundColor,resolution:t.config.resolution,antialias:t.config.antialias,roundPixels:t.config.roundPixels},this.gameCanvas=t.canvas;var e={alpha:t.config.transparent,desynchronized:t.config.desynchronized};this.gameContext=this.game.config.context?this.game.config.context:this.gameCanvas.getContext("2d",e),this.currentContext=this.gameContext,this.antialias=t.config.antialias,this.blendModes=s(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new r,this._tempMatrix2=new r,this._tempMatrix3=new r,this._tempMatrix4=new r,this.init()},init:function(){this.game.scale.on(n.RESIZE,this.onResize,this);var t=this.game.scale.baseSize;this.resize(t.width,t.height)},onResize:function(t,e){e.width===this.width&&e.height===this.height||this.resize(e.width,e.height)},resize:function(t,e){this.width=t,this.height=e},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(t){return this.currentContext.globalCompositeOperation=t,this},setContext:function(t){return this.currentContext=t||this.gameContext,this},setAlpha:function(t){return this.currentContext.globalAlpha=t,this},preRender:function(){var t=this.gameContext,e=this.config,a=this.width,i=this.height;t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),e.clearBeforeRender&&t.clearRect(0,0,a,i),e.transparent||(t.fillStyle=e.backgroundColor.rgba,t.fillRect(0,0,a,i)),t.save(),this.drawCount=0},render:function(t,a,i,s){var n=a.list,r=n.length,o=s._cx,h=s._cy,l=s._cw,c=s._ch,p=s.renderToTexture?s.context:t.sys.context;p.save(),this.game.scene.customViewports&&(p.beginPath(),p.rect(o,h,l,c),p.clip()),this.currentContext=p;var g=s.mask;g&&g.preRenderCanvas(this,null,s._maskCamera),s.transparent||(p.fillStyle=s.backgroundColor.rgba,p.fillRect(o,h,l,c)),p.globalAlpha=s.alpha,p.globalCompositeOperation="source-over",this.drawCount+=n.length,s.renderToTexture&&s.emit(e.PRE_RENDER,s),s.matrix.copyToContext(p);for(var u=0;u<r;u++){var d=n[u];d.willRender(s)&&(d.mask&&d.mask.preRenderCanvas(this,d,s),d.renderCanvas(this,d,i,s),d.mask&&d.mask.postRenderCanvas(this,d,s))}p.setTransform(1,0,0,1,0,0),p.globalCompositeOperation="source-over",p.globalAlpha=1,s.flashEffect.postRenderCanvas(p),s.fadeEffect.postRenderCanvas(p),s.dirty=!1,g&&g.postRenderCanvas(this),p.restore(),s.renderToTexture&&(s.emit(e.POST_RENDER,s),s.renderToGame&&t.sys.context.drawImage(s.canvas,o,h))},postRender:function(){this.gameContext.restore();var e=this.snapshotState;e.callback&&(t(this.gameCanvas,e),e.callback=null)},snapshotCanvas:function(e,a,i,s,n,r,o,h,l){void 0===i&&(i=!1),this.snapshotArea(s,n,r,o,a,h,l);var c=this.snapshotState;return c.getPixel=i,t(this.canvas,c),c.callback=null,this},snapshot:function(t,e,a){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,t,e,a)},snapshotArea:function(t,e,a,i,s,n,r){var o=this.snapshotState;return o.callback=s,o.type=n,o.encoder=r,o.getPixel=!1,o.x=t,o.y=e,o.width=Math.min(a,this.gameCanvas.width),o.height=Math.min(i,this.gameCanvas.height),this},snapshotPixel:function(t,e,a){return this.snapshotArea(t,e,1,1,a),this.snapshotState.getPixel=!0,this},batchSprite:function(t,e,a,i){var s=a.alpha*t.alpha;if(0!==s){var n=this.currentContext,r=this._tempMatrix1,o=this._tempMatrix2,h=this._tempMatrix3,l=e.canvasData,c=l.x,p=l.y,g=e.cutWidth,u=e.cutHeight,d=e.customPivot,m=e.source.resolution,f=t.displayOriginX,x=t.displayOriginY,C=-f+e.x,v=-x+e.y;if(t.isCropped){var b=t._crop;b.flipX===t.flipX&&b.flipY===t.flipY||e.updateCropUVs(b,t.flipX,t.flipY),g=b.cw,u=b.ch,c=b.cx,p=b.cy,C=-f+b.x,v=-x+b.y,t.flipX&&(C>=0?C=-(C+g):C<0&&(C=Math.abs(C)-g)),t.flipY&&(v>=0?v=-(v+u):v<0&&(v=Math.abs(v)-u))}var y=1,w=1;t.flipX&&(d||(C+=-e.realWidth+2*f),y=-1),t.flipY&&(d||(v+=-e.realHeight+2*x),w=-1),o.applyITRS(t.x,t.y,t.rotation,t.scaleX*y,t.scaleY*w),r.copyFrom(a.matrix),i?(r.multiplyWithOffset(i,-a.scrollX*t.scrollFactorX,-a.scrollY*t.scrollFactorY),o.e=t.x,o.f=t.y,r.multiply(o,h)):(o.e-=a.scrollX*t.scrollFactorX,o.f-=a.scrollY*t.scrollFactorY,r.multiply(o,h)),n.save(),h.setToContext(n),n.globalCompositeOperation=this.blendModes[t.blendMode],n.globalAlpha=s,n.imageSmoothingEnabled=!(!this.antialias||e.source.scaleMode),n.drawImage(e.source.image,c,p,g,u,C,v,g/m,u/m),n.restore()}},destroy:function(){this.gameCanvas=null,this.gameContext=null,this.game=null}});module.exports=o;
},{"../snapshot/CanvasSnapshot":"dhWQ","../../cameras/2d/events":"nSiV","../../utils/Class":"JASv","../../const":"BLd6","./utils/GetBlendModes":"UPGW","../../scale/events":"A24E","../../gameobjects/components/TransformMatrix":"s0s4"}],"R1sC":[function(require,module,exports) {
var e=function(e,n){if(!(n>=e.length)){for(var r=e.length-1,t=e[n],l=n;l<r;l++)e[l]=e[l+1];return e.length=r,t}};module.exports=e;
},{}],"nODh":[function(require,module,exports) {
module.exports="addtexture";
},{}],"xG8c":[function(require,module,exports) {
module.exports="onerror";
},{}],"FCHb":[function(require,module,exports) {
module.exports="onload";
},{}],"ZvPH":[function(require,module,exports) {
module.exports="removetexture";
},{}],"Gfo3":[function(require,module,exports) {
module.exports={ADD:require("./ADD_EVENT"),ERROR:require("./ERROR_EVENT"),LOAD:require("./LOAD_EVENT"),READY:require("./READY_EVENT"),REMOVE:require("./REMOVE_EVENT")};
},{"./ADD_EVENT":"nODh","./ERROR_EVENT":"xG8c","./LOAD_EVENT":"FCHb","./READY_EVENT":"fMXk","./REMOVE_EVENT":"ZvPH"}],"ZkeT":[function(require,module,exports) {
module.exports={getTintFromFloats:function(t,n,e,o){return((255&(255*o|0))<<24|(255&(255*t|0))<<16|(255&(255*n|0))<<8|255&(255*e|0))>>>0},getTintAppendFloatAlpha:function(t,n){return((255&(255*n|0))<<24|t)>>>0},getTintAppendFloatAlphaAndSwap:function(t,n){return((255&(255*n|0))<<24|(255&(0|t))<<16|(255&(t>>8|0))<<8|255&(t>>16|0))>>>0},getFloatsFromUintRGB:function(t){return[(255&(t>>16|0))/255,(255&(t>>8|0))/255,(255&(0|t))/255]},getComponentCount:function(t,n){for(var e=0,o=0;o<t.length;++o){var r=t[o];r.type===n.FLOAT?e+=r.size:e+=1}return e}};
},{}],"AiRy":[function(require,module,exports) {
var e=require("../../display/canvas/CanvasPool"),a=require("../../display/color/Color"),r=require("../../utils/object/GetFastValue"),t=function(t,l){var i=t.getContext("experimental-webgl"),n=r(l,"callback"),o=r(l,"type","image/png"),u=r(l,"encoder",.92),f=r(l,"x",0),g=r(l,"y",0),c=r(l,"getPixel",!1),d=r(l,"isFramebuffer",!1),s=d?r(l,"bufferWidth",1):i.drawingBufferWidth,v=d?r(l,"bufferHeight",1):i.drawingBufferHeight;if(c){var m=new Uint8Array(4),h=d?g:v-g;i.readPixels(f,h,1,1,i.RGBA,i.UNSIGNED_BYTE,m),n.call(null,new a(m[0],m[1],m[2],m[3]/255))}else{var w=r(l,"width",s),x=r(l,"height",v),b=w*x*4,p=new Uint8Array(b);i.readPixels(f,v-g-x,w,x,i.RGBA,i.UNSIGNED_BYTE,p);for(var y=e.createWebGL(this,w,x),B=y.getContext("2d"),G=B.getImageData(0,0,w,x),D=G.data,I=0;I<x;I++)for(var U=0;U<w;U++){var A=4*((x-I)*w+U),C=d?b-4*(I*w+(w-U)):4*(I*w+U);D[C+0]=p[A+0],D[C+1]=p[A+1],D[C+2]=p[A+2],D[C+3]=p[A+3]}B.putImageData(G,0,0);var E=new Image;E.onerror=function(){n.call(null),e.remove(y)},E.onload=function(){n.call(null,E),e.remove(y)},E.src=y.toDataURL(o,u)}};module.exports=t;
},{"../../display/canvas/CanvasPool":"J9p3","../../display/color/Color":"oiID","../../utils/object/GetFastValue":"cEup"}],"h7jh":[function(require,module,exports) {
module.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join("\n");
},{}],"BwMh":[function(require,module,exports) {
module.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join("\n");
},{}],"Y7WV":[function(require,module,exports) {
var t=require("../../utils/Class"),e=require("./Utils"),r=new t({initialize:function(t){this.name="WebGLPipeline",this.game=t.game,this.view=t.game.canvas,this.resolution=1,this.width=0,this.height=0,this.gl=t.gl,this.vertexCount=0,this.vertexCapacity=t.vertexCapacity,this.renderer=t.renderer,this.vertexData=t.vertices?t.vertices:new ArrayBuffer(t.vertexCapacity*t.vertexSize),this.vertexBuffer=this.renderer.createVertexBuffer(t.vertices?t.vertices:this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=this.renderer.createProgram(t.vertShader,t.fragShader),this.attributes=t.attributes,this.vertexSize=t.vertexSize,this.topology=t.topology,this.bytes=new Uint8Array(this.vertexData),this.vertexComponentCount=e.getComponentCount(t.attributes,this.gl),this.flushLocked=!1,this.active=!1},boot:function(){},addAttribute:function(t,r,i,s,n){return this.attributes.push({name:t,size:r,type:this.renderer.glFormats[i],normalized:s,offset:n}),this.vertexComponentCount=e.getComponentCount(this.attributes,this.gl),this},shouldFlush:function(){return this.vertexCount>=this.vertexCapacity},resize:function(t,e,r){return this.width=t*r,this.height=e*r,this.resolution=r,this},bind:function(){var t=this.gl,e=this.vertexBuffer,r=this.attributes,i=this.program,s=this.renderer,n=this.vertexSize;s.setProgram(i),s.setVertexBuffer(e);for(var h=0;h<r.length;++h){var o=r[h],a=t.getAttribLocation(i,o.name);a>=0?(t.enableVertexAttribArray(a),t.vertexAttribPointer(a,o.size,o.type,o.normalized,n,o.offset)):-1!==a&&t.disableVertexAttribArray(a)}return this},onBind:function(){return this},onPreRender:function(){return this},onRender:function(){return this},onPostRender:function(){return this},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var t=this.gl,e=this.vertexCount,r=this.topology,i=this.vertexSize;if(0!==e)return t.bufferSubData(t.ARRAY_BUFFER,0,this.bytes.subarray(0,e*i)),t.drawArrays(r,0,e),this.vertexCount=0,this.flushLocked=!1,this;this.flushLocked=!1},destroy:function(){var t=this.gl;return t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),delete this.program,delete this.vertexBuffer,delete this.gl,this},setFloat1:function(t,e){return this.renderer.setFloat1(this.program,t,e),this},setFloat2:function(t,e,r){return this.renderer.setFloat2(this.program,t,e,r),this},setFloat3:function(t,e,r,i){return this.renderer.setFloat3(this.program,t,e,r,i),this},setFloat4:function(t,e,r,i,s){return this.renderer.setFloat4(this.program,t,e,r,i,s),this},setFloat1v:function(t,e){return this.renderer.setFloat1v(this.program,t,e),this},setFloat2v:function(t,e){return this.renderer.setFloat2v(this.program,t,e),this},setFloat3v:function(t,e){return this.renderer.setFloat3v(this.program,t,e),this},setFloat4v:function(t,e){return this.renderer.setFloat4v(this.program,t,e),this},setInt1:function(t,e){return this.renderer.setInt1(this.program,t,e),this},setInt2:function(t,e,r){return this.renderer.setInt2(this.program,t,e,r),this},setInt3:function(t,e,r,i){return this.renderer.setInt3(this.program,t,e,r,i),this},setInt4:function(t,e,r,i,s){return this.renderer.setInt4(this.program,t,e,r,i,s),this},setMatrix2:function(t,e,r){return this.renderer.setMatrix2(this.program,t,e,r),this},setMatrix3:function(t,e,r){return this.renderer.setMatrix3(this.program,t,e,r),this},setMatrix4:function(t,e,r){return this.renderer.setMatrix4(this.program,t,e,r),this}});module.exports=r;
},{"../../utils/Class":"JASv","./Utils":"ZkeT"}],"Vf9c":[function(require,module,exports) {
var e=require("../../../utils/Class"),r=require("../shaders/BitmapMask-frag.js"),t=require("../shaders/BitmapMask-vert.js"),a=require("../WebGLPipeline"),i=new e({Extends:a,initialize:function(e){a.call(this,{game:e.game,renderer:e.renderer,gl:e.renderer.gl,topology:e.topology?e.topology:e.renderer.gl.TRIANGLES,vertShader:e.vertShader?e.vertShader:t,fragShader:e.fragShader?e.fragShader:r,vertexCapacity:e.vertexCapacity?e.vertexCapacity:3,vertexSize:e.vertexSize?e.vertexSize:2*Float32Array.BYTES_PER_ELEMENT,vertices:new Float32Array([-1,1,-1,-7,7,1]).buffer,attributes:[{name:"inPosition",size:2,type:e.renderer.gl.FLOAT,normalized:!1,offset:0}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.maxQuads=1,this.resolutionDirty=!0},onBind:function(){a.prototype.onBind.call(this);var e=this.renderer,r=this.program;return this.resolutionDirty&&(e.setFloat2(r,"uResolution",this.width,this.height),e.setInt1(r,"uMainSampler",0),e.setInt1(r,"uMaskSampler",1),this.resolutionDirty=!1),this},resize:function(e,r,t){return a.prototype.resize.call(this,e,r,t),this.resolutionDirty=!0,this},beginMask:function(e,r,t){var a=this.renderer,i=this.gl;e.bitmapMask&&i&&(a.flush(),e.prevFramebuffer=a.currentFramebuffer,a.setFramebuffer(e.mainFramebuffer),i.disable(i.STENCIL_TEST),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),a.currentCameraMask.mask!==e&&(a.currentMask.mask=e,a.currentMask.camera=t))},endMask:function(e,r){var t=this.gl,a=this.renderer,i=e.bitmapMask;if(i&&t){a.flush(),a.setFramebuffer(e.maskFramebuffer),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),a.setBlendMode(0,!0),i.renderWebGL(a,i,0,r),a.flush(),a.setFramebuffer(e.prevFramebuffer);var s=a.getCurrentStencilMask();s?(t.enable(t.STENCIL_TEST),s.mask.applyStencil(a,s.camera,!0)):a.currentMask.mask=null,a.setPipeline(this),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,e.maskTexture),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e.mainTexture),t.uniform1i(t.getUniformLocation(this.program,"uInvertMaskAlpha"),e.invertAlpha),t.drawArrays(this.topology,0,3)}}});module.exports=i;
},{"../../../utils/Class":"JASv","../shaders/BitmapMask-frag.js":"h7jh","../shaders/BitmapMask-vert.js":"BwMh","../WebGLPipeline":"Y7WV"}],"o6OZ":[function(require,module,exports) {
module.exports=["#define SHADER_NAME PHASER_FORWARD_DIFFUSE_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.rgb * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","","}",""].join("\n");
},{}],"k71t":[function(require,module,exports) {
"use strict";function e(e,t,x){x=x||2;var i,u,v,y,o,p,l,a=t&&t.length,h=a?t[0]*x:e.length,s=n(e,0,h,x,!0),c=[];if(!s||s.next===s.prev)return c;if(a&&(s=f(e,t,s,x)),e.length>80*x){i=v=e[0],u=y=e[1];for(var Z=x;Z<h;Z+=x)(o=e[Z])<i&&(i=o),(p=e[Z+1])<u&&(u=p),o>v&&(v=o),p>y&&(y=p);l=0!==(l=Math.max(v-i,y-u))?1/l:0}return r(s,c,x,i,u,l),c}function n(e,n,t,r,x){var i,u;if(x===A(e,n,t,r)>0)for(i=n;i<t;i+=r)u=k(i,e[i],e[i+1],u);else for(i=t-r;i>=n;i-=r)u=k(i,e[i],e[i+1],u);return u&&d(u,u.next)&&(j(u),u=u.next),u}function t(e,n){if(!e)return e;n||(n=e);var t,r=e;do{if(t=!1,r.steiner||!d(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(j(r),(r=n=r.prev)===r.next)break;t=!0}}while(t||r!==n);return n}function r(e,n,f,y,o,p,a){if(e){!a&&p&&l(e,y,o,p);for(var h,s,c=e;e.prev!==e.next;)if(h=e.prev,s=e.next,p?i(e,y,o,p):x(e))n.push(h.i/f),n.push(e.i/f),n.push(s.i/f),j(e),e=s.next,c=s.next;else if((e=s)===c){a?1===a?r(e=u(e,n,f),n,f,y,o,p,2):2===a&&v(e,n,f,y,o,p):r(t(e),n,f,y,o,p,1);break}}}function x(e){var n=e.prev,t=e,r=e.next;if(g(n,t,r)>=0)return!1;for(var x=e.next.next;x!==e.prev;){if(c(n.x,n.y,t.x,t.y,r.x,r.y,x.x,x.y)&&g(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function i(e,n,t,r){var x=e.prev,i=e,u=e.next;if(g(x,i,u)>=0)return!1;for(var v=x.x<i.x?x.x<u.x?x.x:u.x:i.x<u.x?i.x:u.x,f=x.y<i.y?x.y<u.y?x.y:u.y:i.y<u.y?i.y:u.y,y=x.x>i.x?x.x>u.x?x.x:u.x:i.x>u.x?i.x:u.x,o=x.y>i.y?x.y>u.y?x.y:u.y:i.y>u.y?i.y:u.y,p=h(v,f,n,t,r),l=h(y,o,n,t,r),a=e.prevZ,s=e.nextZ;a&&a.z>=p&&s&&s.z<=l;){if(a!==e.prev&&a!==e.next&&c(x.x,x.y,i.x,i.y,u.x,u.y,a.x,a.y)&&g(a.prev,a,a.next)>=0)return!1;if(a=a.prevZ,s!==e.prev&&s!==e.next&&c(x.x,x.y,i.x,i.y,u.x,u.y,s.x,s.y)&&g(s.prev,s,s.next)>=0)return!1;s=s.nextZ}for(;a&&a.z>=p;){if(a!==e.prev&&a!==e.next&&c(x.x,x.y,i.x,i.y,u.x,u.y,a.x,a.y)&&g(a.prev,a,a.next)>=0)return!1;a=a.prevZ}for(;s&&s.z<=l;){if(s!==e.prev&&s!==e.next&&c(x.x,x.y,i.x,i.y,u.x,u.y,s.x,s.y)&&g(s.prev,s,s.next)>=0)return!1;s=s.nextZ}return!0}function u(e,n,t){var r=e;do{var x=r.prev,i=r.next.next;!d(x,i)&&w(x,r,r.next,i)&&b(x,i)&&b(i,x)&&(n.push(x.i/t),n.push(r.i/t),n.push(i.i/t),j(r),j(r.next),r=e=i),r=r.next}while(r!==e);return r}function v(e,n,x,i,u,v){var f=e;do{for(var y=f.next.next;y!==f.prev;){if(f.i!==y.i&&Z(f,y)){var o=m(f,y);return f=t(f,f.next),o=t(o,o.next),r(f,n,x,i,u,v),void r(o,n,x,i,u,v)}y=y.next}f=f.next}while(f!==e)}function f(e,r,x,i){var u,v,f,p=[];for(u=0,v=r.length;u<v;u++)(f=n(e,r[u]*i,u<v-1?r[u+1]*i:e.length,i,!1))===f.next&&(f.steiner=!0),p.push(s(f));for(p.sort(y),u=0;u<p.length;u++)o(p[u],x),x=t(x,x.next);return x}function y(e,n){return e.x-n.x}function o(e,n){if(n=p(e,n)){var r=m(n,e);t(r,r.next)}}function p(e,n){var t,r=n,x=e.x,i=e.y,u=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var v=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(v<=x&&v>u){if(u=v,v===x){if(i===r.y)return r;if(i===r.next.y)return r.next}t=r.x<r.next.x?r:r.next}}r=r.next}while(r!==n);if(!t)return null;if(x===u)return t.prev;var f,y=t,o=t.x,p=t.y,l=1/0;for(r=t.next;r!==y;)x>=r.x&&r.x>=o&&x!==r.x&&c(i<p?x:u,i,o,p,i<p?u:x,i,r.x,r.y)&&((f=Math.abs(i-r.y)/(x-r.x))<l||f===l&&r.x>t.x)&&b(r,e)&&(t=r,l=f),r=r.next;return t}function l(e,n,t,r){var x=e;do{null===x.z&&(x.z=h(x.x,x.y,n,t,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==e);x.prevZ.nextZ=null,x.prevZ=null,a(x)}function a(e){var n,t,r,x,i,u,v,f,y=1;do{for(t=e,e=null,i=null,u=0;t;){for(u++,r=t,v=0,n=0;n<y&&(v++,r=r.nextZ);n++);for(f=y;v>0||f>0&&r;)0!==v&&(0===f||!r||t.z<=r.z)?(x=t,t=t.nextZ,v--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:e=x,x.prevZ=i,i=x;t=r}i.nextZ=null,y*=2}while(u>1);return e}function h(e,n,t,r,x){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*x)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-r)*x)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function s(e){var n=e,t=e;do{n.x<t.x&&(t=n),n=n.next}while(n!==e);return t}function c(e,n,t,r,x,i,u,v){return(x-u)*(n-v)-(e-u)*(i-v)>=0&&(e-u)*(r-v)-(t-u)*(n-v)>=0&&(t-u)*(i-v)-(x-u)*(r-v)>=0}function Z(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!z(e,n)&&b(e,n)&&b(n,e)&&M(e,n)}function g(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function d(e,n){return e.x===n.x&&e.y===n.y}function w(e,n,t,r){return!!(d(e,n)&&d(t,r)||d(e,r)&&d(t,n))||g(e,n,t)>0!=g(e,n,r)>0&&g(t,r,e)>0!=g(t,r,n)>0}function z(e,n){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==n.i&&t.next.i!==n.i&&w(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}function b(e,n){return g(e.prev,e,e.next)<0?g(e,n,e.next)>=0&&g(e,e.prev,n)>=0:g(e,n,e.prev)<0||g(e,e.next,n)<0}function M(e,n){var t=e,r=!1,x=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&x<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==e);return r}function m(e,n){var t=new q(e.i,e.x,e.y),r=new q(n.i,n.x,n.y),x=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=x,x.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function k(e,n,t,r){var x=new q(e,n,t);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function j(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function q(e,n,t){this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(e,n,t,r){for(var x=0,i=n,u=t-r;i<t;i+=r)x+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return x}module.exports=e,e.deviation=function(e,n,t,r){var x=n&&n.length,i=x?n[0]*t:e.length,u=Math.abs(A(e,0,i,t));if(x)for(var v=0,f=n.length;v<f;v++){var y=n[v]*t,o=v<f-1?n[v+1]*t:e.length;u-=Math.abs(A(e,y,o,t))}var p=0;for(v=0;v<r.length;v+=3){var l=r[v]*t,a=r[v+1]*t,h=r[v+2]*t;p+=Math.abs((e[l]-e[h])*(e[a+1]-e[l+1])-(e[l]-e[a])*(e[h+1]-e[l+1]))}return 0===u&&0===p?0:Math.abs((p-u)/u)},e.flatten=function(e){for(var n=e[0][0].length,t={vertices:[],holes:[],dimensions:n},r=0,x=0;x<e.length;x++){for(var i=0;i<e[x].length;i++)for(var u=0;u<n;u++)t.vertices.push(e[x][i][u]);x>0&&(r+=e[x-1].length,t.holes.push(r))}return t};
},{}],"Jvhu":[function(require,module,exports) {
var t={modelMatrixDirty:!1,viewMatrixDirty:!1,projectionMatrixDirty:!1,modelMatrix:null,viewMatrix:null,projectionMatrix:null,mvpInit:function(){return this.modelMatrixDirty=!0,this.viewMatrixDirty=!0,this.projectionMatrixDirty=!0,this.modelMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},mvpUpdate:function(){var t=this.program;return this.modelMatrixDirty&&(this.renderer.setMatrix4(t,"uModelMatrix",!1,this.modelMatrix),this.modelMatrixDirty=!1),this.viewMatrixDirty&&(this.renderer.setMatrix4(t,"uViewMatrix",!1,this.viewMatrix),this.viewMatrixDirty=!1),this.projectionMatrixDirty&&(this.renderer.setMatrix4(t,"uProjectionMatrix",!1,this.projectionMatrix),this.projectionMatrixDirty=!1),this},modelIdentity:function(){var t=this.modelMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.modelMatrixDirty=!0,this},modelScale:function(t,i,r){var e=this.modelMatrix;return e[0]=e[0]*t,e[1]=e[1]*t,e[2]=e[2]*t,e[3]=e[3]*t,e[4]=e[4]*i,e[5]=e[5]*i,e[6]=e[6]*i,e[7]=e[7]*i,e[8]=e[8]*r,e[9]=e[9]*r,e[10]=e[10]*r,e[11]=e[11]*r,this.modelMatrixDirty=!0,this},modelTranslate:function(t,i,r){var e=this.modelMatrix;return e[12]=e[0]*t+e[4]*i+e[8]*r+e[12],e[13]=e[1]*t+e[5]*i+e[9]*r+e[13],e[14]=e[2]*t+e[6]*i+e[10]*r+e[14],e[15]=e[3]*t+e[7]*i+e[11]*r+e[15],this.modelMatrixDirty=!0,this},modelRotateX:function(t){var i=this.modelMatrix,r=Math.sin(t),e=Math.cos(t),a=i[4],o=i[5],n=i[6],s=i[7],h=i[8],M=i[9],x=i[10],v=i[11];return i[4]=a*e+h*r,i[5]=o*e+M*r,i[6]=n*e+x*r,i[7]=s*e+v*r,i[8]=h*e-a*r,i[9]=M*e-o*r,i[10]=x*e-n*r,i[11]=v*e-s*r,this.modelMatrixDirty=!0,this},modelRotateY:function(t){var i=this.modelMatrix,r=Math.sin(t),e=Math.cos(t),a=i[0],o=i[1],n=i[2],s=i[3],h=i[8],M=i[9],x=i[10],v=i[11];return i[0]=a*e-h*r,i[1]=o*e-M*r,i[2]=n*e-x*r,i[3]=s*e-v*r,i[8]=a*r+h*e,i[9]=o*r+M*e,i[10]=n*r+x*e,i[11]=s*r+v*e,this.modelMatrixDirty=!0,this},modelRotateZ:function(t){var i=this.modelMatrix,r=Math.sin(t),e=Math.cos(t),a=i[0],o=i[1],n=i[2],s=i[3],h=i[4],M=i[5],x=i[6],v=i[7];return i[0]=a*e+h*r,i[1]=o*e+M*r,i[2]=n*e+x*r,i[3]=s*e+v*r,i[4]=h*e-a*r,i[5]=M*e-o*r,i[6]=x*e-n*r,i[7]=v*e-s*r,this.modelMatrixDirty=!0,this},viewIdentity:function(){var t=this.viewMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.viewMatrixDirty=!0,this},viewScale:function(t,i,r){var e=this.viewMatrix;return e[0]=e[0]*t,e[1]=e[1]*t,e[2]=e[2]*t,e[3]=e[3]*t,e[4]=e[4]*i,e[5]=e[5]*i,e[6]=e[6]*i,e[7]=e[7]*i,e[8]=e[8]*r,e[9]=e[9]*r,e[10]=e[10]*r,e[11]=e[11]*r,this.viewMatrixDirty=!0,this},viewTranslate:function(t,i,r){var e=this.viewMatrix;return e[12]=e[0]*t+e[4]*i+e[8]*r+e[12],e[13]=e[1]*t+e[5]*i+e[9]*r+e[13],e[14]=e[2]*t+e[6]*i+e[10]*r+e[14],e[15]=e[3]*t+e[7]*i+e[11]*r+e[15],this.viewMatrixDirty=!0,this},viewRotateX:function(t){var i=this.viewMatrix,r=Math.sin(t),e=Math.cos(t),a=i[4],o=i[5],n=i[6],s=i[7],h=i[8],M=i[9],x=i[10],v=i[11];return i[4]=a*e+h*r,i[5]=o*e+M*r,i[6]=n*e+x*r,i[7]=s*e+v*r,i[8]=h*e-a*r,i[9]=M*e-o*r,i[10]=x*e-n*r,i[11]=v*e-s*r,this.viewMatrixDirty=!0,this},viewRotateY:function(t){var i=this.viewMatrix,r=Math.sin(t),e=Math.cos(t),a=i[0],o=i[1],n=i[2],s=i[3],h=i[8],M=i[9],x=i[10],v=i[11];return i[0]=a*e-h*r,i[1]=o*e-M*r,i[2]=n*e-x*r,i[3]=s*e-v*r,i[8]=a*r+h*e,i[9]=o*r+M*e,i[10]=n*r+x*e,i[11]=s*r+v*e,this.viewMatrixDirty=!0,this},viewRotateZ:function(t){var i=this.viewMatrix,r=Math.sin(t),e=Math.cos(t),a=i[0],o=i[1],n=i[2],s=i[3],h=i[4],M=i[5],x=i[6],v=i[7];return i[0]=a*e+h*r,i[1]=o*e+M*r,i[2]=n*e+x*r,i[3]=s*e+v*r,i[4]=h*e-a*r,i[5]=M*e-o*r,i[6]=x*e-n*r,i[7]=v*e-s*r,this.viewMatrixDirty=!0,this},viewLoad2D:function(t){var i=this.viewMatrix;return i[0]=t[0],i[1]=t[1],i[2]=0,i[3]=0,i[4]=t[2],i[5]=t[3],i[6]=0,i[7]=0,i[8]=t[4],i[9]=t[5],i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this.viewMatrixDirty=!0,this},viewLoad:function(t){var i=this.viewMatrix;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],this.viewMatrixDirty=!0,this},projIdentity:function(){var t=this.projectionMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.projectionMatrixDirty=!0,this},projOrtho:function(t,i,r,e,a,o){var n=this.projectionMatrix,s=1/(t-i),h=1/(r-e),M=1/(a-o);return n[0]=-2*s,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*h,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*M,n[11]=0,n[12]=(t+i)*s,n[13]=(e+r)*h,n[14]=(o+a)*M,n[15]=1,this.projectionMatrixDirty=!0,this},projPersp:function(t,i,r,e){var a=this.projectionMatrix,o=1/Math.tan(t/2),n=1/(r-e);return a[0]=o/i,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=o,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(e+r)*n,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*e*r*n,a[15]=0,this.projectionMatrixDirty=!0,this}};module.exports=t;
},{}],"eSPr":[function(require,module,exports) {
module.exports=["#define SHADER_NAME PHASER_TEXTURE_TINT_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.rgb * outTint.a, outTint.a);","    vec4 color = texture;","","    if (outTintEffect == 0.0)","    {","        //  Multiply texture tint","        color = texture * texel;","    }","    else if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.rgb * outTint.a, texture.a);","        color.a = texture.a * texel.a;","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join("\n");
},{}],"u7aZ":[function(require,module,exports) {
module.exports=["#define SHADER_NAME PHASER_TEXTURE_TINT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uModelMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}","",""].join("\n");
},{}],"MqnU":[function(require,module,exports) {
var t=require("../../../utils/Class"),e=require("../../../geom/polygon/Earcut"),i=require("../../../utils/object/GetFastValue"),r=require("./components/ModelViewProjection"),h=require("../shaders/TextureTint-frag.js"),s=require("../shaders/TextureTint-vert.js"),a=require("../../../gameobjects/components/TransformMatrix"),n=require("../Utils"),l=require("../WebGLPipeline"),u=new t({Extends:l,Mixins:[r],initialize:function(t){var e=t.renderer.config;l.call(this,{game:t.game,renderer:t.renderer,gl:t.renderer.gl,topology:i(t,"topology",t.renderer.gl.TRIANGLES),vertShader:i(t,"vertShader",s),fragShader:i(t,"fragShader",h),vertexCapacity:i(t,"vertexCapacity",6*e.batchSize),vertexSize:i(t,"vertexSize",5*Float32Array.BYTES_PER_ELEMENT+4*Uint8Array.BYTES_PER_ELEMENT),attributes:[{name:"inPosition",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:0},{name:"inTexCoord",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:2*Float32Array.BYTES_PER_ELEMENT},{name:"inTintEffect",size:1,type:t.renderer.gl.FLOAT,normalized:!1,offset:4*Float32Array.BYTES_PER_ELEMENT},{name:"inTint",size:4,type:t.renderer.gl.UNSIGNED_BYTE,normalized:!0,offset:5*Float32Array.BYTES_PER_ELEMENT}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.vertexViewU32=new Uint32Array(this.vertexData),this.maxQuads=e.batchSize,this.batches=[],this._tempMatrix1=new a,this._tempMatrix2=new a,this._tempMatrix3=new a,this._tempMatrix4=new a,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.tintEffect=2,this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[],this.mvpInit()},onBind:function(){return l.prototype.onBind.call(this),this.mvpUpdate(),this},resize:function(t,e,i){return l.prototype.resize.call(this,t,e,i),this.projOrtho(0,this.width,this.height,0,-1e3,1e3),this},setTexture2D:function(t,e){return void 0===t&&(t=this.renderer.blankTexture.glTexture),void 0===e&&(e=0),this.requireTextureBatch(t,e)&&this.pushBatch(t,e),this},requireTextureBatch:function(t,e){var i=this.batches,r=i.length;return!(r>0)||!((e>0?i[r-1].textures[e-1]:i[r-1].texture)===t)},pushBatch:function(t,e){if(0===e)this.batches.push({first:this.vertexCount,texture:t,textures:[]});else{var i=[];i[e-1]=t,this.batches.push({first:this.vertexCount,texture:null,textures:i})}},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var t,e,i,r=this.gl,h=this.vertexCount,s=this.topology,a=this.vertexSize,n=this.renderer,l=this.batches,u=l.length,o=0,p=null;if(0===u||0===h)return this.flushLocked=!1,this;r.bufferSubData(r.ARRAY_BUFFER,0,this.bytes.subarray(0,h*a));for(var c=0;c<u-1;c++){if(p=l[c],t=l[c+1],p.textures.length>0){for(e=0;e<p.textures.length;++e)(i=p.textures[e])&&n.setTexture2D(i,1+e,!1);r.activeTexture(r.TEXTURE0)}o=t.first-p.first,null===p.texture||o<=0||(n.setTexture2D(p.texture,0,!1),r.drawArrays(s,p.first,o))}if((p=l[u-1]).textures.length>0){for(e=0;e<p.textures.length;++e)(i=p.textures[e])&&n.setTexture2D(i,1+e,!1);r.activeTexture(r.TEXTURE0)}return o=h-p.first,p.texture&&o>0&&(n.setTexture2D(p.texture,0,!1),r.drawArrays(s,p.first,o)),this.vertexCount=0,l.length=0,this.flushLocked=!1,this},batchSprite:function(t,e,i){this.renderer.setPipeline(this);var r=this._tempMatrix1,h=this._tempMatrix2,s=this._tempMatrix3,a=t.frame,l=a.glTexture,u=a.u0,o=a.v0,p=a.u1,c=a.v1,d=a.x,x=a.y,g=a.cutWidth,f=a.cutHeight,T=a.customPivot,v=t.displayOriginX,m=t.displayOriginY,y=-v+d,Y=-m+x;if(t.isCropped){var E=t._crop;E.flipX===t.flipX&&E.flipY===t.flipY||a.updateCropUVs(E,t.flipX,t.flipY),u=E.u0,o=E.v0,p=E.u1,c=E.v1,g=E.width,f=E.height,y=-v+(d=E.x),Y=-m+(x=E.y)}var M=1,X=1;t.flipX&&(T||(y+=-a.realWidth+2*v),M=-1),(t.flipY||a.source.isGLTexture&&!l.flipY)&&(T||(Y+=-a.realHeight+2*m),X=-1),h.applyITRS(t.x,t.y,t.rotation,t.scaleX*M,t.scaleY*X),r.copyFrom(e.matrix),i?(r.multiplyWithOffset(i,-e.scrollX*t.scrollFactorX,-e.scrollY*t.scrollFactorY),h.e=t.x,h.f=t.y,r.multiply(h,s)):(h.e-=e.scrollX*t.scrollFactorX,h.f-=e.scrollY*t.scrollFactorY,r.multiply(h,s));var b=y+g,_=Y+f,F=s.getX(y,Y),w=s.getY(y,Y),L=s.getX(y,_),R=s.getY(y,_),A=s.getX(b,_),B=s.getY(b,_),C=s.getX(b,Y),S=s.getY(b,Y),P=n.getTintAppendFloatAlpha(t._tintTL,e.alpha*t._alphaTL),z=n.getTintAppendFloatAlpha(t._tintTR,e.alpha*t._alphaTR),Q=n.getTintAppendFloatAlpha(t._tintBL,e.alpha*t._alphaBL),D=n.getTintAppendFloatAlpha(t._tintBR,e.alpha*t._alphaBR);e.roundPixels&&(F=Math.round(F),w=Math.round(w),L=Math.round(L),R=Math.round(R),A=Math.round(A),B=Math.round(B),C=Math.round(C),S=Math.round(S)),this.setTexture2D(l,0);var q=t._isTinted&&t.tintFill;this.batchQuad(F,w,L,R,A,B,C,S,u,o,p,c,P,z,Q,D,q,l,0)},batchQuad:function(t,e,i,r,h,s,a,n,l,u,o,p,c,d,x,g,f,T,v){var m=!1;this.vertexCount+6>this.vertexCapacity&&(this.flush(),m=!0,this.setTexture2D(T,v));var y=this.vertexViewF32,Y=this.vertexViewU32,E=this.vertexCount*this.vertexComponentCount-1;return y[++E]=t,y[++E]=e,y[++E]=l,y[++E]=u,y[++E]=f,Y[++E]=c,y[++E]=i,y[++E]=r,y[++E]=l,y[++E]=p,y[++E]=f,Y[++E]=x,y[++E]=h,y[++E]=s,y[++E]=o,y[++E]=p,y[++E]=f,Y[++E]=g,y[++E]=t,y[++E]=e,y[++E]=l,y[++E]=u,y[++E]=f,Y[++E]=c,y[++E]=h,y[++E]=s,y[++E]=o,y[++E]=p,y[++E]=f,Y[++E]=g,y[++E]=a,y[++E]=n,y[++E]=o,y[++E]=u,y[++E]=f,Y[++E]=d,this.vertexCount+=6,m},batchTri:function(t,e,i,r,h,s,a,n,l,u,o,p,c,d,x,g){var f=!1;this.vertexCount+3>this.vertexCapacity&&(this.flush(),this.setTexture2D(x,g),f=!0);var T=this.vertexViewF32,v=this.vertexViewU32,m=this.vertexCount*this.vertexComponentCount-1;return T[++m]=t,T[++m]=e,T[++m]=a,T[++m]=n,T[++m]=d,v[++m]=o,T[++m]=i,T[++m]=r,T[++m]=a,T[++m]=u,T[++m]=d,v[++m]=p,T[++m]=h,T[++m]=s,T[++m]=l,T[++m]=u,T[++m]=d,v[++m]=c,this.vertexCount+=3,f},batchTexture:function(t,e,i,r,h,s,a,n,l,u,o,p,c,d,x,g,f,T,v,m,y,Y,E,M,X,b,_,F,w,L,R){this.renderer.setPipeline(this,t);var A=this._tempMatrix1,B=this._tempMatrix2,C=this._tempMatrix3,S=T/i+_,P=v/r+F,z=(T+m)/i+_,Q=(v+y)/r+F,D=a,q=n,U=-g,k=-f;if(t.isCropped){var V=t._crop;D=V.width,q=V.height,a=V.width,n=V.height;var N=T=V.x,O=v=V.y;p&&(N=m-V.x-V.width),c&&!e.isRenderTexture&&(O=y-V.y-V.height),S=N/i+_,P=O/r+F,z=(N+V.width)/i+_,Q=(O+V.height)/r+F,U=-g+T,k=-f+v}p&&(D*=-1,U+=a),(c^=!R&&e.isRenderTexture?1:0)&&(q*=-1,k+=n);var j=U+D,G=k+q;B.applyITRS(h,s,o,l,u),A.copyFrom(w.matrix),L?(A.multiplyWithOffset(L,-w.scrollX*d,-w.scrollY*x),B.e=h,B.f=s,A.multiply(B,C)):(B.e-=w.scrollX*d,B.f-=w.scrollY*x,A.multiply(B,C));var I=C.getX(U,k),W=C.getY(U,k),H=C.getX(U,G),J=C.getY(U,G),K=C.getX(j,G),Z=C.getY(j,G),$=C.getX(j,k),tt=C.getY(j,k);w.roundPixels&&(I=Math.round(I),W=Math.round(W),H=Math.round(H),J=Math.round(J),K=Math.round(K),Z=Math.round(Z),$=Math.round($),tt=Math.round(tt)),this.setTexture2D(e,0),this.batchQuad(I,W,H,J,K,Z,$,tt,S,P,z,Q,Y,E,M,X,b,e,0)},batchTextureFrame:function(t,e,i,r,h,s,a){this.renderer.setPipeline(this);var l=this._tempMatrix1.copyFrom(s),u=this._tempMatrix2,o=e+t.width,p=i+t.height;a?l.multiply(a,u):u=l;var c=u.getX(e,i),d=u.getY(e,i),x=u.getX(e,p),g=u.getY(e,p),f=u.getX(o,p),T=u.getY(o,p),v=u.getX(o,i),m=u.getY(o,i);this.setTexture2D(t.glTexture,0),r=n.getTintAppendFloatAlpha(r,h),this.batchQuad(c,d,x,g,f,T,v,m,t.u0,t.v0,t.u1,t.v1,r,r,r,r,0,t.glTexture,0)},drawFillRect:function(t,e,i,r,h,s){var a=t+i,l=e+r;this.setTexture2D();var u=n.getTintAppendFloatAlphaAndSwap(h,s);this.batchQuad(t,e,t,l,a,l,a,e,0,0,1,1,u,u,u,u,2)},batchFillRect:function(t,e,i,r,h,s){this.renderer.setPipeline(this);var a=this._tempMatrix3;s&&s.multiply(h,a);var n=t+i,l=e+r,u=a.getX(t,e),o=a.getY(t,e),p=a.getX(t,l),c=a.getY(t,l),d=a.getX(n,l),x=a.getY(n,l),g=a.getX(n,e),f=a.getY(n,e),T=this.currentFrame,v=T.u0,m=T.v0,y=T.u1,Y=T.v1;this.batchQuad(u,o,p,c,d,x,g,f,v,m,y,Y,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.fillTint.BR,this.tintEffect)},batchFillTriangle:function(t,e,i,r,h,s,a,n){this.renderer.setPipeline(this);var l=this._tempMatrix3;n&&n.multiply(a,l);var u=l.getX(t,e),o=l.getY(t,e),p=l.getX(i,r),c=l.getY(i,r),d=l.getX(h,s),x=l.getY(h,s),g=this.currentFrame,f=g.u0,T=g.v0,v=g.u1,m=g.v1;this.batchTri(u,o,p,c,d,x,f,T,v,m,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.tintEffect)},batchStrokeTriangle:function(t,e,i,r,h,s,a,n,l){var u=this.tempTriangle;u[0].x=t,u[0].y=e,u[0].width=a,u[1].x=i,u[1].y=r,u[1].width=a,u[2].x=h,u[2].y=s,u[2].width=a,u[3].x=t,u[3].y=e,u[3].width=a,this.batchStrokePath(u,a,!1,n,l)},batchFillPath:function(t,i,r){this.renderer.setPipeline(this);var h=this._tempMatrix3;r&&r.multiply(i,h);for(var s,a,n=t.length,l=this.polygonCache,u=this.fillTint.TL,o=this.fillTint.TR,p=this.fillTint.BL,c=this.tintEffect,d=0;d<n;++d)a=t[d],l.push(a.x,a.y);n=(s=e(l)).length;for(var x=this.currentFrame,g=0;g<n;g+=3){var f=2*s[g+0],T=2*s[g+1],v=2*s[g+2],m=l[f+0],y=l[f+1],Y=l[T+0],E=l[T+1],M=l[v+0],X=l[v+1],b=h.getX(m,y),_=h.getY(m,y),F=h.getX(Y,E),w=h.getY(Y,E),L=h.getX(M,X),R=h.getY(M,X),A=x.u0,B=x.v0,C=x.u1,S=x.v1;this.batchTri(b,_,F,w,L,R,A,B,C,S,u,o,p,c)}l.length=0},batchStrokePath:function(t,e,i,r,h){this.renderer.setPipeline(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var s=t.length-1,a=0;a<s;a++){var n=t[a],l=t[a+1];this.batchLine(n.x,n.y,l.x,l.y,n.width/2,l.width/2,e,a,!i&&a===s-1,r,h)}},batchLine:function(t,e,i,r,h,s,a,n,l,u,o){this.renderer.setPipeline(this);var p=this._tempMatrix3;o&&o.multiply(u,p);var c=i-t,d=r-e,x=Math.sqrt(c*c+d*d),g=h*(r-e)/x,f=h*(t-i)/x,T=s*(r-e)/x,v=s*(t-i)/x,m=i-T,y=r-v,Y=t-g,E=e-f,M=i+T,X=r+v,b=t+g,_=e+f,F=p.getX(m,y),w=p.getY(m,y),L=p.getX(Y,E),R=p.getY(Y,E),A=p.getX(M,X),B=p.getY(M,X),C=p.getX(b,_),S=p.getY(b,_),P=this.strokeTint,z=this.tintEffect,Q=P.TL,D=P.TR,q=P.BL,U=P.BR,k=this.currentFrame,V=k.u0,N=k.v0,O=k.u1,j=k.v1;if(this.batchQuad(C,S,L,R,F,w,A,B,V,N,O,j,Q,D,q,U,z),!(a<=2)){var G=this.prevQuad,I=this.firstQuad;n>0&&G[4]?this.batchQuad(C,S,L,R,G[0],G[1],G[2],G[3],V,N,O,j,Q,D,q,U,z):(I[0]=C,I[1]=S,I[2]=L,I[3]=R,I[4]=1),l&&I[4]?this.batchQuad(F,w,A,B,I[0],I[1],I[2],I[3],V,N,O,j,Q,D,q,U,z):(G[0]=F,G[1]=w,G[2]=A,G[3]=B,G[4]=1)}}});module.exports=u;
},{"../../../utils/Class":"JASv","../../../geom/polygon/Earcut":"k71t","../../../utils/object/GetFastValue":"cEup","./components/ModelViewProjection":"Jvhu","../shaders/TextureTint-frag.js":"eSPr","../shaders/TextureTint-vert.js":"u7aZ","../../../gameobjects/components/TransformMatrix":"s0s4","../Utils":"ZkeT","../WebGLPipeline":"Y7WV"}],"c2nI":[function(require,module,exports) {
var t=require("../../../utils/Class"),e=require("../shaders/ForwardDiffuse-frag.js"),r=require("./TextureTintPipeline"),i=10,a=new t({Extends:r,initialize:function(t){i=t.maxLights,t.fragShader=e.replace("%LIGHT_COUNT%",i.toString()),r.call(this,t),this.defaultNormalMap,this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1])},boot:function(){this.defaultNormalMap=this.game.textures.getFrame("__DEFAULT")},onBind:function(t){r.prototype.onBind.call(this);var e=this.renderer,i=this.program;return this.mvpUpdate(),e.setInt1(i,"uNormSampler",1),e.setFloat2(i,"uResolution",this.width,this.height),t&&this.setNormalMap(t),this},onRender:function(t,e){this.active=!1;var r=t.sys.lights;if(!r||r.lights.length<=0||!r.active)return this;var a=r.cull(e),s=Math.min(a.length,i);if(0===s)return this;this.active=!0;var o,n=this.renderer,h=this.program,l=e.matrix,u={x:0,y:0},d=n.height;for(o=0;o<i;++o)n.setFloat1(h,"uLights["+o+"].radius",0);for(n.setFloat4(h,"uCamera",e.x,e.y,e.rotation,e.zoom),n.setFloat3(h,"uAmbientLightColor",r.ambientColor.r,r.ambientColor.g,r.ambientColor.b),o=0;o<s;++o){var c=a[o],m="uLights["+o+"].";l.transformPoint(c.x,c.y,u),n.setFloat2(h,m+"position",u.x-e.scrollX*c.scrollFactorX*e.zoom,d-(u.y-e.scrollY*c.scrollFactorY*e.zoom)),n.setFloat3(h,m+"color",c.r,c.g,c.b),n.setFloat1(h,m+"intensity",c.intensity),n.setFloat1(h,m+"radius",c.radius)}return this.currentNormalMapRotation=null,this},batchTexture:function(t,e,r,i,a,s,o,n,h,l,u,d,c,m,p,x,g,f,M,v,y,T,F,N,R,b,S,w,C,I){var X;if(this.active)if(this.renderer.setPipeline(this),t.displayTexture?X=t.displayTexture.dataSource[t.displayFrame.sourceIndex]:t.texture?X=t.texture.dataSource[t.frame.sourceIndex]:t.tileset&&(X=Array.isArray(t.tileset)?t.tileset[0].image.dataSource[0]:t.tileset.image.dataSource[0]),X){this.setTexture2D(X.glTexture,1),this.setNormalMapRotation(u);var Y=this._tempMatrix1,_=this._tempMatrix2,L=this._tempMatrix3,P=f/r+S,D=M/i+w,A=(f+v)/r+S,z=(M+y)/i+w,U=o,q=n,O=-x,B=-g;if(t.isCropped){var E=t._crop;U=E.width,q=E.height,o=E.width,n=E.height;var G=f=E.x,H=M=E.y;d&&(G=v-E.x-E.width),c&&!e.isRenderTexture&&(H=y-E.y-E.height),P=G/r+S,D=H/i+w,A=(G+E.width)/r+S,z=(H+E.height)/i+w,O=-x+f,B=-g+M}d&&(U*=-1,O+=o),(c^=e.isRenderTexture?1:0)&&(q*=-1,B+=n);var j=O+U,Q=B+q;_.applyITRS(a,s,u,h,l),Y.copyFrom(C.matrix),I?(Y.multiplyWithOffset(I,-C.scrollX*m,-C.scrollY*p),_.e=a,_.f=s,Y.multiply(_,L)):(_.e-=C.scrollX*m,_.f-=C.scrollY*p,Y.multiply(_,L));var W=L.getX(O,B),k=L.getY(O,B),J=L.getX(O,Q),K=L.getY(O,Q),V=L.getX(j,Q),Z=L.getY(j,Q),$=L.getX(j,B),tt=L.getY(j,B);C.roundPixels&&(W=Math.round(W),k=Math.round(k),J=Math.round(J),K=Math.round(K),V=Math.round(V),Z=Math.round(Z),$=Math.round($),tt=Math.round(tt)),this.setTexture2D(e,0),this.batchQuad(W,k,J,K,V,Z,$,tt,P,D,A,z,T,F,N,R,b,e,0)}else console.warn("Normal map missing or invalid")},setNormalMap:function(t){var e;this.active&&t&&(t.texture&&(e=t.texture.dataSource[t.frame.sourceIndex]),e||(e=this.defaultNormalMap),this.setTexture2D(e.glTexture,1),this.renderer.setPipeline(t.defaultPipeline))},setNormalMapRotation:function(t){if(t!==this.currentNormalMapRotation||0===this.batches.length){this.batches.length>0&&this.flush();var e=this.inverseRotationMatrix;if(t){var r=-t,i=Math.cos(r),a=Math.sin(r);e[1]=a,e[3]=-a,e[0]=e[4]=i}else e[0]=e[4]=1,e[1]=e[3]=0;this.renderer.setMatrix3(this.program,"uInverseRotationMatrix",!1,e),this.currentNormalMapRotation=t}},batchSprite:function(t,e,i){if(this.active){var a=t.texture.dataSource[t.frame.sourceIndex];a&&(this.renderer.setPipeline(this),this.setTexture2D(a.glTexture,1),this.setNormalMapRotation(t.rotation),r.prototype.batchSprite.call(this,t,e,i))}}});a.LIGHT_COUNT=i,module.exports=a;
},{"../../../utils/Class":"JASv","../shaders/ForwardDiffuse-frag.js":"o6OZ","./TextureTintPipeline":"MqnU"}],"ccBL":[function(require,module,exports) {
var e=require("../../../utils/Class"),t=require("../../../utils/object/GetFastValue"),r=require("./components/ModelViewProjection"),i=require("../shaders/TextureTint-frag.js"),s=require("../shaders/TextureTint-vert.js"),n=require("../../../gameobjects/components/TransformMatrix"),a=require("../WebGLPipeline"),h=new e({Extends:a,Mixins:[r],initialize:function(e){var r=e.renderer.config;a.call(this,{game:e.game,renderer:e.renderer,gl:e.renderer.gl,topology:e.renderer.gl.TRIANGLE_STRIP,vertShader:t(e,"vertShader",s),fragShader:t(e,"fragShader",i),vertexCapacity:t(e,"vertexCapacity",6*r.batchSize),vertexSize:t(e,"vertexSize",5*Float32Array.BYTES_PER_ELEMENT+4*Uint8Array.BYTES_PER_ELEMENT),attributes:[{name:"inPosition",size:2,type:e.renderer.gl.FLOAT,normalized:!1,offset:0},{name:"inTexCoord",size:2,type:e.renderer.gl.FLOAT,normalized:!1,offset:2*Float32Array.BYTES_PER_ELEMENT},{name:"inTintEffect",size:1,type:e.renderer.gl.FLOAT,normalized:!1,offset:4*Float32Array.BYTES_PER_ELEMENT},{name:"inTint",size:4,type:e.renderer.gl.UNSIGNED_BYTE,normalized:!0,offset:5*Float32Array.BYTES_PER_ELEMENT}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.vertexViewU32=new Uint32Array(this.vertexData),this.maxQuads=r.batchSize,this.batches=[],this._tempMatrix1=new n,this._tempMatrix2=new n,this._tempMatrix3=new n,this.mvpInit()},onBind:function(){return a.prototype.onBind.call(this),this.mvpUpdate(),this},resize:function(e,t,r){return a.prototype.resize.call(this,e,t,r),this.projOrtho(0,this.width,this.height,0,-1e3,1e3),this},setTexture2D:function(e,t){return void 0===e&&(e=this.renderer.blankTexture.glTexture),void 0===t&&(t=0),this.requireTextureBatch(e,t)&&this.pushBatch(e,t),this},requireTextureBatch:function(e,t){var r=this.batches,i=r.length;return!(i>0)||!((t>0?r[i-1].textures[t-1]:r[i-1].texture)===e)},pushBatch:function(e,t){if(0===t)this.batches.push({first:this.vertexCount,texture:e,textures:[]});else{var r=[];r[t-1]=e,this.batches.push({first:this.vertexCount,texture:null,textures:r})}},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var e,t,r,i=this.gl,s=this.vertexCount,n=this.topology,a=this.vertexSize,h=this.renderer,u=this.batches,o=u.length,l=0,x=null;if(0===o||0===s)return this.flushLocked=!1,this;i.bufferSubData(i.ARRAY_BUFFER,0,this.bytes.subarray(0,s*a));for(var f=0;f<o-1;f++){if(x=u[f],e=u[f+1],x.textures.length>0){for(t=0;t<x.textures.length;++t)(r=x.textures[t])&&h.setTexture2D(r,1+t,!1);i.activeTexture(i.TEXTURE0)}l=e.first-x.first,null===x.texture||l<=0||(h.setTexture2D(x.texture,0,!1),i.drawArrays(n,x.first,l))}if((x=u[o-1]).textures.length>0){for(t=0;t<x.textures.length;++t)(r=x.textures[t])&&h.setTexture2D(r,1+t,!1);i.activeTexture(i.TEXTURE0)}return l=s-x.first,x.texture&&l>0&&(h.setTexture2D(x.texture,0,!1),i.drawArrays(n,x.first,l)),this.vertexCount=0,u.length=0,this.flushLocked=!1,this}});module.exports=h;
},{"../../../utils/Class":"JASv","../../../utils/object/GetFastValue":"cEup","./components/ModelViewProjection":"Jvhu","../shaders/TextureTint-frag.js":"eSPr","../shaders/TextureTint-vert.js":"u7aZ","../../../gameobjects/components/TransformMatrix":"s0s4","../WebGLPipeline":"Y7WV"}],"xKuU":[function(require,module,exports) {
var e=require("../../cameras/2d/BaseCamera"),t=require("../../cameras/2d/events"),i=require("../../utils/Class"),r=require("../../const"),n=require("../../core/events"),s=require("../../math/pow2/IsSizePowerOfTwo"),a=require("../../utils/NOOP"),h=require("../../scale/events"),u=require("../../utils/array/SpliceOne"),o=require("../../textures/events"),l=require("../../gameobjects/components/TransformMatrix"),f=require("./Utils"),c=require("../snapshot/WebGLSnapshot"),d=require("./pipelines/BitmapMaskPipeline"),m=require("./pipelines/ForwardDiffuseLightPipeline"),g=require("./pipelines/TextureTintPipeline"),p=require("./pipelines/TextureTintStripPipeline"),T=new i({initialize:function(t){var i=t.config,n={alpha:i.transparent,desynchronized:i.desynchronized,depth:!1,antialias:i.antialiasGL,premultipliedAlpha:i.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:i.failIfMajorPerformanceCaveat,powerPreference:i.powerPreference};this.config={clearBeforeRender:i.clearBeforeRender,antialias:i.antialias,backgroundColor:i.backgroundColor,contextCreation:n,resolution:i.resolution,roundPixels:i.roundPixels,maxTextures:i.maxTextures,maxTextureSize:i.maxTextureSize,batchSize:i.batchSize,maxLights:i.maxLights,mipmapFilter:i.mipmapFilter},this.game=t,this.type=r.WEBGL,this.width=0,this.height=0,this.canvas=t.canvas,this.blendModes=[],this.nativeTextures=[],this.contextLost=!1,this.pipelines=null,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTextureUnit=0,this.currentTextures=new Array(16),this.currentFramebuffer=null,this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=a,this.contextRestoredHandler=a,this.gl=null,this.supportedExtensions=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.defaultCamera=new e(0,0,0,0),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this._tempMatrix4=new l,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.mipmapFilter=null,this.init(this.config)},init:function(e){var t,i=this.game,s=this.canvas,a=e.backgroundColor;if(!(t=i.config.context?i.config.context:s.getContext("webgl",e.contextCreation)||s.getContext("experimental-webgl",e.contextCreation))||t.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=t;var h=this;this.contextLostHandler=function(e){h.contextLost=!0,h.game.events.emit(n.CONTEXT_LOST,h),e.preventDefault()},this.contextRestoredHandler=function(){h.contextLost=!1,h.init(h.config),h.game.events.emit(n.CONTEXT_RESTORED,h)},s.addEventListener("webglcontextlost",this.contextLostHandler,!1),s.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),i.context=t;for(var u=0;u<=27;u++)this.blendModes.push({func:[t.ONE,t.ONE_MINUS_SRC_ALPHA],equation:t.FUNC_ADD});this.blendModes[1].func=[t.ONE,t.DST_ALPHA],this.blendModes[2].func=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[t.ONE,t.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[t.ZERO,t.ONE_MINUS_SRC_ALPHA],equation:t.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=t.BYTE,this.glFormats[1]=t.SHORT,this.glFormats[2]=t.UNSIGNED_BYTE,this.glFormats[3]=t.UNSIGNED_SHORT,this.glFormats[4]=t.FLOAT,this.glFuncMap={mat2:{func:t.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:t.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:t.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:t.uniform1f,length:1},"1fv":{func:t.uniform1fv,length:1},"1i":{func:t.uniform1i,length:1},"1iv":{func:t.uniform1iv,length:1},"2f":{func:t.uniform2f,length:2},"2fv":{func:t.uniform2fv,length:1},"2i":{func:t.uniform2i,length:2},"2iv":{func:t.uniform2iv,length:1},"3f":{func:t.uniform3f,length:3},"3fv":{func:t.uniform3fv,length:1},"3i":{func:t.uniform3i,length:3},"3iv":{func:t.uniform3iv,length:1},"4f":{func:t.uniform4f,length:4},"4fv":{func:t.uniform4fv,length:1},"4i":{func:t.uniform4i,length:4},"4iv":{func:t.uniform4iv,length:1}};var l=t.getSupportedExtensions();e.maxTextures||(e.maxTextures=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)),e.maxTextureSize||(e.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE));var f="WEBGL_compressed_texture_",c="WEBKIT_"+f;this.compression.ETC1=t.getExtension(f+"etc1")||t.getExtension(c+"etc1"),this.compression.PVRTC=t.getExtension(f+"pvrtc")||t.getExtension(c+"pvrtc"),this.compression.S3TC=t.getExtension(f+"s3tc")||t.getExtension(c+"s3tc"),this.supportedExtensions=l,t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.clearColor(a.redGL,a.greenGL,a.blueGL,a.alphaGL),this.mipmapFilter=t[e.mipmapFilter];for(var T=0;T<this.currentTextures.length;++T)this.currentTextures[T]=null;return this.pipelines={},this.addPipeline("TextureTintPipeline",new g({game:i,renderer:this})),this.addPipeline("TextureTintStripPipeline",new p({game:i,renderer:this})),this.addPipeline("BitmapMaskPipeline",new d({game:i,renderer:this})),this.addPipeline("Light2D",new m({game:i,renderer:this,maxLights:e.maxLights})),this.setBlendMode(r.BlendModes.NORMAL),i.textures.once(o.READY,this.boot,this),this},boot:function(){for(var e in this.pipelines)this.pipelines[e].boot();var t=this.game.textures.getFrame("__DEFAULT");this.pipelines.TextureTintPipeline.currentFrame=t,this.blankTexture=t;var i=this.gl;i.bindFramebuffer(i.FRAMEBUFFER,null),i.enable(i.SCISSOR_TEST),this.setPipeline(this.pipelines.TextureTintPipeline),this.game.scale.on(h.RESIZE,this.onResize,this);var r=this.game.scale.baseSize;this.resize(r.width,r.height,this.game.scale.resolution)},onResize:function(e,t,i,r){t.width===this.width&&t.height===this.height&&r===this.resolution||this.resize(t.width,t.height,r)},resize:function(e,t,i){var r=this.gl,n=this.pipelines;for(var s in this.width=e,this.height=t,this.resolution=i,r.viewport(0,0,e,t),n)n[s].resize(e,t,i);return this.drawingBufferHeight=r.drawingBufferHeight,r.scissor(0,r.drawingBufferHeight-t,e,t),this.defaultCamera.setSize(e,t),this},hasExtension:function(e){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(e)},getExtension:function(e){return this.hasExtension(e)?(e in this.extensions||(this.extensions[e]=this.gl.getExtension(e)),this.extensions[e]):null},flush:function(){this.currentPipeline&&this.currentPipeline.flush()},hasPipeline:function(e){return e in this.pipelines},getPipeline:function(e){return this.hasPipeline(e)?this.pipelines[e]:null},removePipeline:function(e){return delete this.pipelines[e],this},addPipeline:function(e,t){return this.hasPipeline(e)?console.warn("Pipeline exists: "+e):this.pipelines[e]=t,t.name=e,this.pipelines[e].resize(this.width,this.height,this.config.resolution),t},pushScissor:function(e,t,i,r,n){void 0===n&&(n=this.drawingBufferHeight);var s=[e,t,i,r];return this.scissorStack.push(s),this.setScissor(e,t,i,r,n),this.currentScissor=s,s},setScissor:function(e,t,i,r,n){void 0===n&&(n=this.drawingBufferHeight);var s=this.gl,a=this.currentScissor,h=i>0&&r>0;if(a&&h){var u=a[0],o=a[1],l=a[2],f=a[3];h=u!==e||o!==t||l!==i||f!==r}h&&(this.flush(),s.scissor(e,n-t-r,i,r))},popScissor:function(){var e=this.scissorStack;e.pop();var t=e[e.length-1];t&&this.setScissor(t[0],t[1],t[2],t[3]),this.currentScissor=t},setPipeline:function(e,t){return this.currentPipeline===e&&this.currentPipeline.vertexBuffer===this.currentVertexBuffer&&this.currentPipeline.program===this.currentProgram||(this.flush(),this.currentPipeline=e,this.currentPipeline.bind()),this.currentPipeline.onBind(t),this.currentPipeline},hasActiveStencilMask:function(){var e=this.currentMask.mask,t=this.currentCameraMask.mask;return e&&e.isStencil||t&&t.isStencil},rebindPipeline:function(e){var t=this.gl;t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),this.hasActiveStencilMask()?t.clear(t.DEPTH_BUFFER_BIT):(t.disable(t.STENCIL_TEST),t.clear(t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT)),t.viewport(0,0,this.width,this.height),this.setBlendMode(0,!0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.blankTexture.glTexture),this.currentActiveTextureUnit=0,this.currentTextures[0]=this.blankTexture.glTexture,this.currentPipeline=e,this.currentPipeline.bind(),this.currentPipeline.onBind()},clearPipeline:function(){this.flush(),this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.setBlendMode(0,!0)},setBlendMode:function(e,t){void 0===t&&(t=!1);var i=this.gl,n=this.blendModes[e];return!!(t||e!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==e)&&(this.flush(),i.enable(i.BLEND),i.blendEquation(n.equation),n.func.length>2?i.blendFuncSeparate(n.func[0],n.func[1],n.func[2],n.func[3]):i.blendFunc(n.func[0],n.func[1]),this.currentBlendMode=e,!0)},addBlendMode:function(e,t){return this.blendModes.push({func:e,equation:t})-1},updateBlendMode:function(e,t,i){return this.blendModes[e]&&(this.blendModes[e].func=t,i&&(this.blendModes[e].equation=i)),this},removeBlendMode:function(e){return e>17&&this.blendModes[e]&&this.blendModes.splice(e,1),this},setBlankTexture:function(e){void 0===e&&(e=!1),!e&&0===this.currentActiveTextureUnit&&this.currentTextures[0]||this.setTexture2D(this.blankTexture.glTexture,0)},setTexture2D:function(e,t,i){void 0===i&&(i=!0);var r=this.gl;return e!==this.currentTextures[t]&&(i&&this.flush(),this.currentActiveTextureUnit!==t&&(r.activeTexture(r.TEXTURE0+t),this.currentActiveTextureUnit=t),r.bindTexture(r.TEXTURE_2D,e),this.currentTextures[t]=e),this},setFramebuffer:function(e,t){void 0===t&&(t=!1);var i=this.gl,r=this.width,n=this.height;return e!==this.currentFramebuffer&&(e&&e.renderTexture?(r=e.renderTexture.width,n=e.renderTexture.height):this.flush(),i.bindFramebuffer(i.FRAMEBUFFER,e),i.viewport(0,0,r,n),t&&(e?(this.drawingBufferHeight=n,this.pushScissor(0,0,r,n)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=e),this},setProgram:function(e){var t=this.gl;return e!==this.currentProgram&&(this.flush(),t.useProgram(e),this.currentProgram=e),this},setVertexBuffer:function(e){var t=this.gl;return e!==this.currentVertexBuffer&&(this.flush(),t.bindBuffer(t.ARRAY_BUFFER,e),this.currentVertexBuffer=e),this},setIndexBuffer:function(e){var t=this.gl;return e!==this.currentIndexBuffer&&(this.flush(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.currentIndexBuffer=e),this},createTextureFromSource:function(e,t,i,n){var a=this.gl,h=a.NEAREST,u=a.NEAREST,o=a.CLAMP_TO_EDGE;t=e?e.width:t,i=e?e.height:i;var l=s(t,i);return l&&(o=a.REPEAT),n===r.ScaleModes.LINEAR&&this.config.antialias&&(h=l?this.mipmapFilter:a.LINEAR,u=a.LINEAR),e||"number"!=typeof t||"number"!=typeof i?this.createTexture2D(0,h,u,o,o,a.RGBA,e):this.createTexture2D(0,h,u,o,o,a.RGBA,null,t,i)},createTexture2D:function(e,t,i,r,n,a,h,u,o,l,f,c){l=null==l||l,void 0===f&&(f=!1),void 0===c&&(c=!1);var d=this.gl,m=d.createTexture();return this.setTexture2D(m,0),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,t),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,i),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,n),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,r),d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,c),null==h?d.texImage2D(d.TEXTURE_2D,e,a,u,o,0,a,d.UNSIGNED_BYTE,null):(f||(u=h.width,o=h.height),d.texImage2D(d.TEXTURE_2D,e,a,a,d.UNSIGNED_BYTE,h)),s(u,o)&&d.generateMipmap(d.TEXTURE_2D),this.setTexture2D(null,0),m.isAlphaPremultiplied=l,m.isRenderTexture=!1,m.width=u,m.height=o,this.nativeTextures.push(m),m},createFramebuffer:function(e,t,i,r){var n,s=this.gl,a=s.createFramebuffer();if(this.setFramebuffer(a),r){var h=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,h),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,e,t),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,h)}if(i.isRenderTexture=!0,i.isAlphaPremultiplied=!1,s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,i,0),(n=s.checkFramebufferStatus(s.FRAMEBUFFER))!==s.FRAMEBUFFER_COMPLETE){throw new Error("Framebuffer incomplete. Framebuffer status: "+{36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"}[n])}return a.renderTexture=i,this.setFramebuffer(null),a},createProgram:function(e,t){var i=this.gl,r=i.createProgram(),n=i.createShader(i.VERTEX_SHADER),s=i.createShader(i.FRAGMENT_SHADER);if(i.shaderSource(n,e),i.shaderSource(s,t),i.compileShader(n),i.compileShader(s),!i.getShaderParameter(n,i.COMPILE_STATUS))throw new Error("Failed to compile Vertex Shader:\n"+i.getShaderInfoLog(n));if(!i.getShaderParameter(s,i.COMPILE_STATUS))throw new Error("Failed to compile Fragment Shader:\n"+i.getShaderInfoLog(s));if(i.attachShader(r,n),i.attachShader(r,s),i.linkProgram(r),!i.getProgramParameter(r,i.LINK_STATUS))throw new Error("Failed to link program:\n"+i.getProgramInfoLog(r));return r},createVertexBuffer:function(e,t){var i=this.gl,r=i.createBuffer();return this.setVertexBuffer(r),i.bufferData(i.ARRAY_BUFFER,e,t),this.setVertexBuffer(null),r},createIndexBuffer:function(e,t){var i=this.gl,r=i.createBuffer();return this.setIndexBuffer(r),i.bufferData(i.ELEMENT_ARRAY_BUFFER,e,t),this.setIndexBuffer(null),r},deleteTexture:function(e){var t=this.nativeTextures.indexOf(e);return-1!==t&&u(this.nativeTextures,t),this.gl.deleteTexture(e),this.currentTextures[0]!==e||this.game.pendingDestroy||this.setBlankTexture(!0),this},deleteFramebuffer:function(e){return this.gl.deleteFramebuffer(e),this},deleteProgram:function(e){return this.gl.deleteProgram(e),this},deleteBuffer:function(e){return this.gl.deleteBuffer(e),this},preRenderCamera:function(e){var i=e._cx,r=e._cy,n=e._cw,s=e._ch,a=this.pipelines.TextureTintPipeline,h=e.backgroundColor;if(e.renderToTexture){this.flush(),this.pushScissor(i,r,n,-s),this.setFramebuffer(e.framebuffer);var u=this.gl;u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),a.projOrtho(i,n+i,r,s+r,-1e3,1e3),e.mask&&(this.currentCameraMask.mask=e.mask,this.currentCameraMask.camera=e._maskCamera,e.mask.preRenderWebGL(this,e,e._maskCamera)),h.alphaGL>0&&a.drawFillRect(i,r,n+i,s+r,f.getTintFromFloats(h.redGL,h.greenGL,h.blueGL,1),h.alphaGL),e.emit(t.PRE_RENDER,e)}else this.pushScissor(i,r,n,s),e.mask&&(this.currentCameraMask.mask=e.mask,this.currentCameraMask.camera=e._maskCamera,e.mask.preRenderWebGL(this,e,e._maskCamera)),h.alphaGL>0&&a.drawFillRect(i,r,n,s,f.getTintFromFloats(h.redGL,h.greenGL,h.blueGL,1),h.alphaGL)},getCurrentStencilMask:function(){var e=null,t=this.maskStack,i=this.currentCameraMask;return t.length>0?e=t[t.length-1]:i.mask&&i.mask.isStencil&&(e=i),e},postRenderCamera:function(e){this.setPipeline(this.pipelines.TextureTintPipeline);var i=this.pipelines.TextureTintPipeline;if(e.flashEffect.postRenderWebGL(i,f.getTintFromFloats),e.fadeEffect.postRenderWebGL(i,f.getTintFromFloats),e.dirty=!1,this.popScissor(),e.renderToTexture){if(i.flush(),this.setFramebuffer(null),e.emit(t.POST_RENDER,e),e.renderToGame){i.projOrtho(0,i.width,i.height,0,-1e3,1e3);var r=f.getTintAppendFloatAlpha;(e.pipeline?e.pipeline:i).batchTexture(e,e.glTexture,e.width,e.height,e.x,e.y,e.width,e.height,e.zoom,e.zoom,e.rotation,e.flipX,!e.flipY,1,1,0,0,0,0,e.width,e.height,r(e._tintTL,e._alphaTL),r(e._tintTR,e._alphaTR),r(e._tintBL,e._alphaBL),r(e._tintBR,e._alphaBR),e._isTinted&&e.tintFill,0,0,this.defaultCamera,null)}this.setBlankTexture(!0)}e.mask&&(this.currentCameraMask.mask=null,e.mask.postRenderWebGL(this,e._maskCamera))},preRender:function(){if(!this.contextLost){var e=this.gl,t=this.pipelines;if(e.bindFramebuffer(e.FRAMEBUFFER,null),this.config.clearBeforeRender){var i=this.config.backgroundColor;e.clearColor(i.redGL,i.greenGL,i.blueGL,i.alphaGL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT)}for(var r in e.enable(e.SCISSOR_TEST),t)t[r].onPreRender();this.currentScissor=[0,0,this.width,this.height],this.scissorStack=[this.currentScissor],this.game.scene.customViewports&&e.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.setPipeline(this.pipelines.TextureTintPipeline)}},render:function(e,t,i,n){if(!this.contextLost){var s=t.list,a=s.length,h=this.pipelines;for(var u in h)h[u].onRender(e,n);if(this.preRenderCamera(n),0===a)return this.setBlendMode(r.BlendModes.NORMAL),void this.postRenderCamera(n);this.currentType="";for(var o=this.currentMask,l=0;l<a;l++){var f=s[l];if(f.willRender(n)){f.blendMode!==this.currentBlendMode&&this.setBlendMode(f.blendMode);var c=f.mask;(o=this.currentMask).mask&&o.mask!==c&&o.mask.postRenderWebGL(this,o.camera),c&&o.mask!==c&&c.preRenderWebGL(this,f,n);var d=f.type;d!==this.currentType&&(this.newType=!0,this.currentType=d),this.nextTypeMatch=l<a-1&&s[l+1].type===this.currentType,f.renderWebGL(this,f,i,n),this.newType=!1}}(o=this.currentMask).mask&&o.mask.postRenderWebGL(this,o.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(n)}},postRender:function(){if(!this.contextLost){this.flush();var e=this.snapshotState;e.callback&&(c(this.canvas,e),e.callback=null);var t=this.pipelines;for(var i in t)t[i].onPostRender()}},snapshot:function(e,t,i){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,e,t,i)},snapshotArea:function(e,t,i,r,n,s,a){var h=this.snapshotState;return h.callback=n,h.type=s,h.encoder=a,h.getPixel=!1,h.x=e,h.y=t,h.width=Math.min(i,this.gl.drawingBufferWidth),h.height=Math.min(r,this.gl.drawingBufferHeight),this},snapshotPixel:function(e,t,i){return this.snapshotArea(e,t,1,1,i),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(e,t,i,r,n,s,a,h,u,o,l){void 0===n&&(n=!1),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=t),void 0===u&&(u=i);var f=this.currentFramebuffer;this.snapshotArea(s,a,h,u,r,o,l);var d=this.snapshotState;return d.getPixel=n,d.isFramebuffer=!0,d.bufferWidth=t,d.bufferHeight=i,this.setFramebuffer(e),c(this.canvas,d),this.setFramebuffer(f),d.callback=null,d.isFramebuffer=!1,this},canvasToTexture:function(e,t,i,r){return void 0===i&&(i=!1),void 0===r&&(r=!1),t?this.updateCanvasTexture(e,t,r):this.createCanvasTexture(e,i,r)},createCanvasTexture:function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var r=this.gl,n=r.NEAREST,a=r.NEAREST,h=e.width,u=e.height,o=r.CLAMP_TO_EDGE,l=s(h,u);return!t&&l&&(o=r.REPEAT),this.config.antialias&&(n=l?this.mipmapFilter:r.LINEAR,a=r.LINEAR),this.createTexture2D(0,n,a,o,o,r.RGBA,e,h,u,!0,!1,i)},updateCanvasTexture:function(e,t,i){void 0===i&&(i=!1);var r=this.gl,n=e.width,s=e.height;return n>0&&s>0&&(this.setTexture2D(t,0),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,i),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e),t.width=n,t.height=s,this.setTexture2D(null,0)),t},createVideoTexture:function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var r=this.gl,n=r.NEAREST,a=r.NEAREST,h=e.videoWidth,u=e.videoHeight,o=r.CLAMP_TO_EDGE,l=s(h,u);return!t&&l&&(o=r.REPEAT),this.config.antialias&&(n=l?this.mipmapFilter:r.LINEAR,a=r.LINEAR),this.createTexture2D(0,n,a,o,o,r.RGBA,e,h,u,!0,!0,i)},updateVideoTexture:function(e,t,i){void 0===i&&(i=!1);var r=this.gl,n=e.videoWidth,s=e.videoHeight;return n>0&&s>0&&(this.setTexture2D(t,0),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,i),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e),t.width=n,t.height=s,this.setTexture2D(null,0)),t},setTextureFilter:function(e,t){var i=this.gl,r=[i.LINEAR,i.NEAREST][t];return this.setTexture2D(e,0),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,r),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,r),this.setTexture2D(null,0),this},setFloat1:function(e,t,i){return this.setProgram(e),this.gl.uniform1f(this.gl.getUniformLocation(e,t),i),this},setFloat2:function(e,t,i,r){return this.setProgram(e),this.gl.uniform2f(this.gl.getUniformLocation(e,t),i,r),this},setFloat3:function(e,t,i,r,n){return this.setProgram(e),this.gl.uniform3f(this.gl.getUniformLocation(e,t),i,r,n),this},setFloat4:function(e,t,i,r,n,s){return this.setProgram(e),this.gl.uniform4f(this.gl.getUniformLocation(e,t),i,r,n,s),this},setFloat1v:function(e,t,i){return this.setProgram(e),this.gl.uniform1fv(this.gl.getUniformLocation(e,t),i),this},setFloat2v:function(e,t,i){return this.setProgram(e),this.gl.uniform2fv(this.gl.getUniformLocation(e,t),i),this},setFloat3v:function(e,t,i){return this.setProgram(e),this.gl.uniform3fv(this.gl.getUniformLocation(e,t),i),this},setFloat4v:function(e,t,i){return this.setProgram(e),this.gl.uniform4fv(this.gl.getUniformLocation(e,t),i),this},setInt1:function(e,t,i){return this.setProgram(e),this.gl.uniform1i(this.gl.getUniformLocation(e,t),i),this},setInt2:function(e,t,i,r){return this.setProgram(e),this.gl.uniform2i(this.gl.getUniformLocation(e,t),i,r),this},setInt3:function(e,t,i,r,n){return this.setProgram(e),this.gl.uniform3i(this.gl.getUniformLocation(e,t),i,r,n),this},setInt4:function(e,t,i,r,n,s){return this.setProgram(e),this.gl.uniform4i(this.gl.getUniformLocation(e,t),i,r,n,s),this},setMatrix2:function(e,t,i,r){return this.setProgram(e),this.gl.uniformMatrix2fv(this.gl.getUniformLocation(e,t),i,r),this},setMatrix3:function(e,t,i,r){return this.setProgram(e),this.gl.uniformMatrix3fv(this.gl.getUniformLocation(e,t),i,r),this},setMatrix4:function(e,t,i,r){return this.setProgram(e),this.gl.uniformMatrix4fv(this.gl.getUniformLocation(e,t),i,r),this},getMaxTextures:function(){return this.config.maxTextures},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){for(var e=0;e<this.nativeTextures.length;e++)this.gl.deleteTexture(this.nativeTextures[e]);for(var t in this.nativeTextures=[],this.pipelines)this.pipelines[t].destroy(),delete this.pipelines[t];this.defaultCamera.destroy(),this.currentMask=null,this.currentCameraMask=null,this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.game=null,this.gl=null,this.canvas=null,this.maskStack=[],this.contextLost=!0,this.extensions={}}});module.exports=T;
},{"../../cameras/2d/BaseCamera":"cnbb","../../cameras/2d/events":"nSiV","../../utils/Class":"JASv","../../const":"BLd6","../../core/events":"Dc0S","../../math/pow2/IsSizePowerOfTwo":"vq1z","../../utils/NOOP":"lZkB","../../scale/events":"A24E","../../utils/array/SpliceOne":"R1sC","../../textures/events":"Gfo3","../../gameobjects/components/TransformMatrix":"s0s4","./Utils":"ZkeT","../snapshot/WebGLSnapshot":"AiRy","./pipelines/BitmapMaskPipeline":"Vf9c","./pipelines/ForwardDiffuseLightPipeline":"c2nI","./pipelines/TextureTintPipeline":"MqnU","./pipelines/TextureTintStripPipeline":"ccBL"}],"bHoU":[function(require,module,exports) {
var e=require("../display/canvas/CanvasInterpolation"),r=require("../display/canvas/CanvasPool"),n=require("../const"),a=require("../device/Features"),s=function(s){var t=s.config;if((t.customEnvironment||t.canvas)&&t.renderType===n.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!t.customEnvironment&&!t.canvas&&t.renderType!==n.HEADLESS)if(t.renderType===n.CANVAS||t.renderType!==n.CANVAS&&!a.webGL){if(!a.canvas)throw new Error("Cannot create Canvas or WebGL context, aborting.");t.renderType=n.CANVAS}else t.renderType=n.WEBGL;t.antialias||r.disableSmoothing();var i,c,o=s.scale.baseSize,v=o.width,d=o.height;(t.canvas?(s.canvas=t.canvas,s.canvas.width=v,s.canvas.height=d):s.canvas=r.create(s,v,d,t.renderType),t.canvasStyle&&(s.canvas.style=t.canvasStyle),t.antialias||e.setCrisp(s.canvas),t.renderType!==n.HEADLESS)&&(i=require("../renderer/canvas/CanvasRenderer"),c=require("../renderer/webgl/WebGLRenderer"),t.renderType===n.WEBGL?s.renderer=new c(s):(s.renderer=new i(s),s.context=s.renderer.gameContext))};module.exports=s;
},{"../display/canvas/CanvasInterpolation":"IIpR","../display/canvas/CanvasPool":"J9p3","../const":"BLd6","../device/Features":"TWyt","../renderer/canvas/CanvasRenderer":"aHN6","../renderer/webgl/WebGLRenderer":"xKuU"}],"l4z9":[function(require,module,exports) {
var o=require("../const"),e=function(e){var a=e.config;if(!a.hideBanner){var r="WebGL";a.renderType===o.CANVAS?r="Canvas":a.renderType===o.HEADLESS&&(r="Headless");var n,c=a.audio,i=e.device.audio;if(n=!i.webAudio||c&&c.disableWebAudio?c&&c.noAudio||!i.webAudio&&!i.audioData?"No Audio":"HTML5 Audio":"Web Audio",e.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var d,s="",u=[s];if(Array.isArray(a.bannerBackgroundColor))a.bannerBackgroundColor.forEach(function(o){s=s.concat("%c "),u.push("background: "+o),d=o}),u[u.length-1]="color: "+a.bannerTextColor+"; background: "+d;else s=s.concat("%c "),u.push("color: "+a.bannerTextColor+"; background: "+a.bannerBackgroundColor);u.push("background: #fff"),a.gameTitle&&(s=s.concat(a.gameTitle),a.gameVersion&&(s=s.concat(" v"+a.gameVersion)),a.hidePhaser||(s=s.concat(" / ")));a.hidePhaser||(s=s.concat("Phaser v"+o.VERSION+"-FB ("+r+" | "+n+")")),s=s.concat(" %c "+a.gameURL),u[0]=s,console.log.apply(console,u)}}};module.exports=e;
},{"../const":"BLd6"}],"d2XU":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("../utils/NOOP"),e=new t({initialize:function(){this.isRunning=!1,this.callback=i,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var t=this;this.step=function i(){var e=window.performance.now();t.lastTime=t.tick,t.tick=e,t.callback(e),t.timeOutID=window.requestAnimationFrame(i)},this.stepTimeout=function i(){var e=Date.now(),s=Math.min(Math.max(2*t.target+t.tick-e,0),t.target);t.lastTime=t.tick,t.tick=e,t.callback(e),t.timeOutID=window.setTimeout(i,s)}},start:function(t,i,e){this.isRunning||(this.callback=t,this.isSetTimeOut=i,this.target=e,this.isRunning=!0,this.timeOutID=i?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=i}});module.exports=e;
},{"../utils/Class":"JASv","../utils/NOOP":"lZkB"}],"HAtH":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("../utils/object/GetValue"),s=require("../utils/NOOP"),e=require("../dom/RequestAnimationFrame"),h=new t({initialize:function(t,h){this.game=t,this.raf=new e,this.started=!1,this.running=!1,this.minFps=i(h,"min",5),this.targetFps=i(h,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=s,this.forceSetTimeOut=i(h,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=i(h,"deltaHistory",10),this.panicMax=i(h,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=i(h,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var t=window.performance.now();this.time=t,this.lastTime=t,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=Math.min(this._target,this.deltaHistory[i]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(t){if(this.started)return this;this.started=!0,this.running=!0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=t,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var t=window.performance.now();this.now=t;var i=t-this.lastTime;i<0&&(i=0),this.rawDelta=i;var s=this.deltaIndex,e=this.deltaHistory,h=this.deltaSmoothingMax,a=i,n=i;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,a=Math.min(a,this._target)),a>this._min&&(a=e[s],a=Math.min(a,this._min)),e[s]=a,this.deltaIndex++,this.deltaIndex>h&&(this.deltaIndex=0),n=0;for(var r=0;r<h;r++)n+=e[r];n/=h}this.delta=n,this.time+=this.rawDelta,t>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0),this.framesThisSecond++;var o=n/this._target;this.callback(t,n,o),this.lastTime=t,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(t){this.running?this.sleep():t&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step()},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=s,this.raf=null,this.game=null}});module.exports=h;
},{"../utils/Class":"JASv","../utils/object/GetValue":"OqLI","../utils/NOOP":"lZkB","../dom/RequestAnimationFrame":"d2XU"}],"Q6Yj":[function(require,module,exports) {
var n=require("./events"),e=function(e){var i,o=e.events;if(void 0!==document.hidden)i="visibilitychange";else{["webkit","moz","ms"].forEach(function(n){void 0!==document[n+"Hidden"]&&(document.hidden=function(){return document[n+"Hidden"]},i=n+"visibilitychange")})}i&&document.addEventListener(i,function(e){document.hidden||"pause"===e.type?o.emit(n.HIDDEN):o.emit(n.VISIBLE)},!1),window.onblur=function(){o.emit(n.BLUR)},window.onfocus=function(){o.emit(n.FOCUS)},window.focus&&e.config.autoFocus&&window.focus()};module.exports=e;
},{"./events":"Dc0S"}],"WTFh":[function(require,module,exports) {
module.exports={Config:require("./Config"),CreateRenderer:require("./CreateRenderer"),DebugHeader:require("./DebugHeader"),Events:require("./events"),TimeStep:require("./TimeStep"),VisibilityHandler:require("./VisibilityHandler")};
},{"./Config":"coGi","./CreateRenderer":"bHoU","./DebugHeader":"l4z9","./events":"Dc0S","./TimeStep":"HAtH","./VisibilityHandler":"Q6Yj"}],"ywhS":[function(require,module,exports) {
module.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"};
},{}],"tsgN":[function(require,module,exports) {
var e=require("./palettes/Arne16"),t=require("../display/canvas/CanvasPool"),a=require("../utils/object/GetValue"),l=function(l){var r=a(l,"data",[]),n=a(l,"canvas",null),i=a(l,"palette",e),h=a(l,"pixelWidth",1),o=a(l,"pixelHeight",h),s=a(l,"resizeCanvas",!0),u=a(l,"clearCanvas",!0),v=a(l,"preRender",null),c=a(l,"postRender",null),d=Math.floor(Math.abs(r[0].length*h)),p=Math.floor(Math.abs(r.length*o));n||(n=t.create2D(this,d,p),s=!1,u=!1),s&&(n.width=d,n.height=p);var f=n.getContext("2d");u&&f.clearRect(0,0,d,p),v&&v(n,f);for(var g=0;g<r.length;g++)for(var x=r[g],C=0;C<x.length;C++){var M=x[C];"."!==M&&" "!==M&&(f.fillStyle=i[M],f.fillRect(C*h,g*o,h,o))}return c&&c(n,f),n};module.exports=l;
},{"./palettes/Arne16":"ywhS","../display/canvas/CanvasPool":"J9p3","../utils/object/GetValue":"OqLI"}],"aZlK":[function(require,module,exports) {
module.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"};
},{}],"P9Z2":[function(require,module,exports) {
module.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"};
},{}],"hM5Y":[function(require,module,exports) {
module.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"};
},{}],"XcAH":[function(require,module,exports) {
module.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"};
},{}],"RmsJ":[function(require,module,exports) {
module.exports={ARNE16:require("./Arne16"),C64:require("./C64"),CGA:require("./CGA"),JMP:require("./JMP"),MSX:require("./MSX")};
},{"./Arne16":"ywhS","./C64":"aZlK","./CGA":"P9Z2","./JMP":"hM5Y","./MSX":"XcAH"}],"IFpz":[function(require,module,exports) {
module.exports={GenerateTexture:require("./GenerateTexture"),Palettes:require("./palettes")};
},{"./GenerateTexture":"tsgN","./palettes":"RmsJ"}],"IP12":[function(require,module,exports) {
var r=require("./Rectangle"),e=require("../../math/const"),t=function(t,a){if(void 0===a&&(a=new r),0===t.length)return a;for(var n,h,i,m=Number.MAX_VALUE,u=Number.MAX_VALUE,A=e.MIN_SAFE_INTEGER,E=e.MIN_SAFE_INTEGER,M=0;M<t.length;M++)n=t[M],Array.isArray(n)?(h=n[0],i=n[1]):(h=n.x,i=n.y),m=Math.min(m,h),u=Math.min(u,i),A=Math.max(A,h),E=Math.max(E,i);return a.x=m,a.y=u,a.width=A-m,a.height=E-u,a};module.exports=t;
},{"./Rectangle":"wYVB","../../math/const":"HC1y"}],"oP44":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("../geom/rectangle/FromPoints"),n=require("../geom/rectangle/Rectangle"),i=require("../math/Vector2"),s=new t({initialize:function(t){this.type=t,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new i,this._tmpVec2B=new i},draw:function(t,e){return void 0===e&&(e=32),t.strokePoints(this.getPoints(e))},getBounds:function(t,i){t||(t=new n),void 0===i&&(i=16);var s=this.getLength();i>s&&(i=s/2);var r=Math.max(1,Math.round(s/i));return e(this.getSpacedPoints(r),t)},getDistancePoints:function(t){var e=this.getLength(),n=Math.max(1,e/t);return this.getSpacedPoints(n)},getEndPoint:function(t){return void 0===t&&(t=new i),this.getPointAt(1,t)},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n=[],i=this.getPoint(0,this._tmpVec2A),s=0;n.push(0);for(var r=1;r<=t;r++)s+=(e=this.getPoint(r/t,this._tmpVec2B)).distance(i),n.push(s),i.copy(e);return this.cacheArcLengths=n,n},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t,e,n){void 0===n&&(n=[]),t||(t=e?this.getLength()/e:this.defaultDivisions);for(var i=0;i<=t;i++)n.push(this.getPoint(i/t));return n},getRandomPoint:function(t){return void 0===t&&(t=new i),this.getPoint(Math.random(),t)},getSpacedPoints:function(t,e,n){void 0===n&&(n=[]),t||(t=e?this.getLength()/e:this.defaultDivisions);for(var i=0;i<=t;i++){var s=this.getUtoTmapping(i/t,null,t);n.push(this.getPoint(s))}return n},getStartPoint:function(t){return void 0===t&&(t=new i),this.getPointAt(0,t)},getTangent:function(t,e){void 0===e&&(e=new i);var n=t-1e-4,s=t+1e-4;return n<0&&(n=0),s>1&&(s=1),this.getPoint(n,this._tmpVec2A),this.getPoint(s,e),e.subtract(this._tmpVec2A).normalize()},getTangentAt:function(t,e){var n=this.getUtoTmapping(t);return this.getTangent(n,e)},getTFromDistance:function(t,e){return t<=0?0:this.getUtoTmapping(0,t,e)},getUtoTmapping:function(t,e,n){var i,s=this.getLengths(n),r=0,h=s.length;i=e?Math.min(e,s[h-1]):t*s[h-1];for(var o,g=0,a=h-1;g<=a;)if((o=s[r=Math.floor(g+(a-g)/2)]-i)<0)g=r+1;else{if(!(o>0)){a=r;break}a=r-1}if(s[r=a]===i)return r/(h-1);var u=s[r];return(r+(i-u)/(s[r+1]-u))/(h-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});module.exports=s;
},{"../utils/Class":"JASv","../geom/rectangle/FromPoints":"IP12","../geom/rectangle/Rectangle":"wYVB","../math/Vector2":"qKN5"}],"rx9H":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("../math/interpolation/CubicBezierInterpolation"),e=require("./Curve"),n=require("../math/Vector2"),r=new t({Extends:e,initialize:function(t,i,r,s){e.call(this,"CubicBezierCurve"),Array.isArray(t)&&(s=new n(t[6],t[7]),r=new n(t[4],t[5]),i=new n(t[2],t[3]),t=new n(t[0],t[1])),this.p0=t,this.p1=i,this.p2=r,this.p3=s},getStartPoint:function(t){return void 0===t&&(t=new n),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){void 0===e&&(e=new n);var r=this.p0,s=this.p1,o=this.p2,h=this.p3;return e.set(i(t,r.x,s.x,o.x,h.x),i(t,r.y,s.y,o.y,h.y))},draw:function(t,i){void 0===i&&(i=32);var e=this.getPoints(i);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(t){var i=t.points,e=new n(i[0],i[1]),s=new n(i[2],i[3]),o=new n(i[4],i[5]),h=new n(i[6],i[7]);return new r(e,s,o,h)},module.exports=r;
},{"../utils/Class":"JASv","../math/interpolation/CubicBezierInterpolation":"n5uh","./Curve":"oP44","../math/Vector2":"qKN5"}],"pVok":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("./Curve"),n=require("../math/DegToRad"),s=require("../utils/object/GetValue"),e=require("../math/RadToDeg"),o=require("../math/Vector2"),r=new t({Extends:i,initialize:function(t,e,r,u,h,a,c,d){if("object"==typeof t){var l=t;t=s(l,"x",0),e=s(l,"y",0),r=s(l,"xRadius",0),u=s(l,"yRadius",r),h=s(l,"startAngle",0),a=s(l,"endAngle",360),c=s(l,"clockwise",!1),d=s(l,"rotation",0)}else void 0===u&&(u=r),void 0===h&&(h=0),void 0===a&&(a=360),void 0===c&&(c=!1),void 0===d&&(d=0);i.call(this,"EllipseCurve"),this.p0=new o(t,e),this._xRadius=r,this._yRadius=u,this._startAngle=n(h),this._endAngle=n(a),this._clockwise=c,this._rotation=n(d)},getStartPoint:function(t){return void 0===t&&(t=new o),this.getPoint(0,t)},getResolution:function(t){return 2*t},getPoint:function(t,i){void 0===i&&(i=new o);for(var n=2*Math.PI,s=this._endAngle-this._startAngle,e=Math.abs(s)<Number.EPSILON;s<0;)s+=n;for(;s>n;)s-=n;s<Number.EPSILON&&(s=e?0:n),this._clockwise&&!e&&(s===n?s=-n:s-=n);var r=this._startAngle+t*s,u=this.p0.x+this._xRadius*Math.cos(r),h=this.p0.y+this._yRadius*Math.sin(r);if(0!==this._rotation){var a=Math.cos(this._rotation),c=Math.sin(this._rotation),d=u-this.p0.x,l=h-this.p0.y;u=d*a-l*c+this.p0.x,h=d*c+l*a+this.p0.y}return i.set(u,h)},setXRadius:function(t){return this.xRadius=t,this},setYRadius:function(t){return this.yRadius=t,this},setWidth:function(t){return this.xRadius=2*t,this},setHeight:function(t){return this.yRadius=2*t,this},setStartAngle:function(t){return this.startAngle=t,this},setEndAngle:function(t){return this.endAngle=t,this},setClockwise:function(t){return this.clockwise=t,this},setRotation:function(t){return this.rotation=t,this},x:{get:function(){return this.p0.x},set:function(t){this.p0.x=t}},y:{get:function(){return this.p0.y},set:function(t){this.p0.y=t}},xRadius:{get:function(){return this._xRadius},set:function(t){this._xRadius=t}},yRadius:{get:function(){return this._yRadius},set:function(t){this._yRadius=t}},startAngle:{get:function(){return e(this._startAngle)},set:function(t){this._startAngle=n(t)}},endAngle:{get:function(){return e(this._endAngle)},set:function(t){this._endAngle=n(t)}},clockwise:{get:function(){return this._clockwise},set:function(t){this._clockwise=t}},angle:{get:function(){return e(this._rotation)},set:function(t){this._rotation=n(t)}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=t}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:e(this._startAngle),endAngle:e(this._endAngle),clockwise:this._clockwise,rotation:e(this._rotation)}}});r.fromJSON=function(t){return new r(t)},module.exports=r;
},{"../utils/Class":"JASv","./Curve":"oP44","../math/DegToRad":"VYZO","../utils/object/GetValue":"OqLI","../math/RadToDeg":"vauQ","../math/Vector2":"qKN5"}],"QDoc":[function(require,module,exports) {
var s=require("../utils/Class"),t=require("../plugins/PluginCache"),e=require("../scene/events"),i=new s({initialize:function(s){this.scene=s,this.systems=s.sys,this.displayList,this.updateList,s.sys.events.once(e.BOOT,this.boot,this),s.sys.events.on(e.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once(e.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(e.SHUTDOWN,this.shutdown,this)},existing:function(s){return(s.renderCanvas||s.renderWebGL)&&this.displayList.add(s),s.preUpdate&&this.updateList.add(s),s},shutdown:function(){this.systems.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(e.START,this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});i.register=function(s,t){i.prototype.hasOwnProperty(s)||(i.prototype[s]=t)},i.remove=function(s){i.prototype.hasOwnProperty(s)&&delete i.prototype[s]},t.register("GameObjectFactory",i,"add"),module.exports=i;
},{"../utils/Class":"JASv","../plugins/PluginCache":"ZrqD","../scene/events":"zvkO"}],"OSf9":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("./Curve"),n=require("../geom/rectangle/FromPoints"),i=require("../geom/rectangle/Rectangle"),r=require("../math/Vector2"),s=new r,o=new t({Extends:e,initialize:function(t,n){e.call(this,"LineCurve"),Array.isArray(t)&&(n=new r(t[2],t[3]),t=new r(t[0],t[1])),this.p0=t,this.p1=n,this.arcLengthDivisions=1},getBounds:function(t){return void 0===t&&(t=new i),n([this.p0,this.p1],t)},getStartPoint:function(t){return void 0===t&&(t=new r),t.copy(this.p0)},getResolution:function(t){return void 0===t&&(t=1),t},getPoint:function(t,e){return void 0===e&&(e=new r),1===t?e.copy(this.p1):(e.copy(this.p1).subtract(this.p0).scale(t).add(this.p0),e)},getPointAt:function(t,e){return this.getPoint(t,e)},getTangent:function(){return s.copy(this.p1).subtract(this.p0).normalize()},getUtoTmapping:function(t,e,n){var i;if(e){var r=this.getLengths(n),s=r[r.length-1];i=Math.min(e,s)/s}else i=t;return i},draw:function(t){return t.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});o.fromJSON=function(t){var e=t.points,n=new r(e[0],e[1]),i=new r(e[2],e[3]);return new o(n,i)},module.exports=o;
},{"../utils/Class":"JASv","./Curve":"oP44","../geom/rectangle/FromPoints":"IP12","../geom/rectangle/Rectangle":"wYVB","../math/Vector2":"qKN5"}],"pT7z":[function(require,module,exports) {
var t=require("../../utils/Class"),n=require("../../math/Vector2"),e=new t({initialize:function(t,e){this.active=!1,this.p0=new n(t,e)},getPoint:function(t,e){return void 0===e&&(e=new n),e.copy(this.p0)},getPointAt:function(t,n){return this.getPoint(t,n)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});module.exports=e;
},{"../../utils/Class":"JASv","../../math/Vector2":"qKN5"}],"ii8t":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("./Curve"),e=require("../math/interpolation/QuadraticBezierInterpolation"),n=require("../math/Vector2"),r=new t({Extends:i,initialize:function(t,e,r){i.call(this,"QuadraticBezier"),Array.isArray(t)&&(r=new n(t[4],t[5]),e=new n(t[2],t[3]),t=new n(t[0],t[1])),this.p0=t,this.p1=e,this.p2=r},getStartPoint:function(t){return void 0===t&&(t=new n),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,i){void 0===i&&(i=new n);var r=this.p0,o=this.p1,s=this.p2;return i.set(e(t,r.x,o.x,s.x),e(t,r.y,o.y,s.y))},draw:function(t,i){void 0===i&&(i=32);var e=this.getPoints(i);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(t){var i=t.points,e=new n(i[0],i[1]),o=new n(i[2],i[3]),s=new n(i[4],i[5]);return new r(e,o,s)},module.exports=r;
},{"../utils/Class":"JASv","./Curve":"oP44","../math/interpolation/QuadraticBezierInterpolation":"jkAk","../math/Vector2":"qKN5"}],"GSjD":[function(require,module,exports) {
var t=require("../math/CatmullRom"),n=require("../utils/Class"),i=require("./Curve"),e=require("../math/Vector2"),r=new n({Extends:i,initialize:function(t){void 0===t&&(t=[]),i.call(this,"SplineCurve"),this.points=[],this.addPoints(t)},addPoints:function(t){for(var n=0;n<t.length;n++){var i=new e;"number"==typeof t[n]?(i.x=t[n],i.y=t[n+1],n++):Array.isArray(t[n])?(i.x=t[n][0],i.y=t[n][1]):(i.x=t[n].x,i.y=t[n].y),this.points.push(i)}return this},addPoint:function(t,n){var i=new e(t,n);return this.points.push(i),i},getStartPoint:function(t){return void 0===t&&(t=new e),t.copy(this.points[0])},getResolution:function(t){return t*this.points.length},getPoint:function(n,i){void 0===i&&(i=new e);var r=this.points,o=(r.length-1)*n,s=Math.floor(o),u=o-s,h=r[0===s?s:s-1],p=r[s],a=r[s>r.length-2?r.length-1:s+1],l=r[s>r.length-3?r.length-1:s+2];return i.set(t(u,h.x,p.x,a.x,l.x),t(u,h.y,p.y,a.y,l.y))},toJSON:function(){for(var t=[],n=0;n<this.points.length;n++)t.push(this.points[n].x),t.push(this.points[n].y);return{type:this.type,points:t}}});r.fromJSON=function(t){return new r(t.points)},module.exports=r;
},{"../math/CatmullRom":"t86q","../utils/Class":"JASv","./Curve":"oP44","../math/Vector2":"qKN5"}],"yu44":[function(require,module,exports) {
var t=require("../../utils/Class"),e=require("../CubicBezierCurve"),i=require("../EllipseCurve"),n=require("../../gameobjects/GameObjectFactory"),r=require("../LineCurve"),s=require("./MoveTo"),h=require("../QuadraticBezierCurve"),u=require("../../geom/rectangle/Rectangle"),o=require("../SplineCurve"),a=require("../../math/Vector2"),c=require("../../math/const"),v=new t({initialize:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new a,this._tmpVec2A=new a,this._tmpVec2B=new a,"object"==typeof t?this.fromJSON(t):this.startPoint.set(t,e)},add:function(t){return this.curves.push(t),this},circleTo:function(t,e,i){return void 0===e&&(e=!1),this.ellipseTo(t,t,0,360,e,i)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);return t.equals(e)||this.curves.push(new r(e,t)),this},cubicBezierTo:function(t,i,n,r,s,h){var u,o,c,v=this.getEndPoint();return t instanceof a?(u=t,o=i,c=n):(u=new a(n,r),o=new a(s,h),c=new a(t,i)),this.add(new e(v,u,o,c))},quadraticBezierTo:function(t,e,i,n){var r,s,u=this.getEndPoint();return t instanceof a?(r=t,s=e):(r=new a(i,n),s=new a(t,e)),this.add(new h(u,r,s))},draw:function(t,e){for(var i=0;i<this.curves.length;i++){var n=this.curves[i];n.active&&n.draw(t,e)}return t},ellipseTo:function(t,e,n,r,s,h){var u=new i(0,0,t,e,n,r,s,h),o=this.getEndPoint(this._tmpVec2A),a=u.getStartPoint(this._tmpVec2B);return o.subtract(a),u.x=o.x,u.y=o.y,this.add(u)},fromJSON:function(t){this.curves=[],this.cacheLengths=[],this.startPoint.set(t.x,t.y),this.autoClose=t.autoClose;for(var n=0;n<t.curves.length;n++){var s=t.curves[n];switch(s.type){case"LineCurve":this.add(r.fromJSON(s));break;case"EllipseCurve":this.add(i.fromJSON(s));break;case"SplineCurve":this.add(o.fromJSON(s));break;case"CubicBezierCurve":this.add(e.fromJSON(s));break;case"QuadraticBezierCurve":this.add(h.fromJSON(s))}}return this},getBounds:function(t,e){void 0===t&&(t=new u),void 0===e&&(e=16),t.x=Number.MAX_VALUE,t.y=Number.MAX_VALUE;for(var i=new u,n=c.MIN_SAFE_INTEGER,r=c.MIN_SAFE_INTEGER,s=0;s<this.curves.length;s++){var h=this.curves[s];h.active&&(h.getBounds(i,e),t.x=Math.min(t.x,i.x),t.y=Math.min(t.y,i.y),n=Math.max(n,i.right),r=Math.max(r,i.bottom))}return t.right=n,t.bottom=r,t},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0;i<this.curves.length;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getEndPoint:function(t){return void 0===t&&(t=new a),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,t):t.copy(this.startPoint),t},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},getPoint:function(t,e){void 0===e&&(e=new a);for(var i=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=i){var s=n[r]-i,h=this.curves[r],u=h.getLength(),o=0===u?0:1-s/u;return h.getPointAt(o,e)}r++}return null},getPoints:function(t){void 0===t&&(t=12);for(var e,i=[],n=0;n<this.curves.length;n++){var r=this.curves[n];if(r.active)for(var s=r.getResolution(t),h=r.getPoints(s),u=0;u<h.length;u++){var o=h[u];e&&e.equals(o)||(i.push(o),e=o)}}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},getRandomPoint:function(t){return void 0===t&&(t=new a),this.getPoint(Math.random(),t)},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getStartPoint:function(t){return void 0===t&&(t=new a),t.copy(this.startPoint)},getTangent:function(t,e){void 0===e&&(e=new a);for(var i=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=i){var s=n[r]-i,h=this.curves[r],u=h.getLength(),o=0===u?0:1-s/u;return h.getTangentAt(o,e)}r++}return null},lineTo:function(t,e){t instanceof a?this._tmpVec2B.copy(t):this._tmpVec2B.set(t,e);var i=this.getEndPoint(this._tmpVec2A);return this.add(new r([i.x,i.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(t){return t.unshift(this.getEndPoint()),this.add(new o(t))},moveTo:function(t,e){return t instanceof a?this.add(new s(t.x,t.y)):this.add(new s(t,e))},toJSON:function(){for(var t=[],e=0;e<this.curves.length;e++)t.push(this.curves[e].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:t}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});n.register("path",function(t,e){return new v(t,e)}),module.exports=v;
},{"../../utils/Class":"JASv","../CubicBezierCurve":"rx9H","../EllipseCurve":"pVok","../../gameobjects/GameObjectFactory":"QDoc","../LineCurve":"OSf9","./MoveTo":"pT7z","../QuadraticBezierCurve":"ii8t","../../geom/rectangle/Rectangle":"wYVB","../SplineCurve":"GSjD","../../math/Vector2":"qKN5","../../math/const":"HC1y"}],"FoZ4":[function(require,module,exports) {
module.exports={Path:require("./path/Path"),CubicBezier:require("./CubicBezierCurve"),Curve:require("./Curve"),Ellipse:require("./EllipseCurve"),Line:require("./LineCurve"),QuadraticBezier:require("./QuadraticBezierCurve"),Spline:require("./SplineCurve")};
},{"./path/Path":"yu44","./CubicBezierCurve":"rx9H","./Curve":"oP44","./EllipseCurve":"pVok","./LineCurve":"OSf9","./QuadraticBezierCurve":"ii8t","./SplineCurve":"GSjD"}],"rdQ1":[function(require,module,exports) {
var s=require("../utils/Class"),t=require("./DataManager"),e=require("../plugins/PluginCache"),i=require("../scene/events"),n=new s({Extends:t,initialize:function(s){t.call(this,s,s.sys.events),this.scene=s,this.systems=s.sys,s.sys.events.once(i.BOOT,this.boot,this),s.sys.events.on(i.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(i.DESTROY,this.destroy,this)},start:function(){this.events.once(i.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){t.prototype.destroy.call(this),this.events.off(i.START,this.start,this),this.scene=null,this.systems=null}});e.register("DataManagerPlugin",n,"data"),module.exports=n;
},{"../utils/Class":"JASv","./DataManager":"Zl43","../plugins/PluginCache":"ZrqD","../scene/events":"zvkO"}],"Zvsc":[function(require,module,exports) {
module.exports={DataManager:require("./DataManager"),DataManagerPlugin:require("./DataManagerPlugin"),Events:require("./events")};
},{"./DataManager":"Zl43","./DataManagerPlugin":"rdQ1","./events":"A8rk"}],"kEBk":[function(require,module,exports) {
module.exports={BottomCenter:require("./BottomCenter"),BottomLeft:require("./BottomLeft"),BottomRight:require("./BottomRight"),Center:require("./Center"),LeftCenter:require("./LeftCenter"),QuickSet:require("./QuickSet"),RightCenter:require("./RightCenter"),TopCenter:require("./TopCenter"),TopLeft:require("./TopLeft"),TopRight:require("./TopRight")};
},{"./BottomCenter":"cAmm","./BottomLeft":"colH","./BottomRight":"Yby2","./Center":"lZx9","./LeftCenter":"GVDA","./QuickSet":"qLyQ","./RightCenter":"Nn1T","./TopCenter":"LSW6","./TopLeft":"uKuo","./TopRight":"cW8X"}],"sCbk":[function(require,module,exports) {
module.exports={BottomCenter:require("./BottomCenter"),BottomLeft:require("./BottomLeft"),BottomRight:require("./BottomRight"),LeftBottom:require("./LeftBottom"),LeftCenter:require("./LeftCenter"),LeftTop:require("./LeftTop"),QuickSet:require("./QuickSet"),RightBottom:require("./RightBottom"),RightCenter:require("./RightCenter"),RightTop:require("./RightTop"),TopCenter:require("./TopCenter"),TopLeft:require("./TopLeft"),TopRight:require("./TopRight")};
},{"./BottomCenter":"vfYv","./BottomLeft":"XQ8R","./BottomRight":"vx9L","./LeftBottom":"RGjq","./LeftCenter":"H1wN","./LeftTop":"Mi6Q","./QuickSet":"VtJw","./RightBottom":"zmzp","./RightCenter":"HijZ","./RightTop":"Svo7","./TopCenter":"TzSm","./TopLeft":"coWg","./TopRight":"tHmY"}],"MJ9s":[function(require,module,exports) {
var e=require("./const"),r=require("../../utils/object/Extend"),i={In:require("./in"),To:require("./to")};i=r(!1,i,e),module.exports=i;
},{"./const":"B18i","../../utils/object/Extend":"SFmW","./in":"kEBk","./to":"sCbk"}],"pZSz":[function(require,module,exports) {
var i=require("../../utils/Class"),o=new i({initialize:function(i,o,n,r){o&&""!==o||(o=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join("\n")),n&&""!==n||(n=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","void main () {","gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","}"].join("\n")),void 0===r&&(r=null),this.key=i,this.fragmentSrc=o,this.vertexSrc=n,this.uniforms=r}});module.exports=o;
},{"../../utils/Class":"JASv"}],"MEeG":[function(require,module,exports) {
var r=function(r){return r.width*r.originX};module.exports=r;
},{}],"YPYg":[function(require,module,exports) {
var r=function(r){return r.height*r.originY};module.exports=r;
},{}],"APnA":[function(require,module,exports) {
module.exports={CenterOn:require("./CenterOn"),GetBottom:require("./GetBottom"),GetCenterX:require("./GetCenterX"),GetCenterY:require("./GetCenterY"),GetLeft:require("./GetLeft"),GetOffsetX:require("./GetOffsetX"),GetOffsetY:require("./GetOffsetY"),GetRight:require("./GetRight"),GetTop:require("./GetTop"),SetBottom:require("./SetBottom"),SetCenterX:require("./SetCenterX"),SetCenterY:require("./SetCenterY"),SetLeft:require("./SetLeft"),SetRight:require("./SetRight"),SetTop:require("./SetTop")};
},{"./CenterOn":"u1hz","./GetBottom":"cGae","./GetCenterX":"K2CY","./GetCenterY":"XsM9","./GetLeft":"V2KS","./GetOffsetX":"MEeG","./GetOffsetY":"YPYg","./GetRight":"qkG5","./GetTop":"vf2c","./SetBottom":"sBnq","./SetCenterX":"kdcZ","./SetCenterY":"xrQ3","./SetLeft":"Ih21","./SetRight":"MrHk","./SetTop":"FQxV"}],"OeLG":[function(require,module,exports) {
var o=function(o,t){return void 0===t&&(t="none"),o.style.msTouchAction=t,o.style["ms-touch-action"]=t,o.style["touch-action"]=t,o};module.exports=o;
},{}],"fbPr":[function(require,module,exports) {
var t=function(t,e){void 0===e&&(e="none");return["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(o){t.style[o+"user-select"]=e}),t.style["-webkit-touch-callout"]=e,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};module.exports=t;
},{}],"glAI":[function(require,module,exports) {
module.exports={CanvasInterpolation:require("./CanvasInterpolation"),CanvasPool:require("./CanvasPool"),Smoothing:require("./Smoothing"),TouchAction:require("./TouchAction"),UserSelect:require("./UserSelect")};
},{"./CanvasInterpolation":"IIpR","./CanvasPool":"J9p3","./Smoothing":"dL2W","./TouchAction":"OeLG","./UserSelect":"fbPr"}],"bwoV":[function(require,module,exports) {
var r=function(r){var a={r:r>>16&255,g:r>>8&255,b:255&r,a:255};return r>16777215&&(a.a=r>>>24),a};module.exports=r;
},{}],"kuHI":[function(require,module,exports) {
var r=function(r){var t=r.toString(16);return 1===t.length?"0"+t:t};module.exports=r;
},{}],"C7My":[function(require,module,exports) {
var r=function(r,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?r+6*(e-r)*n:n<.5?e:n<2/3?r+(e-r)*(2/3-n)*6:r};module.exports=r;
},{}],"Q8Jn":[function(require,module,exports) {
var e=require("./Color"),r=require("./HueToComponent"),o=function(o,n,u){var t=u,i=u,a=u;if(0!==n){var v=u<.5?u*(1+n):u+n-u*n,f=2*u-v;t=r(f,v,o+1/3),i=r(f,v,o),a=r(f,v,o-1/3)}return(new e).setGLTo(t,i,a,1)};module.exports=o;
},{"./Color":"oiID","./HueToComponent":"C7My"}],"XiIK":[function(require,module,exports) {
var r=require("./HSVToRGB"),o=function(o,e){void 0===o&&(o=1),void 0===e&&(e=1);for(var u=[],i=0;i<=359;i++)u.push(r(i/359,o,e));return u};module.exports=o;
},{"./HSVToRGB":"lAtf"}],"a0rK":[function(require,module,exports) {
var r=require("../../math/Linear"),o=function(o,i,t,n,e,u,v,d){void 0===v&&(v=100),void 0===d&&(d=0);var a=d/v;return{r:r(o,n,a),g:r(i,e,a),b:r(t,u,a)}},i=function(r,i,t,n){return void 0===t&&(t=100),void 0===n&&(n=0),o(r.r,r.g,r.b,i.r,i.g,i.b,t,n)},t=function(r,i,t,n,e,u){return void 0===e&&(e=100),void 0===u&&(u=0),o(r.r,r.g,r.b,i,t,n,e,u)};module.exports={RGBWithRGB:o,ColorWithRGB:t,ColorWithColor:i};
},{"../../math/Linear":"jlgm"}],"iooe":[function(require,module,exports) {
var e=require("../../math/Between"),r=require("./Color"),o=function(o,i){return void 0===o&&(o=0),void 0===i&&(i=255),new r(e(o,i),e(o,i),e(o,i))};module.exports=o;
},{"../../math/Between":"SQE2","./Color":"oiID"}],"FIiC":[function(require,module,exports) {
var o=require("./ComponentToHex"),e=function(e,r,i,n,t){return void 0===n&&(n=255),void 0===t&&(t="#"),"#"===t?"#"+((1<<24)+(e<<16)+(r<<8)+i).toString(16).slice(1):"0x"+o(n)+o(e)+o(r)+o(i)};module.exports=e;
},{"./ComponentToHex":"kuHI"}],"tasG":[function(require,module,exports) {
var o=require("./Color");o.ColorToRGBA=require("./ColorToRGBA"),o.ComponentToHex=require("./ComponentToHex"),o.GetColor=require("./GetColor"),o.GetColor32=require("./GetColor32"),o.HexStringToColor=require("./HexStringToColor"),o.HSLToColor=require("./HSLToColor"),o.HSVColorWheel=require("./HSVColorWheel"),o.HSVToRGB=require("./HSVToRGB"),o.HueToComponent=require("./HueToComponent"),o.IntegerToColor=require("./IntegerToColor"),o.IntegerToRGB=require("./IntegerToRGB"),o.Interpolate=require("./Interpolate"),o.ObjectToColor=require("./ObjectToColor"),o.RandomRGB=require("./RandomRGB"),o.RGBStringToColor=require("./RGBStringToColor"),o.RGBToHSV=require("./RGBToHSV"),o.RGBToString=require("./RGBToString"),o.ValueToColor=require("./ValueToColor"),module.exports=o;
},{"./Color":"oiID","./ColorToRGBA":"bwoV","./ComponentToHex":"kuHI","./GetColor":"r4If","./GetColor32":"toNz","./HexStringToColor":"PFSf","./HSLToColor":"Q8Jn","./HSVColorWheel":"XiIK","./HSVToRGB":"lAtf","./HueToComponent":"C7My","./IntegerToColor":"Hl3C","./IntegerToRGB":"XwhQ","./Interpolate":"a0rK","./ObjectToColor":"C6qA","./RandomRGB":"iooe","./RGBStringToColor":"fcv9","./RGBToHSV":"Bvv3","./RGBToString":"FIiC","./ValueToColor":"pQCJ"}],"gBMw":[function(require,module,exports) {
module.exports={BitmapMask:require("./BitmapMask"),GeometryMask:require("./GeometryMask")};
},{"./BitmapMask":"oyuU","./GeometryMask":"O7xh"}],"S2HQ":[function(require,module,exports) {
module.exports={Align:require("./align"),BaseShader:require("./shader/BaseShader"),Bounds:require("./bounds"),Canvas:require("./canvas"),Color:require("./color"),Masks:require("./mask")};
},{"./align":"MJ9s","./shader/BaseShader":"pZSz","./bounds":"APnA","./canvas":"glAI","./color":"tasG","./mask":"gBMw"}],"IFKJ":[function(require,module,exports) {
var e=function(e,t){var n;if(t)"string"==typeof t?n=document.getElementById(t):"object"==typeof t&&1===t.nodeType&&(n=t);else if(e.parentElement)return e;return n||(n=document.body),n.appendChild(e),e};module.exports=e;
},{}],"XyjG":[function(require,module,exports) {
var e=require("../device/OS"),t=function(t){if("complete"!==document.readyState&&"interactive"!==document.readyState){var d=function(){document.removeEventListener("deviceready",d,!0),document.removeEventListener("DOMContentLoaded",d,!0),window.removeEventListener("load",d,!0),t()};document.body?e.cordova?document.addEventListener("deviceready",d,!1):(document.addEventListener("DOMContentLoaded",d,!0),window.addEventListener("load",d,!0)):window.setTimeout(d,20)}else t()};module.exports=t;
},{"../device/OS":"yCDM"}],"sKg7":[function(require,module,exports) {
module.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3};
},{}],"Urom":[function(require,module,exports) {
module.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"};
},{}],"rpuD":[function(require,module,exports) {
module.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5};
},{}],"rSAq":[function(require,module,exports) {
module.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1};
},{}],"RCzX":[function(require,module,exports) {
var O={CENTER:require("./CENTER_CONST"),ORIENTATION:require("./ORIENTATION_CONST"),SCALE_MODE:require("./SCALE_MODE_CONST"),ZOOM:require("./ZOOM_CONST")};module.exports=O;
},{"./CENTER_CONST":"sKg7","./ORIENTATION_CONST":"Urom","./SCALE_MODE_CONST":"rpuD","./ZOOM_CONST":"rSAq"}],"Nn60":[function(require,module,exports) {
var t=require("../scale/const"),i=function(i,n){var e=window.screen,r=!!e&&(e.orientation||e.mozOrientation||e.msOrientation);if(r&&"string"==typeof r.type)return r.type;if("string"==typeof r)return r;if(e)return e.height>e.width?t.ORIENTATION.PORTRAIT:t.ORIENTATION.LANDSCAPE;if("number"==typeof window.orientation)return 0===window.orientation||180===window.orientation?t.ORIENTATION.PORTRAIT:t.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return t.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return t.ORIENTATION.LANDSCAPE}return n>i?t.ORIENTATION.PORTRAIT:t.ORIENTATION.LANDSCAPE};module.exports=i;
},{"../scale/const":"RCzX"}],"fqO7":[function(require,module,exports) {
var e=function(e){var t;return""!==e&&("string"==typeof e?t=document.getElementById(e):e&&1===e.nodeType&&(t=e)),t||(t=document.body),t};module.exports=e;
},{}],"X1B3":[function(require,module,exports) {
var e=function(e){var r="";try{if(window.DOMParser)r=(new DOMParser).parseFromString(e,"text/xml");else(r=new ActiveXObject("Microsoft.XMLDOM")).loadXML(e)}catch(t){r=null}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length?r:null};module.exports=e;
},{}],"vhof":[function(require,module,exports) {
var e=function(e){e.parentNode&&e.parentNode.removeChild(e)};module.exports=e;
},{}],"UpAE":[function(require,module,exports) {
var e={AddToDOM:require("./AddToDOM"),DOMContentLoaded:require("./DOMContentLoaded"),GetScreenOrientation:require("./GetScreenOrientation"),GetTarget:require("./GetTarget"),ParseXML:require("./ParseXML"),RemoveFromDOM:require("./RemoveFromDOM"),RequestAnimationFrame:require("./RequestAnimationFrame")};module.exports=e;
},{"./AddToDOM":"IFKJ","./DOMContentLoaded":"XyjG","./GetScreenOrientation":"Nn60","./GetTarget":"fqO7","./ParseXML":"X1B3","./RemoveFromDOM":"vhof","./RequestAnimationFrame":"d2XU"}],"wTk5":[function(require,module,exports) {
var e=require("../utils/Class"),t=require("eventemitter3"),i=require("../plugins/PluginCache"),n=new e({Extends:t,initialize:function(){t.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});i.register("EventEmitter",n,"events"),module.exports=n;
},{"../utils/Class":"JASv","eventemitter3":"JJlS","../plugins/PluginCache":"ZrqD"}],"YPtB":[function(require,module,exports) {
module.exports={EventEmitter:require("./EventEmitter")};
},{"./EventEmitter":"wTk5"}],"aSvB":[function(require,module,exports) {
var e=require("../dom/AddToDOM"),o=function(o){var t=o.config;if(t.parent&&t.domCreateContainer){var n=document.createElement("div");n.style.cssText=["display: block;","width: "+o.scale.width+"px;","height: "+o.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: none;","transform: scale(1);","transform-origin: left top;"].join(" "),o.domContainer=n,e(n,t.parent)}};module.exports=o;
},{"../dom/AddToDOM":"IFKJ"}],"TdW0":[function(require,module,exports) {
var O={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};module.exports=O;
},{}],"nSE4":[function(require,module,exports) {
module.exports="dragend";
},{}],"wOwN":[function(require,module,exports) {
module.exports="dragenter";
},{}],"fZIn":[function(require,module,exports) {
module.exports="drag";
},{}],"rKTu":[function(require,module,exports) {
module.exports="dragleave";
},{}],"XuaX":[function(require,module,exports) {
module.exports="dragover";
},{}],"MAzc":[function(require,module,exports) {
module.exports="dragstart";
},{}],"OBsx":[function(require,module,exports) {
module.exports="drop";
},{}],"QtAB":[function(require,module,exports) {
module.exports="gameout";
},{}],"XVcf":[function(require,module,exports) {
module.exports="gameover";
},{}],"lBkR":[function(require,module,exports) {
module.exports="gameobjectdown";
},{}],"TmYr":[function(require,module,exports) {
module.exports="gameobjectmove";
},{}],"k9aG":[function(require,module,exports) {
module.exports="gameobjectout";
},{}],"X5La":[function(require,module,exports) {
module.exports="gameobjectover";
},{}],"HmyR":[function(require,module,exports) {
module.exports="pointerdown";
},{}],"TU3G":[function(require,module,exports) {
module.exports="pointermove";
},{}],"Ee58":[function(require,module,exports) {
module.exports="pointerout";
},{}],"S8ua":[function(require,module,exports) {
module.exports="pointerover";
},{}],"uKBr":[function(require,module,exports) {
module.exports="pointerup";
},{}],"C1Sa":[function(require,module,exports) {
module.exports="wheel";
},{}],"lbbJ":[function(require,module,exports) {
module.exports="gameobjectup";
},{}],"ymYM":[function(require,module,exports) {
module.exports="gameobjectwheel";
},{}],"iJ4m":[function(require,module,exports) {
module.exports="process";
},{}],"BGVi":[function(require,module,exports) {
module.exports="pointerdownoutside";
},{}],"kx6B":[function(require,module,exports) {
module.exports="pointerupoutside";
},{}],"SdmL":[function(require,module,exports) {
module.exports="pointerlockchange";
},{}],"aZHS":[function(require,module,exports) {
module.exports={BOOT:require("./BOOT_EVENT"),DESTROY:require("./DESTROY_EVENT"),DRAG_END:require("./DRAG_END_EVENT"),DRAG_ENTER:require("./DRAG_ENTER_EVENT"),DRAG:require("./DRAG_EVENT"),DRAG_LEAVE:require("./DRAG_LEAVE_EVENT"),DRAG_OVER:require("./DRAG_OVER_EVENT"),DRAG_START:require("./DRAG_START_EVENT"),DROP:require("./DROP_EVENT"),GAME_OUT:require("./GAME_OUT_EVENT"),GAME_OVER:require("./GAME_OVER_EVENT"),GAMEOBJECT_DOWN:require("./GAMEOBJECT_DOWN_EVENT"),GAMEOBJECT_DRAG_END:require("./GAMEOBJECT_DRAG_END_EVENT"),GAMEOBJECT_DRAG_ENTER:require("./GAMEOBJECT_DRAG_ENTER_EVENT"),GAMEOBJECT_DRAG:require("./GAMEOBJECT_DRAG_EVENT"),GAMEOBJECT_DRAG_LEAVE:require("./GAMEOBJECT_DRAG_LEAVE_EVENT"),GAMEOBJECT_DRAG_OVER:require("./GAMEOBJECT_DRAG_OVER_EVENT"),GAMEOBJECT_DRAG_START:require("./GAMEOBJECT_DRAG_START_EVENT"),GAMEOBJECT_DROP:require("./GAMEOBJECT_DROP_EVENT"),GAMEOBJECT_MOVE:require("./GAMEOBJECT_MOVE_EVENT"),GAMEOBJECT_OUT:require("./GAMEOBJECT_OUT_EVENT"),GAMEOBJECT_OVER:require("./GAMEOBJECT_OVER_EVENT"),GAMEOBJECT_POINTER_DOWN:require("./GAMEOBJECT_POINTER_DOWN_EVENT"),GAMEOBJECT_POINTER_MOVE:require("./GAMEOBJECT_POINTER_MOVE_EVENT"),GAMEOBJECT_POINTER_OUT:require("./GAMEOBJECT_POINTER_OUT_EVENT"),GAMEOBJECT_POINTER_OVER:require("./GAMEOBJECT_POINTER_OVER_EVENT"),GAMEOBJECT_POINTER_UP:require("./GAMEOBJECT_POINTER_UP_EVENT"),GAMEOBJECT_POINTER_WHEEL:require("./GAMEOBJECT_POINTER_WHEEL_EVENT"),GAMEOBJECT_UP:require("./GAMEOBJECT_UP_EVENT"),GAMEOBJECT_WHEEL:require("./GAMEOBJECT_WHEEL_EVENT"),MANAGER_BOOT:require("./MANAGER_BOOT_EVENT"),MANAGER_PROCESS:require("./MANAGER_PROCESS_EVENT"),MANAGER_UPDATE:require("./MANAGER_UPDATE_EVENT"),POINTER_DOWN:require("./POINTER_DOWN_EVENT"),POINTER_DOWN_OUTSIDE:require("./POINTER_DOWN_OUTSIDE_EVENT"),POINTER_MOVE:require("./POINTER_MOVE_EVENT"),POINTER_OUT:require("./POINTER_OUT_EVENT"),POINTER_OVER:require("./POINTER_OVER_EVENT"),POINTER_UP:require("./POINTER_UP_EVENT"),POINTER_UP_OUTSIDE:require("./POINTER_UP_OUTSIDE_EVENT"),POINTER_WHEEL:require("./POINTER_WHEEL_EVENT"),POINTERLOCK_CHANGE:require("./POINTERLOCK_CHANGE_EVENT"),PRE_UPDATE:require("./PRE_UPDATE_EVENT"),SHUTDOWN:require("./SHUTDOWN_EVENT"),START:require("./START_EVENT"),UPDATE:require("./UPDATE_EVENT")};
},{"./BOOT_EVENT":"iN1j","./DESTROY_EVENT":"T9So","./DRAG_END_EVENT":"nSE4","./DRAG_ENTER_EVENT":"wOwN","./DRAG_EVENT":"fZIn","./DRAG_LEAVE_EVENT":"rKTu","./DRAG_OVER_EVENT":"XuaX","./DRAG_START_EVENT":"MAzc","./DROP_EVENT":"OBsx","./GAME_OUT_EVENT":"QtAB","./GAME_OVER_EVENT":"XVcf","./GAMEOBJECT_DOWN_EVENT":"lBkR","./GAMEOBJECT_DRAG_END_EVENT":"nSE4","./GAMEOBJECT_DRAG_ENTER_EVENT":"wOwN","./GAMEOBJECT_DRAG_EVENT":"fZIn","./GAMEOBJECT_DRAG_LEAVE_EVENT":"rKTu","./GAMEOBJECT_DRAG_OVER_EVENT":"XuaX","./GAMEOBJECT_DRAG_START_EVENT":"MAzc","./GAMEOBJECT_DROP_EVENT":"OBsx","./GAMEOBJECT_MOVE_EVENT":"TmYr","./GAMEOBJECT_OUT_EVENT":"k9aG","./GAMEOBJECT_OVER_EVENT":"X5La","./GAMEOBJECT_POINTER_DOWN_EVENT":"HmyR","./GAMEOBJECT_POINTER_MOVE_EVENT":"TU3G","./GAMEOBJECT_POINTER_OUT_EVENT":"Ee58","./GAMEOBJECT_POINTER_OVER_EVENT":"S8ua","./GAMEOBJECT_POINTER_UP_EVENT":"uKBr","./GAMEOBJECT_POINTER_WHEEL_EVENT":"C1Sa","./GAMEOBJECT_UP_EVENT":"lbbJ","./GAMEOBJECT_WHEEL_EVENT":"ymYM","./MANAGER_BOOT_EVENT":"iN1j","./MANAGER_PROCESS_EVENT":"iJ4m","./MANAGER_UPDATE_EVENT":"CqoN","./POINTER_DOWN_EVENT":"HmyR","./POINTER_DOWN_OUTSIDE_EVENT":"BGVi","./POINTER_MOVE_EVENT":"TU3G","./POINTER_OUT_EVENT":"Ee58","./POINTER_OVER_EVENT":"S8ua","./POINTER_UP_EVENT":"uKBr","./POINTER_UP_OUTSIDE_EVENT":"kx6B","./POINTER_WHEEL_EVENT":"C1Sa","./POINTERLOCK_CHANGE_EVENT":"SdmL","./PRE_UPDATE_EVENT":"S42G","./SHUTDOWN_EVENT":"Fzq7","./START_EVENT":"xnJO","./UPDATE_EVENT":"CqoN"}],"sXlU":[function(require,module,exports) {
var r=require("./SpliceOne"),e=function(e,l,n,a){var i;if(void 0===a&&(a=e),!Array.isArray(l))return-1!==(i=e.indexOf(l))?(r(e,i),n&&n.call(a,l),l):null;for(var o=l.length-1;o>=0;){var u=l[o];-1!==(i=e.indexOf(u))?(r(e,i),n&&n.call(a,u)):l.pop(),o--}return l};module.exports=e;
},{"./SpliceOne":"R1sC"}],"ClXs":[function(require,module,exports) {
var E={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};module.exports=E;
},{}],"zsUT":[function(require,module,exports) {
var e=require("../../utils/array/Remove"),t=require("../../utils/Class"),s=require("../../core/events"),n=require("../events"),r=require("../../input/keyboard/keys/KeyCodes"),i=require("../../utils/Class"),a=new t({initialize:function(e){this.manager=e,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=i,this.onKeyUp=i,e.events.once(n.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputKeyboard,this.target=e.inputKeyboardEventTarget,this.addCapture(e.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(s.POST_STEP,this.postUpdate,this)},startListeners:function(){var e=this;this.onKeyDown=function(t){if(!t.defaultPrevented&&e.enabled&&e.manager){e.queue.push(t),e.manager.useQueue||e.manager.events.emit(n.MANAGER_PROCESS);var s=t.altKey||t.ctrlKey||t.shiftKey||t.metaKey;e.preventDefault&&!s&&e.captures.indexOf(t.keyCode)>-1&&t.preventDefault()}},this.onKeyUp=function(t){if(!t.defaultPrevented&&e.enabled&&e.manager){e.queue.push(t),e.manager.useQueue||e.manager.events.emit(n.MANAGER_PROCESS);var s=t.altKey||t.ctrlKey||t.shiftKey||t.metaKey;e.preventDefault&&!s&&e.captures.indexOf(t.keyCode)>-1&&t.preventDefault()}};var t=this.target;t&&(t.addEventListener("keydown",this.onKeyDown,!1),t.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var e=this.target;e.removeEventListener("keydown",this.onKeyDown,!1),e.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(e){"string"==typeof e&&(e=e.split(",")),Array.isArray(e)||(e=[e]);for(var t=this.captures,s=0;s<e.length;s++){var n=e[s];"string"==typeof n&&(n=r[n.trim().toUpperCase()]),-1===t.indexOf(n)&&t.push(n)}this.preventDefault=t.length>0},removeCapture:function(t){"string"==typeof t&&(t=t.split(",")),Array.isArray(t)||(t=[t]);for(var s=this.captures,n=0;n<t.length;n++){var i=t[n];"string"==typeof i&&(i=r[i.toUpperCase()]),e(s,i)}this.preventDefault=s.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(s.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});module.exports=a;
},{"../../utils/array/Remove":"sXlU","../../utils/Class":"JASv","../../core/events":"Dc0S","../events":"aZHS","../../input/keyboard/keys/KeyCodes":"ClXs"}],"UWhd":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../../device/Features"),n=require("../events"),o=require("../../utils/Class"),i=new e({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=o,this.onMouseDown=o,this.onMouseUp=o,this.onMouseDownWindow=o,this.onMouseUpWindow=o,this.onMouseOver=o,this.onMouseOut=o,this.onMouseWheel=o,this.pointerLockChange=o,e.events.once(n.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.capture=e.inputMouseCapture,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(t.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){t.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this,n=this.manager.canvas,o=window&&window.focus&&this.manager.game.config.autoFocus;this.onMouseMove=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onMouseMove(t),e.capture&&t.preventDefault())},this.onMouseDown=function(t){o&&window.focus(),!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onMouseDown(t),e.capture&&t.target===n&&t.preventDefault())},this.onMouseDownWindow=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&t.target!==n&&e.manager.onMouseDown(t)},this.onMouseUp=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onMouseUp(t),e.capture&&t.target===n&&t.preventDefault())},this.onMouseUpWindow=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&t.target!==n&&e.manager.onMouseUp(t)},this.onMouseOver=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.setCanvasOver(t)},this.onMouseOut=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.setCanvasOut(t)},this.onMouseWheel=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.onMouseWheel(t)};var i=this.target;if(i){var s={passive:!0},a={passive:!1};i.addEventListener("mousemove",this.onMouseMove,this.capture?a:s),i.addEventListener("mousedown",this.onMouseDown,this.capture?a:s),i.addEventListener("mouseup",this.onMouseUp,this.capture?a:s),i.addEventListener("mouseover",this.onMouseOver,this.capture?a:s),i.addEventListener("mouseout",this.onMouseOut,this.capture?a:s),i.addEventListener("wheel",this.onMouseWheel,this.capture?a:s),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("mousedown",this.onMouseDownWindow,a),window.addEventListener("mouseup",this.onMouseUpWindow,a)),t.pointerLock&&(this.pointerLockChange=function(t){var n=e.target;e.locked=document.pointerLockElement===n||document.mozPointerLockElement===n||document.webkitPointerLockElement===n,e.manager.onPointerLockChange(t)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(window.removeEventListener("mousedown",this.onMouseDownWindow),window.removeEventListener("mouseup",this.onMouseUpWindow)),t.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});module.exports=i;
},{"../../utils/Class":"JASv","../../device/Features":"TWyt","../events":"aZHS"}],"DRn5":[function(require,module,exports) {
var t=require("../math/angle/Between"),i=require("../utils/Class"),n=require("../math/distance/DistanceBetween"),s=require("../math/fuzzy/Equal"),e=require("../math/interpolation/SmoothStepInterpolation"),o=require("../math/Vector2"),h=new i({initialize:function(t,i){this.manager=t,this.id=i,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new o,this.prevPosition=new o,this.midPoint=new o(-1,-1),this.velocity=new o,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===i,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(t){var i=this.x,n=this.y;1!==t.resolution&&(i+=t._x,n+=t._y);var s=t.getWorldPoint(i,n);return this.worldX=s.x,this.worldY=s.y,this},positionToCamera:function(t,i){return t.getWorldPoint(this.x,this.y,i)},updateMotion:function(){var i=this.position.x,n=this.position.y,o=this.midPoint.x,h=this.midPoint.y;if(i!==o||n!==h){var a=e(this.motionFactor,o,i),u=e(this.motionFactor,h,n);s(a,i,.1)&&(a=i),s(u,n,.1)&&(u=n),this.midPoint.set(a,u);var r=i-a,m=n-u;this.velocity.set(r,m),this.angle=t(a,u,i,n),this.distance=Math.sqrt(r*r+m*m)}},up:function(t){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.button=t.button,this.upElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),0===t.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=t.timeStamp),this.isDown=!1,this.wasTouch=!1},down:function(t){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.button=t.button,this.downElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),0===t.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=t.timeStamp),this.isDown=!0,this.wasTouch=!1},move:function(t){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY,!0),this.locked&&(this.movementX=t.movementX||t.mozMovementX||t.webkitMovementX||0,this.movementY=t.movementY||t.mozMovementY||t.webkitMovementY||0),this.moveTime=t.timeStamp,this.wasTouch=!1},wheel:function(t){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.deltaX=t.deltaX,this.deltaY=t.deltaY,this.deltaZ=t.deltaZ,this.wasTouch=!1},touchstart:function(t,i){t.pointerId&&(this.pointerId=t.pointerId),this.identifier=t.identifier,this.target=t.target,this.active=!0,this.buttons=1,this.event=i,this.downElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=i.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(t,i){this.event=i,this.manager.transformPointer(this,t.pageX,t.pageY,!0),this.moveTime=i.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(t,i){this.buttons=0,this.event=i,this.upElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=i.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(t,i){this.buttons=0,this.event=i,this.upElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=i.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return 0===this.button&&!this.isDown},rightButtonReleased:function(){return 2===this.button&&!this.isDown},middleButtonReleased:function(){return 1===this.button&&!this.isDown},backButtonReleased:function(){return 3===this.button&&!this.isDown},forwardButtonReleased:function(){return 4===this.button&&!this.isDown},getDistance:function(){return this.isDown?n(this.downX,this.downY,this.x,this.y):n(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?t(this.downX,this.downY,this.x,this.y):t(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(t,i){void 0===t&&(t=10),void 0===i&&(i=[]);for(var n=this.prevPosition.x,s=this.prevPosition.y,o=this.position.x,h=this.position.y,a=0;a<t;a++){var u=1/t*a;i[a]={x:e(u,n,o),y:e(u,s,h)}}return i},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},time:{get:function(){return this.event?this.event.timeStamp:0}}});module.exports=h;
},{"../math/angle/Between":"RPI7","../utils/Class":"JASv","../math/distance/DistanceBetween":"ovvS","../math/fuzzy/Equal":"mjnD","../math/interpolation/SmoothStepInterpolation":"nt5E","../math/Vector2":"qKN5"}],"Cm3D":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../events"),n=require("../../utils/NOOP"),a=new e({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=n,this.onTouchStartWindow=n,this.onTouchMove=n,this.onTouchEnd=n,this.onTouchEndWindow=n,this.onTouchCancel=n,this.onTouchCancelWindow=n,this.onTouchOver=n,this.onTouchOut=n,e.events.once(t.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputTouch,this.target=e.inputTouchEventTarget,this.capture=e.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},startListeners:function(){var e=this,t=this.manager.canvas,n=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(a){n&&window.focus(),!a.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onTouchStart(a),e.capture&&a.cancelable&&a.target===t&&a.preventDefault())},this.onTouchStartWindow=function(n){!n.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&n.target!==t&&e.manager.onTouchStart(n)},this.onTouchMove=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onTouchMove(t),e.capture&&t.cancelable&&t.preventDefault())},this.onTouchEnd=function(n){!n.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onTouchEnd(n),e.capture&&n.cancelable&&n.target===t&&n.preventDefault())},this.onTouchEndWindow=function(n){!n.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&n.target!==t&&e.manager.onTouchEnd(n)},this.onTouchCancel=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onTouchCancel(t),e.capture&&t.preventDefault())},this.onTouchCancelWindow=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.onTouchCancel(t)},this.onTouchOver=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.setCanvasOver(t)},this.onTouchOut=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.setCanvasOut(t)};var a=this.target;if(a){var o={passive:!0},i={passive:!1};a.addEventListener("touchstart",this.onTouchStart,this.capture?i:o),a.addEventListener("touchmove",this.onTouchMove,this.capture?i:o),a.addEventListener("touchend",this.onTouchEnd,this.capture?i:o),a.addEventListener("touchcancel",this.onTouchCancel,this.capture?i:o),a.addEventListener("touchover",this.onTouchOver,this.capture?i:o),a.addEventListener("touchout",this.onTouchOut,this.capture?i:o),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,i),window.addEventListener("touchend",this.onTouchEndWindow,i),window.addEventListener("touchcancel",this.onTouchCancelWindow,i)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchmove",this.onTouchMove),e.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("touchcancel",this.onTouchCancel),e.removeEventListener("touchover",this.onTouchOver),e.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});module.exports=a;
},{"../../utils/Class":"JASv","../events":"aZHS","../../utils/NOOP":"lZkB"}],"zFOA":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("./const"),i=require("eventemitter3"),s=require("./events"),n=require("../core/events"),o=require("./keyboard/KeyboardManager"),r=require("./mouse/MouseManager"),a=require("./Pointer"),h=require("./touch/TouchManager"),u=require("../gameobjects/components/TransformMatrix"),c=require("../math/TransformXY"),l=new t({initialize:function(t,e){this.game=t,this.scaleManager,this.canvas,this.config=e,this.enabled=!0,this.events=new i,this.isOver=!0,this.defaultCursor="",this.keyboard=e.inputKeyboard?new o(this):null,this.mouse=e.inputMouse?new r(this):null,this.touch=e.inputTouch?new h(this):null,this.pointers=[],this.pointersTotal=e.inputActivePointers,e.inputTouch&&1===this.pointersTotal&&(this.pointersTotal=2);for(var s=0;s<=this.pointersTotal;s++){var c=new a(this,s);c.smoothFactor=e.inputSmoothFactor,this.pointers.push(c)}this.mousePointer=e.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new u,this._tempMatrix2=new u,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],t.events.once(n.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(s.MANAGER_BOOT),this.game.events.on(n.PRE_RENDER,this.preRender,this),this.game.events.once(n.DESTROY,this.destroy,this)},setCanvasOver:function(t){this.isOver=!0,this.events.emit(s.GAME_OVER,t)},setCanvasOut:function(t){this.isOver=!1,this.events.emit(s.GAME_OUT,t)},preRender:function(){var t=this.game.loop.now,e=this.game.loop.delta,i=this.game.scene.getScenes(!0,!0);this.time=t,this.events.emit(s.MANAGER_UPDATE);for(var n=0;n<i.length;n++){var o=i[n];if(o.sys.input&&o.sys.input.updatePoll(t,e)&&this.globalTopOnly)return}},setDefaultCursor:function(t){this.defaultCursor=t,this.canvas.style.cursor!==t&&(this.canvas.style.cursor=t)},setCursor:function(t){t.cursor&&(this.canvas.style.cursor=t.cursor)},resetCursor:function(t){t.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(t){void 0===t&&(t=1);var e=[];this.pointersTotal+t>10&&(t=10-this.pointersTotal);for(var i=0;i<t;i++){var s=this.pointers.length,n=new a(this,s);n.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(n),this.pointersTotal++,e.push(n)}return e},updateInputPlugins:function(t,e){var i=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var s=0;s<i.length;s++){var n=i[s];if(n.sys.input)if(n.sys.input.update(t,e)&&this.globalTopOnly||this._tempSkip)return}},onTouchStart:function(t){for(var i=this.pointers,s=[],n=0;n<t.changedTouches.length;n++)for(var o=t.changedTouches[n],r=1;r<this.pointersTotal;r++){var a=i[r];if(!a.active){a.touchstart(o,t),this.activePointer=a,s.push(a);break}}this.updateInputPlugins(e.TOUCH_START,s)},onTouchMove:function(t){for(var i=this.pointers,s=[],n=0;n<t.changedTouches.length;n++)for(var o=t.changedTouches[n],r=1;r<this.pointersTotal;r++){var a=i[r];if(a.active&&a.identifier===o.identifier){a.touchmove(o,t),this.activePointer=a,s.push(a);break}}this.updateInputPlugins(e.TOUCH_MOVE,s)},onTouchEnd:function(t){for(var i=this.pointers,s=[],n=0;n<t.changedTouches.length;n++)for(var o=t.changedTouches[n],r=1;r<this.pointersTotal;r++){var a=i[r];if(a.active&&a.identifier===o.identifier){a.touchend(o,t),s.push(a);break}}this.updateInputPlugins(e.TOUCH_END,s)},onTouchCancel:function(t){for(var i=this.pointers,s=[],n=0;n<t.changedTouches.length;n++)for(var o=t.changedTouches[n],r=1;r<this.pointersTotal;r++){var a=i[r];if(a.active&&a.identifier===o.identifier){a.touchcancel(o,t),s.push(a);break}}this.updateInputPlugins(e.TOUCH_CANCEL,s)},onMouseDown:function(t){this.mousePointer.down(t),this.mousePointer.updateMotion(),this.updateInputPlugins(e.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(t){this.mousePointer.move(t),this.mousePointer.updateMotion(),this.updateInputPlugins(e.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(t){this.mousePointer.up(t),this.mousePointer.updateMotion(),this.updateInputPlugins(e.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(t){this.mousePointer.wheel(t),this.updateInputPlugins(e.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(t){var e=this.mouse.locked;this.mousePointer.locked=e,this.events.emit(s.POINTERLOCK_CHANGE,t,e)},inputCandidate:function(t,e){var i=t.input;if(!i||!i.enabled||!i.alwaysEnabled&&!t.willRender(e))return!1;var s=!0,n=t.parentContainer;if(n)do{if(!n.willRender(e)){s=!1;break}n=n.parentContainer}while(n);return s},hitTest:function(t,e,i,s){void 0===s&&(s=this._tempHitTest);var n=this._tempPoint,o=i.scrollX,r=i.scrollY;s.length=0;var a=t.x,h=t.y;1!==i.resolution&&(a+=i._x,h+=i._y),i.getWorldPoint(a,h,n),t.worldX=n.x,t.worldY=n.y;for(var u={x:0,y:0},l=this._tempMatrix,p=this._tempMatrix2,v=0;v<e.length;v++){var d=e[v];if(this.inputCandidate(d,i)){var m=n.x+o*d.scrollFactorX-o,f=n.y+r*d.scrollFactorY-r;d.parentContainer?(d.getWorldTransformMatrix(l,p),l.applyInverse(m,f,u)):c(m,f,d.x,d.y,d.rotation,d.scaleX,d.scaleY,u),this.pointWithinHitArea(d,u.x,u.y)&&s.push(d)}}return s},pointWithinHitArea:function(t,e,i){e+=t.displayOriginX,i+=t.displayOriginY;var s=t.input;return!(!s||!s.hitAreaCallback(s.hitArea,e,i,t))&&(s.localX=e,s.localY=i,!0)},pointWithinInteractiveObject:function(t,e,i){return!!t.hitArea&&(e+=t.gameObject.displayOriginX,i+=t.gameObject.displayOriginY,t.localX=e,t.localY=i,t.hitAreaCallback(t.hitArea,e,i,t))},transformPointer:function(t,e,i,s){var n=t.position,o=t.prevPosition;o.x=n.x,o.y=n.y;var r=this.scaleManager.transformX(e),a=this.scaleManager.transformY(i),h=t.smoothFactor;s&&0!==h?(n.x=r*h+o.x*(1-h),n.y=a*h+o.y*(1-h)):(n.x=r,n.y=a)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(n.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var t=0;t<this.pointers.length;t++)this.pointers[t].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});module.exports=l;
},{"../utils/Class":"JASv","./const":"TdW0","eventemitter3":"JJlS","./events":"aZHS","../core/events":"Dc0S","./keyboard/KeyboardManager":"zsUT","./mouse/MouseManager":"UWhd","./Pointer":"DRn5","./touch/TouchManager":"Cm3D","../gameobjects/components/TransformMatrix":"s0s4","../math/TransformXY":"pLDR"}],"daYy":[function(require,module,exports) {
var n={},o={install:function(o){for(var r in n)o[r]=n[r]},register:function(o,r){n[o]=r},destroy:function(){n={}}};module.exports=o;
},{}],"vSy1":[function(require,module,exports) {
var s=require("../utils/Class"),t=require("../plugins/PluginCache"),e=require("../scene/events"),i=new s({initialize:function(s){this.scene=s,this.systems=s.sys,this.displayList,this.updateList,s.sys.events.once(e.BOOT,this.boot,this),s.sys.events.on(e.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once(e.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(e.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(e.START,this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});i.register=function(s,t){i.prototype.hasOwnProperty(s)||(i.prototype[s]=t)},i.remove=function(s){i.prototype.hasOwnProperty(s)&&delete i.prototype[s]},t.register("GameObjectCreator",i,"make"),module.exports=i;
},{"../utils/Class":"JASv","../plugins/PluginCache":"ZrqD","../scene/events":"zvkO"}],"gOW3":[function(require,module,exports) {
var e=require("../utils/Class"),n=require("../core/events"),t=require("eventemitter3"),i=require("../loader/FileTypesManager"),s=require("../gameobjects/GameObjectCreator"),r=require("../gameobjects/GameObjectFactory"),l=require("../utils/object/GetFastValue"),u=require("./PluginCache"),o=require("../utils/array/Remove"),a=new e({Extends:t,initialize:function(e){t.call(this),this.game=e,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],e.isBooted?this.boot():e.events.once(n.BOOT,this.boot,this)},boot:function(){var e,t,i,s,r,u,o,a=this.game.config,g=a.installGlobalPlugins;for(g=g.concat(this._pendingGlobal),e=0;e<g.length;e++)t=g[e],i=l(t,"key",null),s=l(t,"plugin",null),r=l(t,"start",!1),u=l(t,"mapping",null),o=l(t,"data",null),i&&(s?this.install(i,s,r,u,o):console.warn("Missing `plugin` for key: "+i));for(g=(g=a.installScenePlugins).concat(this._pendingScene),e=0;e<g.length;e++)t=g[e],i=l(t,"key",null),s=l(t,"plugin",null),u=l(t,"mapping",null),i&&(s?this.installScenePlugin(i,s,u):console.warn("Missing `plugin` for key: "+i));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(n.DESTROY,this.destroy,this)},addToScene:function(e,n,t){var i,s,r,l=this.game,o=e.scene,a=e.settings.map,g=e.settings.isBooted;for(i=0;i<n.length;i++)l[s=n[i]]?(e[s]=l[s],a.hasOwnProperty(s)&&(o[a[s]]=e[s])):"game"===s&&a.hasOwnProperty(s)&&(o[a[s]]=l);for(var c=0;c<t.length;c++)for(r=t[c],i=0;i<r.length;i++)if(s=r[i],u.hasCore(s)){var h=u.getCore(s),p=new h.plugin(o,this);e[h.mapping]=p,h.custom?o[h.mapping]=p:a.hasOwnProperty(h.mapping)&&(o[a[h.mapping]]=p),g&&p.boot()}for(r=this.plugins,i=0;i<r.length;i++){var f=r[i];f.mapping&&(o[f.mapping]=f.plugin)}},getDefaultScenePlugins:function(){var e=this.game.config.defaultPlugins;return e=e.concat(this.scenePlugins)},installScenePlugin:function(e,n,t,i,s){if(void 0===s&&(s=!1),"function"==typeof n){if(u.hasCore(e)){if(!s&&u.hasCore(e))return void console.warn("Scene Plugin key in use: "+e)}else u.register(e,n,t,!0),this.scenePlugins.push(e);if(i){var r=new n(i,this);i.sys[e]=r,t&&""!==t&&(i[t]=r),r.boot()}}else console.warn("Invalid Scene Plugin: "+e)},install:function(e,n,t,i,s){if(void 0===t&&(t=!1),void 0===i&&(i=null),void 0===s&&(s=null),"function"!=typeof n)return console.warn("Invalid Plugin: "+e),null;if(u.hasCustom(e))return console.warn("Plugin key in use: "+e),null;if(null!==i&&(t=!0),this.game.isBooted){if(u.registerCustom(e,n,i,s),t)return this.start(e)}else this._pendingGlobal.push({key:e,plugin:n,start:t,mapping:i,data:s});return null},getIndex:function(e){for(var n=this.plugins,t=0;t<n.length;t++){if(n[t].key===e)return t}return-1},getEntry:function(e){var n=this.getIndex(e);if(-1!==n)return this.plugins[n]},isActive:function(e){var n=this.getEntry(e);return n&&n.active},start:function(e,n){void 0===n&&(n=e);var t=this.getEntry(n);return t&&!t.active?(t.active=!0,t.plugin.start()):t||(t=this.createEntry(e,n)),t?t.plugin:null},createEntry:function(e,n){var t=u.getCustom(e);if(t){var i=new t.plugin(this);t={key:n,plugin:i,active:!0,mapping:t.mapping,data:t.data},this.plugins.push(t),i.init(t.data),i.start()}return t},stop:function(e){var n=this.getEntry(e);return n&&n.active&&(n.active=!1,n.plugin.stop()),this},get:function(e,n){void 0===n&&(n=!0);var t=this.getEntry(e);if(t)return t.plugin;var i=this.getClass(e);return i&&n?(t=this.createEntry(e,e))?t.plugin:null:i||null},getClass:function(e){return u.getCustomClass(e)},removeGlobalPlugin:function(e){var n=this.getEntry(e);n&&o(this.plugins,n),u.removeCustom(e)},removeScenePlugin:function(e){o(this.scenePlugins,e),u.remove(e)},registerGameObject:function(e,n,t){return n&&r.register(e,n),t&&s.register(e,t),this},removeGameObject:function(e,n,t){return void 0===n&&(n=!0),void 0===t&&(t=!0),n&&r.remove(e),t&&s.remove(e),this},registerFileType:function(e,n,t){i.register(e,n),t&&t.sys.load&&(t.sys.load[e]=n)},destroy:function(){for(var e=0;e<this.plugins.length;e++)this.plugins[e].plugin.destroy();u.destroyCustomPlugins(),this.game.noReturn&&u.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});module.exports=a;
},{"../utils/Class":"JASv","../core/events":"Dc0S","eventemitter3":"JJlS","../loader/FileTypesManager":"daYy","../gameobjects/GameObjectCreator":"vSy1","../gameobjects/GameObjectFactory":"QDoc","../utils/object/GetFastValue":"cEup","./PluginCache":"ZrqD","../utils/array/Remove":"sXlU"}],"JVxa":[function(require,module,exports) {
var e=function(e){if(!e)return window.innerHeight;var t=Math.abs(window.orientation),n={w:0,h:0},i=document.createElement("div");return i.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(i),n.w=90===t?i.offsetHeight:window.innerWidth,n.h=90===t?window.innerWidth:i.offsetHeight,document.documentElement.removeChild(i),i=null,90!==Math.abs(window.orientation)?n.h:n.w};module.exports=e;
},{}],"Kwmj":[function(require,module,exports) {
var t=require("../math/Clamp"),i=require("../utils/Class"),h=require("../math/snap/SnapFloor"),s=require("../math/Vector2"),e=new i({initialize:function(t,i,h,e){void 0===t&&(t=0),void 0===i&&(i=t),void 0===h&&(h=0),void 0===e&&(e=null),this._width=t,this._height=i,this._parent=e,this.aspectMode=h,this.aspectRatio=0===i?1:t/i,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new s},setAspectMode:function(t){return void 0===t&&(t=0),this.aspectMode=t,this.setSize(this._width,this._height)},setSnap:function(t,i){return void 0===t&&(t=0),void 0===i&&(i=t),this.snapTo.set(t,i),this.setSize(this._width,this._height)},setParent:function(t){return this._parent=t,this.setSize(this._width,this._height)},setMin:function(i,h){return void 0===i&&(i=0),void 0===h&&(h=i),this.minWidth=t(i,0,this.maxWidth),this.minHeight=t(h,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(i,h){return void 0===i&&(i=Number.MAX_VALUE),void 0===h&&(h=i),this.maxWidth=t(i,this.minWidth,Number.MAX_VALUE),this.maxHeight=t(h,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(t,i){switch(void 0===t&&(t=0),void 0===i&&(i=t),this.aspectMode){case e.NONE:this._width=this.getNewWidth(h(t,this.snapTo.x)),this._height=this.getNewHeight(h(i,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case e.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(h(t,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case e.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(h(i,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case e.FIT:this.constrain(t,i,!0);break;case e.ENVELOP:this.constrain(t,i,!1)}return this},setAspectRatio:function(t){return this.aspectRatio=t,this.setSize(this._width,this._height)},resize:function(t,i){return this._width=this.getNewWidth(h(t,this.snapTo.x)),this._height=this.getNewHeight(h(i,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(i,h){return void 0===h&&(h=!0),i=t(i,this.minWidth,this.maxWidth),h&&this._parent&&i>this._parent.width&&(i=Math.max(this.minWidth,this._parent.width)),i},getNewHeight:function(i,h){return void 0===h&&(h=!0),i=t(i,this.minHeight,this.maxHeight),h&&this._parent&&i>this._parent.height&&(i=Math.max(this.minHeight,this._parent.height)),i},constrain:function(t,i,s){void 0===t&&(t=0),void 0===i&&(i=t),void 0===s&&(s=!0),t=this.getNewWidth(t),i=this.getNewHeight(i);var e=this.snapTo,n=0===i?1:t/i;return s&&this.aspectRatio>n||!s&&this.aspectRatio<n?(i=(t=h(t,e.x))/this.aspectRatio,e.y>0&&(t=(i=h(i,e.y))*this.aspectRatio)):(s&&this.aspectRatio<n||!s&&this.aspectRatio>n)&&(t=(i=h(i,e.y))*this.aspectRatio,e.x>0&&(i=(t=h(t,e.x))*(1/this.aspectRatio))),this._width=t,this._height=i,this},fitTo:function(t,i){return this.constrain(t,i,!0)},envelop:function(t,i){return this.constrain(t,i,!1)},setWidth:function(t){return this.setSize(t,this._height)},setHeight:function(t){return this.setSize(this._width,t)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(t){t&&t.style&&(t.style.width=this._width+"px",t.style.height=this._height+"px")},copy:function(t){return t.setAspectMode(this.aspectMode),t.aspectRatio=this.aspectRatio,t.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(t){this.setSize(t,this._height)}},height:{get:function(){return this._height},set:function(t){this.setSize(this._width,t)}}});e.NONE=0,e.WIDTH_CONTROLS_HEIGHT=1,e.HEIGHT_CONTROLS_WIDTH=2,e.FIT=3,e.ENVELOP=4,module.exports=e;
},{"../math/Clamp":"eCA1","../utils/Class":"JASv","../math/snap/SnapFloor":"hQtq","../math/Vector2":"qKN5"}],"tpQr":[function(require,module,exports) {
var e=require("./const"),t=require("../utils/Class"),i=require("eventemitter3"),s=require("./events"),n=require("../core/events"),h=require("../dom/GetInnerHeight"),r=require("../dom/GetTarget"),a=require("../dom/GetScreenOrientation"),o=require("../utils/NOOP"),l=require("../geom/rectangle/Rectangle"),c=require("../structs/Size"),u=require("../math/snap/SnapFloor"),d=require("../math/Vector2"),g=new t({Extends:i,initialize:function(t){i.call(this),this.game=t,this.canvas,this.canvasBounds=new l,this.parent=null,this.parentIsWindow=!1,this.parentSize=new c,this.gameSize=new c,this.baseSize=new c,this.displaySize=new c,this.scaleMode=e.SCALE_MODE.NONE,this.resolution=1,this.zoom=1,this._resetZoom=!1,this.displayScale=new d(1,1),this.autoRound=!1,this.autoCenter=e.CENTER.NO_CENTER,this.orientation=e.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:o,windowResize:o,fullScreenChange:o,fullScreenError:o}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once("boot",this.boot,this)},boot:function(){var t=this.game;this.canvas=t.canvas,this.fullscreen=t.device.fullscreen,this.scaleMode!==e.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===e.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),t.events.on(n.PRE_STEP,this.step,this),t.events.once(n.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(t){this.getParent(t),this.getParentBounds();var i=t.width,s=t.height,n=t.scaleMode,h=t.resolution,r=t.zoom,o=t.autoRound;if("string"==typeof i){var l=this.parentSize.width;0===l&&(l=window.innerWidth);var c=parseInt(i,10)/100;i=Math.floor(l*c)}if("string"==typeof s){var u=this.parentSize.height;0===u&&(u=window.innerHeight);var d=parseInt(s,10)/100;s=Math.floor(u*d)}this.resolution=1,this.scaleMode=n,this.autoRound=o,this.autoCenter=t.autoCenter,this.resizeInterval=t.resizeInterval,o&&(i=Math.floor(i),s=Math.floor(s)),this.gameSize.setSize(i,s),r===e.ZOOM.MAX_ZOOM&&(r=this.getMaxZoom()),this.zoom=r,1!==r&&(this._resetZoom=!0),this.baseSize.setSize(i*h,s*h),o&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),t.minWidth>0&&this.displaySize.setMin(t.minWidth*r,t.minHeight*r),t.maxWidth>0&&this.displaySize.setMax(t.maxWidth*r,t.maxHeight*r),this.displaySize.setSize(i,s),this.orientation=a(i,s)},getParent:function(t){var i=t.parent;if(null!==i){if(this.parent=r(i),this.parentIsWindow=this.parent===document.body,t.expandParent&&t.scaleMode!==e.SCALE_MODE.NONE){var s=this.parent.getBoundingClientRect();(this.parentIsWindow||0===s.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",s=this.parent.getBoundingClientRect(),this.parentIsWindow||0!==s.height||(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}t.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=r(t.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var e=this.parentSize,t=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(t.height=h(!0));var i=this.resolution,s=t.width*i,n=t.height*i;return(e.width!==s||e.height!==n)&&(e.setSize(s,n),!0)},lockOrientation:function(e){var t=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!t&&t.call(screen,e)},setParentSize:function(e,t){return this.parentSize.setSize(e,t),this.refresh()},setGameSize:function(e,t){var i=this.autoRound,s=this.resolution;i&&(e=Math.floor(e),t=Math.floor(t));var n=this.width,h=this.height;return this.gameSize.resize(e,t),this.baseSize.resize(e*s,t*s),i&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(e/t),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(n,h)},resize:function(e,t){var i=this.zoom,s=this.resolution,n=this.autoRound;n&&(e=Math.floor(e),t=Math.floor(t));var h=this.width,r=this.height;this.gameSize.resize(e,t),this.baseSize.resize(e*s,t*s),n&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(e*i*s,t*i*s),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var a=this.canvas.style,o=e*i,l=t*i;return n&&(o=Math.floor(o),l=Math.floor(l)),o===e&&l===t||(a.width=o+"px",a.height=l+"px"),this.refresh(h,r)},setZoom:function(e){return this.zoom=e,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(e,t){void 0===e&&(e=this.width),void 0===t&&(t=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var i=this.game.domContainer;if(i){this.baseSize.setCSS(i);var n=this.canvas.style,h=i.style;h.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",h.marginLeft=n.marginLeft,h.marginTop=n.marginTop}return this.emit(s.RESIZE,this.gameSize,this.baseSize,this.displaySize,this.resolution,e,t),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var e=a(this.width,this.height);e!==this.orientation&&(this.orientation=e,this.emit(s.ORIENTATION_CHANGE,e))}},updateScale:function(){var t,i,s=this.canvas.style,n=this.gameSize.width,h=this.gameSize.height,r=this.zoom,a=this.autoRound;this.scaleMode===e.SCALE_MODE.NONE?(this.displaySize.setSize(n*r*1,h*r*1),t=this.displaySize.width/1,i=this.displaySize.height/1,a&&(t=Math.floor(t),i=Math.floor(i)),this._resetZoom&&(s.width=t+"px",s.height=i+"px",this._resetZoom=!1)):this.scaleMode===e.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(1*this.displaySize.width,1*this.displaySize.height),t=this.displaySize.width/1,i=this.displaySize.height/1,a&&(t=Math.floor(t),i=Math.floor(i)),this.canvas.width=t,this.canvas.height=i):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),t=this.displaySize.width/1,i=this.displaySize.height/1,a&&(t=Math.floor(t),i=Math.floor(i)),s.width=t+"px",s.height=i+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var e=u(this.parentSize.width,this.gameSize.width,0,!0),t=u(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(e,t),1)},updateCenter:function(){var t=this.autoCenter;if(t!==e.CENTER.NO_CENTER){var i=this.canvas,s=i.style,n=i.getBoundingClientRect(),h=n.width,r=n.height,a=Math.floor((this.parentSize.width-h)/2),o=Math.floor((this.parentSize.height-r)/2);t===e.CENTER.CENTER_HORIZONTALLY?o=0:t===e.CENTER.CENTER_VERTICALLY&&(a=0),s.marginLeft=a+"px",s.marginTop=o+"px"}},updateBounds:function(){var e=this.canvasBounds,t=this.canvas.getBoundingClientRect();e.x=t.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),e.y=t.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),e.width=t.width,e.height=t.height},transformX:function(e){return(e-this.canvasBounds.left)*this.displayScale.x},transformY:function(e){return(e-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(e){void 0===e&&(e={navigationUI:"hide"});var t=this.fullscreen;if(t.available){if(!t.active){var i,n=this.getFullscreenTarget();(i=t.keyboard?n[t.request](Element.ALLOW_KEYBOARD_INPUT):n[t.request](e))?i.then(this.fullscreenSuccessHandler.bind(this)).catch(this.fullscreenErrorHandler.bind(this)):t.active?this.fullscreenSuccessHandler():this.fullscreenErrorHandler()}}else this.emit(s.FULLSCREEN_UNSUPPORTED)},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(s.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(e){this.removeFullscreenTarget(),this.emit(s.FULLSCREEN_FAILED,e)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var e=document.createElement("div");e.style.margin="0",e.style.padding="0",e.style.width="100%",e.style.height="100%",this.fullscreenTarget=e,this._createdFullscreenTarget=!0}this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas));return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var e=this.fullscreenTarget;if(e&&e.parentNode){var t=e.parentNode;t.insertBefore(this.canvas,e),t.removeChild(e)}}},stopFullscreen:function(){var e=this.fullscreen;if(!e.available)return this.emit(s.FULLSCREEN_UNSUPPORTED),!1;e.active&&document[e.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(s.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(e){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(e)},startListeners:function(){var e=this,t=this.listeners;if(t.orientationChange=function(){e._checkOrientation=!0,e.dirty=!0},t.windowResize=function(){e.dirty=!0},window.addEventListener("orientationchange",t.orientationChange,!1),window.addEventListener("resize",t.windowResize,!1),this.fullscreen.available){t.fullScreenChange=function(t){return e.onFullScreenChange(t)},t.fullScreenError=function(t){return e.onFullScreenError(t)};["webkit","moz",""].forEach(function(e){document.addEventListener(e+"fullscreenchange",t.fullScreenChange,!1),document.addEventListener(e+"fullscreenerror",t.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",t.fullScreenChange,!1),document.addEventListener("MSFullscreenError",t.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(e,t){this.parent&&(this._lastCheck+=t,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var e=this.listeners;window.removeEventListener("orientationchange",e.orientationChange,!1),window.removeEventListener("resize",e.windowResize,!1);["webkit","moz",""].forEach(function(t){document.removeEventListener(t+"fullscreenchange",e.fullScreenChange,!1),document.removeEventListener(t+"fullscreenerror",e.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",e.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",e.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===e.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===e.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});module.exports=g;
},{"./const":"RCzX","../utils/Class":"JASv","eventemitter3":"JJlS","./events":"A24E","../core/events":"Dc0S","../dom/GetInnerHeight":"JVxa","../dom/GetTarget":"fqO7","../dom/GetScreenOrientation":"Nn60","../utils/NOOP":"lZkB","../geom/rectangle/Rectangle":"wYVB","../structs/Size":"Kwmj","../math/snap/SnapFloor":"hQtq","../math/Vector2":"qKN5"}],"AD22":[function(require,module,exports) {
var N={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};module.exports=N;
},{}],"FbAq":[function(require,module,exports) {
module.exports="addfile";
},{}],"Sl4h":[function(require,module,exports) {
module.exports="filecomplete";
},{}],"vbdj":[function(require,module,exports) {
module.exports="filecomplete-";
},{}],"hjG6":[function(require,module,exports) {
module.exports="loaderror";
},{}],"vP1E":[function(require,module,exports) {
module.exports="load";
},{}],"pozJ":[function(require,module,exports) {
module.exports="fileprogress";
},{}],"pQof":[function(require,module,exports) {
module.exports="postprocess";
},{}],"u2oO":[function(require,module,exports) {
module.exports="progress";
},{}],"VSyc":[function(require,module,exports) {
module.exports={ADD:require("./ADD_EVENT"),COMPLETE:require("./COMPLETE_EVENT"),FILE_COMPLETE:require("./FILE_COMPLETE_EVENT"),FILE_KEY_COMPLETE:require("./FILE_KEY_COMPLETE_EVENT"),FILE_LOAD_ERROR:require("./FILE_LOAD_ERROR_EVENT"),FILE_LOAD:require("./FILE_LOAD_EVENT"),FILE_PROGRESS:require("./FILE_PROGRESS_EVENT"),POST_PROCESS:require("./POST_PROCESS_EVENT"),PROGRESS:require("./PROGRESS_EVENT"),START:require("./START_EVENT")};
},{"./ADD_EVENT":"FbAq","./COMPLETE_EVENT":"edEl","./FILE_COMPLETE_EVENT":"Sl4h","./FILE_KEY_COMPLETE_EVENT":"vbdj","./FILE_LOAD_ERROR_EVENT":"hjG6","./FILE_LOAD_EVENT":"vP1E","./FILE_PROGRESS_EVENT":"pozJ","./POST_PROCESS_EVENT":"pQof","./PROGRESS_EVENT":"u2oO","./START_EVENT":"xnJO"}],"L06t":[function(require,module,exports) {
var e=function(e){return e&&e[0].toUpperCase()+e.slice(1)};module.exports=e;
},{}],"ozP0":[function(require,module,exports) {
var s=require("../utils/object/GetFastValue"),e=require("../utils/string/UppercaseFirst"),i=function(i){var r=i.game.config.defaultPhysicsSystem,t=s(i.settings,"physics",!1);if(r||t){var u=[];if(r&&u.push(e(r+"Physics")),t)for(var a in t)a=e(a.concat("Physics")),-1===u.indexOf(a)&&u.push(a);return u}};module.exports=i;
},{"../utils/object/GetFastValue":"cEup","../utils/string/UppercaseFirst":"L06t"}],"nSCX":[function(require,module,exports) {
var e=require("../utils/object/GetFastValue"),r=function(r){var t=r.plugins.getDefaultScenePlugins(),u=e(r.settings,"plugins",!1);return Array.isArray(u)?u:t||[]};module.exports=r;
},{"../utils/object/GetFastValue":"cEup"}],"eHkv":[function(require,module,exports) {
var r=function(r){var a={};for(var e in r)Array.isArray(r[e])?a[e]=r[e].slice(0):a[e]=r[e];return a};module.exports=r;
},{}],"NXFV":[function(require,module,exports) {
var r=require("./Clone"),e=function(e,n){var o=r(e);for(var a in n)o.hasOwnProperty(a)||(o[a]=n[a]);return o};module.exports=e;
},{"./Clone":"eHkv"}],"gHKd":[function(require,module,exports) {
var e={game:"game",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter",cameras3d:"cameras3d",facebook:"facebook"};module.exports=e;
},{}],"cFNQ":[function(require,module,exports) {
var e=require("./const"),i=require("../utils/object/GetValue"),t=require("../utils/object/Merge"),a=require("./InjectionMap"),r={create:function(r){return"string"==typeof r?r={key:r}:void 0===r&&(r={}),{status:e.PENDING,key:i(r,"key",""),active:i(r,"active",!1),visible:i(r,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:i(r,"pack",!1),cameras:i(r,"cameras",null),map:i(r,"map",t(a,i(r,"mapAdd",{}))),physics:i(r,"physics",{}),loader:i(r,"loader",{}),plugins:i(r,"plugins",!1),input:i(r,"input",{})}}};module.exports=r;
},{"./const":"AD22","../utils/object/GetValue":"OqLI","../utils/object/Merge":"NXFV","./InjectionMap":"gHKd"}],"cAYG":[function(require,module,exports) {
var t=require("../utils/Class"),s=require("./const"),i=require("../plugins/DefaultPlugins"),e=require("./events"),n=require("./GetPhysicsPlugins"),h=require("./GetScenePlugins"),r=require("../utils/NOOP"),u=require("./Settings"),a=new t({initialize:function(t,s){this.scene=t,this.game,this.renderer,this.facebook,this.config=s,this.settings=u.create(s),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=r},init:function(t){this.settings.status=s.INIT,this.sceneUpdate=r,this.game=t,this.renderer=t.renderer,this.canvas=t.canvas,this.context=t.context;var u=t.plugins;this.plugins=u,u.addToScene(this,i.Global,[i.CoreScene,h(this),n(this)]),this.events.emit(e.BOOT,this),this.settings.isBooted=!0},install:function(t){Array.isArray(t)||(t=[t]),this.plugins.installLocal(this,t)},step:function(t,s){this.events.emit(e.PRE_UPDATE,t,s),this.events.emit(e.UPDATE,t,s),this.sceneUpdate.call(this.scene,t,s),this.events.emit(e.POST_UPDATE,t,s)},render:function(t){var s=this.displayList;s.depthSort(),this.cameras.render(t,s),this.events.emit(e.RENDER,t)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(t){return this.settings.active&&(this.settings.status=s.PAUSED,this.settings.active=!1,this.events.emit(e.PAUSE,this,t)),this},resume:function(t){return this.settings.active||(this.settings.status=s.RUNNING,this.settings.active=!0,this.events.emit(e.RESUME,this,t)),this},sleep:function(t){return this.settings.status=s.SLEEPING,this.settings.active=!1,this.settings.visible=!1,this.events.emit(e.SLEEP,this,t),this},wake:function(t){var i=this.settings;return i.status=s.RUNNING,i.active=!0,i.visible=!0,this.events.emit(e.WAKE,this,t),i.isTransition&&this.events.emit(e.TRANSITION_WAKE,i.transitionFrom,i.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===s.SLEEPING},isActive:function(){return this.settings.status===s.RUNNING},isPaused:function(){return this.settings.status===s.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(t){return this.settings.visible=t,this},setActive:function(t,s){return t?this.resume(s):this.pause(s)},start:function(t){t&&(this.settings.data=t),this.settings.status=s.START,this.settings.active=!0,this.settings.visible=!0,this.events.emit(e.START,this),this.events.emit(e.READY,this,t)},shutdown:function(t){this.events.off(e.TRANSITION_INIT),this.events.off(e.TRANSITION_START),this.events.off(e.TRANSITION_COMPLETE),this.events.off(e.TRANSITION_OUT),this.settings.status=s.SHUTDOWN,this.settings.active=!1,this.settings.visible=!1,this.events.emit(e.SHUTDOWN,this,t)},destroy:function(){this.settings.status=s.DESTROYED,this.settings.active=!1,this.settings.visible=!1,this.events.emit(e.DESTROY,this),this.events.removeAllListeners();for(var t=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],i=0;i<t.length;i++)this[t[i]]=null}});module.exports=a;
},{"../utils/Class":"JASv","./const":"AD22","../plugins/DefaultPlugins":"CApx","./events":"zvkO","./GetPhysicsPlugins":"ozP0","./GetScenePlugins":"nSCX","../utils/NOOP":"lZkB","./Settings":"cFNQ"}],"ocpX":[function(require,module,exports) {
var s=require("../utils/Class"),t=require("./Systems"),i=new s({initialize:function(s){this.sys=new t(this,s),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.facebook,this.scale,this.plugins},update:function(){}});module.exports=i;
},{"../utils/Class":"JASv","./Systems":"cAYG"}],"Xv1C":[function(require,module,exports) {
var e=require("../utils/Class"),s=require("./const"),t=require("./events"),i=require("../core/events"),n=require("../utils/object/GetValue"),r=require("../loader/events"),a=require("../utils/NOOP"),h=require("./Scene"),o=require("./Systems"),u=new e({initialize:function(e,s){if(this.game=e,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,s){Array.isArray(s)||(s=[s]);for(var t=0;t<s.length;t++)this._pending.push({key:"default",scene:s[t],autoStart:0===t,data:{}})}e.events.once(i.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var e,s,t,i;for(e=0;e<this._pending.length;e++){var n;t=(s=this._pending[e]).key,(i=s.scene)instanceof h?n=this.createSceneFromInstance(t,i):"object"==typeof i?n=this.createSceneFromObject(t,i):"function"==typeof i&&(n=this.createSceneFromFunction(t,i)),t=n.sys.settings.key,this.keys[t]=n,this.scenes.push(n),this._data[t]&&(n.sys.settings.data=this._data[t].data,this._data[t].autoStart&&(s.autoStart=!0)),(s.autoStart||n.sys.settings.active)&&this._start.push(t)}for(this._pending.length=0,this._data={},this.isBooted=!0,e=0;e<this._start.length;e++)s=this._start[e],this.start(s);this._start.length=0}},processQueue:function(){var e=this._pending.length,s=this._queue.length;if(0!==e||0!==s){var t,i;if(e){for(t=0;t<e;t++)i=this._pending[t],this.add(i.key,i.scene,i.autoStart,i.data);for(t=0;t<this._start.length;t++)i=this._start[t],this.start(i);return this._start.length=0,void(this._pending.length=0)}for(t=0;t<this._queue.length;t++)this[(i=this._queue[t]).op](i.keyA,i.keyB);this._queue.length=0}},add:function(e,s,t,i){return void 0===t&&(t=!1),void 0===i&&(i={}),this.isProcessing||!this.isBooted?(this._pending.push({key:e,scene:s,autoStart:t,data:i}),this.isBooted||(this._data[e]={data:i}),null):(e=this.getKey(e,s),s instanceof h?n=this.createSceneFromInstance(e,s):"object"==typeof s?(s.key=e,n=this.createSceneFromObject(e,s)):"function"==typeof s&&(n=this.createSceneFromFunction(e,s)),n.sys.settings.data=i,e=n.sys.settings.key,this.keys[e]=n,this.scenes.push(n),(t||n.sys.settings.active)&&(this._pending.length?this._start.push(e):this.start(e)),n);var n},remove:function(e){if(this.isProcessing)this._queue.push({op:"remove",keyA:e,keyB:null});else{var s=this.getScene(e);if(!s||s.sys.isTransitioning())return this;var t=this.scenes.indexOf(s),i=s.sys.settings.key;t>-1&&(delete this.keys[i],this.scenes.splice(t,1),this._start.indexOf(i)>-1&&(t=this._start.indexOf(i),this._start.splice(t,1)),s.sys.destroy())}return this},bootScene:function(e){var i,n=e.sys,h=n.settings;n.sceneUpdate=a,e.init&&(e.init.call(e,h.data),h.status=s.INIT,h.isTransition&&n.events.emit(t.TRANSITION_INIT,h.transitionFrom,h.transitionDuration)),n.load&&(i=n.load).reset(),i&&e.preload?(e.preload.call(e),0===i.list.size?this.create(e):(h.status=s.LOADING,i.once(r.COMPLETE,this.loadComplete,this),i.start())):this.create(e)},loadComplete:function(e){var s=e.scene;this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(s)},payloadComplete:function(e){this.bootScene(e.scene)},update:function(e,t){this.processQueue(),this.isProcessing=!0;for(var i=this.scenes.length-1;i>=0;i--){var n=this.scenes[i].sys;n.settings.status>s.START&&n.settings.status<=s.RUNNING&&n.step(e,t)}},render:function(e){for(var t=0;t<this.scenes.length;t++){var i=this.scenes[t].sys;i.settings.visible&&i.settings.status>=s.LOADING&&i.settings.status<s.SLEEPING&&i.render(e)}this.isProcessing=!1},create:function(e){var i=e.sys,n=i.settings;e.create&&(n.status=s.CREATING,e.create.call(e,n.data),n.status===s.DESTROYED)||(n.isTransition&&i.events.emit(t.TRANSITION_START,n.transitionFrom,n.transitionDuration),e.update&&(i.sceneUpdate=e.update),n.status=s.RUNNING,i.events.emit(t.CREATE,e))},createSceneFromFunction:function(e,s){var t=new s;if(t instanceof h){var i=t.sys.settings.key;if(""!==i&&(e=i),this.keys.hasOwnProperty(e))throw new Error("Cannot add a Scene with duplicate key: "+e);return this.createSceneFromInstance(e,t)}return t.sys=new o(t),t.sys.settings.key=e,t.sys.init(this.game),t},createSceneFromInstance:function(e,s){var t=s.sys.settings.key;return""!==t?e=t:s.sys.settings.key=e,s.sys.init(this.game),s},createSceneFromObject:function(e,s){var t=new h(s),i=t.sys.settings.key;""!==i?e=i:t.sys.settings.key=e,t.sys.init(this.game);for(var r=["init","preload","create","update","render"],a=0;a<r.length;a++){var o=n(s,r[a],null);o&&(t[r[a]]=o)}if(s.hasOwnProperty("extend"))for(var u in s.extend)if(s.extend.hasOwnProperty(u)){var c=s.extend[u];"data"===u&&t.hasOwnProperty("data")&&"object"==typeof c?t.data.merge(c):"sys"!==u&&(t[u]=c)}return t},getKey:function(e,s){if(e||(e="default"),"function"==typeof s)return e;if(s instanceof h?e=s.sys.settings.key:"object"==typeof s&&s.hasOwnProperty("key")&&(e=s.key),this.keys.hasOwnProperty(e))throw new Error("Cannot add a Scene with duplicate key: "+e);return e},getScenes:function(e,s){void 0===e&&(e=!0),void 0===s&&(s=!1);for(var t=[],i=this.scenes,n=0;n<i.length;n++){var r=i[n];r&&(!e||e&&r.sys.isActive())&&t.push(r)}return s?t.reverse():t},getScene:function(e){if("string"==typeof e){if(this.keys[e])return this.keys[e]}else for(var s=0;s<this.scenes.length;s++)if(e===this.scenes[s])return e;return null},isActive:function(e){var s=this.getScene(e);return s?s.sys.isActive():null},isPaused:function(e){var s=this.getScene(e);return s?s.sys.isPaused():null},isVisible:function(e){var s=this.getScene(e);return s?s.sys.isVisible():null},isSleeping:function(e){var s=this.getScene(e);return s?s.sys.isSleeping():null},pause:function(e,s){var t=this.getScene(e);return t&&t.sys.pause(s),this},resume:function(e,s){var t=this.getScene(e);return t&&t.sys.resume(s),this},sleep:function(e,s){var t=this.getScene(e);return t&&!t.sys.isTransitioning()&&t.sys.sleep(s),this},wake:function(e,s){var t=this.getScene(e);return t&&t.sys.wake(s),this},run:function(e,s){var t=this.getScene(e);if(!t){for(var i=0;i<this._pending.length;i++)if(this._pending[i].key===e){this.queueOp("start",e,s);break}return this}t.sys.isSleeping()?t.sys.wake(s):t.sys.isPaused()?t.sys.resume(s):this.start(e,s)},start:function(e,t){if(!this.isBooted)return this._data[e]={autoStart:!0,data:t},this;var i=this.getScene(e);if(i){var n;if(i.sys.isActive()||i.sys.isPaused())i.sys.shutdown(),i.sys.start(t);else if(i.sys.start(t),i.sys.load&&(n=i.sys.load),n&&i.sys.settings.hasOwnProperty("pack")&&(n.reset(),n.addPack({payload:i.sys.settings.pack})))return i.sys.settings.status=s.LOADING,n.once(r.COMPLETE,this.payloadComplete,this),n.start(),this;this.bootScene(i)}return this},stop:function(e,s){var t=this.getScene(e);return t&&!t.sys.isTransitioning()&&t.sys.shutdown(s),this},switch:function(e,s){var t=this.getScene(e),i=this.getScene(s);return t&&i&&t!==i&&(this.sleep(e),this.isSleeping(s)?this.wake(s):this.start(s)),this},getAt:function(e){return this.scenes[e]},getIndex:function(e){var s=this.getScene(e);return this.scenes.indexOf(s)},bringToTop:function(e){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:e,keyB:null});else{var s=this.getIndex(e);if(-1!==s&&s<this.scenes.length){var t=this.getScene(e);this.scenes.splice(s,1),this.scenes.push(t)}}return this},sendToBack:function(e){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:e,keyB:null});else{var s=this.getIndex(e);if(-1!==s&&s>0){var t=this.getScene(e);this.scenes.splice(s,1),this.scenes.unshift(t)}}return this},moveDown:function(e){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:e,keyB:null});else{var s=this.getIndex(e);if(s>0){var t=s-1,i=this.getScene(e),n=this.getAt(t);this.scenes[s]=n,this.scenes[t]=i}}return this},moveUp:function(e){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:e,keyB:null});else{var s=this.getIndex(e);if(s<this.scenes.length-1){var t=s+1,i=this.getScene(e),n=this.getAt(t);this.scenes[s]=n,this.scenes[t]=i}}return this},moveAbove:function(e,s){if(e===s)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:e,keyB:s});else{var t=this.getIndex(e),i=this.getIndex(s);if(-1!==t&&-1!==i){var n=this.getAt(i);this.scenes.splice(i,1),this.scenes.splice(t+1,0,n)}}return this},moveBelow:function(e,s){if(e===s)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:e,keyB:s});else{var t=this.getIndex(e),i=this.getIndex(s);if(-1!==t&&-1!==i){var n=this.getAt(i);this.scenes.splice(i,1),0===t?this.scenes.unshift(n):this.scenes.splice(t,0,n)}}return this},queueOp:function(e,s,t){return this._queue.push({op:e,keyA:s,keyB:t}),this},swapPosition:function(e,s){if(e===s)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:e,keyB:s});else{var t=this.getIndex(e),i=this.getIndex(s);if(t!==i&&-1!==t&&-1!==i){var n=this.getAt(t);this.scenes[t]=this.scenes[i],this.scenes[i]=n}}return this},dump:function(){for(var e=[],t=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],i=0;i<this.scenes.length;i++){var n=this.scenes[i].sys,r=!n.settings.visible||n.settings.status!==s.RUNNING&&n.settings.status!==s.PAUSED?"[-] ":"[*] ";r+=n.settings.key+" ("+t[n.settings.status]+")",e.push(r)}console.log(e.join("\n"))},destroy:function(){for(var e=0;e<this.scenes.length;e++){this.scenes[e].sys.destroy()}this.update=a,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});module.exports=u;
},{"../utils/Class":"JASv","./const":"AD22","./events":"zvkO","../core/events":"Dc0S","../utils/object/GetValue":"OqLI","../loader/events":"VSyc","../utils/NOOP":"lZkB","./Scene":"ocpX","./Systems":"cAYG"}],"nGOG":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("../math/Clamp"),h=require("../utils/object/Extend"),s=new t({initialize:function(t,i,h,s,e,r,u){this.texture=t,this.name=i,this.source=t.source[h],this.sourceIndex=h,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(r,u,s,e)},setSize:function(t,i,h,s){void 0===h&&(h=0),void 0===s&&(s=0),this.cutX=h,this.cutY=s,this.cutWidth=t,this.cutHeight=i,this.width=t,this.height=i,this.halfWidth=Math.floor(.5*t),this.halfHeight=Math.floor(.5*i),this.centerX=Math.floor(t/2),this.centerY=Math.floor(i/2);var e=this.data,r=e.cut;r.x=h,r.y=s,r.w=t,r.h=i,r.r=h+t,r.b=s+i,e.sourceSize.w=t,e.sourceSize.h=i,e.spriteSourceSize.w=t,e.spriteSourceSize.h=i,e.radius=.5*Math.sqrt(t*t+i*i);var u=e.drawImage;return u.x=h,u.y=s,u.width=t,u.height=i,this.updateUVs()},setTrim:function(t,i,h,s,e,r){var u=this.data,a=u.spriteSourceSize;return u.trim=!0,u.sourceSize.w=t,u.sourceSize.h=i,a.x=h,a.y=s,a.w=e,a.h=r,a.r=h+e,a.b=s+r,this.x=h,this.y=s,this.width=e,this.height=r,this.halfWidth=.5*e,this.halfHeight=.5*r,this.centerX=Math.floor(e/2),this.centerY=Math.floor(r/2),this.updateUVs()},setCropUVs:function(t,h,s,e,r,u,a){var c=this.cutX,n=this.cutY,o=this.cutWidth,d=this.cutHeight,l=this.realWidth,g=this.realHeight,f=c+(h=i(h,0,l)),x=n+(s=i(s,0,g)),w=e=i(e,0,l-h),m=r=i(r,0,g-s),v=this.data;if(v.trim){var p=v.spriteSourceSize,S=h+(e=i(e,0,o-h)),y=s+(r=i(r,0,d-s));if(!(p.r<h||p.b<s||p.x>S||p.y>y)){var z=Math.max(p.x,h),M=Math.max(p.y,s),X=Math.min(p.r,S)-z,Y=Math.min(p.b,y)-M;w=X,m=Y,f=u?c+(o-(z-p.x)-X):c+(z-p.x),x=a?n+(d-(M-p.y)-Y):n+(M-p.y),h=z,s=M,e=X,r=Y}else f=0,x=0,w=0,m=0}else u&&(f=c+(o-h-e)),a&&(x=n+(d-s-r));var H=this.source.width,W=this.source.height;return t.u0=Math.max(0,f/H),t.v0=Math.max(0,x/W),t.u1=Math.min(1,(f+w)/H),t.v1=Math.min(1,(x+m)/W),t.x=h,t.y=s,t.cx=f,t.cy=x,t.cw=w,t.ch=m,t.width=e,t.height=r,t.flipX=u,t.flipY=a,t},updateCropUVs:function(t,i,h){return this.setCropUVs(t,t.x,t.y,t.width,t.height,i,h)},updateUVs:function(){var t=this.cutX,i=this.cutY,h=this.cutWidth,s=this.cutHeight,e=this.data.drawImage;e.width=h,e.height=s;var r=this.source.width,u=this.source.height;return this.u0=t/r,this.v0=i/u,this.u1=(t+h)/r,this.v1=(i+s)/u,this},updateUVsInverted:function(){var t=this.source.width,i=this.source.height;return this.u0=(this.cutX+this.cutHeight)/t,this.v0=this.cutY/i,this.u1=this.cutX/t,this.v1=(this.cutY+this.cutWidth)/i,this},clone:function(){var t=new s(this.texture,this.name,this.sourceIndex);return t.cutX=this.cutX,t.cutY=this.cutY,t.cutWidth=this.cutWidth,t.cutHeight=this.cutHeight,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t.halfWidth=this.halfWidth,t.halfHeight=this.halfHeight,t.centerX=this.centerX,t.centerY=this.centerY,t.rotated=this.rotated,t.data=h(!0,t.data,this.data),t.updateUVs(),t},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});module.exports=s;
},{"../utils/Class":"JASv","../math/Clamp":"eCA1","../utils/object/Extend":"SFmW"}],"nM6K":[function(require,module,exports) {
var e=require("../display/canvas/CanvasPool"),t=require("../utils/Class"),i=require("../math/pow2/IsSizePowerOfTwo"),s=require("../renderer/ScaleModes"),r=new t({initialize:function(e,t,r,h,n){void 0===n&&(n=!1);var a=e.manager.game;this.renderer=a.renderer,this.texture=e,this.source=t,this.image=t,this.compressionAlgorithm=null,this.resolution=1,this.width=r||t.naturalWidth||t.videoWidth||t.width||0,this.height=h||t.naturalHeight||t.videoHeight||t.height||0,this.scaleMode=s.DEFAULT,this.isCanvas=t instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&t instanceof HTMLVideoElement,this.isRenderTexture="RenderTexture"===t.type,this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&t instanceof WebGLTexture,this.isPowerOf2=i(this.width,this.height),this.glTexture=null,this.flipY=n,this.init(a)},init:function(e){this.renderer&&(this.renderer.gl?this.isCanvas?this.glTexture=this.renderer.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=this.renderer.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=this.renderer.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=this.renderer.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e),this.scaleMode=e},setFlipY:function(e){return void 0===e&&(e=!0),this.flipY=e,this},update:function(){var e=this.renderer.gl;e&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):e&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&e.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});module.exports=r;
},{"../display/canvas/CanvasPool":"J9p3","../utils/Class":"JASv","../math/pow2/IsSizePowerOfTwo":"vq1z","../renderer/ScaleModes":"RtU1"}],"K94h":[function(require,module,exports) {
var e=require("../utils/Class"),r=require("./Frame"),t=require("./TextureSource"),s="Texture.frame missing: ",i=new e({initialize:function(e,r,s,i,a){Array.isArray(s)||(s=[s]),this.manager=e,this.key=r,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var o=0;o<s.length;o++)this.source.push(new t(this,s[o],i,a))},add:function(e,t,s,i,a,o){if(this.has(e))return null;var h=new r(this,e,t,s,i,a,o);return this.frames[e]=h,"__BASE"===this.firstFrame&&(this.firstFrame=e),this.frameTotal++,h},remove:function(e){return!!this.has(e)&&(this.get(e).destroy(),delete this.frames[e],!0)},has:function(e){return this.frames[e]},get:function(e){e||(e=this.firstFrame);var r=this.frames[e];return r||(console.warn(s+e),r=this.frames[this.firstFrame]),r},getTextureSourceIndex:function(e){for(var r=0;r<this.source.length;r++)if(this.source[r]===e)return r;return-1},getFramesFromTextureSource:function(e,r){void 0===r&&(r=!1);var t=[];for(var s in this.frames)if("__BASE"!==s||r){var i=this.frames[s];i.sourceIndex===e&&t.push(i)}return t},getFrameNames:function(e){void 0===e&&(e=!1);var r=Object.keys(this.frames);if(!e){var t=r.indexOf("__BASE");-1!==t&&r.splice(t,1)}return r},getSourceImage:function(e){null!=e&&1!==this.frameTotal||(e="__BASE");var r=this.frames[e];return r?r.source.image:(console.warn(s+e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){null!=e&&1!==this.frameTotal||(e="__BASE");var r,t=this.frames[e];return t?r=t.sourceIndex:(console.warn(s+e),r=this.frames.__BASE.sourceIndex),this.dataSource[r].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var s=this.source[r];this.dataSource.push(new t(this,e[r],s.width,s.height))}},setFilter:function(e){var r;for(r=0;r<this.source.length;r++)this.source[r].setFilter(e);for(r=0;r<this.dataSource.length;r++)this.dataSource[r].setFilter(e)},destroy:function(){var e;for(e=0;e<this.source.length;e++)this.source[e].destroy();for(e=0;e<this.dataSource.length;e++)this.dataSource[e].destroy();for(var r in this.frames){this.frames[r].destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});module.exports=i;
},{"../utils/Class":"JASv","./Frame":"nGOG","./TextureSource":"nM6K"}],"IG0K":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("../math/Clamp"),a=require("../display/color/Color"),e=require("../const"),h=require("../math/pow2/IsSizePowerOfTwo"),s=require("./Texture"),r=new t({Extends:s,initialize:function(t,i,a,e,h){s.call(this,t,i,a,e,h),this.add("__BASE",0,0,0,e,h),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=e,this.height=h,this.imageData=this.context.getImageData(0,0,e,h),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===e.WEBGL&&this.refresh(),this},draw:function(t,i,a){return this.context.drawImage(a,t,i),this.update()},drawFrame:function(t,i,a,e){void 0===a&&(a=0),void 0===e&&(e=0);var h=this.manager.getFrame(t,i);if(h){var s=h.canvasData,r=h.cutWidth,n=h.cutHeight,o=h.source.resolution;return this.context.drawImage(h.source.image,s.x,s.y,r,n,a,e,r/o,n/o),this.update()}return this},setPixel:function(t,i,a,e,h,s){if(void 0===s&&(s=255),t=Math.abs(Math.floor(t)),i=Math.abs(Math.floor(i)),this.getIndex(t,i)>-1){var r=this.context.getImageData(t,i,1,1);r.data[0]=a,r.data[1]=e,r.data[2]=h,r.data[3]=s,this.context.putImageData(r,t,i)}return this},putData:function(t,i,a,e,h,s,r){return void 0===e&&(e=0),void 0===h&&(h=0),void 0===s&&(s=t.width),void 0===r&&(r=t.height),this.context.putImageData(t,i,a,e,h,s,r),this},getData:function(t,a,e,h){return t=i(Math.floor(t),0,this.width-1),a=i(Math.floor(a),0,this.height-1),e=i(e,1,this.width-t),h=i(h,1,this.height-a),this.context.getImageData(t,a,e,h)},getPixel:function(t,i,e){e||(e=new a);var h=this.getIndex(t,i);if(h>-1){var s=this.data,r=s[h+0],n=s[h+1],o=s[h+2],u=s[h+3];e.setTo(r,n,o,u)}return e},getPixels:function(t,e,h,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===h&&(h=this.width),void 0===s&&(s=h),t=Math.abs(Math.round(t)),e=Math.abs(Math.round(e));for(var r=i(t,0,this.width),n=i(t+h,0,this.width),o=i(e,0,this.height),u=i(e+s,0,this.height),d=new a,f=[],g=o;g<u;g++){for(var c=[],l=r;l<n;l++)d=this.getPixel(l,g,d),c.push({x:l,y:g,color:d.color,alpha:d.alphaGL});f.push(c)}return f},getIndex:function(t,i){return t=Math.abs(Math.round(t)),i=Math.abs(Math.round(i)),t<this.width&&i<this.height?4*(t+i*this.width):-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(t,i,a,e){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===a&&(a=this.width),void 0===e&&(e=this.height),this.context.clearRect(t,i,a,e),this.update()},setSize:function(t,i){return void 0===i&&(i=t),t===this.width&&i===this.height||(this.canvas.width=t,this.canvas.height=i,this._source.width=t,this._source.height=i,this._source.isPowerOf2=h(t,i),this.frames.__BASE.setSize(t,i,0,0),this.width=t,this.height=i,this.refresh()),this},destroy:function(){s.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});module.exports=r;
},{"../utils/Class":"JASv","../math/Clamp":"eCA1","../display/color/Color":"oiID","../const":"BLd6","../math/pow2/IsSizePowerOfTwo":"vq1z","./Texture":"K94h"}],"vsEB":[function(require,module,exports) {
var e=function(e,a,t){if(t.getElementsByTagName("TextureAtlas")){var r=e.source[a];e.add("__BASE",a,0,0,r.width,r.height);for(var n,s=t.getElementsByTagName("SubTexture"),u=0;u<s.length;u++){var l=s[u].attributes,v=l.name.value,i=parseInt(l.x.value,10),m=parseInt(l.y.value,10),h=parseInt(l.width.value,10),d=parseInt(l.height.value,10);if(n=e.add(v,a,i,m,h,d),l.frameX){var f=Math.abs(parseInt(l.frameX.value,10)),g=Math.abs(parseInt(l.frameY.value,10)),p=parseInt(l.frameWidth.value,10),I=parseInt(l.frameHeight.value,10);n.setTrim(h,d,f,g,p,I)}}return e}console.warn("Invalid Texture Atlas XML given")};module.exports=e;
},{}],"qKhH":[function(require,module,exports) {
var r=function(r,e){var t=r.source[e];return r.add("__BASE",e,0,0,t.width,t.height),r};module.exports=r;
},{}],"n5Ii":[function(require,module,exports) {
var e=require("../../utils/object/Clone"),r=function(r,t,a){if(a.frames||a.textures){var i=r.source[t];r.add("__BASE",t,0,0,i.width,i.height);for(var o,s=Array.isArray(a.textures)?a.textures[t].frames:a.frames,u=0;u<s.length;u++){var m=s[u];o=r.add(m.filename,t,m.frame.x,m.frame.y,m.frame.w,m.frame.h),m.trimmed&&o.setTrim(m.sourceSize.w,m.sourceSize.h,m.spriteSourceSize.x,m.spriteSourceSize.y,m.spriteSourceSize.w,m.spriteSourceSize.h),m.rotated&&(o.rotated=!0,o.updateUVsInverted());var c=m.anchor||m.pivot;c&&(o.customPivot=!0,o.pivotX=c.x,o.pivotY=c.y),o.customData=e(m)}for(var f in a)"frames"!==f&&(Array.isArray(a[f])?r.customData[f]=a[f].slice(0):r.customData[f]=a[f]);return r}console.warn("Invalid Texture Atlas JSON Array")};module.exports=r;
},{"../../utils/object/Clone":"eHkv"}],"mc2Q":[function(require,module,exports) {
var e=require("../../utils/object/Clone"),r=function(r,a,t){if(t.frames){var i=r.source[a];r.add("__BASE",a,0,0,i.width,i.height);var o,s=t.frames;for(var u in s){var c=s[u];o=r.add(u,a,c.frame.x,c.frame.y,c.frame.w,c.frame.h),c.trimmed&&o.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(o.rotated=!0,o.updateUVsInverted());var m=c.anchor||c.pivot;m&&(o.customPivot=!0,o.pivotX=m.x,o.pivotY=m.y),o.customData=e(c)}for(var v in t)"frames"!==v&&(Array.isArray(t[v])?r.customData[v]=t[v].slice(0):r.customData[v]=t[v]);return r}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")};module.exports=r;
},{"../../utils/object/Clone":"eHkv"}],"RaVh":[function(require,module,exports) {
var r=require("../../utils/object/GetFastValue"),e=function(e,a,t,i,n,o,l){var d=r(l,"frameWidth",null),h=r(l,"frameHeight",d);if(null===d)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var s=e.source[a];e.add("__BASE",a,0,0,s.width,s.height);var u=r(l,"startFrame",0),f=r(l,"endFrame",-1),m=r(l,"margin",0),v=r(l,"spacing",0),g=Math.floor((n-m+v)/(d+v))*Math.floor((o-m+v)/(h+v));0===g&&console.warn("SpriteSheet frame dimensions will result in zero frames."),(u>g||u<-g)&&(u=0),u<0&&(u=g+u),-1!==f&&(g=u+(f+1));for(var c=m,w=m,S=0,p=0,F=0;F<g;F++){S=0,p=0;var M=c+d,x=w+h;M>n&&(S=M-n),x>o&&(p=x-o),e.add(F,a,t+c,i+w,d-S,h-p),(c+=d+v)+d>n&&(c=m,w+=h+v)}return e};module.exports=e;
},{"../../utils/object/GetFastValue":"cEup"}],"KwWo":[function(require,module,exports) {
var r=require("../../utils/object/GetFastValue"),t=function(t,e,a){var i=r(a,"frameWidth",null),h=r(a,"frameHeight",i);if(!i)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var u=t.source[0];t.add("__BASE",0,0,0,u.width,u.height);var o,d=r(a,"startFrame",0),n=r(a,"endFrame",-1),c=r(a,"margin",0),l=r(a,"spacing",0),v=e.cutX,f=e.cutY,g=e.cutWidth,m=e.cutHeight,s=e.realWidth,W=e.realHeight,x=Math.floor((s-c+l)/(i+l)),F=Math.floor((W-c+l)/(h+l)),H=x*F,p=e.x,w=i-p,M=i-(s-g-p),S=e.y,A=h-S,E=h-(W-m-S);(d>H||d<-H)&&(d=0),d<0&&(d=H+d),-1!==n&&(H=d+(n+1));for(var I=c,T=c,_=0,b=e.sourceIndex,j=0;j<F;j++){for(var q=0===j,y=j===F-1,B=0;B<x;B++){var G=0===B,V=B===x-1;if(o=t.add(_,b,v+I,f+T,i,h),G||q||V||y){var X=G?p:0,Y=q?S:0,k=0,z=0;G&&(k+=i-w),V&&(k+=i-M),q&&(z+=h-A),y&&(z+=h-E);var C=i-k,D=h-z;o.cutWidth=C,o.cutHeight=D,o.setTrim(i,h,X,Y,C,D)}I+=l,I+=G?w:V?M:i,_++}I=c,T+=l,T+=q?A:y?E:h}return t};module.exports=t;
},{"../../utils/object/GetFastValue":"cEup"}],"iYnF":[function(require,module,exports) {
var h=0,t=function(t,e,i,a){var r=h-a.y-a.height;t.add(i,e,a.x,r,a.width,a.height)},e=function(e,i,a){var r=e.source[i];e.add("__BASE",i,0,0,r.width,r.height),h=r.height;for(var d=a.split("\n"),s=/^[ ]*(- )*(\w+)+[: ]+(.*)/,c="",n="",g={x:0,y:0,width:0,height:0},w=0;w<d.length;w++){var o=d[w].match(s);if(o){var v="- "===o[1],f=o[2],u=o[3];if(v&&(n!==c&&(t(e,i,n,g),c=n),g={x:0,y:0,width:0,height:0}),"name"!==f)switch(f){case"x":case"y":case"width":case"height":g[f]=parseInt(u,10)}else n=u}}return n!==c&&t(e,i,n,g),e};module.exports=e;
},{}],"o3TW":[function(require,module,exports) {
module.exports={AtlasXML:require("./AtlasXML"),Canvas:require("./Canvas"),Image:require("./Image"),JSONArray:require("./JSONArray"),JSONHash:require("./JSONHash"),SpriteSheet:require("./SpriteSheet"),SpriteSheetFromAtlas:require("./SpriteSheetFromAtlas"),UnityYAML:require("./UnityYAML")};
},{"./AtlasXML":"vsEB","./Canvas":"qKhH","./Image":"qKhH","./JSONArray":"n5Ii","./JSONHash":"mc2Q","./SpriteSheet":"RaVh","./SpriteSheetFromAtlas":"KwWo","./UnityYAML":"iYnF"}],"CPbt":[function(require,module,exports) {
var t=require("../display/canvas/CanvasPool"),e=require("./CanvasTexture"),i=require("../utils/Class"),r=require("../display/color/Color"),s=require("../const"),a=require("eventemitter3"),n=require("./events"),h=require("../core/events"),u=require("../create/GenerateTexture"),c=require("../utils/object/GetValue"),o=require("./parsers"),l=require("./Texture"),d=new i({Extends:a,initialize:function(e){a.call(this),this.game=e,this.name="TextureManager",this.list={},this._tempCanvas=t.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,e.events.once(h.BOOT,this.boot,this)},boot:function(){this._pending=2,this.on(n.LOAD,this.updatePending,this),this.on(n.ERROR,this.updatePending,this),this.addBase64("__DEFAULT",this.game.config.defaultImage),this.addBase64("__MISSING",this.game.config.missingImage),this.game.events.once(h.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,0===this._pending&&(this.off(n.LOAD),this.off(n.ERROR),this.emit(n.READY))},checkKey:function(t){return!this.exists(t)||(console.error("Texture key already in use: "+t),!1)},remove:function(t){if("string"==typeof t){if(!this.exists(t))return console.warn("No texture found matching key: "+t),this;t=this.get(t)}return this.list.hasOwnProperty(t.key)&&(t.destroy(),this.emit(n.REMOVE,t.key)),this},removeKey:function(t){return this.list.hasOwnProperty(t)&&delete this.list[t],this},addBase64:function(t,e){if(this.checkKey(t)){var i=this,r=new Image;r.onerror=function(){i.emit(n.ERROR,t)},r.onload=function(){var e=i.create(t,r);o.Image(e,0),i.emit(n.ADD,t,e),i.emit(n.LOAD,t,e)},r.src=e}return this},getBase64:function(e,i,r,s){void 0===r&&(r="image/png"),void 0===s&&(s=.92);var a="",n=this.getFrame(e,i);if(n&&(n.source.isRenderTexture||n.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(n){var h=n.canvasData,u=t.create2D(this,h.width,h.height);u.getContext("2d").drawImage(n.source.image,h.x,h.y,h.width,h.height,0,0,h.width,h.height),a=u.toDataURL(r,s),t.remove(u)}return a},addImage:function(t,e,i){var r=null;return this.checkKey(t)&&(r=this.create(t,e),o.Image(r,0),i&&r.setDataSource(i),this.emit(n.ADD,t,r)),r},addGLTexture:function(t,e,i,r){var s=null;return this.checkKey(t)&&((s=this.create(t,e,i,r)).add("__BASE",0,0,0,i,r),this.emit(n.ADD,t,s)),s},addRenderTexture:function(t,e){var i=null;return this.checkKey(t)&&((i=this.create(t,e)).add("__BASE",0,0,0,e.width,e.height),this.emit(n.ADD,t,i)),i},generate:function(e,i){if(this.checkKey(e)){var r=t.create(this,1,1);return i.canvas=r,u(i),this.addCanvas(e,r)}return null},createCanvas:function(e,i,r){if(void 0===i&&(i=256),void 0===r&&(r=256),this.checkKey(e)){var a=t.create(this,i,r,s.CANVAS,!0);return this.addCanvas(e,a)}return null},addCanvas:function(t,i,r){void 0===r&&(r=!1);var s=null;return r?s=new e(this,t,i,i.width,i.height):this.checkKey(t)&&(s=new e(this,t,i,i.width,i.height),this.list[t]=s,this.emit(n.ADD,t,s)),s},addAtlas:function(t,e,i,r){return Array.isArray(i.textures)||Array.isArray(i.frames)?this.addAtlasJSONArray(t,e,i,r):this.addAtlasJSONHash(t,e,i,r)},addAtlasJSONArray:function(t,e,i,r){var s=null;if(this.checkKey(t)){if(s=this.create(t,e),Array.isArray(i))for(var a=1===i.length,h=0;h<s.source.length;h++){var u=a?i[0]:i[h];o.JSONArray(s,h,u)}else o.JSONArray(s,0,i);r&&s.setDataSource(r),this.emit(n.ADD,t,s)}return s},addAtlasJSONHash:function(t,e,i,r){var s=null;if(this.checkKey(t)){if(s=this.create(t,e),Array.isArray(i))for(var a=0;a<i.length;a++)o.JSONHash(s,a,i[a]);else o.JSONHash(s,0,i);r&&s.setDataSource(r),this.emit(n.ADD,t,s)}return s},addAtlasXML:function(t,e,i,r){var s=null;return this.checkKey(t)&&(s=this.create(t,e),o.AtlasXML(s,0,i),r&&s.setDataSource(r),this.emit(n.ADD,t,s)),s},addUnityAtlas:function(t,e,i,r){var s=null;return this.checkKey(t)&&(s=this.create(t,e),o.UnityYAML(s,0,i),r&&s.setDataSource(r),this.emit(n.ADD,t,s)),s},addSpriteSheet:function(t,e,i){var r=null;if(this.checkKey(t)){var s=(r=this.create(t,e)).source[0].width,a=r.source[0].height;o.SpriteSheet(r,0,0,0,s,a,i),this.emit(n.ADD,t,r)}return r},addSpriteSheetFromAtlas:function(t,e){if(!this.checkKey(t))return null;var i=c(e,"atlas",null),r=c(e,"frame",null);if(i&&r){var s=this.get(i).get(r);if(s){var a=this.create(t,s.source.image);return s.trimmed?o.SpriteSheetFromAtlas(a,s,e):o.SpriteSheet(a,0,s.cutX,s.cutY,s.cutWidth,s.cutHeight,e),this.emit(n.ADD,t,a),a}}},create:function(t,e,i,r){var s=null;return this.checkKey(t)&&(s=new l(this,t,e,i,r),this.list[t]=s),s},exists:function(t){return this.list.hasOwnProperty(t)},get:function(t){return void 0===t&&(t="__DEFAULT"),this.list[t]?this.list[t]:t instanceof l?t:this.list.__MISSING},cloneFrame:function(t,e){if(this.list[t])return this.list[t].get(e).clone()},getFrame:function(t,e){if(this.list[t])return this.list[t].get(e)},getTextureKeys:function(){var t=[];for(var e in this.list)"__DEFAULT"!==e&&"__MISSING"!==e&&t.push(e);return t},getPixel:function(t,e,i,s){var a=this.getFrame(i,s);if(a){t-=a.x,e-=a.y;var n=a.data.cut;if(t+=n.x,e+=n.y,t>=n.x&&t<n.r&&e>=n.y&&e<n.b){var h=this._tempContext;h.clearRect(0,0,1,1),h.drawImage(a.source.image,t,e,1,1,0,0,1,1);var u=h.getImageData(0,0,1,1);return new r(u.data[0],u.data[1],u.data[2],u.data[3])}}return null},getPixelAlpha:function(t,e,i,r){var s=this.getFrame(i,r);if(s){t-=s.x,e-=s.y;var a=s.data.cut;if(t+=a.x,e+=a.y,t>=a.x&&t<a.r&&e>=a.y&&e<a.b){var n=this._tempContext;return n.clearRect(0,0,1,1),n.drawImage(s.source.image,t,e,1,1,0,0,1,1),n.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(t,e,i){return this.list[e]&&(t.texture=this.list[e],t.frame=t.texture.get(i)),t},renameTexture:function(t,e){var i=this.get(t);return!(!i||t===e)&&(i.key=e,this.list[e]=i,delete this.list[t],!0)},each:function(t,e){for(var i=[null],r=1;r<arguments.length;r++)i.push(arguments[r]);for(var s in this.list)i[0]=this.list[s],t.apply(e,i)},destroy:function(){for(var e in this.list)this.list[e].destroy();this.list={},this.game=null,t.remove(this._tempCanvas)}});module.exports=d;
},{"../display/canvas/CanvasPool":"J9p3","./CanvasTexture":"IG0K","../utils/Class":"JASv","../display/color/Color":"oiID","../const":"BLd6","eventemitter3":"JJlS","./events":"Gfo3","../core/events":"Dc0S","../create/GenerateTexture":"tsgN","../utils/object/GetValue":"OqLI","./parsers":"o3TW","./Texture":"K94h"}],"gMgj":[function(require,module,exports) {
module.exports="decoded";
},{}],"DCWf":[function(require,module,exports) {
module.exports="decodedall";
},{}],"GS5Z":[function(require,module,exports) {
module.exports="detune";
},{}],"Nb60":[function(require,module,exports) {
module.exports="mute";
},{}],"NasO":[function(require,module,exports) {
module.exports="rate";
},{}],"USeJ":[function(require,module,exports) {
module.exports="volume";
},{}],"gw5G":[function(require,module,exports) {
module.exports="looped";
},{}],"FdXE":[function(require,module,exports) {
module.exports="seek";
},{}],"KhOr":[function(require,module,exports) {
module.exports="stopall";
},{}],"E7sY":[function(require,module,exports) {
module.exports={COMPLETE:require("./COMPLETE_EVENT"),DECODED:require("./DECODED_EVENT"),DECODED_ALL:require("./DECODED_ALL_EVENT"),DESTROY:require("./DESTROY_EVENT"),DETUNE:require("./DETUNE_EVENT"),GLOBAL_DETUNE:require("./GLOBAL_DETUNE_EVENT"),GLOBAL_MUTE:require("./GLOBAL_MUTE_EVENT"),GLOBAL_RATE:require("./GLOBAL_RATE_EVENT"),GLOBAL_VOLUME:require("./GLOBAL_VOLUME_EVENT"),LOOP:require("./LOOP_EVENT"),LOOPED:require("./LOOPED_EVENT"),MUTE:require("./MUTE_EVENT"),PAUSE_ALL:require("./PAUSE_ALL_EVENT"),PAUSE:require("./PAUSE_EVENT"),PLAY:require("./PLAY_EVENT"),RATE:require("./RATE_EVENT"),RESUME_ALL:require("./RESUME_ALL_EVENT"),RESUME:require("./RESUME_EVENT"),SEEK:require("./SEEK_EVENT"),STOP_ALL:require("./STOP_ALL_EVENT"),STOP:require("./STOP_EVENT"),UNLOCKED:require("./UNLOCKED_EVENT"),VOLUME:require("./VOLUME_EVENT")};
},{"./COMPLETE_EVENT":"edEl","./DECODED_EVENT":"gMgj","./DECODED_ALL_EVENT":"DCWf","./DESTROY_EVENT":"T9So","./DETUNE_EVENT":"GS5Z","./GLOBAL_DETUNE_EVENT":"GS5Z","./GLOBAL_MUTE_EVENT":"Nb60","./GLOBAL_RATE_EVENT":"NasO","./GLOBAL_VOLUME_EVENT":"USeJ","./LOOP_EVENT":"xnkS","./LOOPED_EVENT":"gw5G","./MUTE_EVENT":"Nb60","./PAUSE_ALL_EVENT":"nFO5","./PAUSE_EVENT":"XFXR","./PLAY_EVENT":"Ojyx","./RATE_EVENT":"NasO","./RESUME_ALL_EVENT":"GVH9","./RESUME_EVENT":"swsX","./SEEK_EVENT":"FdXE","./STOP_ALL_EVENT":"KhOr","./STOP_EVENT":"SclH","./UNLOCKED_EVENT":"YvXm","./VOLUME_EVENT":"USeJ"}],"bGIX":[function(require,module,exports) {
var r=function(r,e,n,t){var a=r.length;if(e<0||e>a||e>=n||n>a||e+n>a){if(t)throw new Error("Range Error: Values outside acceptable range");return!1}return!0};module.exports=r;
},{}],"DNwt":[function(require,module,exports) {
var r=require("./SafeRange"),e=function(e,o,v,a,i){void 0===a&&(a=0),void 0===i&&(i=e.length);var n=[];if(r(e,a,i))for(var d=a;d<i;d++){var t=e[d];(!o||o&&void 0===v&&t.hasOwnProperty(o)||o&&void 0!==v&&t[o]===v)&&n.push(t)}return n};module.exports=e;
},{"./SafeRange":"bGIX"}],"nCsR":[function(require,module,exports) {
var r=require("./SafeRange"),e=function(e,o,i,n,v){if(void 0===n&&(n=0),void 0===v&&(v=e.length),r(e,n,v))for(var a=n;a<v;a++){var t=e[a];if(!o||o&&void 0===i&&t.hasOwnProperty(o)||o&&void 0!==i&&t[o]===i)return t}return null};module.exports=e;
},{"./SafeRange":"bGIX"}],"jANy":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("../utils/object/Clone"),s=require("eventemitter3"),i=require("./events"),n=require("../core/events"),o=require("../utils/NOOP"),u=require("../utils/array/GetAll"),r=require("../utils/array/GetFirst"),h=new t({Extends:s,initialize:function(t){s.call(this),this.game=t,this.jsonCache=t.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,t.events.on(n.BLUR,this.onGameBlur,this),t.events.on(n.FOCUS,this.onGameFocus,this),t.events.on(n.PRE_STEP,this.update,this),t.events.once(n.DESTROY,this.destroy,this)},add:o,addAudioSprite:function(t,s){void 0===s&&(s={});var i=this.add(t,s);for(var n in i.spritemap=this.jsonCache.get(t).spritemap,i.spritemap)if(i.spritemap.hasOwnProperty(n)){var o=e(s),u=i.spritemap[n];o.loop=!!u.hasOwnProperty("loop")&&u.loop,i.addMarker({name:n,start:u.start,duration:u.end-u.start,config:o})}return i},get:function(t){return r(this.sounds,"key",t)},getAll:function(t){return u(this.sounds,"key",t)},play:function(t,e){var s=this.add(t);return s.once(i.COMPLETE,s.destroy,s),e?e.name?(s.addMarker(e),s.play(e.name)):s.play(e):s.play()},playAudioSprite:function(t,e,s){var n=this.addAudioSprite(t);return n.once(i.COMPLETE,n.destroy,n),n.play(e,s)},remove:function(t){var e=this.sounds.indexOf(t);return-1!==e&&(t.destroy(),this.sounds.splice(e,1),!0)},removeAll:function(){this.sounds.forEach(function(t){t.destroy()}),this.sounds.length=0},removeByKey:function(t){for(var e=0,s=this.sounds.length-1;s>=0;s--){var i=this.sounds[s];i.key===t&&(i.destroy(),this.sounds.splice(s,1),e++)}return e},pauseAll:function(){this.forEachActiveSound(function(t){t.pause()}),this.emit(i.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(t){t.resume()}),this.emit(i.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(t){t.stop()}),this.emit(i.STOP_ALL,this)},stopByKey:function(t){var e=0;return this.getAll(t).forEach(function(t){t.stop()&&e++}),e},unlock:o,onBlur:o,onFocus:o,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(t,e){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(i.UNLOCKED,this));for(var s=this.sounds.length-1;s>=0;s--)this.sounds[s].pendingRemove&&this.sounds.splice(s,1);this.sounds.forEach(function(s){s.update(t,e)})},destroy:function(){this.game.events.off(n.BLUR,this.onGameBlur,this),this.game.events.off(n.FOCUS,this.onGameFocus,this),this.game.events.off(n.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(t,e){var s=this;this.sounds.forEach(function(i,n){i&&!i.pendingRemove&&t.call(e||s,i,n,s.sounds)})},setRate:function(t){return this.rate=t,this},rate:{get:function(){return this._rate},set:function(t){this._rate=t,this.forEachActiveSound(function(t){t.calculateRate()}),this.emit(i.GLOBAL_RATE,this,t)}},setDetune:function(t){return this.detune=t,this},detune:{get:function(){return this._detune},set:function(t){this._detune=t,this.forEachActiveSound(function(t){t.calculateRate()}),this.emit(i.GLOBAL_DETUNE,this,t)}}});module.exports=h;
},{"../utils/Class":"JASv","../utils/object/Clone":"eHkv","eventemitter3":"JJlS","./events":"E7sY","../core/events":"Dc0S","../utils/NOOP":"lZkB","../utils/array/GetAll":"DNwt","../utils/array/GetFirst":"nCsR"}],"oCiG":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("eventemitter3"),e=require("./events"),s=require("../utils/object/Extend"),n=require("../utils/NOOP"),r=new t({Extends:i,initialize:function(t,e,n){i.call(this),this.manager=t,this.key=e,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},this.currentConfig=this.config,this.config=s(this.config,n),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(t){return!(!t||!t.name||"string"!=typeof t.name)&&(this.markers[t.name]?(console.error("addMarker "+t.name+" already exists in Sound"),!1):(t=s(!0,{name:"",start:0,duration:this.totalDuration-(t.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0}},t),this.markers[t.name]=t,!0))},updateMarker:function(t){return!(!t||!t.name||"string"!=typeof t.name)&&(this.markers[t.name]?(this.markers[t.name]=s(!0,this.markers[t.name],t),!0):(console.warn("Audio Marker: "+t.name+" missing in Sound: "+this.key),!1))},removeMarker:function(t){var i=this.markers[t];return i?(this.markers[t]=null,i):null},play:function(t,i){if(void 0===t&&(t=""),"object"==typeof t&&(i=t,t=""),"string"!=typeof t)return!1;if(t){if(!this.markers[t])return console.warn("Marker: "+t+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[t],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=s(this.currentConfig,i),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!(!this.isPaused||this.isPlaying)&&(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!(!this.isPaused&&!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:n,calculateRate:function(){var t=this.currentConfig.detune+this.manager.detune,i=Math.pow(1.0005777895065548,t);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.emit(e.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});module.exports=r;
},{"../utils/Class":"JASv","eventemitter3":"JJlS","./events":"E7sY","../utils/object/Extend":"SFmW","../utils/NOOP":"lZkB"}],"Zr4H":[function(require,module,exports) {
var t=require("../BaseSound"),i=require("../../utils/Class"),e=require("../events"),s=require("../../math/Clamp"),r=new i({Extends:t,initialize:function(i,e,s){if(void 0===s&&(s={}),this.tags=i.game.cache.audio.get(e),!this.tags)throw new Error('There is no audio asset with key "'+e+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,t.call(this,i,e,s)},play:function(i,s){return!this.manager.isLocked(this,"play",[i,s])&&(!!t.prototype.play.call(this,i,s)&&(!!this.pickAndPlayAudioTag()&&(this.emit(e.PLAY,this),!0)))},pause:function(){return!this.manager.isLocked(this,"pause")&&(!(this.startTime>0)&&(!!t.prototype.pause.call(this)&&(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(e.PAUSE,this),!0)))},resume:function(){return!this.manager.isLocked(this,"resume")&&(!(this.startTime>0)&&(!!t.prototype.resume.call(this)&&(!!this.pickAndPlayAudioTag()&&(this.emit(e.RESUME,this),!0))))},stop:function(){return!this.manager.isLocked(this,"stop")&&(!!t.prototype.stop.call(this)&&(this.stopAndReleaseAudioTag(),this.emit(e.STOP,this),!0))},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var t=this.currentConfig.seek,i=this.currentConfig.delay,e=(this.currentMarker?this.currentMarker.start:0)+t;return this.previousTime=e,this.audio.currentTime=e,this.applyConfig(),0===i?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*i,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var t=0;t<this.tags.length;t++){var i=this.tags[t];if("false"===i.dataset.used)return i.dataset.used="true",this.audio=i,!0}if(!this.manager.override)return!1;var e=[];this.manager.forEachActiveSound(function(t){t.key===this.key&&t.audio&&e.push(t)},this),e.sort(function(t,i){return t.loop===i.loop?i.seek/i.duration-t.seek/t.duration:t.loop?1:-1});var s=e[0];return this.audio=s.audio,s.reset(),s.audio=null,s.startTime=0,s.previousTime=0,!0},playCatchPromise:function(){var t=this.audio.play();t&&t.catch(function(t){console.warn(t)})},stopAndReleaseAudioTag:function(){this.audio.pause(),this.audio.dataset.used="false",this.audio=null,this.startTime=0,this.previousTime=0},reset:function(){t.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(t,i){if(this.isPlaying)if(this.startTime>0)this.startTime<t-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,t-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());else{var s=this.currentMarker?this.currentMarker.start:0,r=s+this.duration,a=this.audio.currentTime;if(this.currentConfig.loop)a>=r-this.manager.loopEndOffset?(this.audio.currentTime=s+Math.max(0,a-r),a=this.audio.currentTime):a<s&&(this.audio.currentTime+=s,a=this.audio.currentTime),a<this.previousTime&&this.emit(e.LOOPED,this);else if(a>=r)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(e.COMPLETE,this);this.previousTime=a}},destroy:function(){t.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=s(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){t.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(t){this.currentConfig.mute=t,this.manager.isLocked(this,"mute",t)||(this.updateMute(),this.emit(e.MUTE,this,t))}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.currentConfig.volume},set:function(t){this.currentConfig.volume=t,this.manager.isLocked(this,"volume",t)||(this.updateVolume(),this.emit(e.VOLUME,this,t))}},setVolume:function(t){return this.volume=t,this},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.manager.isLocked(this,e.RATE,t)||(this.calculateRate(),this.emit(e.RATE,this,t))}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.manager.isLocked(this,e.DETUNE,t)||(this.calculateRate(),this.emit(e.DETUNE,this,t))}},setDetune:function(t){return this.detune=t,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.isLocked(this,"seek",t)||this.startTime>0||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.isPlaying?(this.previousTime=t,this.audio.currentTime=t):this.isPaused&&(this.currentConfig.seek=t),this.emit(e.SEEK,this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.manager.isLocked(this,"loop",t)||(this.audio&&(this.audio.loop=t),this.emit(e.LOOP,this,t))}},setLoop:function(t){return this.loop=t,this}});module.exports=r;
},{"../BaseSound":"oCiG","../../utils/Class":"JASv","../events":"E7sY","../../math/Clamp":"eCA1"}],"Q7aQ":[function(require,module,exports) {
var t=require("../BaseSoundManager"),e=require("../../utils/Class"),n=require("../events"),o=require("./HTML5AudioSound"),u=new e({Extends:t,initialize:function(e){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,t.call(this,e)},add:function(t,e){var n=new o(this,t,e);return this.sounds.push(n),n},unlock:function(){this.locked=!1;var t=this;if(this.game.cache.audio.entries.each(function(e,n){for(var o=0;o<n.length;o++)if("true"===n[o].dataset.locked)return t.locked=!0,!1;return!0}),this.locked){var e=!1,o=function(){e=!0},u=function(){if(e)e=!1;else{document.body.removeEventListener("touchmove",o),document.body.removeEventListener("touchend",u);var n=[];if(t.game.cache.audio.entries.each(function(t,e){for(var o=0;o<e.length;o++){var u=e[o];"true"===u.dataset.locked&&n.push(u)}return!0}),0!==n.length){var i=n[n.length-1];i.oncanplaythrough=function(){i.oncanplaythrough=null,n.forEach(function(t){t.dataset.locked="false"}),t.unlocked=!0},n.forEach(function(t){t.load()})}}};this.once(n.UNLOCKED,function(){for(this.forEachActiveSound(function(t){null===t.currentMarker&&0===t.duration&&(t.duration=t.tags[0].duration),t.totalDuration=t.tags[0].duration});this.lockedActionsQueue.length;){var t=this.lockedActionsQueue.shift();t.sound[t.prop].apply?t.sound[t.prop].apply(t.sound,t.value||[]):t.sound[t.prop]=t.value}},this),document.body.addEventListener("touchmove",o,!1),document.body.addEventListener("touchend",u,!1)}},onBlur:function(){this.forEachActiveSound(function(t){t.isPlaying&&(this.onBlurPausedSounds.push(t),t.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(t){t.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){t.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(t,e,n){return"true"===t.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:t,prop:e,value:n}),!0)},setMute:function(t){return this.mute=t,this},mute:{get:function(){return this._mute},set:function(t){this._mute=t,this.forEachActiveSound(function(t){t.updateMute()}),this.emit(n.GLOBAL_MUTE,this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this._volume},set:function(t){this._volume=t,this.forEachActiveSound(function(t){t.updateVolume()}),this.emit(n.GLOBAL_VOLUME,this,t)}}});module.exports=u;
},{"../BaseSoundManager":"jANy","../../utils/Class":"JASv","../events":"E7sY","./HTML5AudioSound":"Zr4H"}],"Ks9M":[function(require,module,exports) {
var e=require("../BaseSound"),t=require("../../utils/Class"),i=require("eventemitter3"),s=require("../../utils/object/Extend"),r=function(){return!1},n=function(){return null},u=function(){return this},o=new t({Extends:i,initialize:function(e,t,r){void 0===r&&(r={}),i.call(this),this.manager=e,this.key=t,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=s({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},r),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:r,updateMarker:r,removeMarker:n,play:r,pause:r,resume:r,stop:r,destroy:function(){e.prototype.destroy.call(this)},setMute:u,setVolume:u,setRate:u,setDetune:u,setSeek:u,setLoop:u});module.exports=o;
},{"../BaseSound":"oCiG","../../utils/Class":"JASv","eventemitter3":"JJlS","../../utils/object/Extend":"SFmW"}],"koBk":[function(require,module,exports) {
var e=require("../BaseSoundManager"),t=require("../../utils/Class"),r=require("eventemitter3"),i=require("./NoAudioSound"),u=require("../../utils/NOOP"),o=new t({Extends:r,initialize:function(e){r.call(this),this.game=e,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(e,t){var r=new i(this,e,t);return this.sounds.push(r),r},addAudioSprite:function(e,t){var r=this.add(e,t);return r.spritemap={},r},play:function(e,t){return!1},playAudioSprite:function(e,t,r){return!1},remove:function(t){return e.prototype.remove.call(this,t)},removeByKey:function(t){return e.prototype.removeByKey.call(this,t)},pauseAll:u,resumeAll:u,stopAll:u,update:u,setRate:u,setDetune:u,setMute:u,setVolume:u,forEachActiveSound:function(t,r){e.prototype.forEachActiveSound.call(this,t,r)},destroy:function(){e.prototype.destroy.call(this)}});module.exports=o;
},{"../BaseSoundManager":"jANy","../../utils/Class":"JASv","eventemitter3":"JJlS","./NoAudioSound":"Ks9M","../../utils/NOOP":"lZkB"}],"q9By":[function(require,module,exports) {
for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),t=0;t<r.length;t++)e[r.charCodeAt(t)]=t;var a=function(r){var t,a,n,o,A=(r=r.substr(r.indexOf(",")+1)).length,d=.75*A,h=0;"="===r[A-1]&&(d--,"="===r[A-2]&&d--);for(var c=new ArrayBuffer(d),f=new Uint8Array(c),u=0;u<A;u+=4)t=e[r.charCodeAt(u)],a=e[r.charCodeAt(u+1)],n=e[r.charCodeAt(u+2)],o=e[r.charCodeAt(u+3)],f[h++]=t<<2|a>>4,f[h++]=(15&a)<<4|n>>2,f[h++]=(3&n)<<6|63&o;return c};module.exports=a;
},{}],"D0Xr":[function(require,module,exports) {
var t=require("../BaseSound"),e=require("../../utils/Class"),i=require("../events"),s=new e({Extends:t,initialize:function(e,i,s){if(void 0===s&&(s={}),this.audioBuffer=e.game.cache.audio.get(i),!this.audioBuffer)throw new Error('There is no audio asset with key "'+i+'" in the audio cache');this.source=null,this.loopSource=null,this.muteNode=e.context.createGain(),this.volumeNode=e.context.createGain(),this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),this.volumeNode.connect(e.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,t.call(this,e,i,s)},play:function(e,s){return!!t.prototype.play.call(this,e,s)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(i.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime)&&(!!t.prototype.pause.call(this)&&(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(i.PAUSE,this),!0))},resume:function(){return!(this.manager.context.currentTime<this.startTime)&&(!!t.prototype.resume.call(this)&&(this.createAndStartBufferSource(),this.emit(i.RESUME,this),!0))},stop:function(){return!!t.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(i.STOP,this),!0)},createAndStartBufferSource:function(){var t=this.currentConfig.seek,e=this.currentConfig.delay,i=this.manager.context.currentTime+e,s=(this.currentMarker?this.currentMarker.start:0)+t,r=this.duration-t;this.playTime=i-t,this.startTime=i,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,i),Math.max(0,s),Math.max(0,r)),this.resetConfig()},createAndStartLoopBufferSource:function(){var t=this.getLoopTime(),e=this.currentMarker?this.currentMarker.start:0,i=this.duration;this.loopTime=t,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,t),Math.max(0,e),Math.max(0,i))},createBufferSource:function(){var t=this,e=this.manager.context.createBufferSource();return e.buffer=this.audioBuffer,e.connect(this.muteNode),e.onended=function(e){e.target===t.source&&(t.currentConfig.loop?t.hasLooped=!0:t.hasEnded=!0)},e},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),t.prototype.applyConfig.call(this)},update:function(e,s){this.hasEnded?(this.hasEnded=!1,t.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(i.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(i.LOOPED,this))},destroy:function(){t.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){t.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var t=0,e=0;e<this.rateUpdates.length;e++){t+=((e<this.rateUpdates.length-1?this.rateUpdates[e+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[e].time)*this.rateUpdates[e].rate}return t},getLoopTime:function(){for(var t=0,e=0;e<this.rateUpdates.length-1;e++)t+=(this.rateUpdates[e+1].time-this.rateUpdates[e].time)*this.rateUpdates[e].rate;var i=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+i.time+(this.duration-t)/i.rate},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.calculateRate(),this.emit(i.RATE,this,t)}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.calculateRate(),this.emit(i.DETUNE,this,t)}},setDetune:function(t){return this.detune=t,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(t){this.currentConfig.mute=t,this.muteNode.gain.setValueAtTime(t?0:1,0),this.emit(i.MUTE,this,t)}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(t){this.currentConfig.volume=t,this.volumeNode.gain.setValueAtTime(t,0),this.emit(i.VOLUME,this,t)}},setVolume:function(t){return this.volume=t,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.currentConfig.seek=t,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(i.SEEK,this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),t&&this.createAndStartLoopBufferSource()),this.emit(i.LOOP,this,t)}},setLoop:function(t){return this.loop=t,this}});module.exports=s;
},{"../BaseSound":"oCiG","../../utils/Class":"JASv","../events":"E7sY"}],"XEGk":[function(require,module,exports) {
var t=require("../../utils/base64/Base64ToArrayBuffer"),e=require("../BaseSoundManager"),n=require("../../utils/Class"),i=require("../events"),o=require("./WebAudioSound"),s=new n({Extends:e,initialize:function(t){this.context=this.createAudioContext(t),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),e.call(this,t),this.locked&&this.unlock()},createAudioContext:function(t){var e=t.config.audio;return e&&e.context?(e.context.resume(),e.context):new AudioContext},setAudioContext:function(t){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=t,this.masterMuteNode=t.createGain(),this.masterVolumeNode=t.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(t.destination),this.destination=this.masterMuteNode,this},add:function(t,e){var n=new o(this,t,e);return this.sounds.push(n),n},decodeAudio:function(e,n){var o;o=Array.isArray(e)?e:[{key:e,data:n}];for(var s=this.game.cache.audio,r=o.length,u=0;u<o.length;u++){var c=o[u],a=c.key,d=c.data;"string"==typeof d&&(d=t(d));var h=function(t,e){s.add(t,e),this.emit(i.DECODED,t),0===--r&&this.emit(i.DECODED_ALL)}.bind(this,a),m=function(t,e){console.error("Error decoding audio: "+t+" - ",e?e.message:""),0===--r&&this.emit(i.DECODED_ALL)}.bind(this,a);this.context.decodeAudioData(d,h,m)}},unlock:function(){var t=this,e=document.body,n=function n(){t.context&&t.context.resume().then(function(){e.removeEventListener("touchstart",n),e.removeEventListener("touchend",n),e.removeEventListener("click",n),e.removeEventListener("keydown",n),t.unlocked=!0},function(){e.removeEventListener("touchstart",n),e.removeEventListener("touchend",n),e.removeEventListener("click",n),e.removeEventListener("keydown",n)})};e&&(e.addEventListener("touchstart",n,!1),e.addEventListener("touchend",n,!1),e.addEventListener("click",n,!1),e.addEventListener("keydown",n,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){this.locked||this.context.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio&&this.game.config.audio.context)this.context.suspend();else{var t=this;this.context.close().then(function(){t.context=null})}e.prototype.destroy.call(this)},setMute:function(t){return this.mute=t,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(t){this.masterMuteNode.gain.setValueAtTime(t?0:1,0),this.emit(i.GLOBAL_MUTE,this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(t){this.masterVolumeNode.gain.setValueAtTime(t,0),this.emit(i.GLOBAL_VOLUME,this,t)}}});module.exports=s;
},{"../../utils/base64/Base64ToArrayBuffer":"q9By","../BaseSoundManager":"jANy","../../utils/Class":"JASv","../events":"E7sY","./WebAudioSound":"D0Xr"}],"WaAP":[function(require,module,exports) {
var e=require("./html5/HTML5AudioSoundManager"),o=require("./noaudio/NoAudioSoundManager"),u=require("./webaudio/WebAudioSoundManager"),i={create:function(i){var d=i.config.audio,a=i.device.audio;return d&&d.noAudio||!a.webAudio&&!a.audioData?new o(i):!a.webAudio||d&&d.disableWebAudio?new e(i):new u(i)}};module.exports=i;
},{"./html5/HTML5AudioSoundManager":"Q7aQ","./noaudio/NoAudioSoundManager":"koBk","./webaudio/WebAudioSoundManager":"XEGk"}],"amCg":[function(require,module,exports) {
var e=function(e,n,o){return{instance:n,placementID:e,shown:!1,video:o}};module.exports=e;
},{}],"KXtf":[function(require,module,exports) {
var e=function(e){return{score:e.getScore(),scoreFormatted:e.getFormattedScore(),timestamp:e.getTimestamp(),rank:e.getRank(),data:e.getExtraData(),playerName:e.getPlayer().getName(),playerPhotoURL:e.getPlayer().getPhoto(),playerID:e.getPlayer().getID()}};module.exports=e;
},{}],"DEA2":[function(require,module,exports) {
var e=require("../../../src/utils/Class"),t=require("eventemitter3"),n=require("./LeaderboardScore"),r=new e({Extends:t,initialize:function(e,n){t.call(this),this.plugin=e,this.ref=n,this.name=n.getName(),this.contextID=n.getContextID(),this.entryCount=0,this.playerScore=null,this.scores=[],this.getEntryCount()},getEntryCount:function(){var e=this;return this.ref.getEntryCountAsync().then(function(t){e.entryCount=t,e.emit("getentrycount",t,e.name)}).catch(function(e){console.warn(e)}),this},setScore:function(e,t){void 0===t&&(t=""),"object"==typeof t&&(t=JSON.stringify(t));var r=this;return this.ref.setScoreAsync(e,t).then(function(e){if(e){var t=n(e);r.playerScore=t,r.emit("setscore",t,r.name)}else r.emit("setscore",null,r.name)}).catch(function(e){console.warn(e)}),this},getPlayerScore:function(){var e=this;return this.ref.getPlayerEntryAsync().then(function(t){if(t){var r=n(t);e.playerScore=r,e.emit("getplayerscore",r,e.name)}else e.emit("getplayerscore",null,e.name)}).catch(function(e){console.warn(e)}),this},getScores:function(e,t){void 0===e&&(e=10),void 0===t&&(t=0);var r=this;return this.ref.getEntriesAsync(e,t).then(function(e){r.scores=[],e.forEach(function(e){r.scores.push(n(e))}),r.emit("getscores",r.scores,r.name)}).catch(function(e){console.warn(e)}),this},getConnectedScores:function(){var e=this;return this.ref.getConnectedPlayerEntriesAsync().then(function(t){e.scores=[],t.forEach(function(t){e.scores.push(n(t))}),e.emit("getconnectedscores",e.scores,e.name)}).catch(function(e){console.warn(e)}),this}});module.exports=r;
},{"../../../src/utils/Class":"JASv","eventemitter3":"JJlS","./LeaderboardScore":"KXtf"}],"B27i":[function(require,module,exports) {
var e=require("../../../src/utils/object/GetFastValue"),r=function(r){return{title:e(r,"title",""),productID:e(r,"productID",""),description:e(r,"description",""),imageURI:e(r,"imageURI",""),price:e(r,"price",""),priceCurrencyCode:e(r,"priceCurrencyCode","")}};module.exports=r;
},{"../../../src/utils/object/GetFastValue":"cEup"}],"vYno":[function(require,module,exports) {
var e=require("../../../src/utils/object/GetFastValue"),r=function(r){return{developerPayload:e(r,"developerPayload",""),paymentID:e(r,"paymentID",""),productID:e(r,"productID",""),purchaseTime:e(r,"purchaseTime",""),purchaseToken:e(r,"purchaseToken",""),signedRequest:e(r,"signedRequest","")}};module.exports=r;
},{"../../../src/utils/object/GetFastValue":"cEup"}],"c43s":[function(require,module,exports) {
var t=require("./AdInstance"),e=require("../../../src/utils/Class"),n=require("../../../src/data/DataManager"),s=require("eventemitter3"),a=require("./Leaderboard"),i=require("./Product"),r=require("./Purchase"),c=new e({Extends:s,initialize:function(t){s.call(this),this.game=t,this.data=new n(this),this.on("setdata",this.setDataHandler,this),this.on("changedata",this.changeDataHandler,this),this.hasLoaded=!1,this.dataLocked=!1,this.supportedAPIs=[],this.entryPoint="",this.entryPointData=null,this.contextID=null,this.contextType=null,this.locale=null,this.platform=null,this.version=null,this.playerID=null,this.playerName=null,this.playerPhotoURL=null,this.playerCanSubscribeBot=!1,this.paymentsReady=!1,this.catalog=[],this.purchases=[],this.leaderboards={},this.ads=[]},setDataHandler:function(t,e,n){if(!this.dataLocked){var s={};s[e]=n;var a=this;FBInstant.player.setDataAsync(s).then(function(){a.emit("savedata",s)})}},changeDataHandler:function(t,e,n){if(!this.dataLocked){var s={};s[e]=n;var a=this;FBInstant.player.setDataAsync(s).then(function(){a.emit("savedata",s)})}},showLoadProgress:function(t){return t.load.on("progress",function(t){this.hasLoaded||FBInstant.setLoadingProgress(100*t)},this),t.load.on("complete",function(){this.hasLoaded||(this.hasLoaded=!0,FBInstant.startGameAsync().then(this.gameStartedHandler.bind(this)))},this),this},gameStarted:function(){this.hasLoaded?this.gameStartedHandler():(this.hasLoaded=!0,FBInstant.startGameAsync().then(this.gameStartedHandler.bind(this)))},gameStartedHandler:function(){var t=FBInstant.getSupportedAPIs(),e={},n=function(t){return t[1].toUpperCase()};t.forEach(function(t){t=t.replace(/\../g,n),e[t]=!0}),this.supportedAPIs=e,this.getID(),this.getType(),this.getLocale(),this.getPlatform(),this.getSDKVersion(),this.getPlayerID(),this.getPlayerName(),this.getPlayerPhotoURL();var s=this;FBInstant.onPause(function(){s.emit("pause")}),FBInstant.getEntryPointAsync().then(function(t){s.entryPoint=t,s.entryPointData=FBInstant.getEntryPointData(),s.emit("startgame")}).catch(function(t){console.warn(t)}),this.supportedAPIs.paymentsPurchaseAsync&&FBInstant.payments.onReady(function(){s.paymentsReady=!0}).catch(function(t){console.warn(t)})},checkAPI:function(t){return!!this.supportedAPIs[t]},getID:function(){return!this.contextID&&this.supportedAPIs.contextGetID&&(this.contextID=FBInstant.context.getID()),this.contextID},getType:function(){return!this.contextType&&this.supportedAPIs.contextGetType&&(this.contextType=FBInstant.context.getType()),this.contextType},getLocale:function(){return!this.locale&&this.supportedAPIs.getLocale&&(this.locale=FBInstant.getLocale()),this.locale},getPlatform:function(){return!this.platform&&this.supportedAPIs.getPlatform&&(this.platform=FBInstant.getPlatform()),this.platform},getSDKVersion:function(){return!this.version&&this.supportedAPIs.getSDKVersion&&(this.version=FBInstant.getSDKVersion()),this.version},getPlayerID:function(){return!this.playerID&&this.supportedAPIs.playerGetID&&(this.playerID=FBInstant.player.getID()),this.playerID},getPlayerName:function(){return!this.playerName&&this.supportedAPIs.playerGetName&&(this.playerName=FBInstant.player.getName()),this.playerName},getPlayerPhotoURL:function(){return!this.playerPhotoURL&&this.supportedAPIs.playerGetPhoto&&(this.playerPhotoURL=FBInstant.player.getPhoto()),this.playerPhotoURL},loadPlayerPhoto:function(t,e){return this.playerPhotoURL&&(t.load.setCORS("anonymous"),t.load.image(e,this.playerPhotoURL),t.load.once("filecomplete-image-"+e,function(){this.emit("photocomplete",e)},this),t.load.start()),this},canSubscribeBot:function(){if(this.supportedAPIs.playerCanSubscribeBotAsync){var t=this;FBInstant.player.canSubscribeBotAsync().then(function(){t.playerCanSubscribeBot=!0,t.emit("cansubscribebot")}).catch(function(e){t.emit("cansubscribebotfail",e)})}else this.emit("cansubscribebotfail");return this},subscribeBot:function(){if(this.playerCanSubscribeBot){var t=this;FBInstant.player.subscribeBotAsync().then(function(){t.emit("subscribebot")}).catch(function(e){t.emit("subscribebotfail",e)})}else this.emit("subscribebotfail");return this},getData:function(t){if(!this.checkAPI("playerGetDataAsync"))return this;Array.isArray(t)||(t=[t]);var e=this;return FBInstant.player.getDataAsync(t).then(function(t){for(var n in e.dataLocked=!0,t)e.data.set(n,t[n]);e.dataLocked=!1,e.emit("getdata",t)}),this},saveData:function(t){if(!this.checkAPI("playerSetDataAsync"))return this;var e=this;return FBInstant.player.setDataAsync(t).then(function(){e.emit("savedata",t)}).catch(function(t){e.emit("savedatafail",t)}),this},flushData:function(){if(!this.checkAPI("playerFlushDataAsync"))return this;var t=this;return FBInstant.player.flushDataAsync().then(function(){t.emit("flushdata")}).catch(function(e){t.emit("flushdatafail",e)}),this},getStats:function(t){if(!this.checkAPI("playerGetStatsAsync"))return this;var e=this;return FBInstant.player.getStatsAsync(t).then(function(t){e.emit("getstats",t)}).catch(function(t){e.emit("getstatsfail",t)}),this},saveStats:function(t){if(!this.checkAPI("playerSetStatsAsync"))return this;var e={};for(var n in t)"number"==typeof t[n]&&(e[n]=t[n]);var s=this;return FBInstant.player.setStatsAsync(e).then(function(){s.emit("savestats",e)}).catch(function(t){s.emit("savestatsfail",t)}),this},incStats:function(t){if(!this.checkAPI("playerIncrementStatsAsync"))return this;var e={};for(var n in t)"number"==typeof t[n]&&(e[n]=t[n]);var s=this;return FBInstant.player.incrementStatsAsync(e).then(function(t){s.emit("incstats",t)}).catch(function(t){s.emit("incstatsfail",t)}),this},saveSession:function(t){return this.checkAPI("setSessionData")?(JSON.stringify(t).length<=1e3?FBInstant.setSessionData(t):console.warn("Session data too long. Max 1000 chars."),this):this},openShare:function(t,e,n,s){return this._share("SHARE",t,e,n,s)},openInvite:function(t,e,n,s){return this._share("INVITE",t,e,n,s)},openRequest:function(t,e,n,s){return this._share("REQUEST",t,e,n,s)},openChallenge:function(t,e,n,s){return this._share("CHALLENGE",t,e,n,s)},_share:function(t,e,n,s,a){if(!this.checkAPI("shareAsync"))return this;if(void 0===a&&(a={}),n)var i=this.game.textures.getBase64(n,s);var r={intent:t,image:i,text:e,data:a},c=this;return FBInstant.shareAsync(r).then(function(){c.emit("resume")}),this},isSizeBetween:function(t,e){return this.checkAPI("contextIsSizeBetween")?FBInstant.context.isSizeBetween(t,e):this},switchContext:function(t){if(!this.checkAPI("contextSwitchAsync"))return this;if(t!==this.contextID){var e=this;FBInstant.context.switchAsync(t).then(function(){e.contextID=FBInstant.context.getID(),e.emit("switch",e.contextID)}).catch(function(t){e.emit("switchfail",t)})}return this},chooseContext:function(t){if(!this.checkAPI("contextChooseAsync"))return this;var e=this;return FBInstant.context.chooseAsync(t).then(function(){e.contextID=FBInstant.context.getID(),e.emit("choose",e.contextID)}).catch(function(t){e.emit("choosefail",t)}),this},createContext:function(t){if(!this.checkAPI("contextCreateAsync"))return this;var e=this;return FBInstant.context.createAsync(t).then(function(){e.contextID=FBInstant.context.getID(),e.emit("create",e.contextID)}).catch(function(t){e.emit("createfail",t)}),this},getPlayers:function(){if(!this.checkAPI("playerGetConnectedPlayersAsync"))return this;var t=this;return FBInstant.player.getConnectedPlayersAsync().then(function(e){t.emit("players",e)}).catch(function(e){t.emit("playersfail",e)}),this},getCatalog:function(){if(!this.paymentsReady)return this;var t=this,e=this.catalog;return FBInstant.payments.getCatalogAsync().then(function(n){e=[],n.forEach(function(t){e.push(i(t))}),t.emit("getcatalog",e)}).catch(function(e){t.emit("getcatalogfail",e)}),this},getProduct:function(t){for(var e=0;e<this.catalog.length;e++)if(this.catalog[e].productID===t)return this.catalog[e];return null},purchase:function(t,e){if(!this.paymentsReady)return this;var n={productID:t};e&&(n.developerPayload=e);var s=this;return FBInstant.payments.purchaseAsync(n).then(function(t){var e=r(t);s.emit("purchase",e)}).catch(function(t){s.emit("purchasefail",t)}),this},getPurchases:function(){if(!this.paymentsReady)return this;var t=this,e=this.purchases;return FBInstant.payments.getPurchasesAsync().then(function(n){e=[],n.forEach(function(t){e.push(r(t))}),t.emit("getpurchases",e)}).catch(function(e){t.emit("getpurchasesfail",e)}),this},consumePurchase:function(t){if(!this.paymentsReady)return this;var e=this;return FBInstant.payments.consumePurchaseAsync(t).then(function(){e.emit("consumepurchase",t)}).catch(function(t){e.emit("consumepurchasefail",t)}),this},update:function(t,e,n,s,a,i){return this._update("CUSTOM",t,e,n,s,a,i)},updateLeaderboard:function(t,e,n,s,a,i){return this._update("LEADERBOARD",t,e,n,s,a,i)},_update:function(t,e,n,s,a,i,r){if(!this.checkAPI("shareAsync"))return this;if(void 0===e&&(e=""),"string"==typeof n&&(n={default:n}),void 0===r&&(r={}),s)var c=this.game.textures.getBase64(s,a);var o={action:t,cta:e,image:c,text:n,template:i,data:r,strategy:"IMMEDIATE",notification:"NO_PUSH"},h=this;return FBInstant.updateAsync(o).then(function(){h.emit("update")}).catch(function(t){h.emit("updatefail",t)}),this},switchGame:function(t,e){if(!this.checkAPI("switchGameAsync"))return this;if(e&&JSON.stringify(e).length>1e3)return console.warn("Switch Game data too long. Max 1000 chars."),this;var n=this;return FBInstant.switchGameAsync(t,e).then(function(){n.emit("switchgame",t)}).catch(function(t){n.emit("switchgamefail",t)}),this},createShortcut:function(){var t=this;return FBInstant.canCreateShortcutAsync().then(function(e){e&&FBInstant.createShortcutAsync().then(function(){t.emit("shortcutcreated")}).catch(function(e){t.emit("shortcutfailed",e)})}),this},quit:function(){FBInstant.quit()},log:function(t,e,n){return this.checkAPI("logEvent")?(void 0===n&&(n={}),t.length>=2&&t.length<=40&&FBInstant.logEvent(t,parseFloat(e),n),this):this},preloadAds:function(e){if(!this.checkAPI("getInterstitialAdAsync"))return this;var n;Array.isArray(e)||(e=[e]);var s=this,a=0;for(n=0;n<this.ads.length;n++)this.ads[n].shown||a++;if(a+e.length>=3)return console.warn("Too many AdInstances. Show an ad before loading more"),this;for(n=0;n<e.length;n++){var i,r=e[n];FBInstant.getInterstitialAdAsync(r).then(function(t){return i=t,t.loadAsync()}).then(function(){var e=t(r,i,!1);s.ads.push(e),s.emit("adloaded",e)}).catch(function(t){"ADS_NO_FILL"===t.code?s.emit("adsnofill",r):"ADS_FREQUENT_LOAD"===t.code?s.emit("adsfrequentload",r):console.warn(t)})}return this},preloadVideoAds:function(e){if(!this.checkAPI("getRewardedVideoAsync"))return this;var n;Array.isArray(e)||(e=[e]);var s=this,a=0;for(n=0;n<this.ads.length;n++)this.ads[n].shown||a++;if(a+e.length>=3)return console.warn("Too many AdInstances. Show an ad before loading more"),this;for(n=0;n<e.length;n++){var i,r=e[n];FBInstant.getRewardedVideoAsync(r).then(function(t){return i=t,t.loadAsync()}).then(function(){var e=t(r,i,!0);s.ads.push(e),s.emit("adloaded",e)}).catch(function(t){"ADS_NO_FILL"===t.code?s.emit("adsnofill",r):"ADS_FREQUENT_LOAD"===t.code?s.emit("adsfrequentload",r):console.warn(t)})}return this},showAd:function(t){for(var e=this,n=0;n<this.ads.length;n++){var s=this.ads[n];if(s.placementID===t&&!s.shown){s.instance.showAsync().then(function(){s.shown=!0,e.emit("adfinished",s)}).catch(function(t){"ADS_NOT_LOADED"===t.code?e.emit("adsnotloaded",s):"RATE_LIMITED"===t.code&&e.emit("adratelimited",s),e.emit("adshowerror",t,s)});break}}return this},showVideo:function(t){for(var e=this,n=0;n<this.ads.length;n++){var s=this.ads[n];if(s.placementID===t&&s.video&&!s.shown){s.instance.showAsync().then(function(){s.shown=!0,e.emit("adfinished",s)}).catch(function(t){"ADS_NOT_LOADED"===t.code?e.emit("adsnotloaded",s):"RATE_LIMITED"===t.code&&e.emit("adratelimited",s),e.emit("adshowerror",t,s)});break}}return this},matchPlayer:function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=!1),!this.checkAPI("matchPlayerAsync"))return this;var n=this;return FBInstant.matchPlayerAsync(t,e).then(function(){n.getID(),n.getType(),n.emit("matchplayer",n.contextID,n.contextType)}),this},getLeaderboard:function(t){if(!this.checkAPI("getLeaderboardAsync"))return this;var e=this;return FBInstant.getLeaderboardAsync(t).then(function(n){var s=new a(e,n);e.leaderboards[t]=s,e.emit("getleaderboard",s)}).catch(function(t){console.warn(t)}),this},destroy:function(){FBInstant.quit(),this.data.destroy(),this.removeAllListeners(),this.catalog=[],this.purchases=[],this.leaderboards=[],this.ads=[],this.game=null}});module.exports=c;
},{"./AdInstance":"amCg","../../../src/utils/Class":"JASv","../../../src/data/DataManager":"Zl43","eventemitter3":"JJlS","./Leaderboard":"DEA2","./Product":"B27i","./Purchase":"vYno"}],"pS21":[function(require,module,exports) {
var e=require("../dom/AddToDOM"),t=require("../animations/AnimationManager"),i=require("../cache/CacheManager"),s=require("../display/canvas/CanvasPool"),n=require("../utils/Class"),r=require("./Config"),o=require("../dom/CreateDOMContainer"),h=require("./CreateRenderer"),a=require("../data/DataManager"),u=require("./DebugHeader"),c=require("../device"),d=require("../dom/DOMContentLoaded"),l=require("eventemitter3"),m=require("./events"),p=require("../input/InputManager"),g=require("../plugins/PluginCache"),v=require("../plugins/PluginManager"),f=require("../scale/ScaleManager"),E=require("../scene/SceneManager"),R=require("../textures/events"),q=require("../textures/TextureManager"),C=require("./TimeStep"),D=require("./VisibilityHandler"),S=require("../sound/SoundManagerCreator"),P=require("../../plugins/fbinstant/src/FacebookInstantGamesPlugin"),y=new n({initialize:function(e){this.config=new r(e),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new l,this.anims=new t(this),this.textures=new q(this),this.cache=new i(this),this.registry=new a(this),this.input=new p(this,this.config),this.scene=new E(this,this.config.sceneConfig),this.device=c,this.scale=new f(this,this.config),this.sound=null,this.sound=S.create(this),this.loop=new C(this,this.config.fps),this.plugins=new v(this,this.config),this.facebook=new P(this),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,d(this.boot.bind(this))},boot:function(){g.hasCore("EventEmitter")?(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),h(this),o(this),u(this),e(this.canvas,this.config.parent),this.textures.once(R.READY,this.texturesReady,this),this.events.emit(m.BOOT)):console.warn("Aborting. Core Plugins missing.")},texturesReady:function(){this.events.emit(m.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),D(this);var e=this.events;e.on(m.HIDDEN,this.onHidden,this),e.on(m.VISIBLE,this.onVisible,this),e.on(m.BLUR,this.onBlur,this),e.on(m.FOCUS,this.onFocus,this)},step:function(e,t){if(this.pendingDestroy)return this.runDestroy();var i=this.events;i.emit(m.PRE_STEP,e,t),i.emit(m.STEP,e,t),this.scene.update(e,t),i.emit(m.POST_STEP,e,t);var s=this.renderer;s.preRender(),i.emit(m.PRE_RENDER,s,e,t),this.scene.render(s),s.postRender(),i.emit(m.POST_RENDER,s,e,t)},headlessStep:function(e,t){if(this.pendingDestroy)return this.runDestroy();var i=this.events;i.emit(m.PRE_STEP,e,t),i.emit(m.STEP,e,t),this.scene.update(e,t),i.emit(m.POST_STEP,e,t),i.emit(m.PRE_RENDER),i.emit(m.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(m.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(m.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(e,t){void 0===t&&(t=!1),this.pendingDestroy=!0,this.removeCanvas=e,this.noReturn=t},runDestroy:function(){this.scene.destroy(),this.events.emit(m.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(s.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});module.exports=y;
},{"../dom/AddToDOM":"IFKJ","../animations/AnimationManager":"BEbl","../cache/CacheManager":"P8ic","../display/canvas/CanvasPool":"J9p3","../utils/Class":"JASv","./Config":"coGi","../dom/CreateDOMContainer":"aSvB","./CreateRenderer":"bHoU","../data/DataManager":"Zl43","./DebugHeader":"l4z9","../device":"n98o","../dom/DOMContentLoaded":"XyjG","eventemitter3":"JJlS","./events":"Dc0S","../input/InputManager":"zFOA","../plugins/PluginCache":"ZrqD","../plugins/PluginManager":"gOW3","../scale/ScaleManager":"tpQr","../scene/SceneManager":"Xv1C","../textures/events":"Gfo3","../textures/TextureManager":"CPbt","./TimeStep":"HAtH","./VisibilityHandler":"Q6Yj","../sound/SoundManagerCreator":"WaAP","../../plugins/fbinstant/src/FacebookInstantGamesPlugin":"c43s"}],"LfpD":[function(require,module,exports) {
var r=function(r){if(!Array.isArray(r)||r.length<2||!Array.isArray(r[0]))return!1;for(var e=r[0].length,n=1;n<r.length;n++)if(r[n].length!==e)return!1;return!0};module.exports=r;
},{}],"xbDY":[function(require,module,exports) {
var r=require("../../string/Pad"),e=require("./CheckMatrix"),n=function(n){var t="";if(!e(n))return t;for(var i=0;i<n.length;i++){for(var a=0;a<n[i].length;a++){var g=n[i][a].toString();t+="undefined"!==g?r(g,2):"?",a<n[i].length-1&&(t+=" |")}if(i<n.length-1){t+="\n";for(var f=0;f<n[i].length;f++)t+="---",f<n[i].length-1&&(t+="+");t+="\n"}}return t};module.exports=n;
},{"../../string/Pad":"e5Qb","./CheckMatrix":"LfpD"}],"D56e":[function(require,module,exports) {
var e=function(e){return e.reverse()};module.exports=e;
},{}],"DPjX":[function(require,module,exports) {
var r=function(r){for(var e=0;e<r.length;e++)r[e].reverse();return r};module.exports=r;
},{}],"rF3D":[function(require,module,exports) {
var r=function(r){for(var e=r.length,n=r[0].length,a=new Array(n),o=0;o<n;o++){a[o]=new Array(e);for(var t=e-1;t>-1;t--)a[o][t]=r[t][o]}return a};module.exports=r;
},{}],"JExm":[function(require,module,exports) {
var e=require("./CheckMatrix"),r=require("./TransposeMatrix"),t=function(t,i){if(void 0===i&&(i=90),!e(t))return null;if("string"!=typeof i&&(i=(i%360+360)%360),90===i||-270===i||"rotateLeft"===i)(t=r(t)).reverse();else if(-90===i||270===i||"rotateRight"===i)t.reverse(),t=r(t);else if(180===Math.abs(i)||"rotate180"===i){for(var s=0;s<t.length;s++)t[s].reverse();t.reverse()}return t};module.exports=t;
},{"./CheckMatrix":"LfpD","./TransposeMatrix":"rF3D"}],"gSyn":[function(require,module,exports) {
var r=require("./RotateMatrix"),e=function(e){return r(e,180)};module.exports=e;
},{"./RotateMatrix":"JExm"}],"w8O9":[function(require,module,exports) {
var r=require("./RotateMatrix"),e=function(e){return r(e,90)};module.exports=e;
},{"./RotateMatrix":"JExm"}],"Frpv":[function(require,module,exports) {
var r=require("./RotateMatrix"),e=function(e){return r(e,-90)};module.exports=e;
},{"./RotateMatrix":"JExm"}],"sh2u":[function(require,module,exports) {
module.exports={CheckMatrix:require("./CheckMatrix"),MatrixToString:require("./MatrixToString"),ReverseColumns:require("./ReverseColumns"),ReverseRows:require("./ReverseRows"),Rotate180:require("./Rotate180"),RotateLeft:require("./RotateLeft"),RotateMatrix:require("./RotateMatrix"),RotateRight:require("./RotateRight"),TransposeMatrix:require("./TransposeMatrix")};
},{"./CheckMatrix":"LfpD","./MatrixToString":"xbDY","./ReverseColumns":"D56e","./ReverseRows":"DPjX","./Rotate180":"gSyn","./RotateLeft":"w8O9","./RotateMatrix":"JExm","./RotateRight":"Frpv","./TransposeMatrix":"rF3D"}],"LgTV":[function(require,module,exports) {
var r=function(r,l,n,e,i){if(void 0===i&&(i=r),n>0){var u=n-r.length;if(u<=0)return null}if(!Array.isArray(l))return-1===r.indexOf(l)?(r.push(l),e&&e.call(i,l),l):null;for(var a=l.length-1;a>=0;)-1!==r.indexOf(l[a])&&l.splice(a,1),a--;if(0===(a=l.length))return null;n>0&&a>u&&(l.splice(u),a=u);for(var f=0;f<a;f++){var t=l[f];r.push(t),e&&e.call(i,t)}return l};module.exports=r;
},{}],"aCHa":[function(require,module,exports) {
var r=function(r,l,e,n,i,a){if(void 0===e&&(e=0),void 0===a&&(a=r),n>0){var f=n-r.length;if(f<=0)return null}if(!Array.isArray(l))return-1===r.indexOf(l)?(r.splice(e,0,l),i&&i.call(a,l),l):null;for(var t=l.length-1;t>=0;)-1!==r.indexOf(l[t])&&l.pop(),t--;if(0===(t=l.length))return null;n>0&&t>f&&(l.splice(f),t=f);for(var u=t-1;u>=0;u--){var o=l[u];r.splice(e,0,o),i&&i.call(a,o)}return l};module.exports=r;
},{}],"epf9":[function(require,module,exports) {
var e=function(e,n){var r=e.indexOf(n);return-1!==r&&r<e.length&&(e.splice(r,1),e.push(n)),n};module.exports=e;
},{}],"DKmi":[function(require,module,exports) {
var r=require("./SafeRange"),e=function(e,o,a,i,n){void 0===i&&(i=0),void 0===n&&(n=e.length);var v=0;if(r(e,i,n))for(var f=i;f<n;f++){e[f][o]===a&&v++}return v};module.exports=e;
},{"./SafeRange":"bGIX"}],"kQQU":[function(require,module,exports) {
var r=function(r,l,n){var e,o=[null];for(e=3;e<arguments.length;e++)o.push(arguments[e]);for(e=0;e<r.length;e++)o[0]=r[e],l.apply(n,o);return r};module.exports=r;
},{}],"dUKs":[function(require,module,exports) {
var e=require("./SafeRange"),r=function(r,n,o,l,u){if(void 0===l&&(l=0),void 0===u&&(u=r.length),e(r,l,u)){var a,f=[null];for(a=5;a<arguments.length;a++)f.push(arguments[a]);for(a=l;a<u;a++)f[0]=r[a],n.apply(o,f)}return r};module.exports=r;
},{"./SafeRange":"bGIX"}],"dkei":[function(require,module,exports) {
var o=function(o,r,n){void 0===r&&(r=0),void 0===n&&(n=o.length);var t=r+Math.floor(Math.random()*n);return void 0===o[t]?null:o[t]};module.exports=o;
},{}],"dCum":[function(require,module,exports) {
var r=function(r,e){var n=r.indexOf(e);if(n>0){var f=r[n-1],i=r.indexOf(f);r[n]=f,r[i]=e}return r};module.exports=r;
},{}],"xZAO":[function(require,module,exports) {
var e=function(e,r,n){var o=e.indexOf(r);if(-1===o||n<0||n>=e.length)throw new Error("Supplied index out of bounds");return o!==n&&(e.splice(o,1),e.splice(n,0,r)),r};module.exports=e;
},{}],"NylU":[function(require,module,exports) {
var e=function(e,n){var r=e.indexOf(n);if(-1!==r&&r<e.length-1){var f=e[r+1],i=e.indexOf(f);e[r]=f,e[i]=n}return e};module.exports=e;
},{}],"Bw1G":[function(require,module,exports) {
var r=function(r,t,o,n){for(var e=[],u=r;u<=t;u++)if(o||n){var a=o?o+u.toString():u.toString();n&&(a=a.concat(n)),e.push(a)}else e.push(u);return e};module.exports=r;
},{}],"XIYT":[function(require,module,exports) {
var o=require("../../math/RoundAwayFromZero"),r=function(r,u,a){void 0===r&&(r=0),void 0===u&&(u=null),void 0===a&&(a=1),null===u&&(u=r,r=0);for(var e=[],n=Math.max(o((u-r)/(a||1)),0),d=0;d<n;d++)e.push(r),r+=a;return e};module.exports=r;
},{"../../math/RoundAwayFromZero":"ucib"}],"MEkw":[function(require,module,exports) {
function o(o,r,t){var a=o[r];o[r]=o[t],o[t]=a}function r(o,r){return o<r?-1:o>r?1:0}var t=function(a,f,n,h,i){for(void 0===n&&(n=0),void 0===h&&(h=a.length-1),void 0===i&&(i=r);h>n;){if(h-n>600){var v=h-n+1,M=f-n+1,e=Math.log(v),l=.5*Math.exp(2*e/3),u=.5*Math.sqrt(e*l*(v-l)/v)*(M-v/2<0?-1:1),d=Math.max(n,Math.floor(f-M*l/v+u)),c=Math.min(h,Math.floor(f+(v-M)*l/v+u));t(a,f,d,c,i)}var m=a[f],x=n,g=h;for(o(a,n,f),i(a[h],m)>0&&o(a,n,h);x<g;){for(o(a,x,g),x++,g--;i(a[x],m)<0;)x++;for(;i(a[g],m)>0;)g--}0===i(a[n],m)?o(a,n,g):o(a,++g,h),g<=f&&(n=g+1),f<=g&&(h=g-1)}};module.exports=t;
},{}],"a9p9":[function(require,module,exports) {
var r=require("../object/GetValue"),e=require("./Shuffle"),a=function(r,e,a){for(var t=[],o=0;o<r.length;o++)for(var n=0;n<e.length;n++)for(var f=0;f<a;f++)t.push({a:r[o],b:e[n]});return t},t=function(t,o,n){var f=r(n,"max",0),l=r(n,"qty",1),u=r(n,"random",!1),c=r(n,"randomB",!1),v=r(n,"repeat",0),i=r(n,"yoyo",!1),h=[];if(c&&e(o),-1===v)if(0===f)v=0;else{var s=t.length*o.length*l;i&&(s*=2),v=Math.ceil(f/s)}for(var g=0;g<=v;g++){var m=a(t,o,l);u&&e(m),h=h.concat(m),i&&(m.reverse(),h=h.concat(m))}return f&&h.splice(f),h};module.exports=t;
},{"../object/GetValue":"OqLI","./Shuffle":"W8ol"}],"G34O":[function(require,module,exports) {
var r=require("./SpliceOne"),e=function(e,o,n,t){if(void 0===t&&(t=e),o<0||o>e.length-1)throw new Error("Index out of bounds");var u=r(e,o);return n&&n.call(t,u),u};module.exports=e;
},{"./SpliceOne":"R1sC"}],"hmTT":[function(require,module,exports) {
var r=require("./SafeRange"),e=function(e,i,a,n,o){if(void 0===i&&(i=0),void 0===a&&(a=e.length),void 0===o&&(o=e),r(e,i,a)){var v=a-i,l=e.splice(i,v);if(n)for(var t=0;t<l.length;t++){var f=l[t];n.call(o,f)}return l}return[]};module.exports=e;
},{"./SafeRange":"bGIX"}],"Ww4Y":[function(require,module,exports) {
var r=require("./SpliceOne"),e=function(e,o,n){void 0===o&&(o=0),void 0===n&&(n=e.length);var t=o+Math.floor(Math.random()*n);return r(e,t)};module.exports=e;
},{"./SpliceOne":"R1sC"}],"Ya5I":[function(require,module,exports) {
var e=function(e,n,r){var d=e.indexOf(n),f=e.indexOf(r);return-1!==d&&-1===f&&(e[d]=r,!0)};module.exports=e;
},{}],"vVZL":[function(require,module,exports) {
var e=function(e,n){var r=e.indexOf(n);return-1!==r&&r>0&&(e.splice(r,1),e.unshift(n)),n};module.exports=e;
},{}],"d4h9":[function(require,module,exports) {
var r=require("./SafeRange"),e=function(e,o,a,n,i){if(void 0===n&&(n=0),void 0===i&&(i=e.length),r(e,n,i))for(var t=n;t<i;t++){var v=e[t];v.hasOwnProperty(o)&&(v[o]=a)}return e};module.exports=e;
},{"./SafeRange":"bGIX"}],"aNGc":[function(require,module,exports) {
!function(){var n=function(n,r){return e(n.slice(),r)};function e(n,e){"function"!=typeof e&&(e=function(n,e){return String(n).localeCompare(e)});var t=n.length;if(t<=1)return n;for(var o=new Array(t),f=1;f<t;f*=2){r(n,e,f,o);var i=n;n=o,o=i}return n}n.inplace=function(n,t){var o=e(n,t);return o!==n&&r(o,null,n.length,n),n};var r=function(n,e,r,t){var o,f,i,u,l,a=n.length,c=0,v=2*r;for(o=0;o<a;o+=v)for(i=(f=o+r)+r,f>a&&(f=a),i>a&&(i=a),u=o,l=f;;)if(u<f&&l<i)e(n[u],n[l])<=0?t[c++]=n[u++]:t[c++]=n[l++];else if(u<f)t[c++]=n[u++];else{if(!(l<i))break;t[c++]=n[l++]}};"undefined"!=typeof module?module.exports=n:window.stable=n}();
},{}],"pksH":[function(require,module,exports) {
var e=function(e,r,t){if(r!==t){var i=e.indexOf(r),n=e.indexOf(t);if(i<0||n<0)throw new Error("Supplied items must be elements of the same array");return e[i]=t,e[n]=r,e}};module.exports=e;
},{}],"b1Xs":[function(require,module,exports) {
module.exports={Matrix:require("./matrix"),Add:require("./Add"),AddAt:require("./AddAt"),BringToTop:require("./BringToTop"),CountAllMatching:require("./CountAllMatching"),Each:require("./Each"),EachInRange:require("./EachInRange"),FindClosestInSorted:require("./FindClosestInSorted"),GetAll:require("./GetAll"),GetFirst:require("./GetFirst"),GetRandom:require("./GetRandom"),MoveDown:require("./MoveDown"),MoveTo:require("./MoveTo"),MoveUp:require("./MoveUp"),NumberArray:require("./NumberArray"),NumberArrayStep:require("./NumberArrayStep"),QuickSelect:require("./QuickSelect"),Range:require("./Range"),Remove:require("./Remove"),RemoveAt:require("./RemoveAt"),RemoveBetween:require("./RemoveBetween"),RemoveRandomElement:require("./RemoveRandomElement"),Replace:require("./Replace"),RotateLeft:require("./RotateLeft"),RotateRight:require("./RotateRight"),SafeRange:require("./SafeRange"),SendToBack:require("./SendToBack"),SetAll:require("./SetAll"),Shuffle:require("./Shuffle"),SpliceOne:require("./SpliceOne"),StableSort:require("./StableSort"),Swap:require("./Swap")};
},{"./matrix":"sh2u","./Add":"LgTV","./AddAt":"aCHa","./BringToTop":"epf9","./CountAllMatching":"DKmi","./Each":"kQQU","./EachInRange":"dUKs","./FindClosestInSorted":"KnbC","./GetAll":"DNwt","./GetFirst":"nCsR","./GetRandom":"dkei","./MoveDown":"dCum","./MoveTo":"xZAO","./MoveUp":"NylU","./NumberArray":"Bw1G","./NumberArrayStep":"XIYT","./QuickSelect":"MEkw","./Range":"a9p9","./Remove":"sXlU","./RemoveAt":"G34O","./RemoveBetween":"hmTT","./RemoveRandomElement":"Ww4Y","./Replace":"Ya5I","./RotateLeft":"Eleg","./RotateRight":"TmzT","./SafeRange":"bGIX","./SendToBack":"vVZL","./SetAll":"d4h9","./Shuffle":"W8ol","./SpliceOne":"R1sC","./StableSort":"aNGc","./Swap":"pksH"}],"ZAHL":[function(require,module,exports) {
var t=require("../utils/array"),i=require("../utils/Class"),s=require("../utils/NOOP"),n=require("../utils/array/StableSort"),e=new i({initialize:function(t){this.parent=t,this.list=[],this.position=0,this.addCallback=s,this.removeCallback=s,this._sortKey=""},add:function(i,s){return s?t.Add(this.list,i):t.Add(this.list,i,0,this.addCallback,this)},addAt:function(i,s,n){return n?t.AddAt(this.list,i,s):t.AddAt(this.list,i,s,0,this.addCallback,this)},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t,i){return t?(void 0===i&&(i=function(i,s){return i[t]-s[t]}),n.inplace(this.list,i),this):this},getByName:function(i){return t.GetFirst(this.list,"name",i)},getRandom:function(i,s){return t.GetRandom(this.list,i,s)},getFirst:function(i,s,n,e){return t.GetFirst(this.list,i,s,n,e)},getAll:function(i,s,n,e){return t.GetAll(this.list,i,s,n,e)},count:function(i,s){return t.CountAllMatching(this.list,i,s)},swap:function(i,s){t.Swap(this.list,i,s)},moveTo:function(i,s){return t.MoveTo(this.list,i,s)},remove:function(i,s){return s?t.Remove(this.list,i):t.Remove(this.list,i,this.removeCallback,this)},removeAt:function(i,s){return s?t.RemoveAt(this.list,i):t.RemoveAt(this.list,i,this.removeCallback,this)},removeBetween:function(i,s,n){return n?t.RemoveBetween(this.list,i,s):t.RemoveBetween(this.list,i,s,this.removeCallback,this)},removeAll:function(t){for(var i=this.list.length;i--;)this.remove(this.list[i],t);return this},bringToTop:function(i){return t.BringToTop(this.list,i)},sendToBack:function(i){return t.SendToBack(this.list,i)},moveUp:function(i){return t.MoveUp(this.list,i),i},moveDown:function(i){return t.MoveDown(this.list,i),i},reverse:function(){return this.list.reverse(),this},shuffle:function(){return t.Shuffle(this.list),this},replace:function(i,s){return t.Replace(this.list,i,s)},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(i,s,n,e){return t.SetAll(this.list,i,s,n,e),this},each:function(t,i){for(var s=[null],n=2;n<arguments.length;n++)s.push(arguments[n]);for(n=0;n<this.list.length;n++)s[0]=this.list[n],t.apply(i,s)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});module.exports=e;
},{"../utils/array":"b1Xs","../utils/Class":"JASv","../utils/NOOP":"lZkB","../utils/array/StableSort":"aNGc"}],"qxUG":[function(require,module,exports) {
var t=require("../utils/Class"),s=require("../structs/List"),e=require("../plugins/PluginCache"),i=require("../scene/events"),n=require("../utils/array/StableSort"),h=new t({Extends:s,initialize:function(t){s.call(this,t),this.sortChildrenFlag=!1,this.scene=t,this.systems=t.sys,t.sys.events.once(i.BOOT,this.boot,this),t.sys.events.on(i.START,this.start,this)},boot:function(){this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(i.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(n.inplace(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(t,s){return t._depth-s._depth},getChildren:function(){return this.list},shutdown:function(){for(var t=this.list.length;t--;)this.list[t].destroy(!0);this.list.length=0,this.systems.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(i.START,this.start,this),this.scene=null,this.systems=null}});e.register("DisplayList",h,"displayList"),module.exports=h;
},{"../utils/Class":"JASv","../structs/List":"ZAHL","../plugins/PluginCache":"ZrqD","../scene/events":"zvkO","../utils/array/StableSort":"aNGc"}],"J7s6":[function(require,module,exports) {
module.exports={PROCESS_QUEUE_ADD:require("./PROCESS_QUEUE_ADD_EVENT"),PROCESS_QUEUE_REMOVE:require("./PROCESS_QUEUE_REMOVE_EVENT")};
},{"./PROCESS_QUEUE_ADD_EVENT":"eGX0","./PROCESS_QUEUE_REMOVE_EVENT":"Rv54"}],"zyEQ":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("eventemitter3"),i=require("./events"),s=new t({Extends:e,initialize:function(){e.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0},add:function(t){return this._pending.push(t),this._toProcess++,t},remove:function(t){return this._destroy.push(t),this._toProcess++,t},removeAll:function(){for(var t=this._active,e=this._destroy,i=t.length;i--;)e.push(t[i]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var t,e,s=this._destroy,n=this._active;for(t=0;t<s.length;t++){e=s[t];var r=n.indexOf(e);-1!==r&&(n.splice(r,1),this.emit(i.REMOVE,e))}for(s.length=0,s=this._pending,t=0;t<s.length;t++)e=s[t],this._active.push(e),this.emit(i.ADD,e);return s.length=0,this._toProcess=0,this._active},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});module.exports=s;
},{"../utils/Class":"JASv","eventemitter3":"JJlS","./events":"J7s6"}],"afAy":[function(require,module,exports) {
var s=require("../utils/Class"),t=require("../structs/ProcessQueue"),e=require("../plugins/PluginCache"),i=require("../scene/events"),n=new s({Extends:t,initialize:function(s){t.call(this),this.scene=s,this.systems=s.sys,s.sys.events.once(i.BOOT,this.boot,this),s.sys.events.on(i.START,this.start,this)},boot:function(){this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){var s=this.systems.events;s.on(i.PRE_UPDATE,this.update,this),s.on(i.UPDATE,this.sceneUpdate,this),s.once(i.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(s,t){for(var e=this._active,i=e.length,n=0;n<i;n++){var h=e[n];h.active&&h.preUpdate.call(h,s,t)}},shutdown:function(){for(var s=this._active.length;s--;)this._active[s].destroy(!0);for(s=this._pending.length;s--;)this._pending[s].destroy(!0);for(s=this._destroy.length;s--;)this._destroy[s].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var t=this.systems.events;t.off(i.PRE_UPDATE,this.preUpdate,this),t.off(i.UPDATE,this.sceneUpdate,this),t.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(i.START,this.start,this),this.scene=null,this.systems=null}});e.register("UpdateList",n,"updateList"),module.exports=n;
},{"../utils/Class":"JASv","../structs/ProcessQueue":"zyEQ","../plugins/PluginCache":"ZrqD","../scene/events":"zvkO"}],"vpak":[function(require,module,exports) {
var r=require("../../math"),n=require("./GetValue"),e=function(e,t,a){var u=n(e,t,null);if(null===u)return a;if(Array.isArray(u))return r.RND.pick(u);if("object"==typeof u){if(u.hasOwnProperty("randInt"))return r.RND.integerInRange(u.randInt[0],u.randInt[1]);if(u.hasOwnProperty("randFloat"))return r.RND.realInRange(u.randFloat[0],u.randFloat[1])}else if("function"==typeof u)return u(t);return u};module.exports=e;
},{"../../math":"nIfb","./GetValue":"OqLI"}],"BMFz":[function(require,module,exports) {
var l=require("../renderer/BlendModes"),e=require("../utils/object/GetAdvancedValue"),r=function(r,a,t){a.x=e(t,"x",0),a.y=e(t,"y",0),a.depth=e(t,"depth",0),a.flipX=e(t,"flipX",!1),a.flipY=e(t,"flipY",!1);var n=e(t,"scale",null);"number"==typeof n?a.setScale(n):null!==n&&(a.scaleX=e(n,"x",1),a.scaleY=e(n,"y",1));var i=e(t,"scrollFactor",null);"number"==typeof i?a.setScrollFactor(i):null!==i&&(a.scrollFactorX=e(i,"x",1),a.scrollFactorY=e(i,"y",1)),a.rotation=e(t,"rotation",0);var o=e(t,"angle",null);null!==o&&(a.angle=o),a.alpha=e(t,"alpha",1);var s=e(t,"origin",null);if("number"==typeof s)a.setOrigin(s);else if(null!==s){var d=e(s,"x",.5),u=e(s,"y",.5);a.setOrigin(d,u)}return a.blendMode=e(t,"blendMode",l.NORMAL),a.visible=e(t,"visible",!0),e(t,"add",!0)&&r.sys.displayList.add(a),a.preUpdate&&r.sys.updateList.add(a),a};module.exports=r;
},{"../renderer/BlendModes":"PaIu","../utils/object/GetAdvancedValue":"vpak"}],"LH68":[function(require,module,exports) {
var e=require("../utils/object/GetAdvancedValue"),a=function(a,t){var l=e(t,"anims",null);if(null===l)return a;if("string"==typeof l)a.anims.play(l);else if("object"==typeof l){var y=a.anims,r=e(l,"key",void 0),o=e(l,"startFrame",void 0),i=e(l,"delay",0),s=e(l,"repeat",0),d=e(l,"repeatDelay",0),n=e(l,"yoyo",!1),p=e(l,"play",!1),u=e(l,"delayedPlay",0);y.setDelay(i),y.setRepeat(s),y.setRepeatDelay(d),y.setYoyo(n),p?y.play(r,o):u>0?y.delayedPlay(u,r,o):y.load(r)}return a};module.exports=a;
},{"../utils/object/GetAdvancedValue":"vpak"}],"qCjL":[function(require,module,exports) {
var global = arguments[3];
var l=arguments[3],h=function(l,h,r){if(void 0===r)return r={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],scaleX:0,scaleY:0};var n,t,e,i,o=l.text,d=o.length,a=l.maxWidth,u=l.wordWrapCharCode,w=Number.MAX_VALUE,s=Number.MAX_VALUE,x=0,c=0,g=l.fontData.chars,y=l.fontData.lineHeight,f=l.letterSpacing,p=0,v=0,A=0,M=null,X=0,b=0,m=l.fontSize/l.fontData.size,Y=m*l.scaleX,C=m*l.scaleY,O=null,D=0,E=[],L=Number.MAX_VALUE,N=0,U=0,V=0,_=[],k=null;if(a>0){for(n=0;n<d;n++)if(10!==(A=o.charCodeAt(n))){if(M=g[A]){if(null!==O)var z=M.kerning[D];A===u?null!==k&&(_.push({word:k.word,i:k.i,x:k.x*Y,y:k.y*C,w:k.w*Y,h:k.h*C,cr:!1}),k=null):(null===k&&(k={word:"",i:n,x:p,y:v,w:0,h:y,cr:!1}),k.word=k.word.concat(o[n]),k.w+=M.xOffset+M.xAdvance+(void 0!==z?z:0)),p+=M.xAdvance+f,O=M,D=A}}else null!==k&&(_.push({word:k.word,i:k.i,x:k.x*Y,y:k.y*C,w:k.w*Y,h:k.h*C,cr:!0}),k=null),p=0,v+=y,O=null;var S;null!==k&&_.push({word:k.word,i:k.i,x:k.x*Y,y:k.y*C,w:k.w*Y,h:k.h*C,cr:!1}),p=0,v=0,O=null,D=0;var T=0,W=[];for(n=0;n<_.length;n++){var H=_[n],j=H.x,q=H.x+H.w;if(S)T=j-(j-(S.x+S.w)+S.w),S=null;j-T>a||q-T>a?(W.push(H.i-1),H.cr?(W.push(H.i+H.word.length),T=0,S=null):S=H):H.cr&&(W.push(H.i+H.word.length),T=0,S=null)}for(n=W.length-1;n>=0;n--)t=o,e=W[n],i="\n",o=t.substr(0,e)+i+t.substr(e+1);r.wrappedText=o,d=o.length,_=[],k=null}for(n=0;n<d;n++)if(10!==(A=o.charCodeAt(n))){if(M=g[A]){if(X=p,b=v,null!==O){var B=M.kerning[D];X+=void 0!==B?B:0}w>X&&(w=X),s>b&&(s=b);var F=X+M.xAdvance,G=b+y;x<F&&(x=F),c<G&&(c=G),A===u?null!==k&&(_.push({word:k.word,i:k.i,x:k.x*Y,y:k.y*C,w:k.w*Y,h:k.h*C}),k=null):(null===k&&(k={word:"",i:n,x:p,y:v,w:0,h:y}),k.word=k.word.concat(o[n]),k.w+=M.xOffset+M.xAdvance+(void 0!==B?B:0)),p+=M.xAdvance+f,O=M,D=A,V=F*m}}else null!==k&&(_.push({word:k.word,i:k.i,x:k.x*Y,y:k.y*C,w:k.w*Y,h:k.h*C}),k=null),p=0,v+=y,O=null,E[U]=V,V>N&&(N=V),V<L&&(L=V),U++,V=0;null!==k&&_.push({word:k.word,i:k.i,x:k.x*Y,y:k.y*C,w:k.w*Y,h:k.h*C}),E[U]=V,V>N&&(N=V),V<L&&(L=V);var I=r.local,J=r.global,K=r.lines;return I.x=w*m,I.y=s*m,I.width=x*m,I.height=c*m,J.x=l.x-l.displayOriginX+w*Y,J.y=l.y-l.displayOriginY+s*C,J.width=x*Y,J.height=c*C,K.shortest=L,K.longest=N,K.lengths=E,h&&(I.x=Math.round(I.x),I.y=Math.round(I.y),I.width=Math.round(I.width),I.height=Math.round(I.height),J.x=Math.round(J.x),J.y=Math.round(J.y),J.width=Math.round(J.width),J.height=Math.round(J.height),K.shortest=Math.round(L),K.longest=Math.round(N)),r.words=_,r.lines.height=y,r.scaleX=l.scaleX,r.scaleY=l.scaleY,r};module.exports=h;
},{}],"KGvr":[function(require,module,exports) {
function e(e,t){return parseInt(e.getAttribute(t),10)}var t=function(t,r,a,n){void 0===r&&(r=0),void 0===a&&(a=0);var i={},o=t.getElementsByTagName("info")[0],f=t.getElementsByTagName("common")[0];i.font=o.getAttribute("face"),i.size=e(o,"size"),i.lineHeight=e(f,"lineHeight")+a,i.chars={};var h=t.getElementsByTagName("char"),g=void 0!==n&&n.trimmed;if(g)var s=n.height,c=n.width;for(var v=0;v<h.length;v++){var m=h[v],d=e(m,"id"),l=e(m,"x"),y=e(m,"y"),x=e(m,"width"),u=e(m,"height");g&&(l<c&&(c=l),y<s&&(s=y)),i.chars[d]={x:l,y:y,width:x,height:u,centerX:Math.floor(x/2),centerY:Math.floor(u/2),xOffset:e(m,"xoffset"),yOffset:e(m,"yoffset"),xAdvance:e(m,"xadvance")+r,data:{},kerning:{}}}if(g&&0!==s&&0!==c)for(var B in i.chars){var E=i.chars[B];E.x-=n.x,E.y-=n.y}var N=t.getElementsByTagName("kerning");for(v=0;v<N.length;v++){var T=N[v],k=e(T,"first"),w=e(T,"second"),A=e(T,"amount");i.chars[w].kerning[k]=A}return i};module.exports=t;
},{}],"nzq0":[function(require,module,exports) {
var e=require("./ParseXMLBitmapFont"),r=function(r,t,a,s,u,m,n){var c=r.sys.textures.getFrame(a,s),i=r.sys.cache.xml.get(u);if(c&&i){var o=e(i,m,n,c);return r.sys.cache.bitmapFont.add(t,{data:o,texture:a,frame:s}),!0}return!1};module.exports=r;
},{"./ParseXMLBitmapFont":"KGvr"}],"AjZy":[function(require,module,exports) {
var t=require("../../../renderer/webgl/Utils"),e=function(e,l,a,i,r){var n=l._text,o=n.length;if(0!==o){var h=this.pipeline;e.setPipeline(h,l);var p=h._tempMatrix1,s=h._tempMatrix2,g=h._tempMatrix3;s.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),p.copyFrom(i.matrix),r?(p.multiplyWithOffset(r,-i.scrollX*l.scrollFactorX,-i.scrollY*l.scrollFactorY),s.e=l.x,s.f=l.y,p.multiply(s,g)):(s.e-=i.scrollX*l.scrollFactorX,s.f-=i.scrollY*l.scrollFactorY,p.multiply(s,g));var d=l.frame,u=d.glTexture,c=d.cutX,f=d.cutY,x=u.width,_=u.height,T=l._isTinted&&l.tintFill,v=t.getTintAppendFloatAlpha(l._tintTL,i.alpha*l._alphaTL),m=t.getTintAppendFloatAlpha(l._tintTR,i.alpha*l._alphaTR),y=t.getTintAppendFloatAlpha(l._tintBL,i.alpha*l._alphaBL),M=t.getTintAppendFloatAlpha(l._tintBR,i.alpha*l._alphaBR);h.setTexture2D(u,0);var X,Y,A=0,F=0,B=0,O=0,R=l._letterSpacing,w=0,L=0,b=0,S=0,z=l.fontData,D=z.chars,P=z.lineHeight,W=l._fontSize/z.size,k=l._align,q=0,C=0,H=l.getTextBounds(!1);l.maxWidth>0&&(o=(n=H.wrappedText).length);var I=l._bounds.lines;1===k?C=(I.longest-I.lengths[0])/2:2===k&&(C=I.longest-I.lengths[0]);for(var Q=i.roundPixels,U=0;U<o;U++)if(10!==(B=n.charCodeAt(U))){if(X=D[B]){w=c+X.x,L=f+X.y,b=X.width,S=X.height;var j=X.xOffset+A,E=X.yOffset+F;if(null!==Y){var G=X.kerning[O];j+=void 0!==G?G:0}if(A+=X.xAdvance+R,Y=X,O=B,0!==b&&0!==S&&32!==B){j*=W,E*=W,j-=l.displayOriginX;var J=w/x,K=L/_,N=(w+b)/x,V=(L+S)/_,Z=(j+=C)+b*W,$=(E-=l.displayOriginY)+S*W,tt=g.getX(j,E),et=g.getY(j,E),lt=g.getX(j,$),at=g.getY(j,$),it=g.getX(Z,$),rt=g.getY(Z,$),nt=g.getX(Z,E),ot=g.getY(Z,E);Q&&(tt=Math.round(tt),et=Math.round(et),lt=Math.round(lt),at=Math.round(at),it=Math.round(it),rt=Math.round(rt),nt=Math.round(nt),ot=Math.round(ot)),h.batchQuad(tt,et,lt,at,it,rt,nt,ot,J,K,N,V,v,m,y,M,T,u,0)}}}else q++,1===k?C=(I.longest-I.lengths[q])/2:2===k&&(C=I.longest-I.lengths[q]),A=0,F+=P,Y=null}};module.exports=e;
},{"../../../renderer/webgl/Utils":"ZkeT"}],"yLg6":[function(require,module,exports) {
var l=function(l,a,r,o,t){var e=o.alpha*r.alpha;if(e<=0)return!1;var s=l._tempMatrix1.copyFromArray(o.matrix.matrix),c=l._tempMatrix2.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),i=l._tempMatrix3;return t?(s.multiplyWithOffset(t,-o.scrollX*r.scrollFactorX,-o.scrollY*r.scrollFactorY),c.e=r.x,c.f=r.y,s.multiply(c,i)):(c.e-=o.scrollX*r.scrollFactorX,c.f-=o.scrollY*r.scrollFactorY,s.multiply(c,i)),a.globalCompositeOperation=l.blendModes[r.blendMode],a.globalAlpha=e,a.save(),i.setToContext(a),a.imageSmoothingEnabled=!(!l.antialias||r.frame&&r.frame.source.scaleMode),!0};module.exports=l;
},{}],"g5N2":[function(require,module,exports) {
var e=require("../../../renderer/canvas/utils/SetTransform"),t=function(t,n,a,r,l){var s=n._text,i=s.length,o=t.currentContext;if(0!==i&&e(t,o,n,r,l)){var g=n.frame,f=n.fontData.chars,u=n.fontData.lineHeight,d=n._letterSpacing,h=0,c=0,v=0,x=null,m=0,p=0,_=0,y=0,O=0,w=0,D=null,S=0,T=n.frame.source.image,z=g.cutX,A=g.cutY,C=n._fontSize/n.fontData.size,M=n._align,X=0,Y=0,b=n.getTextBounds(!1);n.maxWidth>0&&(i=(s=b.wrappedText).length);var k=n._bounds.lines;1===M?Y=(k.longest-k.lengths[0])/2:2===M&&(Y=k.longest-k.lengths[0]),o.translate(-n.displayOriginX,-n.displayOriginY);for(var q=r.roundPixels,B=0;B<i;B++)if(10!==(v=s.charCodeAt(B))){if(x=f[v]){if(m=z+x.x,p=A+x.y,_=x.width,y=x.height,O=x.xOffset+h,w=x.yOffset+c,null!==D){var H=x.kerning[S];O+=void 0!==H?H:0}O*=C,w*=C,O+=Y,h+=x.xAdvance+d,D=x,S=v,0!==_&&0!==y&&32!==v&&(q&&(O=Math.round(O),w=Math.round(w)),o.save(),o.translate(O,w),o.scale(C,C),o.drawImage(T,m,p,_,y,0,0,_,y),o.restore())}}else X++,1===M?Y=(k.longest-k.lengths[X])/2:2===M&&(Y=k.longest-k.lengths[X]),h=0,c+=u,D=null;o.restore()}};module.exports=t;
},{"../../../renderer/canvas/utils/SetTransform":"yLg6"}],"bJqh":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./BitmapTextWebGLRenderer"),r=require("./BitmapTextCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"lZkB","./BitmapTextWebGLRenderer":"AjZy","./BitmapTextCanvasRenderer":"g5N2"}],"KD9W":[function(require,module,exports) {
var t=require("../../../utils/Class"),i=require("../../components"),e=require("../../GameObject"),s=require("../GetBitmapTextSize"),n=require("../ParseFromAtlas"),r=require("../ParseXMLBitmapFont"),h=require("./BitmapTextRender"),a=new t({Extends:e,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Texture,i.Tint,i.Transform,i.Visible,h],initialize:function(t,i,n,r,h,a,o){void 0===h&&(h=""),void 0===o&&(o=0),e.call(this,t,"BitmapText"),this.font=r;var u=this.scene.sys.cache.bitmapFont.get(r);this.fontData=u.data,this._text="",this._fontSize=a||this.fontData.size,this._letterSpacing=0,this._align=o,this._bounds=s(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.setTexture(u.texture,u.frame),this.setPosition(i,n),this.setOrigin(0,0),this.initPipeline(),this.setText(h)},setLeftAlign:function(){return this._align=a.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=a.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=a.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(t){return this._fontSize=t,this._dirty=!0,this},setLetterSpacing:function(t){return void 0===t&&(t=0),this._letterSpacing=t,this._dirty=!0,this},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this.text&&(this._text=t.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},getTextBounds:function(t){var i=this._bounds;return(this._dirty||this.scaleX!==i.scaleX||this.scaleY!==i.scaleY)&&(s(this,t,i),this._dirty=!1,this.updateDisplayOrigin()),i},setFont:function(t,i,e){if(void 0===i&&(i=this._fontSize),void 0===e&&(e=this._align),t!==this.font){var n=this.scene.sys.cache.bitmapFont.get(t);n&&(this.font=t,this.fontData=n.data,this._fontSize=i,this._align=e,this.setTexture(n.texture,n.frame),s(this,!1,this._bounds))}return this},setMaxWidth:function(t,i){return this._maxWidth=t,this._dirty=!0,void 0!==i&&(this.wordWrapCharCode=i),this},align:{set:function(t){this._align=t,this._dirty=!0},get:function(){return this._align}},text:{set:function(t){this.setText(t)},get:function(){return this._text}},fontSize:{set:function(t){this._fontSize=t,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(t){this._letterSpacing=t,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(t){this._maxWidth=t,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var t=i.ToJSON(this),e={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return t.data=e,t}});a.ALIGN_LEFT=0,a.ALIGN_CENTER=1,a.ALIGN_RIGHT=2,a.ParseFromAtlas=n,a.ParseXMLBitmapFont=r,module.exports=a;
},{"../../../utils/Class":"JASv","../../components":"VjLH","../../GameObject":"AetT","../GetBitmapTextSize":"qCjL","../ParseFromAtlas":"nzq0","../ParseXMLBitmapFont":"KGvr","./BitmapTextRender":"bJqh"}],"lhlt":[function(require,module,exports) {
var e=require("../../renderer/webgl/Utils"),t=function(t,r,a,l,i){var o=r.getRenderList();if(0!==o.length){var h=this.pipeline;t.setPipeline(h,r);var n=l.scrollX*r.scrollFactorX,u=l.scrollY*r.scrollFactorY,p=h._tempMatrix1;p.copyFrom(l.matrix),i&&(p.multiplyWithOffset(i,-n,-u),n=0,u=0);for(var d=r.x-n,s=r.y-u,g=-1,x=l.alpha*r.alpha,c=l.roundPixels,v=0;v<o.length;v++){var f=o[v],m=f.frame,y=f.alpha*x;if(0!==y){var M=m.width,X=m.height,Y=d+f.x+m.x,F=s+f.y+m.y;f.flipX&&(M*=-1,Y+=m.width),f.flipY&&(X*=-1,F+=m.height);var T=Y+M,w=F+X,b=p.getX(Y,F),A=p.getY(Y,F),I=p.getX(T,w),P=p.getY(T,w),q=e.getTintAppendFloatAlpha(f.tint,y);m.sourceIndex!==g&&(h.setTexture2D(m.glTexture,0),g=m.sourceIndex),c&&(b=Math.round(b),A=Math.round(A),I=Math.round(I),P=Math.round(P)),h.batchQuad(b,A,b,P,I,P,I,A,m.u0,m.v0,m.u1,m.v1,q,q,q,q,!1,m.glTexture,0)&&(g=-1)}}}};module.exports=t;
},{"../../renderer/webgl/Utils":"ZkeT"}],"uTvX":[function(require,module,exports) {
var a=function(a,e,t,r,o){var l=e.getRenderList();if(0!==l.length){var i=a.currentContext,h=r.alpha*e.alpha;if(0!==h){i.globalCompositeOperation=a.blendModes[e.blendMode],i.imageSmoothingEnabled=!(!a.antialias||e.frame.source.scaleMode);var s=e.x-r.scrollX*e.scrollFactorX,n=e.y-r.scrollY*e.scrollFactorY;i.save(),o&&o.copyToContext(i);for(var d=r.roundPixels,g=0;g<l.length;g++){var c=l[g],p=c.flipX||c.flipY,f=c.frame,m=f.canvasData,x=f.x,u=f.y,v=1,w=1,y=c.alpha*h;0!==y&&(i.globalAlpha=y,p?(c.flipX&&(v=-1,x-=m.width),c.flipY&&(w=-1,u-=m.height),i.save(),i.translate(c.x+s,c.y+n),i.scale(v,w),i.drawImage(f.source.image,m.x,m.y,m.width,m.height,x,u,m.width,m.height),i.restore()):(d&&(x=Math.round(x),u=Math.round(u)),i.drawImage(f.source.image,m.x,m.y,m.width,m.height,x+c.x+s,u+c.y+n,m.width,m.height)))}i.restore()}}};module.exports=a;
},{}],"wHO7":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./BlitterWebGLRenderer"),r=require("./BlitterCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"lZkB","./BlitterWebGLRenderer":"lhlt","./BlitterCanvasRenderer":"uTvX"}],"gjYW":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("../../textures/Frame"),s=new t({initialize:function(t,i,s,e,h){this.parent=t,this.x=i,this.y=s,this.frame=e,this.data={},this.tint=16777215,this._visible=h,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(t){return void 0===t?this.frame=this.parent.frame:t instanceof i&&t.texture===this.parent.texture?this.frame=t:this.frame=this.parent.texture.get(t),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(t,i,s){return this.x=t,this.y=i,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,s&&this.setFrame(s),this},setPosition:function(t,i){return this.x=t,this.y=i,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,i){return this.flipX=t,this.flipY=i,this},setVisible:function(t){return this.visible=t,this},setAlpha:function(t){return this.alpha=t,this},setTint:function(t){return this.tint=t,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(t){this.parent.dirty|=this._visible!==t,this._visible=t}},alpha:{get:function(){return this._alpha},set:function(t){this.parent.dirty|=this._alpha>0!=t>0,this._alpha=t}}});module.exports=s;
},{"../../utils/Class":"JASv","../../textures/Frame":"nGOG"}],"uysv":[function(require,module,exports) {
var e=require("./BlitterRender"),i=require("./Bob"),t=require("../../utils/Class"),r=require("../components"),n=require("../../textures/Frame"),s=require("../GameObject"),h=require("../../structs/List"),l=new t({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,e],initialize:function(e,i,t,r,n){s.call(this,e,"Blitter"),this.setTexture(r,n),this.setPosition(i,t),this.initPipeline(),this.children=new h,this.renderList=[],this.dirty=!1},create:function(e,t,r,s,h){void 0===s&&(s=!0),void 0===h&&(h=this.children.length),void 0===r?r=this.frame:r instanceof n||(r=this.texture.get(r));var l=new i(this,e,t,r,s);return this.children.addAt(l,h,!1),this.dirty=!0,l},createFromCallback:function(e,i,t,r){for(var n=this.createMultiple(i,t,r),s=0;s<n.length;s++){var h=n[s];e.call(this,h,s)}return n},createMultiple:function(e,i,t){void 0===i&&(i=this.frame.name),void 0===t&&(t=!0),Array.isArray(i)||(i=[i]);var r=[],n=this;return i.forEach(function(i){for(var s=0;s<e;s++)r.push(n.create(0,0,i,t))}),r},childCanRender:function(e){return e.visible&&e.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});module.exports=l;
},{"./BlitterRender":"wHO7","./Bob":"gjYW","../../utils/Class":"JASv","../components":"VjLH","../../textures/Frame":"nGOG","../GameObject":"AetT","../../structs/List":"ZAHL"}],"HGtG":[function(require,module,exports) {
var e=function(e,a,l,t,r){var o=a.list;if(0!==o.length){var n=a.localTransform;r?(n.loadIdentity(),n.multiply(r),n.translate(a.x,a.y),n.rotate(a.rotation),n.scale(a.scaleX,a.scaleY)):n.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var p=-1!==a.blendMode;p||e.setBlendMode(0);for(var c=a.alpha,s=a.scrollFactorX,d=a.scrollFactorY,h=o,i=o.length,y=0;y<i;y++){var v=o[y];if(v.willRender(t)){var T,f,u,M;if(void 0!==v.alphaTopLeft)T=v.alphaTopLeft,f=v.alphaTopRight,u=v.alphaBottomLeft,M=v.alphaBottomRight;else{var b=v.alpha;T=b,f=b,u=b,M=b}var m=v.scrollFactorX,F=v.scrollFactorY;p||v.blendMode===e.currentBlendMode||e.setBlendMode(v.blendMode);var L=v.mask;L&&L.preRenderWebGL(e,v,t);var R=v.type;R!==e.currentType&&(e.newType=!0,e.currentType=R),e.nextTypeMatch=y<i-1&&h[y+1].type===e.currentType,v.setScrollFactor(m*s,F*d),v.setAlpha(T*c,f*c,u*c,M*c),v.renderWebGL(e,v,l,t,n),v.setAlpha(T,f,u,M),v.setScrollFactor(m,F),L&&L.postRenderWebGL(e,t),e.newType=!1}}}};module.exports=e;
},{}],"KxaY":[function(require,module,exports) {
var l=function(l,a,e,r,o){var t=a.list;if(0!==t.length){var c=a.localTransform;o?(c.loadIdentity(),c.multiply(o),c.translate(a.x,a.y),c.rotate(a.rotation),c.scale(a.scaleX,a.scaleY)):c.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var s=-1!==a.blendMode;s||l.setBlendMode(0);for(var n=a._alpha,d=a.scrollFactorX,i=a.scrollFactorY,p=0;p<t.length;p++){var v=t[p];if(v.willRender(r)){var h=v.alpha,F=v.scrollFactorX,M=v.scrollFactorY;s||v.blendMode===l.currentBlendMode||l.setBlendMode(v.blendMode),v.setScrollFactor(F*d,M*i),v.setAlpha(h*n),v.renderCanvas(l,v,e,r,c),v.setAlpha(h),v.setScrollFactor(F,M)}}}};module.exports=l;
},{}],"tsMB":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./ContainerWebGLRenderer"),r=require("./ContainerCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"lZkB","./ContainerWebGLRenderer":"HGtG","./ContainerCanvasRenderer":"KxaY"}],"zHvV":[function(require,module,exports) {
var t=require("./Rectangle"),a=function(a,e,o){void 0===o&&(o=new t);var r=Math.min(a.x,e.x),i=Math.min(a.y,e.y),m=Math.max(a.right,e.right)-r,n=Math.max(a.bottom,e.bottom)-i;return o.setTo(r,i,m,n)};module.exports=a;
},{"./Rectangle":"wYVB"}],"XM3Y":[function(require,module,exports) {
var t=require("../../utils/array"),i=require("../../renderer/BlendModes"),e=require("../../utils/Class"),s=require("../components"),n=require("../events"),r=require("../GameObject"),o=require("../../geom/rectangle/Rectangle"),h=require("./ContainerRender"),l=require("../../geom/rectangle/Union"),a=require("../../math/Vector2"),u=new e({Extends:r,Mixins:[s.AlphaSingle,s.BlendMode,s.ComputedSize,s.Depth,s.Mask,s.Transform,s.Visible,h],initialize:function(t,e,n,o){r.call(this,t,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new s.TransformMatrix,this.tempTransformMatrix=new s.TransformMatrix,this._displayList=t.sys.displayList,this._sortKey="",this._sysEvents=t.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.setPosition(e,n),this.clearAlpha(),this.setBlendMode(i.SKIP_CHECK),o&&this.add(o)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(t){return void 0===t&&(t=!0),this.exclusive=t,this},getBounds:function(t){if(void 0===t&&(t=new o),t.setTo(this.x,this.y,0,0),this.parentContainer){var i=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);t.setTo(i.x,i.y,0,0)}if(this.list.length>0){var e=this.list,s=new o,n=e[0].getBounds();t.setTo(n.x,n.y,n.width,n.height);for(var r=1;r<e.length;r++){var h=e[r];h.getBounds&&(h.getBounds(s),l(s,t,t))}}return t},addHandler:function(t){t.once(n.DESTROY,this.remove,this),this.exclusive&&(this._displayList.remove(t),t.parentContainer&&t.parentContainer.remove(t),t.parentContainer=this)},removeHandler:function(t){t.off(n.DESTROY,this.remove),this.exclusive&&(t.parentContainer=null)},pointToContainer:function(t,i){void 0===i&&(i=new a),this.parentContainer?this.parentContainer.pointToContainer(t,i):i=new a(t.x,t.y);var e=this.tempTransformMatrix;return e.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),e.invert(),e.transformPoint(t.x,t.y,i),i},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(i){return t.Add(this.list,i,this.maxSize,this.addHandler,this),this},addAt:function(i,e){return t.AddAt(this.list,i,e,this.maxSize,this.addHandler,this),this},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(i,e){return i?(void 0===e&&(e=function(t,e){return t[i]-e[i]}),t.StableSort.inplace(this.list,e),this):this},getByName:function(i){return t.GetFirst(this.list,"name",i)},getRandom:function(i,e){return t.GetRandom(this.list,i,e)},getFirst:function(i,e,s,n){return t.GetFirst(this.list,i,e,s,n)},getAll:function(i,e,s,n){return t.GetAll(this.list,i,e,s,n)},count:function(i,e,s,n){return t.CountAllMatching(this.list,i,e,s,n)},swap:function(i,e){return t.Swap(this.list,i,e),this},moveTo:function(i,e){return t.MoveTo(this.list,i,e),this},remove:function(i,e){var s=t.Remove(this.list,i,this.removeHandler,this);if(e&&s){Array.isArray(s)||(s=[s]);for(var n=0;n<s.length;n++)s[n].destroy()}return this},removeAt:function(i,e){var s=t.RemoveAt(this.list,i,this.removeHandler,this);return e&&s&&s.destroy(),this},removeBetween:function(i,e,s){var n=t.RemoveBetween(this.list,i,e,this.removeHandler,this);if(s)for(var r=0;r<n.length;r++)n[r].destroy();return this},removeAll:function(i){var e=t.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(i)for(var s=0;s<e.length;s++)e[s].destroy();return this},bringToTop:function(i){return t.BringToTop(this.list,i),this},sendToBack:function(i){return t.SendToBack(this.list,i),this},moveUp:function(i){return t.MoveUp(this.list,i),this},moveDown:function(i){return t.MoveDown(this.list,i),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return t.Shuffle(this.list),this},replace:function(i,e,s){return t.Replace(this.list,i,e)&&(this.addHandler(e),this.removeHandler(i),s&&i.destroy()),this},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(i,e,s,n){return t.SetAll(this.list,i,e,s,n),this},each:function(t,i){var e,s=[null],n=this.list.slice(),r=n.length;for(e=2;e<arguments.length;e++)s.push(arguments[e]);for(e=0;e<r;e++)s[0]=n[e],t.apply(i,s);return this},iterate:function(t,i){var e,s=[null];for(e=2;e<arguments.length;e++)s.push(arguments[e]);for(e=0;e<this.list.length;e++)s[0]=this.list[e],t.apply(i,s);return this},setScrollFactor:function(i,e,s){return void 0===e&&(e=i),void 0===s&&(s=!1),this.scrollFactorX=i,this.scrollFactorY=e,s&&(t.SetAll(this.list,"scrollFactorX",i),t.SetAll(this.list,"scrollFactorY",e)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[],this._displayList=null}});module.exports=u;
},{"../../utils/array":"b1Xs","../../renderer/BlendModes":"PaIu","../../utils/Class":"JASv","../components":"VjLH","../events":"obPU","../GameObject":"AetT","../../geom/rectangle/Rectangle":"wYVB","./ContainerRender":"tsMB","../../geom/rectangle/Union":"zHvV","../../math/Vector2":"qKN5"}],"Vy4g":[function(require,module,exports) {
module.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"];
},{}],"Stra":[function(require,module,exports) {
var e=require("./CSSBlendModes"),r=require("../GameObject"),t=function(t,a,l,o,i){var n=a.node,s=n.style,c=a.scene.sys.settings;if(!(n&&s&&c.visible&&r.RENDER_MASK===a.renderFlags)||0!==a.cameraFilter&&a.cameraFilter&o.id||a.parentContainer&&!a.parentContainer.willRender())n&&(s.display="none");else{var d=a.parentContainer,p=o.alpha*a.alpha;d&&(p*=d.alpha);var m=t._tempMatrix1,y=t._tempMatrix2,g=t._tempMatrix3,x=0,h=0,X="0%",Y="0%";i?(x=a.width*a.scaleX*a.originX,h=a.height*a.scaleY*a.originY,y.applyITRS(a.x-x,a.y-h,a.rotation,a.scaleX,a.scaleY),m.copyFrom(o.matrix),m.multiplyWithOffset(i,-o.scrollX*a.scrollFactorX,-o.scrollY*a.scrollFactorY),y.e=a.x-x,y.f=a.y-h,m.multiply(y,g)):(x=a.width*a.originX,h=a.height*a.originY,y.applyITRS(a.x-x,a.y-h,a.rotation,a.scaleX,a.scaleY),m.copyFrom(o.matrix),X=100*a.originX+"%",Y=100*a.originY+"%",y.e-=o.scrollX*a.scrollFactorX,y.f-=o.scrollY*a.scrollFactorY,m.multiply(y,g)),a.transformOnly||(s.display="block",s.opacity=p,s.zIndex=a._depth,s.pointerEvents="auto",s.mixBlendMode=e[a._blendMode]),s.transform=g.getCSSMatrix()+" skew("+a.skewX+"rad, "+a.skewY+"rad) rotate3d("+a.rotate3d.x+","+a.rotate3d.y+","+a.rotate3d.z+","+a.rotate3d.w+a.rotate3dAngle+")",s.transformOrigin=X+" "+Y}};module.exports=t;
},{"./CSSBlendModes":"Vy4g","../GameObject":"AetT"}],"NkQ9":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./DOMElementCSSRenderer"),r=require("./DOMElementCSSRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"lZkB","./DOMElementCSSRenderer":"Stra"}],"pAKz":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../components"),i=require("./DOMElementRender"),n=require("../GameObject"),s=require("../../utils/object/IsPlainObject"),r=require("../../dom/RemoveFromDOM"),h=require("../../scene/events"),o=require("../../math/Vector4"),l=new e({Extends:n,Mixins:[t.AlphaSingle,t.BlendMode,t.Depth,t.Origin,t.ScrollFactor,t.Transform,t.Visible,i],initialize:function(e,t,i,s,r,l){n.call(this,e,"DOMElement"),this.parent=e.sys.game.domContainer,this.cache=e.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new o,this.rotate3dAngle="deg",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(t,i),"string"==typeof s?"#"===s[0]?this.setElement(s.substr(1),r,l):this.createElement(s,r,l):s&&this.setElement(s,r,l),e.sys.events.on(h.SLEEP,this.handleSceneEvent,this),e.sys.events.on(h.WAKE,this.handleSceneEvent,this)},handleSceneEvent:function(e){var t=this.node,i=t.style;t&&(i.display=e.settings.visible?"block":"none")},setSkew:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.skewX=e,this.skewY=t,this},setPerspective:function(e){return this.parent.style.perspective=e+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(e){this.parent.style.perspective=e+"px"}},addListener:function(e){if(this.node){e=e.split(" ");for(var t=0;t<e.length;t++)this.node.addEventListener(e[t],this.handler,!1)}return this},removeListener:function(e){if(this.node){e=e.split(" ");for(var t=0;t<e.length;t++)this.node.removeEventListener(e[t],this.handler)}return this},dispatchNativeEvent:function(e){this.emit(e.type,e)},createElement:function(e,t,i){return this.setElement(document.createElement(e),t,i)},setElement:function(e,t,i){var n;if(this.removeElement(),"string"==typeof e?("#"===e[0]&&(e=e.substr(1)),n=document.getElementById(e)):"object"==typeof e&&1===e.nodeType&&(n=e),!n)return this;if(this.node=n,t&&s(t))for(var r in t)n.style[r]=t[r];else"string"==typeof t&&(n.style=t);return n.style.zIndex="0",n.style.display="inline",n.style.position="absolute",n.phaser=this,this.parent&&this.parent.appendChild(n),i&&(n.innerText=i),this.updateSize()},createFromCache:function(e,t){var i=this.cache.get(e);return i&&this.createFromHTML(i,t),this},createFromHTML:function(e,t){void 0===t&&(t="div"),this.removeElement();var i=document.createElement(t);return this.node=i,i.style.zIndex="0",i.style.display="inline",i.style.position="absolute",i.phaser=this,this.parent&&this.parent.appendChild(i),i.innerHTML=e,this.updateSize()},removeElement:function(){return this.node&&(r(this.node),this.node=null),this},updateSize:function(){var e=this.node,t=e.getBoundingClientRect();return this.width=e.clientWidth,this.height=e.clientHeight,this.displayWidth=t.width||0,this.displayHeight=t.height||0,this},getChildByProperty:function(e,t){if(this.node)for(var i=this.node.querySelectorAll("*"),n=0;n<i.length;n++)if(i[n][e]===t)return i[n];return null},getChildByID:function(e){return this.getChildByProperty("id",e)},getChildByName:function(e){return this.getChildByProperty("name",e)},setClassName:function(e){return this.node&&(this.node.className=e,this.updateSize()),this},setText:function(e){return this.node&&(this.node.innerText=e,this.updateSize()),this},setHTML:function(e){return this.node&&(this.node.innerHTML=e,this.updateSize()),this},preUpdate:function(){var e=this.parentContainer,t=this.node;t&&e&&!e.willRender()&&(t.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(h.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(h.WAKE,this.handleSceneEvent,this)}});module.exports=l;
},{"../../utils/Class":"JASv","../components":"VjLH","./DOMElementRender":"NkQ9","../GameObject":"AetT","../../utils/object/IsPlainObject":"erhr","../../dom/RemoveFromDOM":"vhof","../../scene/events":"zvkO","../../math/Vector4":"LgFg"}],"HNIX":[function(require,module,exports) {
var t=require("../../../renderer/webgl/Utils"),a=function(a,l,e,o,i){var n=l.text,r=n.length;if(0!==r){var p=this.pipeline;a.setPipeline(p,l);var h=l.cropWidth>0||l.cropHeight>0;h&&(p.flush(),a.pushScissor(l.x,l.y,l.cropWidth*l.scaleX,l.cropHeight*l.scaleY));var s=p._tempMatrix1,c=p._tempMatrix2,d=p._tempMatrix3,g=p._tempMatrix4;c.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),s.copyFrom(o.matrix),i?(s.multiplyWithOffset(i,-o.scrollX*l.scrollFactorX,-o.scrollY*l.scrollFactorY),c.e=l.x,c.f=l.y,s.multiply(c,d)):(c.e-=o.scrollX*l.scrollFactorX,c.f-=o.scrollY*l.scrollFactorY,s.multiply(c,d));var f=l.frame,u=f.glTexture,x=f.cutX,T=f.cutY,_=u.width,A=u.height,y=l._isTinted&&l.tintFill,m=t.getTintAppendFloatAlpha(l._tintTL,o.alpha*l._alphaTL),v=t.getTintAppendFloatAlpha(l._tintTR,o.alpha*l._alphaTR),F=t.getTintAppendFloatAlpha(l._tintBL,o.alpha*l._alphaBL),M=t.getTintAppendFloatAlpha(l._tintBR,o.alpha*l._alphaBR);p.setTexture2D(u,0);var R,b,L=0,X=0,Y=0,B=0,S=l.letterSpacing,O=0,z=0,D=0,k=0,w=l.scrollX,C=l.scrollY,H=l.fontData,W=H.chars,I=H.lineHeight,P=l.fontSize/H.size,q=0,Q=l._align,U=0,j=0;l.getTextBounds(!1);var E=l._bounds.lines;1===Q?j=(E.longest-E.lengths[0])/2:2===Q&&(j=E.longest-E.lengths[0]);for(var G=o.roundPixels,J=l.displayCallback,K=l.callbackData,N=0;N<r;N++)if(10!==(Y=n.charCodeAt(N))){if(R=W[Y]){O=x+R.x,z=T+R.y,D=R.width,k=R.height;var V=R.xOffset+L-w,Z=R.yOffset+X-C;if(null!==b){var $=R.kerning[B];V+=void 0!==$?$:0}if(L+=R.xAdvance+S,b=R,B=Y,0!==D&&0!==k&&32!==Y){if(P=l.fontSize/l.fontData.size,q=0,J){K.color=0,K.tint.topLeft=m,K.tint.topRight=v,K.tint.bottomLeft=F,K.tint.bottomRight=M,K.index=N,K.charCode=Y,K.x=V,K.y=Z,K.scale=P,K.rotation=q,K.data=R.data;var tt=J(K);V=tt.x,Z=tt.y,P=tt.scale,q=tt.rotation,tt.color?(m=tt.color,v=tt.color,F=tt.color,M=tt.color):(m=tt.tint.topLeft,v=tt.tint.topRight,F=tt.tint.bottomLeft,M=tt.tint.bottomRight),m=t.getTintAppendFloatAlpha(m,o.alpha*l._alphaTL),v=t.getTintAppendFloatAlpha(v,o.alpha*l._alphaTR),F=t.getTintAppendFloatAlpha(F,o.alpha*l._alphaBL),M=t.getTintAppendFloatAlpha(M,o.alpha*l._alphaBR)}V*=P,Z*=P,V-=l.displayOriginX,Z-=l.displayOriginY,V+=j,g.applyITRS(V,Z,q,P,P),d.multiply(g,c);var at=O/_,lt=z/A,et=(O+D)/_,ot=(z+k)/A,it=D,nt=k,rt=c.e,pt=c.f,ht=nt*c.c+c.e,st=nt*c.d+c.f,ct=it*c.a+nt*c.c+c.e,dt=it*c.b+nt*c.d+c.f,gt=it*c.a+c.e,ft=it*c.b+c.f;G&&(rt=Math.round(rt),pt=Math.round(pt),ht=Math.round(ht),st=Math.round(st),ct=Math.round(ct),dt=Math.round(dt),gt=Math.round(gt),ft=Math.round(ft)),p.batchQuad(rt,pt,ht,st,ct,dt,gt,ft,at,lt,et,ot,m,v,F,M,y,u,0)}}}else U++,1===Q?j=(E.longest-E.lengths[U])/2:2===Q&&(j=E.longest-E.lengths[U]),L=0,X+=I,b=null;h&&(p.flush(),a.popScissor())}};module.exports=a;
},{"../../../renderer/webgl/Utils":"ZkeT"}],"czAY":[function(require,module,exports) {
var e=require("../../../renderer/canvas/utils/SetTransform"),t=function(t,a,r,n,l){var i=a._text,o=i.length,s=t.currentContext;if(0!==o&&e(t,s,a,n,l)){var c=a.frame,g=a.displayCallback,d=a.callbackData,h=a.fontData.chars,f=a.fontData.lineHeight,u=a._letterSpacing,v=0,x=0,p=0,y=null,m=0,_=0,b=0,C=0,D=0,O=0,k=null,H=0,S=a.frame.source.image,X=c.cutX,Y=c.cutY,w=0,z=0,A=a._fontSize/a.fontData.size,M=a._align,P=0,T=0;a.getTextBounds(!1);var W=a._bounds.lines;1===M?T=(W.longest-W.lengths[0])/2:2===M&&(T=W.longest-W.lengths[0]),s.translate(-a.displayOriginX,-a.displayOriginY);var q=n.roundPixels;a.cropWidth>0&&a.cropHeight>0&&(s.beginPath(),s.rect(0,0,a.cropWidth,a.cropHeight),s.clip());for(var B=0;B<o;B++)if(z=A,w=0,10!==(p=i.charCodeAt(B))){if(y=h[p]){if(m=X+y.x,_=Y+y.y,b=y.width,C=y.height,D=y.xOffset+v-a.scrollX,O=y.yOffset+x-a.scrollY,null!==k){var I=y.kerning[H];D+=void 0!==I?I:0}if(g){d.index=B,d.charCode=p,d.x=D,d.y=O,d.scale=z,d.rotation=w,d.data=y.data;var j=g(d);D=j.x,O=j.y,z=j.scale,w=j.rotation}D*=z,O*=z,D+=T,v+=y.xAdvance+u,k=y,H=p,0!==b&&0!==C&&32!==p&&(q&&(D=Math.round(D),O=Math.round(O)),s.save(),s.translate(D,O),s.rotate(w),s.scale(z,z),s.drawImage(S,m,_,b,C,0,0,b,C),s.restore())}}else P++,1===M?T=(W.longest-W.lengths[P])/2:2===M&&(T=W.longest-W.lengths[P]),v=0,x+=f,k=null;s.restore()}};module.exports=t;
},{"../../../renderer/canvas/utils/SetTransform":"yLg6"}],"mRgR":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./DynamicBitmapTextWebGLRenderer"),r=require("./DynamicBitmapTextCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"lZkB","./DynamicBitmapTextWebGLRenderer":"HNIX","./DynamicBitmapTextCanvasRenderer":"czAY"}],"pcVL":[function(require,module,exports) {
var t=require("../static/BitmapText"),i=require("../../../utils/Class"),s=require("./DynamicBitmapTextRender"),e=new i({Extends:t,Mixins:[s],initialize:function(i,s,e,l,r,a,o){t.call(this,i,s,e,l,r,a,o),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(t,i){return this.cropWidth=t,this.cropHeight=i,this},setDisplayCallback:function(t){return this.displayCallback=t,this},setScrollX:function(t){return this.scrollX=t,this},setScrollY:function(t){return this.scrollY=t,this}});module.exports=e;
},{"../static/BitmapText":"KD9W","../../../utils/Class":"JASv","./DynamicBitmapTextRender":"mRgR"}],"ryUx":[function(require,module,exports) {
var l=function(l,r,e,t,c){var o=l.currentPipeline;l.clearPipeline();var a=l._tempMatrix1,i=l._tempMatrix2,p=l._tempMatrix3;i.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),a.copyFrom(t.matrix),c?(a.multiplyWithOffset(c,-t.scrollX*r.scrollFactorX,-t.scrollY*r.scrollFactorY),i.e=r.x,i.f=r.y,a.multiply(i,p)):(i.e-=t.scrollX*r.scrollFactorX,i.f-=t.scrollY*r.scrollFactorY,a.multiply(i,p)),r.render.call(r,l,t,p),l.rebindPipeline(o)};module.exports=l;
},{}],"kyBz":[function(require,module,exports) {

},{}],"SL9a":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./ExternWebGLRenderer"),r=require("./ExternCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"lZkB","./ExternWebGLRenderer":"ryUx","./ExternCanvasRenderer":"kyBz"}],"NXMC":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../components"),r=require("../GameObject"),n=require("./ExternRender"),t=new e({Extends:r,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Flip,i.Origin,i.ScrollFactor,i.Size,i.Texture,i.Tint,i.Transform,i.Visible,n],initialize:function(e){r.call(this,e,"Extern")},preUpdate:function(){},render:function(){}});module.exports=t;
},{"../../utils/Class":"JASv","../components":"VjLH","../GameObject":"AetT","./ExternRender":"SL9a"}],"v3df":[function(require,module,exports) {
module.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,SET_TEXTURE:19,CLEAR_TEXTURE:20,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22};
},{}],"A2CA":[function(require,module,exports) {
var t=function(t,r,e){if(t.width<=0||t.height<=0)return!1;var h=(r-t.x)/t.width,i=(e-t.y)/t.height;return(h*=h)+(i*=i)<.25};module.exports=t;
},{}],"pmHn":[function(require,module,exports) {
var t=require("../point/Point"),i=function(i,e,n){void 0===n&&(n=new t);var o=i.width/2,r=i.height/2;return n.x=i.x+o*Math.cos(e),n.y=i.y+r*Math.sin(e),n};module.exports=i;
},{"../point/Point":"IDPQ"}],"GPRi":[function(require,module,exports) {
var e=require("./CircumferencePoint"),r=require("../../math/FromPercent"),i=require("../../math/const"),n=require("../point/Point"),t=function(t,o,u){void 0===u&&(u=new n);var c=r(o,0,i.PI2);return e(t,c,u)};module.exports=t;
},{"./CircumferencePoint":"pmHn","../../math/FromPercent":"YRnl","../../math/const":"HC1y","../point/Point":"IDPQ"}],"w77W":[function(require,module,exports) {
var t=function(t){var h=t.width/2,a=t.height/2,r=Math.pow(h-a,2)/Math.pow(h+a,2);return Math.PI*(h+a)*(1+3*r/(10+Math.sqrt(4-3*r)))};module.exports=t;
},{}],"PZsu":[function(require,module,exports) {
var r=require("./Circumference"),e=require("./CircumferencePoint"),u=require("../../math/FromPercent"),i=require("../../math/const"),n=function(n,o,t,c){void 0===c&&(c=[]),!o&&t>0&&(o=r(n)/t);for(var m=0;m<o;m++){var a=u(m/o,0,i.PI2);c.push(e(n,a))}return c};module.exports=n;
},{"./Circumference":"w77W","./CircumferencePoint":"pmHn","../../math/FromPercent":"YRnl","../../math/const":"HC1y"}],"rdPM":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./Contains"),h=require("./GetPoint"),n=require("./GetPoints"),s=require("../const"),e=require("./Random"),r=new t({initialize:function(t,i,h,n){void 0===t&&(t=0),void 0===i&&(i=0),void 0===h&&(h=0),void 0===n&&(n=0),this.type=s.ELLIPSE,this.x=t,this.y=i,this.width=h,this.height=n},contains:function(t,h){return i(this,t,h)},getPoint:function(t,i){return h(this,t,i)},getPoints:function(t,i,h){return n(this,t,i,h)},getRandomPoint:function(t){return e(this,t)},setTo:function(t,i,h,n){return this.x=t,this.y=i,this.width=h,this.height=n,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(t,i){return void 0===i&&(i=t),this.x=t,this.y=i,this},setSize:function(t,i){return void 0===i&&(i=t),this.width=t,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(t){this.x=t+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(t){this.y=t+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});module.exports=r;
},{"../../utils/Class":"JASv","./Contains":"A2CA","./GetPoint":"GPRi","./GetPoints":"PZsu","../const":"ytOT","./Random":"wdHx"}],"q7tf":[function(require,module,exports) {
var e=require("./Commands"),t=require("../../renderer/webgl/Utils"),a=function(e,t,a){this.x=e,this.y=t,this.width=a},r=function(e,t,r){this.points=[],this.pointsLength=1,this.points[0]=new a(e,t,r)},s=[],l=function(l,n,c,i,T){if(0!==n.commandBuffer.length){var o=this.pipeline;l.setPipeline(o,n);var h=n._tempMatrix1,p=n._tempMatrix2,u=n._tempMatrix3;u.loadIdentity(),p.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),h.copyFrom(i.matrix),T?(h.multiplyWithOffset(T,-i.scrollX*n.scrollFactorX,-i.scrollY*n.scrollFactorY),p.e=n.x,p.f=n.y,h.multiply(p)):(p.e-=i.scrollX*n.scrollFactorX,p.f-=i.scrollY*n.scrollFactorY,h.multiply(p));for(var L=n.commandBuffer,E=i.alpha*n.alpha,b=1,k=o.fillTint,R=o.strokeTint,f=0,x=0,A=0,_=2*Math.PI,m=[],F=0,I=!1,S=null,g=t.getTintAppendFloatAlphaAndSwap,y=l.blankTexture.glTexture,w=0;w<L.length;w++)switch(L[w]){case e.BEGIN_PATH:m.length=0,S=null,I=!0;break;case e.CLOSE_PATH:I=!1,S&&S.points.length&&S.points.push(S.points[0]);break;case e.FILL_PATH:for(F=0;F<m.length;F++)o.setTexture2D(y),o.batchFillPath(m[F].points,u,h);break;case e.STROKE_PATH:for(F=0;F<m.length;F++)o.setTexture2D(y),o.batchStrokePath(m[F].points,b,I,u,h);break;case e.LINE_STYLE:b=L[++w];var B=g(L[++w],L[++w]*E);R.TL=B,R.TR=B,R.BL=B,R.BR=B;break;case e.FILL_STYLE:var M=g(L[++w],L[++w]*E);k.TL=M,k.TR=M,k.BL=M,k.BR=M;break;case e.GRADIENT_FILL_STYLE:var d=L[++w]*E;k.TL=g(L[++w],d),k.TR=g(L[++w],d),k.BL=g(L[++w],d),k.BR=g(L[++w],d);break;case e.GRADIENT_LINE_STYLE:b=L[++w];var v=L[++w]*E;R.TL=g(L[++w],v),R.TR=g(L[++w],v),R.BL=g(L[++w],v),R.BR=g(L[++w],v);break;case e.ARC:var N=0,O=L[++w],Y=L[++w],D=L[++w],P=L[++w],X=L[++w],C=L[++w],G=L[++w];for(X-=P,C?X<-_?X=-_:X>0&&(X=X%_-_):X>_?X=_:X<0&&(X=_+X%_),null===S&&(S=new r(O+Math.cos(P)*D,Y+Math.sin(P)*D,b),m.push(S),N+=.01);N<1+G;)A=X*N+P,f=O+Math.cos(A)*D,x=Y+Math.sin(A)*D,S.points.push(new a(f,x,b)),N+=.01;A=X+P,f=O+Math.cos(A)*D,x=Y+Math.sin(A)*D,S.points.push(new a(f,x,b));break;case e.FILL_RECT:o.setTexture2D(y),o.batchFillRect(L[++w],L[++w],L[++w],L[++w],u,h);break;case e.FILL_TRIANGLE:o.setTexture2D(y),o.batchFillTriangle(L[++w],L[++w],L[++w],L[++w],L[++w],L[++w],u,h);break;case e.STROKE_TRIANGLE:o.setTexture2D(y),o.batchStrokeTriangle(L[++w],L[++w],L[++w],L[++w],L[++w],L[++w],b,u,h);break;case e.LINE_TO:null!==S?S.points.push(new a(L[++w],L[++w],b)):(S=new r(L[++w],L[++w],b),m.push(S));break;case e.MOVE_TO:S=new r(L[++w],L[++w],b),m.push(S);break;case e.SAVE:s.push(u.copyToArray());break;case e.RESTORE:u.copyFromArray(s.pop());break;case e.TRANSLATE:O=L[++w],Y=L[++w],u.translate(O,Y);break;case e.SCALE:O=L[++w],Y=L[++w],u.scale(O,Y);break;case e.ROTATE:u.rotate(L[++w]);break;case e.SET_TEXTURE:var H=L[++w],U=L[++w];o.currentFrame=H,o.setTexture2D(H.glTexture,0),o.tintEffect=U,y=H.glTexture;break;case e.CLEAR_TEXTURE:o.currentFrame=l.blankTexture,o.tintEffect=2,y=l.blankTexture.glTexture}}};module.exports=l;
},{"./Commands":"v3df","../../renderer/webgl/Utils":"ZkeT"}],"YsO3":[function(require,module,exports) {
var e=require("./Commands"),a=require("../../renderer/canvas/utils/SetTransform"),r=function(r,s,T,c,o,t,E){var b=s.commandBuffer,l=b.length,k=t||r.currentContext;if(0!==l&&a(r,k,s,c,o)){var L=1,i=1,n=0,_=0,S=1,A=0,I=0,R=0;k.beginPath();for(var O=0;O<l;++O){switch(b[O]){case e.ARC:k.arc(b[O+1],b[O+2],b[O+3],b[O+4],b[O+5],b[O+6]),O+=7;break;case e.LINE_STYLE:S=b[O+1],n=b[O+2],L=b[O+3],A=(16711680&n)>>>16,I=(65280&n)>>>8,R=255&n,k.strokeStyle="rgba("+A+","+I+","+R+","+L+")",k.lineWidth=S,O+=3;break;case e.FILL_STYLE:_=b[O+1],i=b[O+2],A=(16711680&_)>>>16,I=(65280&_)>>>8,R=255&_,k.fillStyle="rgba("+A+","+I+","+R+","+i+")",O+=2;break;case e.BEGIN_PATH:k.beginPath();break;case e.CLOSE_PATH:k.closePath();break;case e.FILL_PATH:E||k.fill();break;case e.STROKE_PATH:E||k.stroke();break;case e.FILL_RECT:E?k.rect(b[O+1],b[O+2],b[O+3],b[O+4]):k.fillRect(b[O+1],b[O+2],b[O+3],b[O+4]),O+=4;break;case e.FILL_TRIANGLE:k.beginPath(),k.moveTo(b[O+1],b[O+2]),k.lineTo(b[O+3],b[O+4]),k.lineTo(b[O+5],b[O+6]),k.closePath(),E||k.fill(),O+=6;break;case e.STROKE_TRIANGLE:k.beginPath(),k.moveTo(b[O+1],b[O+2]),k.lineTo(b[O+3],b[O+4]),k.lineTo(b[O+5],b[O+6]),k.closePath(),E||k.stroke(),O+=6;break;case e.LINE_TO:k.lineTo(b[O+1],b[O+2]),O+=2;break;case e.MOVE_TO:k.moveTo(b[O+1],b[O+2]),O+=2;break;case e.LINE_FX_TO:k.lineTo(b[O+1],b[O+2]),O+=5;break;case e.MOVE_FX_TO:k.moveTo(b[O+1],b[O+2]),O+=5;break;case e.SAVE:k.save();break;case e.RESTORE:k.restore();break;case e.TRANSLATE:k.translate(b[O+1],b[O+2]),O+=2;break;case e.SCALE:k.scale(b[O+1],b[O+2]),O+=2;break;case e.ROTATE:k.rotate(b[O+1]),O+=1;break;case e.GRADIENT_FILL_STYLE:O+=5;break;case e.GRADIENT_LINE_STYLE:O+=6;break;case e.SET_TEXTURE:O+=2}}k.restore()}};module.exports=r;
},{"./Commands":"v3df","../../renderer/canvas/utils/SetTransform":"yLg6"}],"moig":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./GraphicsWebGLRenderer"),r=require("./GraphicsCanvasRenderer"),r=require("./GraphicsCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"lZkB","./GraphicsWebGLRenderer":"q7tf","./GraphicsCanvasRenderer":"YsO3"}],"XM8K":[function(require,module,exports) {
var t=require("../../cameras/2d/BaseCamera.js"),e=require("../../utils/Class"),i=require("./Commands"),s=require("../components/AlphaSingle"),r=require("../components/BlendMode"),n=require("../components/Depth"),h=require("../components/Mask"),o=require("../components/Pipeline"),l=require("../components/Transform"),u=require("../components/Visible"),a=require("../components/ScrollFactor"),f=require("../components/TransformMatrix"),c=require("../../geom/ellipse/Ellipse"),d=require("../GameObject"),m=require("../../utils/object/GetFastValue"),T=require("../../utils/object/GetValue"),p=require("../../math/const"),S=require("./GraphicsRender"),P=new e({Extends:d,Mixins:[s,r,n,h,o,l,u,a,S],initialize:function(t,e){var i=T(e,"x",0),s=T(e,"y",0);d.call(this,t,"Graphics"),this.setPosition(i,s),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.setDefaultStyles(e)},setDefaultStyles:function(t){return T(t,"lineStyle",null)&&(this.defaultStrokeWidth=T(t,"lineStyle.width",1),this.defaultStrokeColor=T(t,"lineStyle.color",16777215),this.defaultStrokeAlpha=T(t,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),T(t,"fillStyle",null)&&(this.defaultFillColor=T(t,"fillStyle.color",16777215),this.defaultFillAlpha=T(t,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(t,e,s){return void 0===s&&(s=1),this.commandBuffer.push(i.LINE_STYLE,t,e,s),this._lineWidth=t,this},fillStyle:function(t,e){return void 0===e&&(e=1),this.commandBuffer.push(i.FILL_STYLE,t,e),this},fillGradientStyle:function(t,e,s,r,n){return void 0===n&&(n=1),this.commandBuffer.push(i.GRADIENT_FILL_STYLE,n,t,e,s,r),this},lineGradientStyle:function(t,e,s,r,n,h){return void 0===h&&(h=1),this.commandBuffer.push(i.GRADIENT_LINE_STYLE,t,h,e,s,r,n),this},setTexture:function(t,e,s){if(void 0===s&&(s=0),void 0===t)this.commandBuffer.push(i.CLEAR_TEXTURE);else{var r=this.scene.sys.textures.getFrame(t,e);r&&(2===s&&(s=3),this.commandBuffer.push(i.SET_TEXTURE,r,s))}return this},beginPath:function(){return this.commandBuffer.push(i.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(i.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(i.FILL_PATH),this},fill:function(){return this.commandBuffer.push(i.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(i.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(i.STROKE_PATH),this},fillCircleShape:function(t){return this.fillCircle(t.x,t.y,t.radius)},strokeCircleShape:function(t){return this.strokeCircle(t.x,t.y,t.radius)},fillCircle:function(t,e,i){return this.beginPath(),this.arc(t,e,i,0,p.PI2),this.fillPath(),this},strokeCircle:function(t,e,i){return this.beginPath(),this.arc(t,e,i,0,p.PI2),this.strokePath(),this},fillRectShape:function(t){return this.fillRect(t.x,t.y,t.width,t.height)},strokeRectShape:function(t){return this.strokeRect(t.x,t.y,t.width,t.height)},fillRect:function(t,e,s,r){return this.commandBuffer.push(i.FILL_RECT,t,e,s,r),this},strokeRect:function(t,e,i,s){var r=this._lineWidth/2,n=t-r,h=t+r;return this.beginPath(),this.moveTo(t,e),this.lineTo(t,e+s),this.strokePath(),this.beginPath(),this.moveTo(t+i,e),this.lineTo(t+i,e+s),this.strokePath(),this.beginPath(),this.moveTo(n,e),this.lineTo(h+i,e),this.strokePath(),this.beginPath(),this.moveTo(n,e+s),this.lineTo(h+i,e+s),this.strokePath(),this},fillRoundedRect:function(t,e,i,s,r){void 0===r&&(r=20);var n=r,h=r,o=r,l=r;return"number"!=typeof r&&(n=m(r,"tl",20),h=m(r,"tr",20),o=m(r,"bl",20),l=m(r,"br",20)),this.beginPath(),this.moveTo(t+n,e),this.lineTo(t+i-h,e),this.arc(t+i-h,e+h,h,-p.TAU,0),this.lineTo(t+i,e+s-l),this.arc(t+i-l,e+s-l,l,0,p.TAU),this.lineTo(t+o,e+s),this.arc(t+o,e+s-o,o,p.TAU,Math.PI),this.lineTo(t,e+n),this.arc(t+n,e+n,n,-Math.PI,-p.TAU),this.fillPath(),this},strokeRoundedRect:function(t,e,i,s,r){void 0===r&&(r=20);var n=r,h=r,o=r,l=r;return"number"!=typeof r&&(n=m(r,"tl",20),h=m(r,"tr",20),o=m(r,"bl",20),l=m(r,"br",20)),this.beginPath(),this.moveTo(t+n,e),this.lineTo(t+i-h,e),this.arc(t+i-h,e+h,h,-p.TAU,0),this.lineTo(t+i,e+s-l),this.arc(t+i-l,e+s-l,l,0,p.TAU),this.lineTo(t+o,e+s),this.arc(t+o,e+s-o,o,p.TAU,Math.PI),this.lineTo(t,e+n),this.arc(t+n,e+n,n,-Math.PI,-p.TAU),this.strokePath(),this},fillPointShape:function(t,e){return this.fillPoint(t.x,t.y,e)},fillPoint:function(t,e,s){return!s||s<1?s=1:(t-=s/2,e-=s/2),this.commandBuffer.push(i.FILL_RECT,t,e,s,s),this},fillTriangleShape:function(t){return this.fillTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},strokeTriangleShape:function(t){return this.strokeTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},fillTriangle:function(t,e,s,r,n,h){return this.commandBuffer.push(i.FILL_TRIANGLE,t,e,s,r,n,h),this},strokeTriangle:function(t,e,s,r,n,h){return this.commandBuffer.push(i.STROKE_TRIANGLE,t,e,s,r,n,h),this},strokeLineShape:function(t){return this.lineBetween(t.x1,t.y1,t.x2,t.y2)},lineBetween:function(t,e,i,s){return this.beginPath(),this.moveTo(t,e),this.lineTo(i,s),this.strokePath(),this},lineTo:function(t,e){return this.commandBuffer.push(i.LINE_TO,t,e),this},moveTo:function(t,e){return this.commandBuffer.push(i.MOVE_TO,t,e),this},strokePoints:function(t,e,i,s){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===s&&(s=t.length),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(var r=1;r<s;r++)this.lineTo(t[r].x,t[r].y);return e&&this.lineTo(t[0].x,t[0].y),i&&this.closePath(),this.strokePath(),this},fillPoints:function(t,e,i,s){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===s&&(s=t.length),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(var r=1;r<s;r++)this.lineTo(t[r].x,t[r].y);return e&&this.lineTo(t[0].x,t[0].y),i&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(t,e){void 0===e&&(e=32);var i=t.getPoints(e);return this.strokePoints(i,!0)},strokeEllipse:function(t,e,i,s,r){void 0===r&&(r=32);var n=new c(t,e,i,s).getPoints(r);return this.strokePoints(n,!0)},fillEllipseShape:function(t,e){void 0===e&&(e=32);var i=t.getPoints(e);return this.fillPoints(i,!0)},fillEllipse:function(t,e,i,s,r){void 0===r&&(r=32);var n=new c(t,e,i,s).getPoints(r);return this.fillPoints(n,!0)},arc:function(t,e,s,r,n,h,o){return void 0===h&&(h=!1),void 0===o&&(o=0),this.commandBuffer.push(i.ARC,t,e,s,r,n,h,o),this},slice:function(t,e,s,r,n,h,o){return void 0===h&&(h=!1),void 0===o&&(o=0),this.commandBuffer.push(i.BEGIN_PATH),this.commandBuffer.push(i.MOVE_TO,t,e),this.commandBuffer.push(i.ARC,t,e,s,r,n,h,o),this.commandBuffer.push(i.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(i.SAVE),this},restore:function(){return this.commandBuffer.push(i.RESTORE),this},translateCanvas:function(t,e){return this.commandBuffer.push(i.TRANSLATE,t,e),this},scaleCanvas:function(t,e){return this.commandBuffer.push(i.SCALE,t,e),this},rotateCanvas:function(t){return this.commandBuffer.push(i.ROTATE,t),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(t,e,i){var s,r,n=this.scene.sys,h=n.game.renderer;if(void 0===e&&(e=n.scale.width),void 0===i&&(i=n.scale.height),P.TargetCamera.setScene(this.scene),P.TargetCamera.setViewport(0,0,e,i),P.TargetCamera.scrollX=this.x,P.TargetCamera.scrollY=this.y,"string"==typeof t)if(n.textures.exists(t)){var o=(s=n.textures.get(t)).getSourceImage();o instanceof HTMLCanvasElement&&(r=o.getContext("2d"))}else r=(s=n.textures.createCanvas(t,e,i)).getSourceImage().getContext("2d");else t instanceof HTMLCanvasElement&&(r=t.getContext("2d"));return r&&(this.renderCanvas(h,this,0,P.TargetCamera,null,r,!1),s&&s.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});P.TargetCamera=new t,module.exports=P;
},{"../../cameras/2d/BaseCamera.js":"cnbb","../../utils/Class":"JASv","./Commands":"v3df","../components/AlphaSingle":"NpXe","../components/BlendMode":"yktY","../components/Depth":"p0cU","../components/Mask":"KdnY","../components/Pipeline":"lRBP","../components/Transform":"w1na","../components/Visible":"HA2z","../components/ScrollFactor":"XDIh","../components/TransformMatrix":"s0s4","../../geom/ellipse/Ellipse":"rdPM","../GameObject":"AetT","../../utils/object/GetFastValue":"cEup","../../utils/object/GetValue":"OqLI","../../math/const":"HC1y","./GraphicsRender":"moig"}],"qWkr":[function(require,module,exports) {
var t=require("../utils/Class"),e=new t({initialize:function(t){if(this.entries=[],Array.isArray(t))for(var e=0;e<t.length;e++)this.set(t[e])},set:function(t){return-1===this.entries.indexOf(t)&&this.entries.push(t),this},get:function(t,e){for(var n=0;n<this.entries.length;n++){var i=this.entries[n];if(i[t]===e)return i}},getArray:function(){return this.entries.slice(0)},delete:function(t){var e=this.entries.indexOf(t);return e>-1&&this.entries.splice(e,1),this},dump:function(){console.group("Set");for(var t=0;t<this.entries.length;t++){var e=this.entries[t];console.log(e)}console.groupEnd()},each:function(t,e){var n,i=this.entries.slice(),r=i.length;if(e)for(n=0;n<r&&!1!==t.call(e,i[n],n);n++);else for(n=0;n<r&&!1!==t(i[n],n);n++);return this},iterate:function(t,e){var n,i=this.entries.length;if(e)for(n=0;n<i&&!1!==t.call(e,this.entries[n],n);n++);else for(n=0;n<i&&!1!==t(this.entries[n],n);n++);return this},iterateLocal:function(t){var e,n=[];for(e=1;e<arguments.length;e++)n.push(arguments[e]);var i=this.entries.length;for(e=0;e<i;e++){var r=this.entries[e];r[t].apply(r,n)}return this},clear:function(){return this.entries.length=0,this},contains:function(t){return this.entries.indexOf(t)>-1},union:function(t){var n=new e;return t.entries.forEach(function(t){n.set(t)}),this.entries.forEach(function(t){n.set(t)}),n},intersect:function(t){var n=new e;return this.entries.forEach(function(e){t.contains(e)&&n.set(e)}),n},difference:function(t){var n=new e;return this.entries.forEach(function(e){t.contains(e)||n.set(e)}),n},size:{get:function(){return this.entries.length},set:function(t){return t<this.entries.length?this.entries.length=t:this.entries.length}}});module.exports=e;
},{"../utils/Class":"JASv"}],"ih1D":[function(require,module,exports) {
var e=function(e,i,t,p,n){this.pipeline.batchSprite(i,p,n)};module.exports=e;
},{}],"jO7x":[function(require,module,exports) {
var e=function(e,r,t,a,o){e.batchSprite(r,r.frame,a,o)};module.exports=e;
},{}],"NV1l":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./SpriteWebGLRenderer"),r=require("./SpriteCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"lZkB","./SpriteWebGLRenderer":"ih1D","./SpriteCanvasRenderer":"jO7x"}],"ZUCM":[function(require,module,exports) {
var i=require("../../utils/Class"),e=require("../components"),t=require("../GameObject"),s=require("./SpriteRender"),n=new i({Extends:t,Mixins:[e.Alpha,e.BlendMode,e.Depth,e.Flip,e.GetBounds,e.Mask,e.Origin,e.Pipeline,e.ScrollFactor,e.Size,e.TextureCrop,e.Tint,e.Transform,e.Visible,s],initialize:function(i,s,n,r,o){t.call(this,i,"Sprite"),this._crop=this.resetCropObject(),this.anims=new e.Animation(this),this.setTexture(r,o),this.setPosition(s,n),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},preUpdate:function(i,e){this.anims.update(i,e)},play:function(i,e,t){return this.anims.play(i,e,t),this},toJSON:function(){return e.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});module.exports=n;
},{"../../utils/Class":"JASv","../components":"VjLH","../GameObject":"AetT","./SpriteRender":"NV1l"}],"xnxC":[function(require,module,exports) {
var e=require("../../actions/"),t=require("../../utils/Class"),i=require("../events"),r=require("../../utils/object/GetFastValue"),n=require("../../utils/object/GetValue"),s=require("../../utils/object/IsPlainObject"),l=require("../../utils/array/Range"),a=require("../../structs/Set"),c=require("../sprite/Sprite"),h=new t({initialize:function(e,t,i){i?t&&!Array.isArray(t)&&(t=[t]):Array.isArray(t)?s(t[0])&&(i=t,t=null):s(t)&&(i=t,t=null),this.scene=e,this.children=new a(t),this.isParent=!0,this.type="Group",this.classType=r(i,"classType",c),this.name=r(i,"name",""),this.active=r(i,"active",!0),this.maxSize=r(i,"maxSize",-1),this.defaultKey=r(i,"defaultKey",null),this.defaultFrame=r(i,"defaultFrame",null),this.runChildUpdate=r(i,"runChildUpdate",!1),this.createCallback=r(i,"createCallback",null),this.removeCallback=r(i,"removeCallback",null),this.createMultipleCallback=r(i,"createMultipleCallback",null),this.internalCreateCallback=r(i,"internalCreateCallback",null),this.internalRemoveCallback=r(i,"internalRemoveCallback",null),i&&this.createMultiple(i)},create:function(e,t,i,r,n,s){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.defaultKey),void 0===r&&(r=this.defaultFrame),void 0===n&&(n=!0),void 0===s&&(s=!0),this.isFull())return null;var l=new this.classType(this.scene,e,t,i,r);return this.scene.sys.displayList.add(l),l.preUpdate&&this.scene.sys.updateList.add(l),l.visible=n,l.setActive(s),this.add(l),l},createMultiple:function(e){if(this.isFull())return[];Array.isArray(e)||(e=[e]);var t=[];if(e[0].key)for(var i=0;i<e.length;i++){var r=this.createFromConfig(e[i]);t=t.concat(r)}return t},createFromConfig:function(t){if(this.isFull())return[];this.classType=r(t,"classType",this.classType);var i=r(t,"key",void 0),s=r(t,"frame",null),a=r(t,"visible",!0),c=r(t,"active",!0),h=[];if(void 0===i)return h;Array.isArray(i)||(i=[i]),Array.isArray(s)||(s=[s]);var u=r(t,"repeat",0),o=r(t,"randomKey",!1),d=r(t,"randomFrame",!1),f=r(t,"yoyo",!1),v=r(t,"quantity",!1),p=r(t,"frameQuantity",1),y=r(t,"max",0),m=l(i,s,{max:y,qty:v||p,random:o,randomB:d,repeat:u,yoyo:f});t.createCallback&&(this.createCallback=t.createCallback),t.removeCallback&&(this.removeCallback=t.removeCallback);for(var S=0;S<m.length;S++){var b=this.create(0,0,m[S].a,m[S].b,a,c);if(!b)break;h.push(b)}var g=n(t,"setXY.x",0),A=n(t,"setXY.y",0),C=n(t,"setXY.stepX",0),k=n(t,"setXY.stepY",0);e.SetXY(h,g,A,C,k);var F=n(t,"setRotation.value",0),Y=n(t,"setRotation.step",0);e.SetRotation(h,F,Y);var X=n(t,"setScale.x",1),T=n(t,"setScale.y",X),R=n(t,"setScale.stepX",0),x=n(t,"setScale.stepY",0);e.SetScale(h,X,T,R,x);var z=n(t,"setAlpha.value",1),D=n(t,"setAlpha.step",0);e.SetAlpha(h,z,D);var q=n(t,"setDepth.value",0),L=n(t,"setDepth.step",0);e.SetDepth(h,q,L);var V=n(t,"setScrollFactor.x",1),U=n(t,"setScrollFactor.y",V),H=n(t,"setScrollFactor.stepX",0),M=n(t,"setScrollFactor.stepY",0);e.SetScrollFactor(h,V,U,H,M);var P=r(t,"hitArea",null),I=r(t,"hitAreaCallback",null);P&&e.SetHitArea(h,P,I);var O=r(t,"gridAlign",!1);return O&&e.GridAlign(h,O),this.createMultipleCallback&&this.createMultipleCallback.call(this,h),h},preUpdate:function(e,t){if(this.runChildUpdate&&0!==this.children.size)for(var i=this.children.entries.slice(),r=0;r<i.length;r++){var n=i[r];n.active&&n.update(e,t)}},add:function(e,t){return void 0===t&&(t=!1),this.isFull()?this:(this.children.set(e),this.internalCreateCallback&&this.internalCreateCallback.call(this,e),this.createCallback&&this.createCallback.call(this,e),t&&(this.scene.sys.displayList.add(e),e.preUpdate&&this.scene.sys.updateList.add(e)),e.on(i.DESTROY,this.remove,this),this)},addMultiple:function(e,t){if(void 0===t&&(t=!1),Array.isArray(e))for(var i=0;i<e.length;i++)this.add(e[i],t);return this},remove:function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),this.children.contains(e)?(this.children.delete(e),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,e),this.removeCallback&&this.removeCallback.call(this,e),e.off(i.DESTROY,this.remove,this),r?e.destroy():t&&(e.scene.sys.displayList.remove(e),e.preUpdate&&e.scene.sys.updateList.remove(e)),this):this},clear:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);for(var r=this.children,n=0;n<r.size;n++){var s=r.entries[n];s.off(i.DESTROY,this.remove,this),t?s.destroy():e&&(s.scene.sys.displayList.remove(s),s.preUpdate&&s.scene.sys.updateList.remove(s))}return this.children.clear(),this},contains:function(e){return this.children.contains(e)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getFirst:function(e,t,i,r,n,s,l){return this.getHandler(!0,1,e,t,i,r,n,s,l)},getFirstNth:function(e,t,i,r,n,s,l,a){return this.getHandler(!0,e,t,i,r,n,s,l,a)},getLast:function(e,t,i,r,n,s,l){return this.getHandler(!1,1,e,t,i,r,n,s,l)},getLastNth:function(e,t,i,r,n,s,l,a){return this.getHandler(!1,e,t,i,r,n,s,l,a)},getHandler:function(e,t,i,r,n,s,l,a,c){var h,u;void 0===i&&(i=!1),void 0===r&&(r=!1);var o=0,d=this.children.entries;if(e)for(u=0;u<d.length;u++)if((h=d[u]).active===i){if(++o===t)break}else h=null;else for(u=d.length-1;u>=0;u--)if((h=d[u]).active===i){if(++o===t)break}else h=null;return h?("number"==typeof n&&(h.x=n),"number"==typeof s&&(h.y=s),h):r?this.create(n,s,l,a,c):null},get:function(e,t,i,r,n){return this.getFirst(!1,!0,e,t,i,r,n)},getFirstAlive:function(e,t,i,r,n,s){return this.getFirst(!0,e,t,i,r,n,s)},getFirstDead:function(e,t,i,r,n,s){return this.getFirst(!1,e,t,i,r,n,s)},playAnimation:function(t,i){return e.PlayAnimation(this.children.entries,t,i),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(e){void 0===e&&(e=!0);for(var t=0,i=0;i<this.children.size;i++)this.children.entries[i].active===e&&t++;return t},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var e=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-e},propertyValueSet:function(t,i,r,n,s){return e.PropertyValueSet(this.children.entries,t,i,r,n,s),this},propertyValueInc:function(t,i,r,n,s){return e.PropertyValueInc(this.children.entries,t,i,r,n,s),this},setX:function(t,i){return e.SetX(this.children.entries,t,i),this},setY:function(t,i){return e.SetY(this.children.entries,t,i),this},setXY:function(t,i,r,n){return e.SetXY(this.children.entries,t,i,r,n),this},incX:function(t,i){return e.IncX(this.children.entries,t,i),this},incY:function(t,i){return e.IncY(this.children.entries,t,i),this},incXY:function(t,i,r,n){return e.IncXY(this.children.entries,t,i,r,n),this},shiftPosition:function(t,i,r){return e.ShiftPosition(this.children.entries,t,i,r),this},angle:function(t,i){return e.Angle(this.children.entries,t,i),this},rotate:function(t,i){return e.Rotate(this.children.entries,t,i),this},rotateAround:function(t,i){return e.RotateAround(this.children.entries,t,i),this},rotateAroundDistance:function(t,i,r){return e.RotateAroundDistance(this.children.entries,t,i,r),this},setAlpha:function(t,i){return e.SetAlpha(this.children.entries,t,i),this},setTint:function(t,i,r,n){return e.SetTint(this.children.entries,t,i,r,n),this},setOrigin:function(t,i,r,n){return e.SetOrigin(this.children.entries,t,i,r,n),this},scaleX:function(t,i){return e.ScaleX(this.children.entries,t,i),this},scaleY:function(t,i){return e.ScaleY(this.children.entries,t,i),this},scaleXY:function(t,i,r,n){return e.ScaleXY(this.children.entries,t,i,r,n),this},setDepth:function(t,i){return e.SetDepth(this.children.entries,t,i),this},setBlendMode:function(t){return e.SetBlendMode(this.children.entries,t),this},setHitArea:function(t,i){return e.SetHitArea(this.children.entries,t,i),this},shuffle:function(){return e.Shuffle(this.children.entries),this},kill:function(e){this.children.contains(e)&&e.setActive(!1)},killAndHide:function(e){this.children.contains(e)&&(e.setActive(!1),e.setVisible(!1))},setVisible:function(t,i,r){return e.SetVisible(this.children.entries,t,i,r),this},toggleVisible:function(){return e.ToggleVisible(this.children.entries),this},destroy:function(e){void 0===e&&(e=!1),this.scene&&!this.ignoreDestroy&&(this.clear(!1,e),this.scene=void 0,this.children=void 0)}});module.exports=h;
},{"../../actions/":"qHcr","../../utils/Class":"JASv","../events":"obPU","../../utils/object/GetFastValue":"cEup","../../utils/object/GetValue":"OqLI","../../utils/object/IsPlainObject":"erhr","../../utils/array/Range":"a9p9","../../structs/Set":"qWkr","../sprite/Sprite":"ZUCM"}],"oHZH":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./ImageWebGLRenderer"),r=require("./ImageCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"lZkB","./ImageWebGLRenderer":"ih1D","./ImageCanvasRenderer":"jO7x"}],"DnOy":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../components"),t=require("../GameObject"),r=require("./ImageRender"),s=new e({Extends:t,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Size,i.TextureCrop,i.Tint,i.Transform,i.Visible,r],initialize:function(e,i,r,s,n){t.call(this,e,"Image"),this._crop=this.resetCropObject(),this.setTexture(s,n),this.setPosition(i,r),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});module.exports=s;
},{"../../utils/Class":"JASv","../components":"VjLH","../GameObject":"AetT","./ImageRender":"oHZH"}],"VdQY":[function(require,module,exports) {
var i=require("../../utils/Class"),t=require("../../utils/object/GetFastValue"),e=new i({initialize:function(i,e,s,o,r){if("object"==typeof i){var n=i;i=t(n,"x",0),e=t(n,"y",0),s=t(n,"power",0),o=t(n,"epsilon",100),r=t(n,"gravity",50)}else void 0===i&&(i=0),void 0===e&&(e=0),void 0===s&&(s=0),void 0===o&&(o=100),void 0===r&&(r=50);this.x=i,this.y=e,this.active=!0,this._gravity=r,this._power=0,this._epsilon=0,this.power=s,this.epsilon=o},update:function(i,t){var e=this.x-i.x,s=this.y-i.y,o=e*e+s*s;if(0!==o){var r=Math.sqrt(o);o<this._epsilon&&(o=this._epsilon);var n=this._power*t/(o*r)*100;i.velocityX+=e*n,i.velocityY+=s*n}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(i){this._epsilon=i*i}},power:{get:function(){return this._power/this._gravity},set:function(i){this._power=i*this._gravity}},gravity:{get:function(){return this._gravity},set:function(i){var t=this.power;this._gravity=i,this.power=t}}});module.exports=e;
},{"../../utils/Class":"JASv","../../utils/object/GetFastValue":"cEup"}],"Rab5":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("../../math/DegToRad"),e=require("../../math/distance/DistanceBetween"),s=new t({initialize:function(t){this.emitter=t,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(t,s){var h=this.emitter;this.frame=h.getFrame(),h.emitZone&&h.emitZone.getPoint(this),void 0===t?(h.follow&&(this.x+=h.follow.x+h.followOffset.x),this.x+=h.x.onEmit(this,"x")):this.x+=t,void 0===s?(h.follow&&(this.y+=h.follow.y+h.followOffset.y),this.y+=h.y.onEmit(this,"y")):this.y+=s,this.life=h.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var a=h.speedX.onEmit(this,"speedX"),o=h.speedY?h.speedY.onEmit(this,"speedY"):a;if(h.radial){var l=i(h.angle.onEmit(this,"angle"));this.velocityX=Math.cos(l)*Math.abs(a),this.velocityY=Math.sin(l)*Math.abs(o)}else if(h.moveTo){var n=h.moveToX.onEmit(this,"moveToX"),c=h.moveToY?h.moveToY.onEmit(this,"moveToY"):n,r=Math.atan2(c-this.y,n-this.x),m=e(this.x,this.y,n,c)/(this.life/1e3);this.velocityX=Math.cos(r)*m,this.velocityY=Math.sin(r)*m}else this.velocityX=a,this.velocityY=o;h.acceleration&&(this.accelerationX=h.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=h.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=h.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=h.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=h.delay.onEmit(this,"delay"),this.scaleX=h.scaleX.onEmit(this,"scaleX"),this.scaleY=h.scaleY?h.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=h.rotate.onEmit(this,"rotate"),this.rotation=i(this.angle),this.bounce=h.bounce.onEmit(this,"bounce"),this.alpha=h.alpha.onEmit(this,"alpha"),this.tint=h.tint.onEmit(this,"tint")},computeVelocity:function(t,i,e,s){var h=this.velocityX,a=this.velocityY,o=this.accelerationX,l=this.accelerationY,n=this.maxVelocityX,c=this.maxVelocityY;h+=t.gravityX*e,a+=t.gravityY*e,o&&(h+=o*e),l&&(a+=l*e),h>n?h=n:h<-n&&(h=-n),a>c?a=c:a<-c&&(a=-c),this.velocityX=h,this.velocityY=a;for(var r=0;r<s.length;r++)s[r].update(this,i,e)},checkBounds:function(t){var i=t.bounds,e=-this.bounce;this.x<i.x&&t.collideLeft?(this.x=i.x,this.velocityX*=e):this.x>i.right&&t.collideRight&&(this.x=i.right,this.velocityX*=e),this.y<i.y&&t.collideTop?(this.y=i.y,this.velocityY*=e):this.y>i.bottom&&t.collideBottom&&(this.y=i.bottom,this.velocityY*=e)},update:function(t,e,s){if(this.delayCurrent>0)return this.delayCurrent-=t,!1;var h=this.emitter,a=1-this.lifeCurrent/this.life;return this.lifeT=a,this.computeVelocity(h,t,e,s),this.x+=this.velocityX*e,this.y+=this.velocityY*e,h.bounds&&this.checkBounds(h),h.deathZone&&h.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=h.scaleX.onUpdate(this,"scaleX",a,this.scaleX),h.scaleY?this.scaleY=h.scaleY.onUpdate(this,"scaleY",a,this.scaleY):this.scaleY=this.scaleX,this.angle=h.rotate.onUpdate(this,"rotate",a,this.angle),this.rotation=i(this.angle),this.alpha=h.alpha.onUpdate(this,"alpha",a,this.alpha),this.tint=h.tint.onUpdate(this,"tint",a,this.tint),this.lifeCurrent-=t,this.lifeCurrent<=0)}});module.exports=s;
},{"../../utils/Class":"JASv","../../math/DegToRad":"VYZO","../../math/distance/DistanceBetween":"ovvS"}],"r5Vr":[function(require,module,exports) {
var i=require("../../../utils/Class"),n=new i({initialize:function(i,n){this.source=i,this.killOnEnter=n},willKill:function(i){var n=this.source.contains(i.x,i.y);return n&&this.killOnEnter||!n&&!this.killOnEnter}});module.exports=n;
},{"../../../utils/Class":"JASv"}],"mozI":[function(require,module,exports) {
var t=require("../../../utils/Class"),i=new t({initialize:function(t,i,s,h,e){void 0===h&&(h=!1),void 0===e&&(e=!0),this.source=t,this.points=[],this.quantity=i,this.stepRate=s,this.yoyo=h,this.counter=-1,this.seamless=e,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var t=this.points[0],i=this.points[this.points.length-1];t.x===i.x&&t.y===i.y&&this.points.pop()}var s=this._length;return this._length=this.points.length,this._length<s&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(t){return this.source=t,this.updateSource()},getPoint:function(t){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var i=this.points[this.counter];i&&(t.x=i.x,t.y=i.y)}});module.exports=i;
},{"../../../utils/Class":"JASv"}],"riN9":[function(require,module,exports) {
var e=require("../../math/easing/EaseMap"),r=require("../../utils/string/UppercaseFirst"),t=function(t,s){var n=e.Power0;if("string"==typeof t)if(e.hasOwnProperty(t))n=e[t];else{var i="";t.indexOf(".")&&("in"===(i=t.substr(t.indexOf(".")+1)).toLowerCase()?i="easeIn":"out"===i.toLowerCase()?i="easeOut":"inout"===i.toLowerCase()&&(i="easeInOut")),t=r(t.substr(0,t.indexOf(".")+1)+i),e.hasOwnProperty(t)&&(n=e[t])}else"function"==typeof t?n=t:Array.isArray(t)&&t.length;if(!s)return n;var a=s.slice(0);return a.unshift(0),function(e){return a[0]=e,n.apply(this,a)}};module.exports=t;
},{"../../math/easing/EaseMap":"Zpuc","../../utils/string/UppercaseFirst":"L06t"}],"Kh6I":[function(require,module,exports) {
var t=require("../../utils/Class"),e=require("../../math/FloatBetween"),i=require("../../tweens/builders/GetEaseFunction"),s=require("../../utils/object/GetFastValue"),a=require("../../math/Wrap"),r=new t({initialize:function(t,e,i,s){void 0===s&&(s=!1),this.propertyKey=e,this.propertyValue=i,this.defaultValue=i,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=s,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(t)},loadConfig:function(t,e){void 0===t&&(t={}),e&&(this.propertyKey=e),this.propertyValue=s(t,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(t){return this.propertyValue=t,this.setMethods()},setMethods:function(){var t=this.propertyValue,e=typeof t;if("number"===e)this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(t))this.onEmit=this.randomStaticValueEmit;else if("function"===e)this.emitOnly?this.onEmit=t:this.onUpdate=t;else if("object"===e&&(this.has(t,"random")||this.hasBoth(t,"start","end")||this.hasBoth(t,"min","max"))){this.start=this.has(t,"start")?t.start:t.min,this.end=this.has(t,"end")?t.end:t.max;var s=this.hasBoth(t,"min","max")||!!t.random;if(s){var a=t.random;Array.isArray(a)&&(this.start=a[0],this.end=a[1]),this.onEmit=this.randomRangedValueEmit}if(this.has(t,"steps"))this.steps=t.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var r=this.has(t,"ease")?t.ease:"Linear";this.ease=i(r),s||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else"object"===e&&this.hasEither(t,"onEmit","onUpdate")&&(this.has(t,"onEmit")&&(this.onEmit=t.onEmit),this.has(t,"onUpdate")&&(this.onUpdate=t.onUpdate));return this},has:function(t,e){return t.hasOwnProperty(e)},hasBoth:function(t,e,i){return t.hasOwnProperty(e)&&t.hasOwnProperty(i)},hasEither:function(t,e,i){return t.hasOwnProperty(e)||t.hasOwnProperty(i)},defaultEmit:function(t,e,i){return i},defaultUpdate:function(t,e,i,s){return s},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var t=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[t]},randomRangedValueEmit:function(t,i){var s=e(this.start,this.end);return t&&t.data[i]&&(t.data[i].min=s),s},steppedEmit:function(){var t=this.counter,e=this.counter+(this.end-this.start)/this.steps;return this.counter=a(e,this.start,this.end),t},easedValueEmit:function(t,e){if(t&&t.data[e]){var i=t.data[e];i.min=this.start,i.max=this.end}return this.start},easeValueUpdate:function(t,e,i){var s=t.data[e];return(s.max-s.min)*this.ease(i)+s.min}});module.exports=r;
},{"../../utils/Class":"JASv","../../math/FloatBetween":"haSM","../../tweens/builders/GetEaseFunction":"riN9","../../utils/object/GetFastValue":"cEup","../../math/Wrap":"wXAg"}],"Pq0A":[function(require,module,exports) {
var r=function(r,e){for(var n=0;n<e.length;n++)if(r.hasOwnProperty(e[n]))return!0;return!1};module.exports=r;
},{}],"hJUo":[function(require,module,exports) {
var r=function(r,e){return r.hasOwnProperty(e)};module.exports=r;
},{}],"A9cs":[function(require,module,exports) {
var e=require("../../../utils/Class"),t=require("../../../math/Vector2"),i=new e({initialize:function(e){this.source=e,this._tempVec=new t},getPoint:function(e){var t=this._tempVec;this.source.getRandomPoint(t),e.x=t.x,e.y=t.y}});module.exports=i;
},{"../../../utils/Class":"JASv","../../../math/Vector2":"qKN5"}],"gjho":[function(require,module,exports) {
var t=require("../../renderer/BlendModes"),e=require("../../utils/Class"),i=require("../components"),s=require("./zones/DeathZone"),a=require("./zones/EdgeZone"),n=require("./EmitterOp"),r=require("../../utils/object/GetFastValue"),h=require("../../utils/array/GetRandom"),o=require("../../utils/object/HasAny"),l=require("../../utils/object/HasValue"),c=require("./Particle"),u=require("./zones/RandomZone"),f=require("../../geom/rectangle/Rectangle"),d=require("../../utils/array/StableSort"),m=require("../../math/Vector2"),p=require("../../math/Wrap"),g=new e({Mixins:[i.BlendMode,i.Mask,i.ScrollFactor,i.Visible],initialize:function(e,i){this.manager=e,this.texture=e.texture,this.frames=[e.defaultFrame],this.defaultFrame=e.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=c,this.x=new n(i,"x",0,!0),this.y=new n(i,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new n(i,"accelerationX",0,!0),this.accelerationY=new n(i,"accelerationY",0,!0),this.maxVelocityX=new n(i,"maxVelocityX",1e4,!0),this.maxVelocityY=new n(i,"maxVelocityY",1e4,!0),this.speedX=new n(i,"speedX",0,!0),this.speedY=new n(i,"speedY",0,!0),this.moveTo=!1,this.moveToX=new n(i,"moveToX",0,!0),this.moveToY=new n(i,"moveToY",0,!0),this.bounce=new n(i,"bounce",0,!0),this.scaleX=new n(i,"scaleX",1),this.scaleY=new n(i,"scaleY",1),this.tint=new n(i,"tint",4294967295),this.alpha=new n(i,"alpha",1),this.lifespan=new n(i,"lifespan",1e3,!0),this.angle=new n(i,"angle",{min:0,max:360},!0),this.rotate=new n(i,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new n(i,"quantity",1,!0),this.delay=new n(i,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=t.NORMAL,this.follow=null,this.followOffset=new m,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,i&&this.fromJSON(i)},fromJSON:function(t){if(!t)return this;var e=0,i="";for(e=0;e<this.configFastMap.length;e++)i=this.configFastMap[e],l(t,i)&&(this[i]=r(t,i));for(e=0;e<this.configOpMap.length;e++)i=this.configOpMap[e],l(t,i)&&this[i].loadConfig(t);if(this.acceleration=0!==this.accelerationX.propertyValue||0!==this.accelerationY.propertyValue,this.moveTo=0!==this.moveToX.propertyValue||0!==this.moveToY.propertyValue,l(t,"speed")&&(this.speedX.loadConfig(t,"speed"),this.speedY=null),(o(t,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),l(t,"scale")&&(this.scaleX.loadConfig(t,"scale"),this.scaleY=null),l(t,"callbackScope")){var s=r(t,"callbackScope",null);this.emitCallbackScope=s,this.deathCallbackScope=s}return l(t,"emitZone")&&this.setEmitZone(t.emitZone),l(t,"deathZone")&&this.setDeathZone(t.deathZone),l(t,"bounds")&&this.setBounds(t.bounds),l(t,"followOffset")&&this.followOffset.setFromObject(r(t,"followOffset",0)),l(t,"frame")&&this.setFrame(t.frame),this},toJSON:function(t){void 0===t&&(t={});var e=0,i="";for(e=0;e<this.configFastMap.length;e++)t[i=this.configFastMap[e]]=this[i];for(e=0;e<this.configOpMap.length;e++)this[i=this.configOpMap[e]]&&(t[i]=this[i].toJSON());return this.speedY||(delete t.speedX,t.speed=this.speedX.toJSON()),this.scaleY||(delete t.scaleX,t.scale=this.scaleX.toJSON()),t},startFollow:function(t,e,i,s){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=!1),this.follow=t,this.followOffset.set(e,i),this.trackVisible=s,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(1===this.frames.length)return this.defaultFrame;if(this.randomFrame)return h(this.frames);var t=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=p(this.currentFrame+1,0,this._frameLength)),t},setFrame:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=1),this.randomFrame=e,this.frameQuantity=i,this.currentFrame=0,this._frameCounter=0;var s=typeof t;if(Array.isArray(t)||"string"===s||"number"===s)this.manager.setEmitterFrames(t,this);else if("object"===s){var a=t;(t=r(a,"frames",null))&&this.manager.setEmitterFrames(t,this);var n=r(a,"cycle",!1);this.randomFrame=!n,this.frameQuantity=r(a,"quantity",i)}return this._frameLength=this.frames.length,1===this._frameLength&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(t){return void 0===t&&(t=!0),this.radial=t,this},setPosition:function(t,e){return this.x.onChange(t),this.y.onChange(e),this},setBounds:function(t,e,i,s){if("object"==typeof t){var a=t;t=a.x,e=a.y,i=l(a,"w")?a.w:a.width,s=l(a,"h")?a.h:a.height}return this.bounds?this.bounds.setTo(t,e,i,s):this.bounds=new f(t,e,i,s),this},setSpeedX:function(t){return this.speedX.onChange(t),this.radial=!1,this},setSpeedY:function(t){return this.speedY&&(this.speedY.onChange(t),this.radial=!1),this},setSpeed:function(t){return this.speedX.onChange(t),this.speedY=null,this.radial=!0,this},setScaleX:function(t){return this.scaleX.onChange(t),this},setScaleY:function(t){return this.scaleY.onChange(t),this},setScale:function(t){return this.scaleX.onChange(t),this.scaleY=null,this},setGravityX:function(t){return this.gravityX=t,this},setGravityY:function(t){return this.gravityY=t,this},setGravity:function(t,e){return this.gravityX=t,this.gravityY=e,this},setAlpha:function(t){return this.alpha.onChange(t),this},setTint:function(t){return this.tint.onChange(t),this},setEmitterAngle:function(t){return this.angle.onChange(t),this},setAngle:function(t){return this.angle.onChange(t),this},setLifespan:function(t){return this.lifespan.onChange(t),this},setQuantity:function(t){return this.quantity.onChange(t),this},setFrequency:function(t,e){return this.frequency=t,this._counter=0,e&&this.quantity.onChange(e),this},setEmitZone:function(t){if(void 0===t)this.emitZone=null;else{var e=r(t,"type","random"),i=r(t,"source",null);switch(e){case"random":this.emitZone=new u(i);break;case"edge":var s=r(t,"quantity",1),n=r(t,"stepRate",0),h=r(t,"yoyo",!1),o=r(t,"seamless",!0);this.emitZone=new a(i,s,n,h,o)}}return this},setDeathZone:function(t){if(void 0===t)this.deathZone=null;else{var e=r(t,"type","onEnter"),i=r(t,"source",null);if(i&&"function"==typeof i.contains){var a="onEnter"===e;this.deathZone=new s(i,a)}}return this},reserve:function(t){for(var e=this.dead,i=0;i<t;i++)e.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(t,e){return void 0===t?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof t&&(this.emitCallback=t,e&&(this.emitCallbackScope=e)),this},onParticleDeath:function(t,e){return void 0===t?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof t&&(this.deathCallback=t,e&&(this.deathCallbackScope=e)),this},killAll:function(){for(var t=this.dead,e=this.alive;e.length>0;)t.push(e.pop());return this},forEachAlive:function(t,e){for(var i=this.alive,s=i.length,a=0;a<s;++a)t.call(e,i[a],this);return this},forEachDead:function(t,e){for(var i=this.dead,s=i.length,a=0;a<s;++a)t.call(e,i[a],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return d.inplace(this.alive,this.depthSortCallback),this},flow:function(t,e){return void 0===e&&(e=1),this.frequency=t,this.quantity.onChange(e),this.start()},explode:function(t,e,i){return this.frequency=-1,this.emitParticle(t,e,i)},emitParticleAt:function(t,e,i){return this.emitParticle(i,t,e)},emitParticle:function(t,e,i){if(!this.atLimit()){void 0===t&&(t=this.quantity.onEmit());for(var s=this.dead,a=0;a<t;a++){var n=s.pop();if(n||(n=new this.particleClass(this)),n.fire(e,i),this.particleBringToTop?this.alive.push(n):this.alive.unshift(n),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,n,this),this.atLimit())break}return n}},preUpdate:function(t,e){var i=(e*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible);var s=this.manager.getProcessors(),a=this.alive,n=this.dead,r=0,h=[],o=a.length;for(r=0;r<o;r++){var l=a[r];l.update(e,i,s)&&h.push({index:r,particle:l})}if((o=h.length)>0){var c=this.deathCallback,u=this.deathCallbackScope;for(r=o-1;r>=0;r--){var f=h[r];a.splice(f.index,1),n.push(f.particle),c&&c.call(u,f.particle),f.particle.resetPosition()}}this.on&&(0===this.frequency?this.emitParticle():this.frequency>0&&(this._counter-=e,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(t,e){return t.y-e.y}});module.exports=g;
},{"../../renderer/BlendModes":"PaIu","../../utils/Class":"JASv","../components":"VjLH","./zones/DeathZone":"r5Vr","./zones/EdgeZone":"mozI","./EmitterOp":"Kh6I","../../utils/object/GetFastValue":"cEup","../../utils/array/GetRandom":"dkei","../../utils/object/HasAny":"Pq0A","../../utils/object/HasValue":"hJUo","./Particle":"Rab5","./zones/RandomZone":"A9cs","../../geom/rectangle/Rectangle":"wYVB","../../utils/array/StableSort":"aNGc","../../math/Vector2":"qKN5","../../math/Wrap":"wXAg"}],"LpIo":[function(require,module,exports) {
var e=require("../../renderer/webgl/Utils"),t=function(t,a,r,l,i){var o=a.emitters.list,s=o.length;if(0!==s){var n=this.pipeline,p=n._tempMatrix1.copyFrom(l.matrix),u=n._tempMatrix2,d=n._tempMatrix3,h=n._tempMatrix4.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);p.multiply(h),t.setPipeline(n);var m=l.roundPixels,v=a.defaultFrame.glTexture,g=e.getTintAppendFloatAlphaAndSwap;n.setTexture2D(v,0);for(var x=0;x<s;x++){var M=o[x],c=M.alive,f=c.length;if(M.visible&&0!==f){var y=l.scrollX*M.scrollFactorX,T=l.scrollY*M.scrollFactorY;i&&(p.multiplyWithOffset(i,-y,-T),y=0,T=0),t.setBlendMode(M.blendMode)&&n.setTexture2D(v,0),M.mask&&(M.mask.preRenderWebGL(t,M,l),n.setTexture2D(v,0));for(var X=0;X<f;X++){var Y=c[X],b=Y.alpha*l.alpha;if(!(b<=0)){var F=Y.frame,k=-F.halfWidth,D=-F.halfHeight,R=k+F.width,W=D+F.height;d.applyITRS(0,0,Y.rotation,Y.scaleX,Y.scaleY),d.e=Y.x-y,d.f=Y.y-T,p.multiply(d,u);var _=u.getX(k,D),w=u.getY(k,D),A=u.getX(k,W),S=u.getY(k,W),G=u.getX(R,W),I=u.getY(R,W),L=u.getX(R,D),P=u.getY(R,D);m&&(_=Math.round(_),w=Math.round(w),A=Math.round(A),S=Math.round(S),G=Math.round(G),I=Math.round(I),L=Math.round(L),P=Math.round(P));var q=g(Y.tint,b);n.batchQuad(_,w,A,S,G,I,L,P,F.u0,F.v0,F.u1,F.v1,q,q,q,q,0,v,0)}}M.mask&&(M.mask.postRenderWebGL(t,l),n.setTexture2D(v,0))}}}};module.exports=t;
},{"../../renderer/webgl/Utils":"ZkeT"}],"IWSh":[function(require,module,exports) {
var a=function(a,t,e,r,l){var o=t.emitters.list,i=o.length;if(0!==i){var s=a._tempMatrix1.copyFrom(r.matrix),h=a._tempMatrix2,n=a._tempMatrix3,p=a._tempMatrix4.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY);s.multiply(p);var c=r.roundPixels,m=a.currentContext;m.save();for(var v=0;v<i;v++){var d=o[v],f=d.alive,x=f.length;if(d.visible&&0!==x){var g=r.scrollX*d.scrollFactorX,u=r.scrollY*d.scrollFactorY;l&&(s.multiplyWithOffset(l,-g,-u),g=0,u=0),m.globalCompositeOperation=a.blendModes[d.blendMode];for(var y=0;y<x;y++){var M=f[y],b=M.alpha*r.alpha;if(!(b<=0)){var X=M.frame,Y=X.canvasData,_=-X.halfWidth,w=-X.halfHeight;n.applyITRS(0,0,M.rotation,M.scaleX,M.scaleY),n.e=M.x-g,n.f=M.y-u,s.multiply(n,h),m.globalAlpha=b,m.save(),h.copyToContext(m),c&&(_=Math.round(_),w=Math.round(w)),m.imageSmoothingEnabled=!(!a.antialias||X.source.scaleMode),m.drawImage(X.source.image,Y.x,Y.y,Y.width,Y.height,_,w,Y.width,Y.height),m.restore()}}}}m.restore()}};module.exports=a;
},{}],"Eih8":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./ParticleManagerWebGLRenderer"),r=require("./ParticleManagerCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"lZkB","./ParticleManagerWebGLRenderer":"LpIo","./ParticleManagerCanvasRenderer":"IWSh"}],"Y3Cr":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../components"),r=require("../GameObject"),i=require("./GravityWell"),s=require("../../structs/List"),n=require("./ParticleEmitter"),a=require("./ParticleManagerRender"),u=new e({Extends:r,Mixins:[t.Depth,t.Mask,t.Pipeline,t.Transform,t.Visible,a],initialize:function(e,t,i,n){if(r.call(this,e,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],null===i||"object"!=typeof i&&!Array.isArray(i)||(n=i,i=null),this.setTexture(t,i),this.initPipeline(),this.emitters=new s(this),this.wells=new s(this),n){Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++)this.createEmitter(n[a])}},setTexture:function(e,t){return this.texture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e){this.frame=this.texture.get(e);var t=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),r=[];return t.forEach(function(e){r.push(e.name)}),this.frameNames=r,this.defaultFrame=this.frame,this},setEmitterFrames:function(e,t){Array.isArray(e)||(e=[e]);var r=t.frames;r.length=0;for(var i=0;i<e.length;i++){var s=e[i];-1!==this.frameNames.indexOf(s)&&r.push(this.texture.get(s))}return r.length>0?t.defaultFrame=r[0]:t.defaultFrame=this.defaultFrame,this},addEmitter:function(e){return this.emitters.add(e)},createEmitter:function(e){return this.addEmitter(new n(this,e))},removeEmitter:function(e){return this.emitters.remove(e,!0)},addGravityWell:function(e){return this.wells.add(e)},createGravityWell:function(e){return this.addGravityWell(new i(e))},emitParticle:function(e,t,r){for(var i=this.emitters.list,s=0;s<i.length;s++){var n=i[s];n.active&&n.emitParticle(e,t,r)}return this},emitParticleAt:function(e,t,r){return this.emitParticle(r,e,t)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(e,t){t*=this.timeScale;for(var r=this.emitters.list,i=0;i<r.length;i++){var s=r[i];s.active&&s.preUpdate(e,t)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});module.exports=u;
},{"../../utils/Class":"JASv","../components":"VjLH","../GameObject":"AetT","./GravityWell":"VdQY","../../structs/List":"ZAHL","./ParticleEmitter":"gjho","./ParticleManagerRender":"Eih8"}],"QW63":[function(require,module,exports) {
module.exports={DeathZone:require("./DeathZone"),EdgeZone:require("./EdgeZone"),RandomZone:require("./RandomZone")};
},{"./DeathZone":"r5Vr","./EdgeZone":"mozI","./RandomZone":"A9cs"}],"XJJF":[function(require,module,exports) {
module.exports={GravityWell:require("./GravityWell"),Particle:require("./Particle"),ParticleEmitter:require("./ParticleEmitter"),ParticleEmitterManager:require("./ParticleEmitterManager"),Zones:require("./zones")};
},{"./GravityWell":"VdQY","./Particle":"Rab5","./ParticleEmitter":"gjho","./ParticleEmitterManager":"Y3Cr","./zones":"QW63"}],"O3pG":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../components"),t=require("../sprite/Sprite"),s=new e({Extends:t,Mixins:[i.PathFollower],initialize:function(e,i,s,r,a,n){t.call(this,e,s,r,a,n),this.path=i},preUpdate:function(e,i){this.anims.update(e,i),this.pathUpdate(e)}});module.exports=s;
},{"../../utils/Class":"JASv","../components":"VjLH","../sprite/Sprite":"ZUCM"}],"zPVn":[function(require,module,exports) {
var a=require("../../renderer/webgl/Utils"),t=function(t,l,i,e,r){var p=l.frame,n=p.width,h=p.height,s=a.getTintAppendFloatAlpha;this.pipeline.batchTexture(l,p.glTexture,n,h,l.x,l.y,n,h,l.scaleX,l.scaleY,l.rotation,l.flipX,!l.flipY,l.scrollFactorX,l.scrollFactorY,l.displayOriginX,l.displayOriginY,0,0,n,h,s(l._tintTL,e.alpha*l._alphaTL),s(l._tintTR,e.alpha*l._alphaTR),s(l._tintBL,e.alpha*l._alphaBL),s(l._tintBR,e.alpha*l._alphaBR),l._isTinted&&l.tintFill,0,0,e,r),t.setBlankTexture(!0)};module.exports=t;
},{"../../renderer/webgl/Utils":"ZkeT"}],"zBj5":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./RenderTextureWebGLRenderer"),r=require("./RenderTextureCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"lZkB","./RenderTextureWebGLRenderer":"zPVn","./RenderTextureCanvasRenderer":"jO7x"}],"MJ3o":[function(require,module,exports) {
var x=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(x){var r=16*Math.random()|0;return("x"===x?r:3&r|8).toString(16)})};module.exports=x;
},{}],"bRZ2":[function(require,module,exports) {
var e=require("../../renderer/BlendModes"),t=require("../../cameras/2d/BaseCamera"),r=require("../../display/canvas/CanvasPool"),i=require("../../utils/Class"),s=require("../components"),h=require("../../const"),a=require("../../textures/Frame"),n=require("../GameObject"),u=require("./RenderTextureRender"),c=require("../../renderer/webgl/Utils"),o=require("../../utils/string/UUID"),l=new i({Extends:n,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,u],initialize:function(e,i,s,a,u,c,l){void 0===i&&(i=0),void 0===s&&(s=0),void 0===a&&(a=32),void 0===u&&(u=32),n.call(this,e,"RenderTexture"),this.renderer=e.sys.game.renderer,this.textureManager=e.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.framebuffer=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,void 0===c?(this.canvas=r.create2D(this,a,u),this.texture=e.sys.textures.addCanvas(o(),this.canvas),this.frame=this.texture.get()):(this.texture=e.sys.textures.get(c),this.frame=this.texture.get(l),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new t(0,0,a,u),this.gl=null,this.glTexture=null;var d=this.renderer;if(d.type===h.WEBGL){var f=d.gl;this.gl=f,this.glTexture=this.frame.source.glTexture,this.drawGameObject=this.batchGameObjectWebGL,this.framebuffer=d.createFramebuffer(a,u,this.glTexture,!1)}else d.type===h.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas);this.camera.setScene(e),this.setPosition(i,s),void 0===c&&this.setSize(a,u),this.setOrigin(0,0),this.initPipeline()},setSize:function(e,t){return this.resize(e,t)},resize:function(e,t){if(void 0===t&&(t=e),e!==this.width||t!==this.height){if("__BASE"===this.frame.name){if(this.canvas.width=e,this.canvas.height=t,this.texture.width=e,this.texture.height=t,this.gl){var r=this.gl;this.renderer.deleteTexture(this.frame.source.glTexture),this.renderer.deleteFramebuffer(this.framebuffer);var i=this.renderer.createTexture2D(0,r.NEAREST,r.NEAREST,r.CLAMP_TO_EDGE,r.CLAMP_TO_EDGE,r.RGBA,null,e,t,!1);this.framebuffer=this.renderer.createFramebuffer(e,t,i,!1),this.frame.source.isRenderTexture=!0,this.frame.glTexture=i,this.glTexture=i}this.frame.source.width=e,this.frame.source.height=t,this.camera.setSize(e,t),this.frame.setSize(e,t),this.width=e,this.height=t}}else{var s=this.texture.getSourceImage();this.frame.cutX+e>s.width&&(e=s.width-this.frame.cutX),this.frame.cutY+t>s.height&&(t=s.height-this.frame.cutY),this.frame.setSize(e,t,this.frame.cutX,this.frame.cutY)}this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=e,h.hitArea.height=t),this},setGlobalTint:function(e){return this.globalTint=e,this},setGlobalAlpha:function(e){return this.globalAlpha=e,this},saveTexture:function(e){return this.textureManager.renameTexture(this.texture.key,e),this._saved=!0,this.texture},fill:function(e,t,r,i,s,h){void 0===t&&(t=1),void 0===r&&(r=0),void 0===i&&(i=0),void 0===s&&(s=this.frame.cutWidth),void 0===h&&(h=this.frame.cutHeight);var a=255&(e>>16|0),n=255&(e>>8|0),u=255&(0|e),o=this.gl,l=this.frame;if(this.camera.preRender(1,1),o){var d=this.camera._cx,f=this.camera._cy,m=this.camera._cw,g=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(d,f,m,g,g);var v=this.pipeline;v.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),v.drawFillRect(r,i,s,h,c.getTintFromFloats(a/255,n/255,u/255,1),t),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),v.projOrtho(0,v.width,v.height,0,-1e3,1e3)}else this.renderer.setContext(this.context),this.context.fillStyle="rgba("+a+","+n+","+u+","+t+")",this.context.fillRect(r+l.cutX,i+l.cutY,s,h),this.renderer.setContext();return this.dirty=!0,this},clear:function(){if(this.dirty){var e=this.gl;if(e){var t=this.renderer;t.setFramebuffer(this.framebuffer,!0),this.frame.cutWidth===this.canvas.width&&this.frame.cutHeight===this.canvas.height||e.scissor(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),t.setFramebuffer(null,!0)}else{var r=this.context;r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),r.restore()}this.dirty=!1}return this},erase:function(t,r,i){this._eraseMode=!0;var s=this.renderer.currentBlendMode;return this.renderer.setBlendMode(e.ERASE),this.draw(t,r,i,1,16777215),this.renderer.setBlendMode(s),this._eraseMode=!1,this},draw:function(e,t,r,i,s){void 0===i&&(i=this.globalAlpha),s=void 0===s?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(s>>16)+(65280&s)+((255&s)<<16),Array.isArray(e)||(e=[e]);var h=this.gl;if(this.camera.preRender(1,1),h){var a=this.camera._cx,n=this.camera._cy,u=this.camera._cw,c=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(a,n,u,c,c);var o=this.pipeline;o.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),this.batchList(e,t,r,i,s),o.flush(),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),o.projOrtho(0,o.width,o.height,0,-1e3,1e3)}else this.renderer.setContext(this.context),this.batchList(e,t,r,i,s),this.renderer.setContext();return this.dirty=!0,this},drawFrame:function(e,t,r,i,s,h){void 0===r&&(r=0),void 0===i&&(i=0),void 0===s&&(s=this.globalAlpha),h=void 0===h?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(h>>16)+(65280&h)+((255&h)<<16);var a=this.gl,n=this.textureManager.getFrame(e,t);if(n){if(this.camera.preRender(1,1),a){var u=this.camera._cx,c=this.camera._cy,o=this.camera._cw,l=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(u,c,o,l,l);var d=this.pipeline;d.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),d.batchTextureFrame(n,r+this.frame.cutX,i+this.frame.cutY,h,s,this.camera.matrix,null),d.flush(),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),d.projOrtho(0,d.width,d.height,0,-1e3,1e3)}else this.batchTextureFrame(n,r+this.frame.cutX,i+this.frame.cutY,s,h);this.dirty=!0}return this},batchList:function(e,t,r,i,s){for(var h=0;h<e.length;h++){var n=e[h];n&&n!==this&&(n.renderWebGL||n.renderCanvas?this.drawGameObject(n,t,r):n.isParent||n.list?this.batchGroup(n.getChildren(),t,r):"string"==typeof n?this.batchTextureFrameKey(n,null,t,r,i,s):n instanceof a?this.batchTextureFrame(n,t,r,i,s):Array.isArray(n)&&this.batchList(n,t,r,i,s))}},batchGroup:function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0),t+=this.frame.cutX,r+=this.frame.cutY;for(var i=0;i<e.length;i++){var s=e[i];if(s.willRender()){var h=s.x+t,a=s.y+r;this.drawGameObject(s,h,a)}}},batchGameObjectWebGL:function(e,t,r){void 0===t&&(t=e.x),void 0===r&&(r=e.y);var i=e.x,s=e.y;this._eraseMode||this.renderer.setBlendMode(e.blendMode),e.setPosition(t+this.frame.cutX,r+this.frame.cutY),e.renderWebGL(this.renderer,e,0,this.camera,null),e.setPosition(i,s)},batchGameObjectCanvas:function(t,r,i){void 0===r&&(r=t.x),void 0===i&&(i=t.y);var s=t.x,h=t.y;if(this._eraseMode){var a=t.blendMode;t.blendMode=e.ERASE}t.setPosition(r+this.frame.cutX,i+this.frame.cutY),t.renderCanvas(this.renderer,t,0,this.camera,null),t.setPosition(s,h),this._eraseMode&&(t.blendMode=a)},batchTextureFrameKey:function(e,t,r,i,s,h){var a=this.textureManager.getFrame(e,t);a&&this.batchTextureFrame(a,r,i,s,h)},batchTextureFrame:function(e,t,r,i,s){if(void 0===t&&(t=0),void 0===r&&(r=0),t+=this.frame.cutX,r+=this.frame.cutY,this.gl)this.pipeline.batchTextureFrame(e,t,r,s,i,this.camera.matrix,null);else{var h=this.context,a=e.canvasData,n=e.source.image,u=this.camera.matrix;h.globalAlpha=this.globalAlpha,h.setTransform(u[0],u[1],u[2],u[3],u[4],u[5]),h.drawImage(n,a.x,a.y,a.width,a.height,t,r,a.width,a.height)}},snapshotArea:function(e,t,r,i,s,h,a){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,s,!1,e,t,r,i,h,a):this.renderer.snapshotCanvas(this.canvas,s,!1,e,t,r,i,h,a),this},snapshot:function(e,t,r){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,e,!1,0,0,this.width,this.height,t,r):this.renderer.snapshotCanvas(this.canvas,e,!1,0,0,this.width,this.height,t,r),this},snapshotPixel:function(e,t,r){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,r,!0,e,t):this.renderer.snapshotCanvas(this.canvas,r,!0,e,t),this},preDestroy:function(){this._saved||(r.remove(this.canvas),this.gl&&this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.framebuffer=null,this.texture=null,this.glTexture=null)}});module.exports=l;
},{"../../renderer/BlendModes":"PaIu","../../cameras/2d/BaseCamera":"cnbb","../../display/canvas/CanvasPool":"J9p3","../../utils/Class":"JASv","../components":"VjLH","../../const":"BLd6","../../textures/Frame":"nGOG","../GameObject":"AetT","./RenderTextureRender":"zBj5","../../renderer/webgl/Utils":"ZkeT","../../utils/string/UUID":"MJ3o"}],"jeeX":[function(require,module,exports) {
var T={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"};module.exports=T;
},{}],"NoPK":[function(require,module,exports) {
var e=require("../../utils/object/GetValue"),t=function(t,r){var a=r.width,n=r.height,h=Math.floor(a/2),i=Math.floor(n/2),l=e(r,"chars","");if(""!==l){var o=e(r,"image",""),s=e(r,"offset.x",0),f=e(r,"offset.y",0),c=e(r,"spacing.x",0),g=e(r,"spacing.y",0),u=e(r,"lineSpacing",0),d=e(r,"charsPerRow",null);null===d&&(d=t.sys.textures.getFrame(o).width/a)>l.length&&(d=l.length);for(var x=s,v=f,y={retroFont:!0,font:o,size:a,lineHeight:n+u,chars:{}},m=0,p=0;p<l.length;p++){var w=l.charCodeAt(p);y.chars[w]={x:x,y:v,width:a,height:n,centerX:h,centerY:i,xOffset:0,yOffset:0,xAdvance:a,data:{},kerning:{}},++m===d?(m=0,x=s,v+=n+g):x+=a+c}return{data:y,frame:null,texture:o}}};module.exports=t;
},{"../../utils/object/GetValue":"OqLI"}],"SpBY":[function(require,module,exports) {
var e=require("./const"),r=require("../../utils/object/Extend"),t={Parse:require("./ParseRetroFont")};t=r(!1,t,e),module.exports=t;
},{"./const":"jeeX","../../utils/object/Extend":"SFmW","./ParseRetroFont":"NoPK"}],"jO14":[function(require,module,exports) {
var e=require("../../renderer/webgl/Utils"),r=function(r,l,t,a,o){var i=l.pipeline;r.setPipeline(i,l);var c=i._tempMatrix1,p=i._tempMatrix2,s=i._tempMatrix3;p.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),c.copyFrom(a.matrix),o?(c.multiplyWithOffset(o,-a.scrollX*l.scrollFactorX,-a.scrollY*l.scrollFactorY),p.e=l.x,p.f=l.y,c.multiply(p,s)):(p.e-=a.scrollX*l.scrollFactorX,p.f-=a.scrollY*l.scrollFactorY,c.multiply(p,s));var n=l.frame.glTexture,u=l.vertices,x=l.uv,v=l.colors,d=l.alphas,m=l.alpha,f=e.getTintAppendFloatAlphaAndSwap,h=a.roundPixels,y=u.length,F=Math.floor(.5*y);i.flush(),i.setTexture2D(n,0);var M=i.vertexViewF32,g=i.vertexViewU32,C=i.vertexCount*i.vertexComponentCount-1,X=0,Y=l.tintFill;l.dirty&&l.updateVertices();for(var b=l.debugCallback,w=[],T=0;T<y;T+=2){var A=u[T+0],V=u[T+1],_=A*s.a+V*s.c+s.e,P=A*s.b+V*s.d+s.f;h&&(_=Math.round(_),P=Math.round(P)),M[++C]=_,M[++C]=P,M[++C]=x[T+0],M[++C]=x[T+1],M[++C]=Y,g[++C]=f(v[X],a.alpha*(d[X]*m)),X++,b&&(w[T+0]=_,w[T+1]=P)}b&&b.call(l,l,y,w),i.vertexCount+=F};module.exports=r;
},{"../../renderer/webgl/Utils":"ZkeT"}],"g6bZ":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./RopeWebGLRenderer"),r=require("./RopeCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"lZkB","./RopeWebGLRenderer":"jO14","./RopeCanvasRenderer":"lZkB"}],"Uw2t":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("../components"),s=require("../GameObject"),e=require("./RopeRender"),r=require("../../math/Vector2"),h=new t({Extends:s,Mixins:[i.AlphaSingle,i.BlendMode,i.Depth,i.Flip,i.Mask,i.Pipeline,i.Size,i.Texture,i.Transform,i.Visible,i.ScrollFactor,e],initialize:function(t,e,h,n,l,a,o,u,f){void 0===n&&(n="__DEFAULT"),void 0===a&&(a=2),void 0===o&&(o=!0),s.call(this,t,"Rope"),this.anims=new i.Animation(this),this.points=a,this.vertices,this.uv,this.colors,this.alphas,this.tintFill="__DEFAULT"===n?2:0,this.dirty=!1,this.horizontal=o,this._flipX=!1,this._flipY=!1,this._perp=new r,this.debugCallback=null,this.debugGraphic=null,this.setTexture(n,l),this.setPosition(e,h),this.setSizeToFrame(),this.initPipeline("TextureTintStripPipeline"),Array.isArray(a)&&this.resizeArrays(a.length),this.setPoints(a,u,f),this.updateVertices()},preUpdate:function(t,i){var s=this.anims.currentFrame;this.anims.update(t,i),this.anims.currentFrame!==s&&(this.updateUVs(),this.updateVertices())},play:function(t,i,s){return this.anims.play(t,i,s),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(t,i,s){return void 0===t&&(t=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(t,i,s))},setVertical:function(t,i,s){return void 0===t&&(t=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(t,i,s)):this},setTintFill:function(t){return void 0===t&&(t=0),this.tintFill=t,this},setAlphas:function(t,i){var s=this.points.length;if(s<1)return this;var e,r=this.alphas;void 0===t?t=[1]:Array.isArray(t)||void 0!==i||(t=[t]);var h=0;if(void 0!==i)for(e=0;e<s;e++)r[h=2*e]=t,r[h+1]=i;else if(t.length===s)for(e=0;e<s;e++)r[h=2*e]=t[e],r[h+1]=t[e];else{var n=t[0];for(e=0;e<s;e++)h=2*e,t.length>h&&(n=t[h]),r[h]=n,t.length>h+1&&(n=t[h+1]),r[h+1]=n}return this},setColors:function(t){var i=this.points.length;if(i<1)return this;var s,e=this.colors;void 0===t?t=[16777215]:Array.isArray(t)||(t=[t]);var r=0;if(t.length===i)for(s=0;s<i;s++)e[r=2*s]=t[s],e[r+1]=t[s];else{var h=t[0];for(s=0;s<i;s++)r=2*s,t.length>r&&(h=t[r]),e[r]=h,t.length>r+1&&(h=t[r+1]),e[r+1]=h}return this},setPoints:function(t,i,s){if(void 0===t&&(t=2),"number"==typeof t){var e,r,h,n=t;if(n<2&&(n=2),t=[],this.horizontal)for(h=-this.frame.halfWidth,r=this.frame.width/(n-1),e=0;e<n;e++)t.push({x:h+e*r,y:0});else for(h=-this.frame.halfHeight,r=this.frame.height/(n-1),e=0;e<n;e++)t.push({x:0,y:h+e*r})}var l=t.length,a=this.points.length;return l<1?(console.warn("Rope: Not enough points given"),this):(1===l&&(t.unshift({x:0,y:0}),l++),a!==l&&this.resizeArrays(l),this.points=t,this.updateUVs(),null!=i&&this.setColors(i),null!=s&&this.setAlphas(s),this)},updateUVs:function(){for(var t=this.uv,i=this.points.length,s=this.frame.u0,e=this.frame.v0,r=this.frame.u1,h=this.frame.v1,n=(r-s)/(i-1),l=(h-e)/(i-1),a=0;a<i;a++){var o,u,f,p,c=4*a;this.horizontal?(this._flipX?(o=r-a*n,f=r-a*n):(o=s+a*n,f=s+a*n),this._flipY?(u=h,p=e):(u=e,p=h)):(this._flipX?(o=s,f=r):(o=r,f=s),this._flipY?(u=h-a*l,p=h-a*l):(u=e+a*l,p=e+a*l)),t[c+0]=o,t[c+1]=u,t[c+2]=f,t[c+3]=p}return this},resizeArrays:function(t){var i=this.colors,s=this.alphas;this.vertices=new Float32Array(4*t),this.uv=new Float32Array(4*t),i=new Uint32Array(2*t),s=new Float32Array(2*t);for(var e=0;e<2*t;e++)i[e]=16777215,s[e]=1;return this.colors=i,this.alphas=s,this.dirty=!0,this},updateVertices:function(){var t=this._perp,i=this.points,s=this.vertices,e=i.length;if(this.dirty=!1,!(e<1)){for(var r,h=i[0],n=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,l=0;l<e;l++){var a=i[l],o=4*l;r=l<e-1?i[l+1]:a,t.x=r.y-h.y,t.y=-(r.x-h.x);var u=t.length();t.x/=u,t.y/=u,t.x*=n,t.y*=n,s[o]=a.x+t.x,s[o+1]=a.y+t.y,s[o+2]=a.x-t.x,s[o+3]=a.y-t.y,h=a}return this}},setDebug:function(t,i){return this.debugGraphic=t,this.debugCallback=t||i?i||this.renderDebugVerts:null,this},renderDebugVerts:function(t,i,s){var e=t.debugGraphic,r=s[0],h=s[1],n=s[2],l=s[3];e.lineBetween(r,h,n,l);for(var a=4;a<i;a+=4){var o=s[a+0],u=s[a+1],f=s[a+2],p=s[a+3];e.lineBetween(r,h,o,u),e.lineBetween(n,l,f,p),e.lineBetween(n,l,o,u),e.lineBetween(o,u,f,p),r=o,h=u,n=f,l=p}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(t){return this._flipX=t,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(t){return this._flipY=t,this.updateUVs()}}});module.exports=h;
},{"../../utils/Class":"JASv","../components":"VjLH","../GameObject":"AetT","./RopeRender":"g6bZ","../../math/Vector2":"qKN5"}],"UMT6":[function(require,module,exports) {
var e=function(e,n,t){var i=e.canvas,a=e.context,s=e.style,r=[],h=0,l=t.length;s.maxLines>0&&s.maxLines<t.length&&(l=s.maxLines),s.syncFont(i,a);for(var o=0;o<l;o++){var c=s.strokeThickness;c+=a.measureText(t[o]).width,s.wordWrap&&(c-=a.measureText(" ").width),r[o]=Math.ceil(c),h=Math.max(h,r[o])}var x=n.fontSize+s.strokeThickness,m=x*l,d=e.lineSpacing;return l>1&&(m+=d*(l-1)),{width:h,height:m,lines:l,lineWidths:r,lineSpacing:d,lineHeight:x}};module.exports=e;
},{}],"ZjxM":[function(require,module,exports) {
var t=require("../../../renderer/webgl/Utils"),i=function(i,l,a,e,r){if(0!==l.width&&0!==l.height){var p=l.frame,h=p.width,n=p.height,o=t.getTintAppendFloatAlpha;this.pipeline.batchTexture(l,p.glTexture,h,n,l.x,l.y,h/l.style.resolution,n/l.style.resolution,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.displayOriginX,l.displayOriginY,0,0,h,n,o(l._tintTL,e.alpha*l._alphaTL),o(l._tintTR,e.alpha*l._alphaTR),o(l._tintBL,e.alpha*l._alphaBL),o(l._tintBR,e.alpha*l._alphaBR),l._isTinted&&l.tintFill,0,0,e,r)}};module.exports=i;
},{"../../../renderer/webgl/Utils":"ZkeT"}],"lOKn":[function(require,module,exports) {
var t=function(t,e,h,i,r){0!==e.width&&0!==e.height&&t.batchSprite(e,e.frame,i,r)};module.exports=t;
},{}],"tA1i":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./TextWebGLRenderer"),r=require("./TextCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"lZkB","./TextWebGLRenderer":"ZjxM","./TextCanvasRenderer":"lOKn"}],"G77v":[function(require,module,exports) {
var e=require("../../display/canvas/CanvasPool"),t=function(t){var a=e.create(this),n=a.getContext("2d");t.syncFont(a,n);var i=Math.ceil(n.measureText(t.testString).width*t.baselineX),r=i,s=2*r;r=r*t.baselineY|0,a.width=i,a.height=s,n.fillStyle="#f00",n.fillRect(0,0,i,s),n.font=t._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(t.testString,0,r);var f={ascent:0,descent:0,fontSize:0};if(!n.getImageData(0,0,i,s))return f.ascent=r,f.descent=r+6,f.fontSize=f.ascent+f.descent,e.remove(a),f;var l,o,c=n.getImageData(0,0,i,s).data,d=c.length,g=4*i,v=0,h=!1;for(l=0;l<r;l++){for(o=0;o<g;o+=4)if(255!==c[v+o]){h=!0;break}if(h)break;v+=g}for(f.ascent=r-l,v=d-g,h=!1,l=s;l>r;l--){for(o=0;o<g;o+=4)if(255!==c[v+o]){h=!0;break}if(h)break;v-=g}return f.descent=l-r,f.fontSize=f.ascent+f.descent,e.remove(a),f};module.exports=t;
},{"../../display/canvas/CanvasPool":"J9p3"}],"VU6G":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("../../utils/object/GetAdvancedValue"),s=require("../../utils/object/GetValue"),e=require("./MeasureText"),o={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},n=new t({initialize:function(t,i){this.parent=t,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(i,!1,!0);var o=s(i,"metrics",!1);this.metrics=o?{ascent:s(o,"ascent",0),descent:s(o,"descent",0),fontSize:s(o,"fontSize",0)}:e(this)},setStyle:function(t,e,n){for(var r in void 0===e&&(e=!0),void 0===n&&(n=!1),t&&t.hasOwnProperty("fontSize")&&"number"==typeof t.fontSize&&(t.fontSize=t.fontSize.toString()+"px"),o){var h=n?o[r][1]:this[r];this[r]="wordWrapCallback"===r||"wordWrapCallbackScope"===r?s(t,o[r][0],h):i(t,o[r][0],h)}var a=s(t,"font",null);null!==a&&this.setFont(a,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=s(t,"fill",null);return null!==d&&(this.color=d),e?this.update(!0):this.parent},syncFont:function(t,i){i.font=this._font},syncStyle:function(t,i){i.textBaseline="alphabetic",i.fillStyle=this.color,i.strokeStyle=this.stroke,i.lineWidth=this.strokeThickness,i.lineCap="round",i.lineJoin="round"},syncShadow:function(t,i){i?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)},update:function(t){return t&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=e(this)),this.parent.updateText()},setFont:function(t,i){void 0===i&&(i=!0);var e=t,o="",n="";if("string"!=typeof t)e=s(t,"fontFamily","Courier"),o=s(t,"fontSize","16px"),n=s(t,"fontStyle","");else{var r=t.split(" "),h=0;n=r.length>2?r[h++]:"",o=r[h++]||"16px",e=r[h++]||"Courier"}return e===this.fontFamily&&o===this.fontSize&&n===this.fontStyle||(this.fontFamily=e,this.fontSize=o,this.fontStyle=n,i&&this.update(!0)),this.parent},setFontFamily:function(t){return this.fontFamily!==t&&(this.fontFamily=t,this.update(!0)),this.parent},setFontStyle:function(t){return this.fontStyle!==t&&(this.fontStyle=t,this.update(!0)),this.parent},setFontSize:function(t){return"number"==typeof t&&(t=t.toString()+"px"),this.fontSize!==t&&(this.fontSize=t,this.update(!0)),this.parent},setTestString:function(t){return this.testString=t,this.update(!0)},setFixedSize:function(t,i){return this.fixedWidth=t,this.fixedHeight=i,t&&(this.parent.width=t),i&&(this.parent.height=i),this.update(!1)},setBackgroundColor:function(t){return this.backgroundColor=t,this.update(!1)},setFill:function(t){return this.color=t,this.update(!1)},setColor:function(t){return this.color=t,this.update(!1)},setResolution:function(t){return this.resolution=t,this.update(!1)},setStroke:function(t,i){return void 0===i&&(i=this.strokeThickness),void 0===t&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):this.stroke===t&&this.strokeThickness===i||(this.stroke=t,this.strokeThickness=i,this.update(!0)),this.parent},setShadow:function(t,i,s,e,o,n){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s="#000"),void 0===e&&(e=0),void 0===o&&(o=!1),void 0===n&&(n=!0),this.shadowOffsetX=t,this.shadowOffsetY=i,this.shadowColor=s,this.shadowBlur=e,this.shadowStroke=o,this.shadowFill=n,this.update(!1)},setShadowOffset:function(t,i){return void 0===t&&(t=0),void 0===i&&(i=t),this.shadowOffsetX=t,this.shadowOffsetY=i,this.update(!1)},setShadowColor:function(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)},setShadowBlur:function(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)},setShadowStroke:function(t){return this.shadowStroke=t,this.update(!1)},setShadowFill:function(t){return this.shadowFill=t,this.update(!1)},setWordWrapWidth:function(t,i){return void 0===i&&(i=!1),this.wordWrapWidth=t,this.wordWrapUseAdvanced=i,this.update(!1)},setWordWrapCallback:function(t,i){return void 0===i&&(i=null),this.wordWrapCallback=t,this.wordWrapCallbackScope=i,this.update(!1)},setAlign:function(t){return void 0===t&&(t="left"),this.align=t,this.update(!1)},setMaxLines:function(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)},getTextMetrics:function(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}},toJSON:function(){var t={};for(var i in o)t[i]=this[i];return t.metrics=this.getTextMetrics(),t},destroy:function(){this.parent=void 0}});module.exports=n;
},{"../../utils/Class":"JASv","../../utils/object/GetAdvancedValue":"vpak","../../utils/object/GetValue":"OqLI","./MeasureText":"G77v"}],"CBp4":[function(require,module,exports) {
var t=require("../../../dom/AddToDOM"),e=require("../../../display/canvas/CanvasPool"),i=require("../../../utils/Class"),s=require("../../components"),r=require("../../../core/events"),n=require("../../GameObject"),h=require("../GetTextSize"),o=require("../../../utils/object/GetValue"),a=require("../../../dom/RemoveFromDOM"),l=require("./TextRender"),d=require("../TextStyle"),u=new i({Extends:n,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,l],initialize:function(t,i,s,h,o){void 0===i&&(i=0),void 0===s&&(s=0),n.call(this,t,"Text"),this.renderer=t.sys.game.renderer,this.setPosition(i,s),this.setOrigin(0,0),this.initPipeline(),this.canvas=e.create(this),this.context=this.canvas.getContext("2d"),this.style=new d(this,o),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,0===this.style.resolution&&(this.style.resolution=t.sys.game.config.resolution),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(h),o&&o.padding&&this.setPadding(o.padding),o&&o.lineSpacing&&this.setLineSpacing(o.lineSpacing),t.sys.game.events.on(r.CONTEXT_RESTORED,function(){this.dirty=!0},this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",t(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(t){var e=this.style;if(e.wordWrapCallback){var i=e.wordWrapCallback.call(e.wordWrapCallbackScope,t,this);return Array.isArray(i)&&(i=i.join("\n")),i}return e.wordWrapWidth?e.wordWrapUseAdvanced?this.advancedWordWrap(t,this.context,this.style.wordWrapWidth):this.basicWordWrap(t,this.context,this.style.wordWrapWidth):t},advancedWordWrap:function(t,e,i){for(var s="",r=t.replace(/ +/gi," ").split(this.splitRegExp),n=r.length,h=0;h<n;h++){var o=r[h],a="";if(o=o.replace(/^ *|\s*$/gi,""),e.measureText(o).width<i)s+=o+"\n";else{for(var l=i,d=o.split(" "),u=0;u<d.length;u++){var c=d[u],g=c+" ",p=e.measureText(g).width;if(p>l){if(0===u){for(var f=g;f.length&&(f=f.slice(0,-1),!((p=e.measureText(f).width)<=l)););if(!f.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var y=c.substr(f.length);d[u]=y,a+=f}var x=d[u].length?u:u+1,v=d.slice(x).join(" ").replace(/[ \n]*$/gi,"");r[h+1]=v+" "+(r[h+1]||""),n=r.length;break}a+=g,l-=p}s+=a.replace(/[ \n]*$/gi,"")+"\n"}}return s=s.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(t,e,i){for(var s="",r=t.split(this.splitRegExp),n=r.length-1,h=e.measureText(" ").width,o=0;o<=n;o++){for(var a=i,l=r[o].split(" "),d=l.length-1,u=0;u<=d;u++){var c=l[u],g=e.measureText(c).width,p=g+h;p>a&&u>0&&(s+="\n",a=i),s+=c,u<d?(s+=" ",a-=p):a-=g}o<n&&(s+="\n")}return s},getWrappedText:function(t){return void 0===t&&(t=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(t).split(this.splitRegExp)},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this._text&&(this._text=t.toString(),this.updateText()),this},setStyle:function(t){return this.style.setStyle(t)},setFont:function(t){return this.style.setFont(t)},setFontFamily:function(t){return this.style.setFontFamily(t)},setFontSize:function(t){return this.style.setFontSize(t)},setFontStyle:function(t){return this.style.setFontStyle(t)},setFixedSize:function(t,e){return this.style.setFixedSize(t,e)},setBackgroundColor:function(t){return this.style.setBackgroundColor(t)},setFill:function(t){return this.style.setFill(t)},setColor:function(t){return this.style.setColor(t)},setStroke:function(t,e){return this.style.setStroke(t,e)},setShadow:function(t,e,i,s,r,n){return this.style.setShadow(t,e,i,s,r,n)},setShadowOffset:function(t,e){return this.style.setShadowOffset(t,e)},setShadowColor:function(t){return this.style.setShadowColor(t)},setShadowBlur:function(t){return this.style.setShadowBlur(t)},setShadowStroke:function(t){return this.style.setShadowStroke(t)},setShadowFill:function(t){return this.style.setShadowFill(t)},setWordWrapWidth:function(t,e){return this.style.setWordWrapWidth(t,e)},setWordWrapCallback:function(t,e){return this.style.setWordWrapCallback(t,e)},setAlign:function(t){return this.style.setAlign(t)},setResolution:function(t){return this.style.setResolution(t)},setLineSpacing:function(t){return this.lineSpacing=t,this.updateText()},setPadding:function(t,e,i,s){if("object"==typeof t){var r=t,n=o(r,"x",null);null!==n?(t=n,i=n):(t=o(r,"left",0),i=o(r,"right",t));var h=o(r,"y",null);null!==h?(e=h,s=h):(e=o(r,"top",0),s=o(r,"bottom",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=t),void 0===s&&(s=e);return this.padding.left=t,this.padding.top=e,this.padding.right=i,this.padding.bottom=s,this.updateText()},setMaxLines:function(t){return this.style.setMaxLines(t)},updateText:function(){var t=this.canvas,e=this.context,i=this.style,s=i.resolution,r=i.metrics;i.syncFont(t,e);var n=this._text;(i.wordWrapWidth||i.wordWrapCallback)&&(n=this.runWordWrap(this._text));var o,a=n.split(this.splitRegExp),l=h(this,r,a),d=this.padding;0===i.fixedWidth?(this.width=l.width+d.left+d.right,o=l.width):(this.width=i.fixedWidth,(o=this.width-d.left-d.right)<l.width&&(o=l.width)),0===i.fixedHeight?this.height=l.height+d.top+d.bottom:this.height=i.fixedHeight;var u,c,g=this.width,p=this.height;this.updateDisplayOrigin(),g*=s,p*=s,g=Math.max(g,1),p=Math.max(p,1),t.width!==g||t.height!==p?(t.width=g,t.height=p,this.frame.setSize(g,p),i.syncFont(t,e)):e.clearRect(0,0,g,p),e.save(),e.scale(s,s),i.backgroundColor&&(e.fillStyle=i.backgroundColor,e.fillRect(0,0,g,p)),i.syncStyle(t,e),e.textBaseline="alphabetic",e.translate(d.left,d.top);for(var f=0;f<l.lines;f++){if(u=i.strokeThickness/2,c=i.strokeThickness/2+f*l.lineHeight+r.ascent,f>0&&(c+=l.lineSpacing*f),i.rtl)u=g-u;else if("right"===i.align)u+=o-l.lineWidths[f];else if("center"===i.align)u+=(o-l.lineWidths[f])/2;else if("justify"===i.align){if(l.lineWidths[f]/l.width>=.85){var y=l.width-l.lineWidths[f],x=e.measureText(" ").width,v=a[f].trim(),w=v.split(" ");y+=(a[f].length-v.length)*x;for(var S=Math.floor(y/x),W=0;S>0;)w[W]+=" ",W=(W+1)%(w.length-1||1),--S;a[f]=w.join(" ")}}this.autoRound&&(u=Math.round(u),c=Math.round(c)),i.strokeThickness&&(this.style.syncShadow(e,i.shadowStroke),e.strokeText(a[f],u,c)),i.color&&(this.style.syncShadow(e,i.shadowFill),e.fillText(a[f],u,c))}e.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(t,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var T=this.input;return T&&!T.customHitArea&&(T.hitArea.width=this.width,T.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(t){this.setText(t)}},toJSON:function(){var t=s.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t},preDestroy:function(){this.style.rtl&&a(this.canvas),e.remove(this.canvas),this.texture.destroy()}});module.exports=u;
},{"../../../dom/AddToDOM":"IFKJ","../../../display/canvas/CanvasPool":"J9p3","../../../utils/Class":"JASv","../../components":"VjLH","../../../core/events":"Dc0S","../../GameObject":"AetT","../GetTextSize":"UMT6","../../../utils/object/GetValue":"OqLI","../../../dom/RemoveFromDOM":"vhof","./TextRender":"tA1i","../TextStyle":"VU6G"}],"kss3":[function(require,module,exports) {
var i=require("../../renderer/webgl/Utils"),t=function(t,a,l,e,h){a.updateCanvas();var p=i.getTintAppendFloatAlpha;this.pipeline.batchTexture(a,a.fillPattern,a.displayFrame.width*a.tileScaleX,a.displayFrame.height*a.tileScaleY,a.x,a.y,a.width,a.height,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.originX*a.width,a.originY*a.height,0,0,a.width,a.height,p(a._tintTL,e.alpha*a._alphaTL),p(a._tintTR,e.alpha*a._alphaTR),p(a._tintBL,e.alpha*a._alphaBL),p(a._tintBR,e.alpha*a._alphaBR),a._isTinted&&a.tintFill,a.tilePositionX%a.displayFrame.width/a.displayFrame.width,a.tilePositionY%a.displayFrame.height/a.displayFrame.height,e,h)};module.exports=t;
},{"../../renderer/webgl/Utils":"ZkeT"}],"bnhl":[function(require,module,exports) {
var a=function(a,e,t,r,n){e.updateCanvas(),a.batchSprite(e,e.frame,r,n)};module.exports=a;
},{}],"hU3W":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./TileSpriteWebGLRenderer"),r=require("./TileSpriteCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"lZkB","./TileSpriteWebGLRenderer":"kss3","./TileSpriteCanvasRenderer":"bnhl"}],"Ixoc":[function(require,module,exports) {
var t=require("../../display/canvas/CanvasPool"),i=require("../../utils/Class"),e=require("../components"),s=require("../../core/events"),r=require("../GameObject"),h=require("../../math/pow2/GetPowerOfTwo"),n=require("../../display/canvas/Smoothing"),l=require("./TileSpriteRender"),a=require("../../math/Vector2"),o=8,d=new i({Extends:r,Mixins:[e.Alpha,e.BlendMode,e.ComputedSize,e.Crop,e.Depth,e.Flip,e.GetBounds,e.Mask,e.Origin,e.Pipeline,e.ScrollFactor,e.Tint,e.Transform,e.Visible,l],initialize:function(i,e,n,l,o,d,u){var c=i.sys.game.renderer;r.call(this,i,"TileSprite");var g=i.sys.textures.get(d),f=g.get(u);l&&o?(l=Math.floor(l),o=Math.floor(o)):(l=f.width,o=f.height),this._tilePosition=new a,this._tileScale=new a(1,1),this.dirty=!1,this.renderer=c,this.canvas=t.create(this,l,o),this.context=this.canvas.getContext("2d"),this.displayTexture=g,this.displayFrame=f,this._crop=this.resetCropObject(),this.texture=i.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=h(f.width),this.potHeight=h(f.height),this.fillCanvas=t.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(e,n),this.setSize(l,o),this.setFrame(u),this.setOriginFromFrame(),this.initPipeline(),i.sys.game.events.on(s.CONTEXT_RESTORED,function(t){var i=t.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=t.createTexture2D(0,i.LINEAR,i.LINEAR,i.REPEAT,i.REPEAT,i.RGBA,this.fillCanvas,this.potWidth,this.potHeight)},this)},setTexture:function(t,i){return this.displayTexture=this.scene.sys.textures.get(t),this.setFrame(i)},setFrame:function(t){var i=this.displayTexture.get(t);return this.potWidth=h(i.width),this.potHeight=h(i.height),this.canvas.width=0,i.cutWidth&&i.cutHeight?this.renderFlags|=o:this.renderFlags&=~o,this.displayFrame=i,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(t,i){return void 0!==t&&(this.tilePositionX=t),void 0!==i&&(this.tilePositionY=i),this},setTileScale:function(t,i){return void 0===t&&(t=this.tileScaleX),void 0===i&&(i=t),this.tileScaleX=t,this.tileScaleY=i,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var t=this.displayFrame;if(t.source.isRenderTexture||t.source.isGLTexture)return console.warn("TileSprites can only use Image or Canvas based textures"),void(this.dirty=!1);var i=this.fillContext,e=this.fillCanvas,s=this.potWidth,r=this.potHeight;this.renderer.gl||(s=t.cutWidth,r=t.cutHeight),i.clearRect(0,0,s,r),e.width=s,e.height=r,i.drawImage(t.source.image,t.cutX,t.cutY,t.cutWidth,t.cutHeight,0,0,s,r),this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(e,this.fillPattern):this.fillPattern=i.createPattern(e,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var t=this.canvas;if(t.width===this.width&&t.height===this.height||(t.width=this.width,t.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl)this.dirty=!1;else{var i=this.context;this.scene.sys.game.config.antialias||n.disable(i);var e=this._tileScale.x,s=this._tileScale.y,r=this._tilePosition.x,h=this._tilePosition.y;i.clearRect(0,0,this.width,this.height),i.save(),i.scale(e,s),i.translate(-r,-h),i.fillStyle=this.fillPattern,i.fillRect(r,h,this.width/e,this.height/s),i.restore(),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),t.remove(this.canvas),t.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(t){this._tilePosition.x=t,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(t){this._tilePosition.y=t,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(t){this._tileScale.x=t,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(t){this._tileScale.y=t,this.dirty=!0}}});module.exports=d;
},{"../../display/canvas/CanvasPool":"J9p3","../../utils/Class":"JASv","../components":"VjLH","../../core/events":"Dc0S","../GameObject":"AetT","../../math/pow2/GetPowerOfTwo":"AMmm","../../display/canvas/Smoothing":"dL2W","./TileSpriteRender":"hU3W","../../math/Vector2":"qKN5"}],"ZKtE":[function(require,module,exports) {
var e=function(e,i,t,o,p){i.videoTexture&&this.pipeline.batchSprite(i,o,p)};module.exports=e;
},{}],"mkte":[function(require,module,exports) {
var e=function(e,r,t,o,a){r.videoTexture&&e.batchSprite(r,r.frame,o,a)};module.exports=e;
},{}],"R0TV":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./VideoWebGLRenderer"),r=require("./VideoCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"lZkB","./VideoWebGLRenderer":"ZKtE","./VideoCanvasRenderer":"mkte"}],"YQws":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../../math/Clamp"),i=require("../components"),s=require("../events"),r=require("../../core/events/"),h=require("../GameObject"),o=require("../../sound/events/"),n=require("../../utils/string/UUID"),d=require("./VideoRender"),a=require("../../math/const"),u=new e({Extends:h,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Size,i.TextureCrop,i.Tint,i.Transform,i.Visible,d],initialize:function(e,t,i,s){h.call(this,e,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=n(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=a.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(t,i),this.initPipeline(),s&&this.changeSource(s,!1);var d=e.sys.game.events;d.on(r.PAUSE,this.globalPause,this),d.on(r.RESUME,this.globalResume,this);var u=e.sys.sound;u&&u.on(o.GLOBAL_MUTE,this.globalMute,this)},play:function(e,t,i){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var s=this.video;if(!s)return console.warn("Video not loaded"),this;void 0===e&&(e=s.loop);var r=this.scene.sys.sound;r&&r.mute&&this.setMute(!0),isNaN(t)||(this._markerIn=t),!isNaN(i)&&i>t&&(this._markerOut=i),s.loop=e;var h=this._callbacks,o=s.play();return void 0!==o?o.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(s.addEventListener("playing",h.play,!0),s.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),s.addEventListener("ended",h.end,!0),s.addEventListener("timeupdate",h.time,!0),s.addEventListener("seeking",h.seeking,!0),s.addEventListener("seeked",h.seeked,!0),this},changeSource:function(e,t,i,r,h){void 0===t&&(t=!0),this.video&&this.stop();var o=this.scene.sys.cache.video.get(e);return o?(this.video=o,this._cacheKey=e,this._codePaused=o.paused,this._codeMuted=o.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,o,o.videoWidth,o.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,o.videoWidth,o.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(s.VIDEO_CREATED,this,o.videoWidth,o.videoHeight)):this.updateTexture(),o.currentTime=0,this._lastUpdate=0,t&&this.play(i,r,h)):this.video=null,this},addMarker:function(e,t,i){return!isNaN(t)&&t>=0&&!isNaN(i)&&(this.markers[e]=[t,i]),this},playMarker:function(e,t){var i=this.markers[e];return i&&this.play(t,i[0],i[1]),this},removeMarker:function(e){return delete this.markers[e],this},snapshot:function(e,t){return void 0===e&&(e=this.width),void 0===t&&(t=this.height),this.snapshotArea(0,0,this.width,this.height,e,t)},snapshotArea:function(e,t,i,s,r,h){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.width),void 0===s&&(s=this.height),void 0===r&&(r=i),void 0===h&&(h=s);var o=this.video,d=this.snapshotTexture;return d?(d.setSize(r,h),o&&d.context.drawImage(o,e,t,i,s,0,0,r,h)):(d=this.scene.sys.textures.createCanvas(n(),r,h),this.snapshotTexture=d,o&&d.context.drawImage(o,e,t,i,s,0,0,r,h)),d.update()},saveSnapshotTexture:function(e){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,e):this.snapshotTexture=this.scene.sys.textures.createCanvas(e,this.width,this.height),this.snapshotTexture},loadURL:function(e,t,i){void 0===t&&(t="loadeddata"),void 0===i&&(i=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var s=document.createElement("video");return s.controls=!1,i&&(s.muted=!0,s.defaultMuted=!0,s.setAttribute("autoplay","autoplay")),s.setAttribute("playsinline","playsinline"),s.setAttribute("preload","auto"),s.addEventListener("error",this._callbacks.error,!0),s.src=e,s.load(),this.video=s,this},playPromiseSuccessHandler:function(){this.touchLocked=!1,this.emit(s.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(e){this.scene.sys.input.once("pointerdown",this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(s.VIDEO_ERROR,this,e)},playHandler:function(){this.touchLocked=!1,this.emit(s.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(e){this.stop(),this.emit(s.VIDEO_ERROR,this,e)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(s.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(s.VIDEO_PLAY,this)},completeHandler:function(){this.emit(s.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(s.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var e=this.video;if(e){var t=e.currentTime;t!==this._lastUpdate&&(this._lastUpdate=t,this.updateTexture(),t>=this._markerOut&&(e.loop?(e.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=t,this.emit(s.VIDEO_LOOP,this)):(this.emit(s.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(s.VIDEO_TIMEOUT,this))},updateTexture:function(){var e=this.video,t=e.videoWidth,i=e.videoHeight;if(this.videoTexture){var r=this.videoTextureSource;r.source!==e&&(r.source=e,r.width=t,r.height=i),r.update()}else this.videoTexture=this.scene.sys.textures.create(this._key,e,t,i),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,t,i),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(s.VIDEO_CREATED,this,t,i)},getVideoKey:function(){return this._cacheKey},seekTo:function(e){var t=this.video;if(t){var i=t.duration;if(i!==1/0&&!isNaN(i)){var s=i*e;this.setCurrentTime(s)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(e){var t=this.video;if(t){if("string"==typeof e){var i=e[0],s=parseFloat(e.substr(1));"+"===i?e=t.currentTime+s:"-"===i&&(e=t.currentTime-s)}t.currentTime=e,this._lastUpdate=e}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(s.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(s.VIDEO_SEEKED,this),this.video&&this.updateTexture()},getProgress:function(){var e=this.video;if(e){var t=e.currentTime,i=e.duration;if(i!==1/0&&!isNaN(i))return t/i}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(e){void 0===e&&(e=!0),this._codeMuted=e;var t=this.video;return t&&(t.muted=!!this._systemMuted||e),this},isMuted:function(){return this._codeMuted},globalMute:function(e,t){this._systemMuted=t;var i=this.video;i&&(i.muted=!!this._codeMuted||t)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(e){void 0===e&&(e=!0);var t=this.video;return this._codePaused=e,t&&(e?t.paused||t.pause():e||t.paused&&!this._systemPaused&&t.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(e){return void 0===e&&(e=1),this.video&&(this.video.volume=t(e,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(e){return this.video&&(this.video.playbackRate=e),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(e){return void 0===e&&(e=!0),this.video&&(this.video.loop=e),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(e,t){return void 0===t&&(t=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,e),this._key=e,this.flipY=t,this.videoTextureSource&&this.videoTextureSource.setFlipY(t),this.videoTexture},stop:function(){var e=this.video;if(e){var t=this._callbacks;for(var i in t)e.removeEventListener(i,t[i],!0);e.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(s.VIDEO_STOP,this),this},removeVideoElement:function(){var e=this.video;if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("autoplay"),e.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var e=this.scene.sys.game.events;e.off(r.PAUSE,this.globalPause,this),e.off(r.RESUME,this.globalResume,this);var t=this.scene.sys.sound;t&&t.off(o.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});module.exports=u;
},{"../../utils/Class":"JASv","../../math/Clamp":"eCA1","../components":"VjLH","../events":"obPU","../../core/events/":"Dc0S","../GameObject":"AetT","../../sound/events/":"E7sY","../../utils/string/UUID":"MJ3o","./VideoRender":"R0TV","../../math/const":"HC1y"}],"dJyI":[function(require,module,exports) {
var i=require("../../utils/Class"),t=require("../components"),e=require("../GameObject"),s=require("../../geom/line/Line"),l=new i({Extends:e,Mixins:[t.AlphaSingle,t.BlendMode,t.ComputedSize,t.Depth,t.GetBounds,t.Mask,t.Origin,t.Pipeline,t.ScrollFactor,t.Transform,t.Visible],initialize:function(i,t,l){void 0===t&&(t="Shape"),e.call(this,i,t),this.geom=l,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new s,this.initPipeline()},setFillStyle:function(i,t){return void 0===t&&(t=1),void 0===i?this.isFilled=!1:(this.fillColor=i,this.fillAlpha=t,this.isFilled=!0),this},setStrokeStyle:function(i,t,e){return void 0===e&&(e=1),void 0===i?this.isStroked=!1:(this.lineWidth=i,this.strokeColor=t,this.strokeAlpha=e,this.isStroked=!0),this},setClosePath:function(i){return this.closePath=i,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]}});module.exports=l;
},{"../../utils/Class":"JASv","../components":"VjLH","../GameObject":"AetT","../../geom/line/Line":"nem2"}],"aG54":[function(require,module,exports) {
var e=require("../../renderer/webgl/Utils"),t=function(t,r,a,l,g,n){for(var i=e.getTintAppendFloatAlphaAndSwap(a.fillColor,a.fillAlpha*l),p=a.pathData,o=a.pathIndexes,f=0;f<o.length;f+=3){var h=2*o[f],d=2*o[f+1],s=2*o[f+2],u=p[h+0]-g,A=p[h+1]-n,c=p[d+0]-g,v=p[d+1]-n,x=p[s+0]-g,T=p[s+1]-n,X=r.getX(u,A),Y=r.getY(u,A),b=r.getX(c,v),w=r.getY(c,v),D=r.getX(x,T),m=r.getY(x,T);t.setTexture2D(),t.batchTri(X,Y,b,w,D,m,0,0,1,1,i,i,i,t.tintEffect)}};module.exports=t;
},{"../../renderer/webgl/Utils":"ZkeT"}],"KrNd":[function(require,module,exports) {
var e=require("../../renderer/webgl/Utils"),t=function(t,r,a,o,l){var n=t.strokeTint,h=e.getTintAppendFloatAlphaAndSwap(r.strokeColor,r.strokeAlpha*a);n.TL=h,n.TR=h,n.BL=h,n.BR=h;var i=r.pathData,s=i.length-1,p=r.lineWidth,d=p/2,v=i[0]-o,T=i[1]-l;r.closePath||(s-=2);for(var c=2;c<s;c+=2){var u=i[c]-o,A=i[c+1]-l;t.setTexture2D(),t.batchLine(v,T,u,A,d,d,p,c-2,!!r.closePath&&c===s-1),v=u,T=A}};module.exports=t;
},{"../../renderer/webgl/Utils":"ZkeT"}],"uIi9":[function(require,module,exports) {
var l=require("../FillPathWebGL"),r=require("../StrokePathWebGL"),i=function(i,t,e,a,o){var s=this.pipeline,c=s._tempMatrix1,p=s._tempMatrix2,m=s._tempMatrix3;i.setPipeline(s),p.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),c.copyFrom(a.matrix),o?(c.multiplyWithOffset(o,-a.scrollX*t.scrollFactorX,-a.scrollY*t.scrollFactorY),p.e=t.x,p.f=t.y):(p.e-=a.scrollX*t.scrollFactorX,p.f-=a.scrollY*t.scrollFactorY),c.multiply(p,m);var y=t._displayOriginX,n=t._displayOriginY,x=a.alpha*t.alpha;t.isFilled&&l(s,m,t,x,y,n),t.isStroked&&r(s,t,x,y,n)};module.exports=i;
},{"../FillPathWebGL":"aG54","../StrokePathWebGL":"KrNd"}],"jn8E":[function(require,module,exports) {
var l=function(l,o,r,a){var f=r||o.fillColor,i=a||o.fillAlpha,e=(16711680&f)>>>16,t=(65280&f)>>>8,n=255&f;l.fillStyle="rgba("+e+","+t+","+n+","+i+")"};module.exports=l;
},{}],"WRxg":[function(require,module,exports) {
var e=function(e,o,r,t){var l=r||o.strokeColor,i=t||o.strokeAlpha,a=(16711680&l)>>>16,n=(65280&l)>>>8,s=255&l;e.strokeStyle="rgba("+a+","+n+","+s+","+i+")",e.lineWidth=o.lineWidth};module.exports=e;
},{}],"w9zY":[function(require,module,exports) {
var e=require("../../../math/DegToRad"),r=require("../FillStyleCanvas"),i=require("../LineStyleCanvas"),a=require("../../../renderer/canvas/utils/SetTransform"),t=function(t,n,l,s,o){var u=t.currentContext;if(a(t,u,n,s,o)){var c=n.radius;u.beginPath(),u.arc(c-n.originX*(2*c),c-n.originY*(2*c),c,e(n._startAngle),e(n._endAngle),n.anticlockwise),n.closePath&&u.closePath(),n.isFilled&&(r(u,n),u.fill()),n.isStroked&&(i(u,n),u.stroke()),u.restore()}};module.exports=t;
},{"../../../math/DegToRad":"VYZO","../FillStyleCanvas":"jn8E","../LineStyleCanvas":"WRxg","../../../renderer/canvas/utils/SetTransform":"yLg6"}],"P2pm":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./ArcWebGLRenderer"),r=require("./ArcCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"lZkB","./ArcWebGLRenderer":"uIi9","./ArcCanvasRenderer":"w9zY"}],"xx7B":[function(require,module,exports) {
var t=require("./ArcRender"),i=require("../../../utils/Class"),e=require("../../../math/DegToRad"),s=require("../../../geom/polygon/Earcut"),n=require("../../../geom/circle/Circle"),a=require("../../../math/const"),r=require("../Shape"),h=new i({Extends:r,Mixins:[t],initialize:function(t,i,e,s,a,h,o,u,c){void 0===i&&(i=0),void 0===e&&(e=0),void 0===s&&(s=128),void 0===a&&(a=0),void 0===h&&(h=360),void 0===o&&(o=!1),r.call(this,t,"Arc",new n(0,0,s)),this._startAngle=a,this._endAngle=h,this._anticlockwise=o,this._iterations=.01,this.setPosition(i,e);var d=2*this.geom.radius;this.setSize(d,d),void 0!==u&&this.setFillStyle(u,c),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(t){this._iterations=t,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(t){this.geom.radius=t;var i=2*t;this.setSize(i,i),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(t){this._startAngle=t,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(t){this._endAngle=t,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(t){this._anticlockwise=t,this.updateData()}},setRadius:function(t){return this.radius=t,this},setIterations:function(t){return void 0===t&&(t=.01),this.iterations=t,this},setStartAngle:function(t,i){return this._startAngle=t,void 0!==i&&(this._anticlockwise=i),this.updateData()},setEndAngle:function(t,i){return this._endAngle=t,void 0!==i&&(this._anticlockwise=i),this.updateData()},updateData:function(){var t=this._iterations,i=t,n=this.geom.radius,r=e(this._startAngle),h=e(this._endAngle),o=n,u=n;h-=r,this._anticlockwise?h<-a.PI2?h=-a.PI2:h>0&&(h=-a.PI2+h%a.PI2):h>a.PI2?h=a.PI2:h<0&&(h=a.PI2+h%a.PI2);for(var c,d=[o+Math.cos(r)*n,u+Math.sin(r)*n];i<1;)c=h*i+r,d.push(o+Math.cos(c)*n,u+Math.sin(c)*n),i+=t;return c=h+r,d.push(o+Math.cos(c)*n,u+Math.sin(c)*n),d.push(o+Math.cos(r)*n,u+Math.sin(r)*n),this.pathIndexes=s(d),this.pathData=d,this}});module.exports=h;
},{"./ArcRender":"P2pm","../../../utils/Class":"JASv","../../../math/DegToRad":"VYZO","../../../geom/polygon/Earcut":"k71t","../../../geom/circle/Circle":"VKcd","../../../math/const":"HC1y","../Shape":"dJyI"}],"vlZ8":[function(require,module,exports) {
var l=require("../FillPathWebGL"),r=require("../StrokePathWebGL"),e=function(e,i,t,a,o){var s=this.pipeline,c=s._tempMatrix1,p=s._tempMatrix2,u=s._tempMatrix3;e.setPipeline(s),p.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),c.copyFrom(a.matrix),o?(c.multiplyWithOffset(o,-a.scrollX*i.scrollFactorX,-a.scrollY*i.scrollFactorY),p.e=i.x,p.f=i.y):(p.e-=a.scrollX*i.scrollFactorX,p.f-=a.scrollY*i.scrollFactorY),c.multiply(p,u);var n=i._displayOriginX+i._curveBounds.x,y=i._displayOriginY+i._curveBounds.y,m=a.alpha*i.alpha;i.isFilled&&l(s,u,i,m,n,y),i.isStroked&&r(s,i,m,n,y)};module.exports=e;
},{"../FillPathWebGL":"aG54","../StrokePathWebGL":"KrNd"}],"kB8y":[function(require,module,exports) {
var e=require("../FillStyleCanvas"),r=require("../LineStyleCanvas"),a=require("../../../renderer/canvas/utils/SetTransform"),i=function(i,t,l,n,o){var s=i.currentContext;if(a(i,s,t,n,o)){var u=t._displayOriginX+t._curveBounds.x,v=t._displayOriginY+t._curveBounds.y,c=t.pathData,d=c.length-1,h=c[0]-u,f=c[1]-v;s.beginPath(),s.moveTo(h,f),t.closePath||(d-=2);for(var y=2;y<d;y+=2){var g=c[y]-u,p=c[y+1]-v;s.lineTo(g,p)}t.closePath&&s.closePath(),t.isFilled&&(e(s,t),s.fill()),t.isStroked&&(r(s,t),s.stroke()),s.restore()}};module.exports=i;
},{"../FillStyleCanvas":"jn8E","../LineStyleCanvas":"WRxg","../../../renderer/canvas/utils/SetTransform":"yLg6"}],"eeZN":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./CurveWebGLRenderer"),r=require("./CurveCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"lZkB","./CurveWebGLRenderer":"vlZ8","./CurveCanvasRenderer":"kB8y"}],"pcN5":[function(require,module,exports) {
var t=require("../../../utils/Class"),s=require("./CurveRender"),e=require("../../../geom/polygon/Earcut"),i=require("../../../geom/rectangle/Rectangle"),h=require("../Shape"),o=new t({Extends:h,Mixins:[s],initialize:function(t,s,e,o,n,u){void 0===s&&(s=0),void 0===e&&(e=0),h.call(this,t,"Curve",o),this._smoothness=32,this._curveBounds=new i,this.closePath=!1,this.setPosition(s,e),void 0!==n&&this.setFillStyle(n,u),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(t){this._smoothness=t,this.updateData()}},setSmoothness:function(t){return this._smoothness=t,this.updateData()},updateData:function(){var t=this._curveBounds,s=this._smoothness;this.geom.getBounds(t,s),this.setSize(t.width,t.height),this.updateDisplayOrigin();for(var i=[],h=this.geom.getPoints(s),o=0;o<h.length;o++)i.push(h[o].x,h[o].y);return i.push(h[0].x,h[0].y),this.pathIndexes=e(i),this.pathData=i,this}});module.exports=o;
},{"../../../utils/Class":"JASv","./CurveRender":"eeZN","../../../geom/polygon/Earcut":"k71t","../../../geom/rectangle/Rectangle":"wYVB","../Shape":"dJyI"}],"P8hQ":[function(require,module,exports) {
var e=require("../FillStyleCanvas"),r=require("../LineStyleCanvas"),a=require("../../../renderer/canvas/utils/SetTransform"),i=function(i,t,l,n,o){var s=i.currentContext;if(a(i,s,t,n,o)){var v=t._displayOriginX,u=t._displayOriginY,d=t.pathData,c=d.length-1,f=d[0]-v,h=d[1]-u;s.beginPath(),s.moveTo(f,h),t.closePath||(c-=2);for(var g=2;g<c;g+=2){var p=d[g]-v,y=d[g+1]-u;s.lineTo(p,y)}s.closePath(),t.isFilled&&(e(s,t),s.fill()),t.isStroked&&(r(s,t),s.stroke()),s.restore()}};module.exports=i;
},{"../FillStyleCanvas":"jn8E","../LineStyleCanvas":"WRxg","../../../renderer/canvas/utils/SetTransform":"yLg6"}],"yXmx":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./EllipseWebGLRenderer"),r=require("./EllipseCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"lZkB","./EllipseWebGLRenderer":"uIi9","./EllipseCanvasRenderer":"P8hQ"}],"vFZM":[function(require,module,exports) {
var t=require("../../../utils/Class"),s=require("../../../geom/polygon/Earcut"),e=require("./EllipseRender"),i=require("../../../geom/ellipse/Ellipse"),o=require("../Shape"),h=new t({Extends:o,Mixins:[e],initialize:function(t,s,e,h,n,a,u){void 0===s&&(s=0),void 0===e&&(e=0),void 0===h&&(h=128),void 0===n&&(n=128),o.call(this,t,"Ellipse",new i(h/2,n/2,h,n)),this._smoothness=64,this.setPosition(s,e),this.width=h,this.height=n,void 0!==a&&this.setFillStyle(a,u),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(t){this._smoothness=t,this.updateData()}},setSize:function(t,s){return this.geom.setSize(t,s),this.updateData()},setSmoothness:function(t){return this._smoothness=t,this.updateData()},updateData:function(){for(var t=[],e=this.geom.getPoints(this._smoothness),i=0;i<e.length;i++)t.push(e[i].x,e[i].y);return t.push(e[0].x,e[0].y),this.pathIndexes=s(t),this.pathData=t,this}});module.exports=h;
},{"../../../utils/Class":"JASv","../../../geom/polygon/Earcut":"k71t","./EllipseRender":"yXmx","../../../geom/ellipse/Ellipse":"rdPM","../Shape":"dJyI"}],"A8OC":[function(require,module,exports) {
var l=require("../../../renderer/webgl/Utils"),t=function(t,e,i,a,r){var o=this.pipeline,p=o._tempMatrix1,s=o._tempMatrix2,h=o._tempMatrix3;t.setPipeline(o),s.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),p.copyFrom(a.matrix),r?(p.multiplyWithOffset(r,-a.scrollX*e.scrollFactorX,-a.scrollY*e.scrollFactorY),s.e=e.x,s.f=e.y):(s.e-=a.scrollX*e.scrollFactorX,s.f-=a.scrollY*e.scrollFactorY),p.multiply(s,h),h.translate(-e._displayOriginX,-e._displayOriginY);var n,c,f=a.alpha*e.alpha,T=e.width,A=e.height,F=e.cellWidth,u=e.cellHeight,d=Math.ceil(T/F),x=Math.ceil(A/u),R=F,g=u,m=F-(d*F-T),w=u-(x*u-A),y=e.showCells,L=e.showAltCells,v=e.showOutline,B=0,X=0,Y=0,b=0,C=0;if(v&&(R--,g--,m===F&&m--,w===u&&w--),y&&e.fillAlpha>0)for(n=o.fillTint,c=l.getTintAppendFloatAlphaAndSwap(e.fillColor,e.fillAlpha*f),n.TL=c,n.TR=c,n.BL=c,n.BR=c,X=0;X<x;X++)for(L&&(Y=X%2),B=0;B<d;B++)L&&Y?Y=0:(Y++,b=B<d-1?R:m,C=X<x-1?g:w,o.setTexture2D(),o.batchFillRect(B*F,X*u,b,C));if(L&&e.altFillAlpha>0)for(n=o.fillTint,c=l.getTintAppendFloatAlphaAndSwap(e.altFillColor,e.altFillAlpha*f),n.TL=c,n.TR=c,n.BL=c,n.BR=c,X=0;X<x;X++)for(L&&(Y=X%2),B=0;B<d;B++)!L||Y?(Y=0,b=B<d-1?R:m,C=X<x-1?g:w,o.setTexture2D(),o.batchFillRect(B*F,X*u,b,C)):Y=1;if(v&&e.outlineFillAlpha>0){var M=o.strokeTint,_=l.getTintAppendFloatAlphaAndSwap(e.outlineFillColor,e.outlineFillAlpha*f);for(M.TL=_,M.TR=_,M.BL=_,M.BR=_,B=1;B<d;B++){var D=B*F;o.setTexture2D(),o.batchLine(D,0,D,A,1,1,1,0,!1)}for(X=1;X<x;X++){var O=X*u;o.setTexture2D(),o.batchLine(0,O,T,O,1,1,1,0,!1)}}};module.exports=t;
},{"../../../renderer/webgl/Utils":"ZkeT"}],"QGQJ":[function(require,module,exports) {
var l=require("../FillStyleCanvas"),e=require("../LineStyleCanvas"),i=require("../../../renderer/canvas/utils/SetTransform"),r=function(r,a,o,t,n){var h=r.currentContext;if(i(r,h,a,t,n)){var s=-a._displayOriginX,f=-a._displayOriginY,u=t.alpha*a.alpha,p=a.width,v=a.height,c=a.cellWidth,C=a.cellHeight,F=Math.ceil(p/c),d=Math.ceil(v/C),g=c,A=C,T=c-(F*c-p),m=C-(d*C-v),w=a.showCells,y=a.showAltCells,q=a.showOutline,O=0,S=0,b=0,k=0,x=0;if(q&&(g--,A--,T===c&&T--,m===C&&m--),w&&a.fillAlpha>0)for(l(h,a),S=0;S<d;S++)for(y&&(b=S%2),O=0;O<F;O++)y&&b?b=0:(b++,k=O<F-1?g:T,x=S<d-1?A:m,h.fillRect(s+O*c,f+S*C,k,x));if(y&&a.altFillAlpha>0)for(l(h,a,a.altFillColor,a.altFillAlpha*u),S=0;S<d;S++)for(y&&(b=S%2),O=0;O<F;O++)!y||b?(b=0,k=O<F-1?g:T,x=S<d-1?A:m,h.fillRect(s+O*c,f+S*C,k,x)):b=1;if(q&&a.outlineFillAlpha>0){for(e(h,a,a.outlineFillColor,a.outlineFillAlpha*u),O=1;O<F;O++){var M=O*c;h.beginPath(),h.moveTo(M+s,f),h.lineTo(M+s,v+f),h.stroke()}for(S=1;S<d;S++){var P=S*C;h.beginPath(),h.moveTo(s,P+f),h.lineTo(s+p,P+f),h.stroke()}}h.restore()}};module.exports=r;
},{"../FillStyleCanvas":"jn8E","../LineStyleCanvas":"WRxg","../../../renderer/canvas/utils/SetTransform":"yLg6"}],"vO1D":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./GridWebGLRenderer"),r=require("./GridCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"lZkB","./GridWebGLRenderer":"A8OC","./GridCanvasRenderer":"QGQJ"}],"MGv8":[function(require,module,exports) {
var i=require("../../../utils/Class"),l=require("../Shape"),t=require("./GridRender"),s=new i({Extends:l,Mixins:[t],initialize:function(i,t,s,e,h,o,n,r,u,d,a){void 0===t&&(t=0),void 0===s&&(s=0),void 0===e&&(e=128),void 0===h&&(h=128),void 0===o&&(o=32),void 0===n&&(n=32),l.call(this,i,"Grid",null),this.cellWidth=o,this.cellHeight=n,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(t,s),this.setSize(e,h),void 0!==r&&this.setFillStyle(r,u),void 0!==d&&this.setOutlineStyle(d,a),this.updateDisplayOrigin()},setFillStyle:function(i,l){return void 0===l&&(l=1),void 0===i?this.showCells=!1:(this.fillColor=i,this.fillAlpha=l,this.showCells=!0),this},setAltFillStyle:function(i,l){return void 0===l&&(l=1),void 0===i?this.showAltCells=!1:(this.altFillColor=i,this.altFillAlpha=l,this.showAltCells=!0),this},setOutlineStyle:function(i,l){return void 0===l&&(l=1),void 0===i?this.showOutline=!1:(this.outlineFillColor=i,this.outlineFillAlpha=l,this.showOutline=!0),this}});module.exports=s;
},{"../../../utils/Class":"JASv","../Shape":"dJyI","./GridRender":"vO1D"}],"vIFx":[function(require,module,exports) {
var t=require("../../../renderer/webgl/Utils"),e=function(e,l,a,g,r){var i=this.pipeline,o=i._tempMatrix1,p=i._tempMatrix2,s=i._tempMatrix3;e.setPipeline(i),p.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),o.copyFrom(g.matrix),r?(o.multiplyWithOffset(r,-g.scrollX*l.scrollFactorX,-g.scrollY*l.scrollFactorY),p.e=l.x,p.f=l.y):(p.e-=g.scrollX*l.scrollFactorX,p.f-=g.scrollY*l.scrollFactorY),o.multiply(p,s);var c,h,X,Y,n,d,u,f,x,A=l.width,F=l.height,T=A/2,m=A/l.projection,w=g.alpha*l.alpha;l.isFilled&&(l.showTop&&(c=t.getTintAppendFloatAlphaAndSwap(l.fillTop,w),h=s.getX(-T,-F),X=s.getY(-T,-F),Y=s.getX(0,-m-F),n=s.getY(0,-m-F),d=s.getX(T,-F),u=s.getY(T,-F),f=s.getX(0,m-F),x=s.getY(0,m-F),i.setTexture2D(),i.batchQuad(h,X,Y,n,d,u,f,x,0,0,1,1,c,c,c,c,2)),l.showLeft&&(c=t.getTintAppendFloatAlphaAndSwap(l.fillLeft,w),h=s.getX(-T,0),X=s.getY(-T,0),Y=s.getX(0,m),n=s.getY(0,m),d=s.getX(0,m-F),u=s.getY(0,m-F),f=s.getX(-T,-F),x=s.getY(-T,-F),i.setTexture2D(),i.batchQuad(h,X,Y,n,d,u,f,x,0,0,1,1,c,c,c,c,2)),l.showRight&&(c=t.getTintAppendFloatAlphaAndSwap(l.fillRight,w),h=s.getX(T,0),X=s.getY(T,0),Y=s.getX(0,m),n=s.getY(0,m),d=s.getX(0,m-F),u=s.getY(0,m-F),f=s.getX(T,-F),x=s.getY(T,-F),i.setTexture2D(),i.batchQuad(h,X,Y,n,d,u,f,x,0,0,1,1,c,c,c,c,2)))};module.exports=e;
},{"../../../renderer/webgl/Utils":"ZkeT"}],"ddSt":[function(require,module,exports) {
var e=require("../FillStyleCanvas"),i=require("../../../renderer/canvas/utils/SetTransform"),l=function(l,o,n,T,t){var r=l.currentContext;if(i(l,r,o,T,t)&&o.isFilled){var a=o.width,f=o.height,h=a/2,s=a/o.projection;o.showTop&&(e(r,o,o.fillTop),r.beginPath(),r.moveTo(-h,-f),r.lineTo(0,-s-f),r.lineTo(h,-f),r.lineTo(h,-1),r.lineTo(0,s-1),r.lineTo(-h,-1),r.lineTo(-h,-f),r.fill()),o.showLeft&&(e(r,o,o.fillLeft),r.beginPath(),r.moveTo(-h,0),r.lineTo(0,s),r.lineTo(0,s-f),r.lineTo(-h,-f),r.lineTo(-h,0),r.fill()),o.showRight&&(e(r,o,o.fillRight),r.beginPath(),r.moveTo(h,0),r.lineTo(0,s),r.lineTo(0,s-f),r.lineTo(h,-f),r.lineTo(h,0),r.fill()),r.restore()}};module.exports=l;
},{"../FillStyleCanvas":"jn8E","../../../renderer/canvas/utils/SetTransform":"yLg6"}],"ZX1j":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./IsoBoxWebGLRenderer"),r=require("./IsoBoxCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"lZkB","./IsoBoxWebGLRenderer":"vIFx","./IsoBoxCanvasRenderer":"ddSt"}],"BF1N":[function(require,module,exports) {
var i=require("./IsoBoxRender"),t=require("../../../utils/Class"),s=require("../Shape"),o=new t({Extends:s,Mixins:[i],initialize:function(i,t,o,e,h,l,n,r){void 0===t&&(t=0),void 0===o&&(o=0),void 0===e&&(e=48),void 0===h&&(h=32),void 0===l&&(l=15658734),void 0===n&&(n=10066329),void 0===r&&(r=13421772),s.call(this,i,"IsoBox",null),this.projection=4,this.fillTop=l,this.fillLeft=n,this.fillRight=r,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(t,o),this.setSize(e,h),this.updateDisplayOrigin()},setProjection:function(i){return this.projection=i,this},setFaces:function(i,t,s){return void 0===i&&(i=!0),void 0===t&&(t=!0),void 0===s&&(s=!0),this.showTop=i,this.showLeft=t,this.showRight=s,this},setFillStyle:function(i,t,s){return this.fillTop=i,this.fillLeft=t,this.fillRight=s,this.isFilled=!0,this}});module.exports=o;
},{"./IsoBoxRender":"ZX1j","../../../utils/Class":"JASv","../Shape":"dJyI"}],"MKC5":[function(require,module,exports) {
var t=require("../../../renderer/webgl/Utils"),e=function(e,l,g,r,a){var i=this.pipeline,o=i._tempMatrix1,p=i._tempMatrix2,s=i._tempMatrix3;e.setPipeline(i),p.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),o.copyFrom(r.matrix),a?(o.multiplyWithOffset(a,-r.scrollX*l.scrollFactorX,-r.scrollY*l.scrollFactorY),p.e=l.x,p.f=l.y):(p.e-=r.scrollX*l.scrollFactorX,p.f-=r.scrollY*l.scrollFactorY),o.multiply(p,s);var X=l.width,Y=l.height,c=X/2,h=X/l.projection,n=l.isReversed,d=r.alpha*l.alpha;if(l.isFilled){var f,T,x,A,F,m,u;if(l.showTop&&n){f=t.getTintAppendFloatAlphaAndSwap(l.fillTop,d),T=s.getX(-c,-Y),x=s.getY(-c,-Y),A=s.getX(0,-h-Y),F=s.getY(0,-h-Y),m=s.getX(c,-Y),u=s.getY(c,-Y);var w=s.getX(0,h-Y),v=s.getY(0,h-Y);i.setTexture2D(),i.batchQuad(T,x,A,F,m,u,w,v,0,0,1,1,f,f,f,f,2)}l.showLeft&&(f=t.getTintAppendFloatAlphaAndSwap(l.fillLeft,d),n?(T=s.getX(-c,-Y),x=s.getY(-c,-Y),A=s.getX(0,h),F=s.getY(0,h),m=s.getX(0,h-Y),u=s.getY(0,h-Y)):(T=s.getX(-c,0),x=s.getY(-c,0),A=s.getX(0,h),F=s.getY(0,h),m=s.getX(0,h-Y),u=s.getY(0,h-Y)),i.batchTri(T,x,A,F,m,u,0,0,1,1,f,f,f,2)),l.showRight&&(f=t.getTintAppendFloatAlphaAndSwap(l.fillRight,d),n?(T=s.getX(c,-Y),x=s.getY(c,-Y),A=s.getX(0,h),F=s.getY(0,h),m=s.getX(0,h-Y),u=s.getY(0,h-Y)):(T=s.getX(c,0),x=s.getY(c,0),A=s.getX(0,h),F=s.getY(0,h),m=s.getX(0,h-Y),u=s.getY(0,h-Y)),i.setTexture2D(),i.batchTri(T,x,A,F,m,u,0,0,1,1,f,f,f,2))}};module.exports=e;
},{"../../../renderer/webgl/Utils":"ZkeT"}],"Pwv4":[function(require,module,exports) {
var e=require("../FillStyleCanvas"),i=require("../../../renderer/canvas/utils/SetTransform"),o=function(o,l,n,r,t){var T=o.currentContext;if(i(o,T,l,r,t)&&l.isFilled){var s=l.width,a=l.height,f=s/2,h=s/l.projection,v=l.isReversed;l.showTop&&v&&(e(T,l,l.fillTop),T.beginPath(),T.moveTo(-f,-a),T.lineTo(0,-h-a),T.lineTo(f,-a),T.lineTo(0,h-a),T.fill()),l.showLeft&&(e(T,l,l.fillLeft),T.beginPath(),v?(T.moveTo(-f,-a),T.lineTo(0,h),T.lineTo(0,h-a)):(T.moveTo(-f,0),T.lineTo(0,h),T.lineTo(0,h-a)),T.fill()),l.showRight&&(e(T,l,l.fillRight),T.beginPath(),v?(T.moveTo(f,-a),T.lineTo(0,h),T.lineTo(0,h-a)):(T.moveTo(f,0),T.lineTo(0,h),T.lineTo(0,h-a)),T.fill()),T.restore()}};module.exports=o;
},{"../FillStyleCanvas":"jn8E","../../../renderer/canvas/utils/SetTransform":"yLg6"}],"hYBs":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./IsoTriangleWebGLRenderer"),r=require("./IsoTriangleCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"lZkB","./IsoTriangleWebGLRenderer":"MKC5","./IsoTriangleCanvasRenderer":"Pwv4"}],"KTO1":[function(require,module,exports) {
var i=require("../../../utils/Class"),t=require("./IsoTriangleRender"),s=require("../Shape"),e=new i({Extends:s,Mixins:[t],initialize:function(i,t,e,o,h,l,n,r,d){void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=48),void 0===h&&(h=32),void 0===l&&(l=!1),void 0===n&&(n=15658734),void 0===r&&(r=10066329),void 0===d&&(d=13421772),s.call(this,i,"IsoTriangle",null),this.projection=4,this.fillTop=n,this.fillLeft=r,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=l,this.isFilled=!0,this.setPosition(t,e),this.setSize(o,h),this.updateDisplayOrigin()},setProjection:function(i){return this.projection=i,this},setReversed:function(i){return this.isReversed=i,this},setFaces:function(i,t,s){return void 0===i&&(i=!0),void 0===t&&(t=!0),void 0===s&&(s=!0),this.showTop=i,this.showLeft=t,this.showRight=s,this},setFillStyle:function(i,t,s){return this.fillTop=i,this.fillLeft=t,this.fillRight=s,this.isFilled=!0,this}});module.exports=e;
},{"../../../utils/Class":"JASv","./IsoTriangleRender":"hYBs","../Shape":"dJyI"}],"hZOf":[function(require,module,exports) {
var r=require("../../../renderer/webgl/Utils"),e=function(e,l,t,o,a){var i=this.pipeline,s=i._tempMatrix1,p=i._tempMatrix2;e.setPipeline(i),p.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),s.copyFrom(o.matrix),a?(s.multiplyWithOffset(a,-o.scrollX*l.scrollFactorX,-o.scrollY*l.scrollFactorY),p.e=l.x,p.f=l.y):(p.e-=o.scrollX*l.scrollFactorX,p.f-=o.scrollY*l.scrollFactorY);var c=l._displayOriginX,n=l._displayOriginY,d=o.alpha*l.alpha;if(l.isStroked){var m=i.strokeTint,h=r.getTintAppendFloatAlphaAndSwap(l.strokeColor,l.strokeAlpha*d);m.TL=h,m.TR=h,m.BL=h,m.BR=h;var x=l._startWidth,y=l._endWidth;i.setTexture2D(),i.batchLine(l.geom.x1-c,l.geom.y1-n,l.geom.x2-c,l.geom.y2-n,x,y,1,0,!1,p,s)}};module.exports=e;
},{"../../../renderer/webgl/Utils":"ZkeT"}],"XKIS":[function(require,module,exports) {
var e=require("../LineStyleCanvas"),r=require("../../../renderer/canvas/utils/SetTransform"),i=function(i,o,n,t,a){var s=i.currentContext;if(r(i,s,o,t,a)){var g=o._displayOriginX,m=o._displayOriginY;o.isStroked&&(e(s,o),s.beginPath(),s.moveTo(o.geom.x1-g,o.geom.y1-m),s.lineTo(o.geom.x2-g,o.geom.y2-m),s.stroke()),s.restore()}};module.exports=i;
},{"../LineStyleCanvas":"WRxg","../../../renderer/canvas/utils/SetTransform":"yLg6"}],"IQ9i":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./LineWebGLRenderer"),r=require("./LineCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"lZkB","./LineWebGLRenderer":"hZOf","./LineCanvasRenderer":"XKIS"}],"AsVj":[function(require,module,exports) {
var i=require("../../../utils/Class"),t=require("../Shape"),e=require("../../../geom/line/Line"),s=require("./LineRender"),h=new i({Extends:t,Mixins:[s],initialize:function(i,s,h,o,n,d,r,l,u){void 0===s&&(s=0),void 0===h&&(h=0),void 0===o&&(o=0),void 0===n&&(n=0),void 0===d&&(d=128),void 0===r&&(r=0),t.call(this,i,"Line",new e(o,n,d,r));var a=this.geom.right-this.geom.left,v=this.geom.bottom-this.geom.top;this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(s,h),this.setSize(a,v),void 0!==l&&this.setStrokeStyle(1,l,u),this.updateDisplayOrigin()},setLineWidth:function(i,t){return void 0===t&&(t=i),this._startWidth=i,this._endWidth=t,this.lineWidth=i,this},setTo:function(i,t,e,s){return this.geom.setTo(i,t,e,s),this}});module.exports=h;
},{"../../../utils/Class":"JASv","../Shape":"dJyI","../../../geom/line/Line":"nem2","./LineRender":"IQ9i"}],"ihdE":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./PolygonWebGLRenderer"),r=require("./PolygonCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"lZkB","./PolygonWebGLRenderer":"uIi9","./PolygonCanvasRenderer":"P8hQ"}],"rv7u":[function(require,module,exports) {
var t=require("../rectangle/Rectangle"),e=function(e,n){void 0===n&&(n=new t);for(var a,i=1/0,r=1/0,h=-i,o=-r,x=0;x<e.points.length;x++)a=e.points[x],i=Math.min(i,a.x),r=Math.min(r,a.y),h=Math.max(h,a.x),o=Math.max(o,a.y);return n.x=i,n.y=r,n.width=h-i,n.height=o-r,n};module.exports=e;
},{"../rectangle/Rectangle":"wYVB"}],"fVCd":[function(require,module,exports) {
var n=function(n,t,o){for(var i=!1,p=-1,r=n.points.length-1;++p<n.points.length;r=p){var s=n.points[p].x,e=n.points[p].y,a=n.points[r].x,l=n.points[r].y;(e<=o&&o<l||l<=o&&o<e)&&t<(a-s)*(o-e)/(l-e)+s&&(i=!i)}return i};module.exports=n;
},{}],"YFF2":[function(require,module,exports) {
var e=require("../line/Length"),n=require("../line/Line"),r=function(r){for(var i=r.points,t=0,l=0;l<i.length;l++){var o=i[l],u=i[(l+1)%i.length],a=new n(o.x,o.y,u.x,u.y);t+=e(a)}return t};module.exports=r;
},{"../line/Length":"cDwM","../line/Line":"nem2"}],"sCie":[function(require,module,exports) {
var e=require("../line/Length"),r=require("../line/Line"),i=require("./Perimeter"),n=function(n,t,o,a){void 0===a&&(a=[]);var u=n.points,v=i(n);!t&&o>0&&(t=v/o);for(var l=0;l<t;l++)for(var f=v*(l/t),g=0,h=0;h<u.length;h++){var p=u[h],q=u[(h+1)%u.length],s=new r(p.x,p.y,q.x,q.y),x=e(s);if(!(f<g||f>g+x)){var d=s.getPoint((f-g)/x);a.push(d);break}g+=x}return a};module.exports=n;
},{"../line/Length":"cDwM","../line/Line":"nem2","./Perimeter":"YFF2"}],"OC3c":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./Contains"),s=require("./GetPoints"),r=require("../const"),e=new t({initialize:function(t){this.type=r.POLYGON,this.area=0,this.points=[],t&&this.setTo(t)},contains:function(t,s){return i(this,t,s)},setTo:function(t){if(this.area=0,this.points=[],"string"==typeof t&&(t=t.split(" ")),!Array.isArray(t))return this;for(var i,s=Number.MAX_VALUE,r=0;r<t.length;r++)i={x:0,y:0},"number"==typeof t[r]||"string"==typeof t[r]?(i.x=parseFloat(t[r]),i.y=parseFloat(t[r+1]),r++):Array.isArray(t[r])?(i.x=t[r][0],i.y=t[r][1]):(i.x=t[r].x,i.y=t[r].y),this.points.push(i),i.y<s&&(s=i.y);return this.calculateArea(s),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var t,i,s=0,r=0;r<this.points.length-1;r++)t=this.points[r],s+=((i=this.points[r+1]).x-t.x)*(t.y+i.y);return t=this.points[0],i=this.points[this.points.length-1],s+=(t.x-i.x)*(i.y+t.y),this.area=.5*-s,this.area},getPoints:function(t,i,r){return s(this,t,i,r)}});module.exports=e;
},{"../../utils/Class":"JASv","./Contains":"fVCd","./GetPoints":"sCie","../const":"ytOT"}],"Fyzq":[function(require,module,exports) {
var n=function(n,t){return n[0]=t[0],n[1]=t[1],n},t=function(t){var r,e=[],h=t.points;for(r=0;r<h.length;r++)e.push([h[r].x,h[r].y]);var u=[];for(e.length>0&&u.push(n([0,0],e[0])),r=0;r<e.length-1;r++){var o=e[r],s=e[r+1],p=o[0],l=o[1],g=s[0],a=s[1];u.push([.85*p+.15*g,.85*l+.15*a]),u.push([.15*p+.85*g,.15*l+.85*a])}return e.length>1&&u.push(n([0,0],e[e.length-1])),t.setTo(u)};module.exports=t;
},{}],"XEeT":[function(require,module,exports) {
var e=require("./PolygonRender"),t=require("../../../utils/Class"),i=require("../../../geom/polygon/Earcut"),o=require("../../../geom/polygon/GetAABB"),s=require("../../../geom/polygon/Polygon"),r=require("../Shape"),n=require("../../../geom/polygon/Smooth"),a=new t({Extends:r,Mixins:[e],initialize:function(e,t,i,n,a,h){void 0===t&&(t=0),void 0===i&&(i=0),r.call(this,e,"Polygon",new s(n));var u=o(this.geom);this.setPosition(t,i),this.setSize(u.width,u.height),void 0!==a&&this.setFillStyle(a,h),this.updateDisplayOrigin(),this.updateData()},smooth:function(e){void 0===e&&(e=1);for(var t=0;t<e;t++)n(this.geom);return this.updateData()},updateData:function(){for(var e=[],t=this.geom.points,o=0;o<t.length;o++)e.push(t[o].x,t[o].y);return e.push(t[0].x,t[0].y),this.pathIndexes=i(e),this.pathData=e,this}});module.exports=a;
},{"./PolygonRender":"ihdE","../../../utils/Class":"JASv","../../../geom/polygon/Earcut":"k71t","../../../geom/polygon/GetAABB":"rv7u","../../../geom/polygon/Polygon":"OC3c","../Shape":"dJyI","../../../geom/polygon/Smooth":"Fyzq"}],"DQUX":[function(require,module,exports) {
var l=require("../StrokePathWebGL"),r=require("../../../renderer/webgl/Utils"),i=function(i,t,e,a,o){var p=this.pipeline,s=p._tempMatrix1,c=p._tempMatrix2,n=p._tempMatrix3;i.setPipeline(p),c.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),s.copyFrom(a.matrix),o?(s.multiplyWithOffset(o,-a.scrollX*t.scrollFactorX,-a.scrollY*t.scrollFactorY),c.e=t.x,c.f=t.y):(c.e-=a.scrollX*t.scrollFactorX,c.f-=a.scrollY*t.scrollFactorY),s.multiply(c,n);var h=t._displayOriginX,d=t._displayOriginY,f=a.alpha*t.alpha;if(t.isFilled){var m=p.fillTint,x=r.getTintAppendFloatAlphaAndSwap(t.fillColor,t.fillAlpha*f);m.TL=x,m.TR=x,m.BL=x,m.BR=x,p.setTexture2D(),p.batchFillRect(-h,-d,t.width,t.height)}t.isStroked&&l(p,t,f,h,d)};module.exports=i;
},{"../StrokePathWebGL":"KrNd","../../../renderer/webgl/Utils":"ZkeT"}],"TJP4":[function(require,module,exports) {
var e=require("../FillStyleCanvas"),r=require("../LineStyleCanvas"),i=require("../../../renderer/canvas/utils/SetTransform"),t=function(t,a,n,l,s){var d=t.currentContext;if(i(t,d,a,l,s)){var o=a._displayOriginX,h=a._displayOriginY;a.isFilled&&(e(d,a),d.fillRect(-o,-h,a.width,a.height)),a.isStroked&&(r(d,a),d.beginPath(),d.rect(-o,-h,a.width,a.height),d.stroke()),d.restore()}};module.exports=t;
},{"../FillStyleCanvas":"jn8E","../LineStyleCanvas":"WRxg","../../../renderer/canvas/utils/SetTransform":"yLg6"}],"Yq5o":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./RectangleWebGLRenderer"),r=require("./RectangleCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"lZkB","./RectangleWebGLRenderer":"DQUX","./RectangleCanvasRenderer":"TJP4"}],"Csmh":[function(require,module,exports) {
var e=require("../../../utils/Class"),i=require("../../../geom/rectangle/Rectangle"),t=require("../Shape"),s=require("./RectangleRender"),n=new e({Extends:t,Mixins:[s],initialize:function(e,s,n,a,h,r,u){void 0===s&&(s=0),void 0===n&&(n=0),void 0===a&&(a=128),void 0===h&&(h=128),t.call(this,e,"Rectangle",new i(0,0,a,h)),this.setPosition(s,n),this.setSize(a,h),void 0!==r&&this.setFillStyle(r,u),this.updateDisplayOrigin(),this.updateData()},updateData:function(){var e=[],i=this.geom,t=this._tempLine;return i.getLineA(t),e.push(t.x1,t.y1,t.x2,t.y2),i.getLineB(t),e.push(t.x2,t.y2),i.getLineC(t),e.push(t.x2,t.y2),i.getLineD(t),e.push(t.x2,t.y2),this.pathData=e,this}});module.exports=n;
},{"../../../utils/Class":"JASv","../../../geom/rectangle/Rectangle":"wYVB","../Shape":"dJyI","./RectangleRender":"Yq5o"}],"ayP4":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./StarWebGLRenderer"),r=require("./StarCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"lZkB","./StarWebGLRenderer":"uIi9","./StarCanvasRenderer":"P8hQ"}],"dL5c":[function(require,module,exports) {
var t=require("./StarRender"),i=require("../../../utils/Class"),s=require("../../../geom/polygon/Earcut"),e=require("../Shape"),n=new i({Extends:e,Mixins:[t],initialize:function(t,i,s,n,a,u,r,h){void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=5),void 0===a&&(a=32),void 0===u&&(u=64),e.call(this,t,"Star",null),this._points=n,this._innerRadius=a,this._outerRadius=u,this.setPosition(i,s),this.setSize(2*u,2*u),void 0!==r&&this.setFillStyle(r,h),this.updateDisplayOrigin(),this.updateData()},setPoints:function(t){return this._points=t,this.updateData()},setInnerRadius:function(t){return this._innerRadius=t,this.updateData()},setOuterRadius:function(t){return this._outerRadius=t,this.updateData()},points:{get:function(){return this._points},set:function(t){this._points=t,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(t){this._outerRadius=t,this.updateData()}},updateData:function(){var t=[],i=this._points,e=this._innerRadius,n=this._outerRadius,a=Math.PI/2*3,u=Math.PI/i,r=n,h=n;t.push(r,h+-n);for(var o=0;o<i;o++)t.push(r+Math.cos(a)*n,h+Math.sin(a)*n),a+=u,t.push(r+Math.cos(a)*e,h+Math.sin(a)*e),a+=u;return t.push(r,h+-n),this.pathIndexes=s(t),this.pathData=t,this}});module.exports=n;
},{"./StarRender":"ayP4","../../../utils/Class":"JASv","../../../geom/polygon/Earcut":"k71t","../Shape":"dJyI"}],"t8Ac":[function(require,module,exports) {
var x=function(x,r,y){var e=x.x3-x.x1,n=x.y3-x.y1,o=x.x2-x.x1,t=x.y2-x.y1,u=r-x.x1,a=y-x.y1,v=e*e+n*n,c=e*o+n*t,d=e*u+n*a,f=o*o+t*t,i=o*u+t*a,l=v*f-c*c,m=0===l?0:1/l,p=(f*d-c*i)*m,s=(v*i-c*d)*m;return p>=0&&s>=0&&p+s<1};module.exports=x;
},{}],"jzh2":[function(require,module,exports) {
var e=require("../point/Point"),x=require("../line/Length"),y=function(y,n,r){void 0===r&&(r=new e);var i=y.getLineA(),t=y.getLineB(),o=y.getLineC();if(n<=0||n>=1)return r.x=i.x1,r.y=i.y1,r;var u=x(i),g=x(t),v=x(o),L=(u+g+v)*n,a=0;return L<u?(a=L/u,r.x=i.x1+(i.x2-i.x1)*a,r.y=i.y1+(i.y2-i.y1)*a):L>u+g?(a=(L-=u+g)/v,r.x=o.x1+(o.x2-o.x1)*a,r.y=o.y1+(o.y2-o.y1)*a):(a=(L-=u)/g,r.x=t.x1+(t.x2-t.x1)*a,r.y=t.y1+(t.y2-t.y1)*a),r};module.exports=y;
},{"../point/Point":"IDPQ","../line/Length":"cDwM"}],"caa2":[function(require,module,exports) {
var e=require("../line/Length"),x=require("../point/Point"),r=function(r,y,n,i){void 0===i&&(i=[]);var t=r.getLineA(),o=r.getLineB(),u=r.getLineC(),v=e(t),a=e(o),g=e(u),L=v+a+g;!y&&n>0&&(y=L/n);for(var p=0;p<y;p++){var d=L*(p/y),f=0,h=new x;d<v?(f=d/v,h.x=t.x1+(t.x2-t.x1)*f,h.y=t.y1+(t.y2-t.y1)*f):d>v+a?(f=(d-=v+a)/g,h.x=u.x1+(u.x2-u.x1)*f,h.y=u.y1+(u.y2-u.y1)*f):(f=(d-=v)/a,h.x=o.x1+(o.x2-o.x1)*f,h.y=o.y1+(o.y2-o.y1)*f),i.push(h)}return i};module.exports=r;
},{"../line/Length":"cDwM","../point/Point":"IDPQ"}],"YBUZ":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./Contains"),s=require("./GetPoint"),h=require("./GetPoints"),n=require("../const"),e=require("../line/Line"),o=require("./Random"),x=new t({initialize:function(t,i,s,h,e,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===h&&(h=0),void 0===e&&(e=0),void 0===o&&(o=0),this.type=n.TRIANGLE,this.x1=t,this.y1=i,this.x2=s,this.y2=h,this.x3=e,this.y3=o},contains:function(t,s){return i(this,t,s)},getPoint:function(t,i){return s(this,t,i)},getPoints:function(t,i,s){return h(this,t,i,s)},getRandomPoint:function(t){return o(this,t)},setTo:function(t,i,s,h,n,e){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===h&&(h=0),void 0===n&&(n=0),void 0===e&&(e=0),this.x1=t,this.y1=i,this.x2=s,this.y2=h,this.x3=n,this.y3=e,this},getLineA:function(t){return void 0===t&&(t=new e),t.setTo(this.x1,this.y1,this.x2,this.y2),t},getLineB:function(t){return void 0===t&&(t=new e),t.setTo(this.x2,this.y2,this.x3,this.y3),t},getLineC:function(t){return void 0===t&&(t=new e),t.setTo(this.x3,this.y3,this.x1,this.y1),t},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(t){var i=0;i=this.x1<=this.x2&&this.x1<=this.x3?this.x1-t:this.x2<=this.x1&&this.x2<=this.x3?this.x2-t:this.x3-t,this.x1-=i,this.x2-=i,this.x3-=i}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(t){var i=0;i=this.x1>=this.x2&&this.x1>=this.x3?this.x1-t:this.x2>=this.x1&&this.x2>=this.x3?this.x2-t:this.x3-t,this.x1-=i,this.x2-=i,this.x3-=i}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(t){var i=0;i=this.y1<=this.y2&&this.y1<=this.y3?this.y1-t:this.y2<=this.y1&&this.y2<=this.y3?this.y2-t:this.y3-t,this.y1-=i,this.y2-=i,this.y3-=i}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(t){var i=0;i=this.y1>=this.y2&&this.y1>=this.y3?this.y1-t:this.y2>=this.y1&&this.y2>=this.y3?this.y2-t:this.y3-t,this.y1-=i,this.y2-=i,this.y3-=i}}});module.exports=x;
},{"../../utils/Class":"JASv","./Contains":"t8Ac","./GetPoint":"jzh2","./GetPoints":"caa2","../const":"ytOT","../line/Line":"nem2","./Random":"GQ7o"}],"s3Zr":[function(require,module,exports) {
var l=require("../StrokePathWebGL"),e=require("../../../renderer/webgl/Utils"),r=function(r,i,t,a,o){var p=this.pipeline,s=p._tempMatrix1,c=p._tempMatrix2,m=p._tempMatrix3;r.setPipeline(p),c.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),s.copyFrom(a.matrix),o?(s.multiplyWithOffset(o,-a.scrollX*i.scrollFactorX,-a.scrollY*i.scrollFactorY),c.e=i.x,c.f=i.y):(c.e-=a.scrollX*i.scrollFactorX,c.f-=a.scrollY*i.scrollFactorY),s.multiply(c,m);var n=i._displayOriginX,g=i._displayOriginY,x=a.alpha*i.alpha;if(i.isFilled){var y=p.fillTint,f=e.getTintAppendFloatAlphaAndSwap(i.fillColor,i.fillAlpha*x);y.TL=f,y.TR=f,y.BL=f,y.BR=f;var d=i.geom.x1-n,h=i.geom.y1-g,F=i.geom.x2-n,u=i.geom.y2-g,T=i.geom.x3-n,X=i.geom.y3-g;p.setTexture2D(),p.batchFillTriangle(d,h,F,u,T,X,c,s)}i.isStroked&&l(p,i,x,n,g)};module.exports=r;
},{"../StrokePathWebGL":"KrNd","../../../renderer/webgl/Utils":"ZkeT"}],"iFj4":[function(require,module,exports) {
var e=require("../FillStyleCanvas"),r=require("../LineStyleCanvas"),i=require("../../../renderer/canvas/utils/SetTransform"),o=function(o,l,n,a,t){var s=o.currentContext;if(i(o,s,l,a,t)){var g=l._displayOriginX,m=l._displayOriginY,u=l.geom.x1-g,v=l.geom.y1-m,y=l.geom.x2-g,d=l.geom.y2-m,x=l.geom.x3-g,c=l.geom.y3-m;s.beginPath(),s.moveTo(u,v),s.lineTo(y,d),s.lineTo(x,c),s.closePath(),l.isFilled&&(e(s,l),s.fill()),l.isStroked&&(r(s,l),s.stroke()),s.restore()}};module.exports=o;
},{"../FillStyleCanvas":"jn8E","../LineStyleCanvas":"WRxg","../../../renderer/canvas/utils/SetTransform":"yLg6"}],"pCWU":[function(require,module,exports) {
var e=require("../../../utils/NOOP"),r=require("../../../utils/NOOP");e=require("./TriangleWebGLRenderer"),r=require("./TriangleCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../../utils/NOOP":"lZkB","./TriangleWebGLRenderer":"s3Zr","./TriangleCanvasRenderer":"iFj4"}],"zSaC":[function(require,module,exports) {
var i=require("../../../utils/Class"),t=require("../Shape"),e=require("../../../geom/triangle/Triangle"),s=require("./TriangleRender"),o=new i({Extends:t,Mixins:[s],initialize:function(i,s,o,a,n,r,h,u,d,g,l){void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===n&&(n=128),void 0===r&&(r=64),void 0===h&&(h=0),void 0===u&&(u=128),void 0===d&&(d=128),t.call(this,i,"Triangle",new e(a,n,r,h,u,d));var p=this.geom.right-this.geom.left,v=this.geom.bottom-this.geom.top;this.setPosition(s,o),this.setSize(p,v),void 0!==g&&this.setFillStyle(g,l),this.updateDisplayOrigin(),this.updateData()},setTo:function(i,t,e,s,o,a){return this.geom.setTo(i,t,e,s,o,a),this.updateData()},updateData:function(){var i=[],t=this.geom,e=this._tempLine;return t.getLineA(e),i.push(e.x1,e.y1,e.x2,e.y2),t.getLineB(e),i.push(e.x2,e.y2),t.getLineC(e),i.push(e.x2,e.y2),this.pathData=i,this}});module.exports=o;
},{"../../../utils/Class":"JASv","../Shape":"dJyI","../../../geom/triangle/Triangle":"YBUZ","./TriangleRender":"pCWU"}],"Qqev":[function(require,module,exports) {
var e=require("./Blitter"),r=require("../GameObjectFactory");r.register("blitter",function(r,t,i,s){return this.displayList.add(new e(this.scene,r,t,i,s))});
},{"./Blitter":"uysv","../GameObjectFactory":"QDoc"}],"bBET":[function(require,module,exports) {
var e=require("./Container"),r=require("../GameObjectFactory");r.register("container",function(r,i,t){return this.displayList.add(new e(this.scene,r,i,t))});
},{"./Container":"XM3Y","../GameObjectFactory":"QDoc"}],"IUdS":[function(require,module,exports) {
var e=require("./DOMElement"),t=require("../GameObjectFactory");t.register("dom",function(t,r,i,a,s){var d=new e(this.scene,t,r,i,a,s);return this.displayList.add(d),this.updateList.add(d),d});
},{"./DOMElement":"pAKz","../GameObjectFactory":"QDoc"}],"ZIvA":[function(require,module,exports) {
var e=require("./DynamicBitmapText"),i=require("../../GameObjectFactory");i.register("dynamicBitmapText",function(i,t,r,a,n){return this.displayList.add(new e(this.scene,i,t,r,a,n))});
},{"./DynamicBitmapText":"pcVL","../../GameObjectFactory":"QDoc"}],"g8wu":[function(require,module,exports) {
var e=require("./Extern"),r=require("../GameObjectFactory");r.register("extern",function(){var r=new e(this.scene);return this.displayList.add(r),this.updateList.add(r),r});
},{"./Extern":"NXMC","../GameObjectFactory":"QDoc"}],"RZLU":[function(require,module,exports) {
var e=require("./Graphics"),r=require("../GameObjectFactory");r.register("graphics",function(r){return this.displayList.add(new e(this.scene,r))});
},{"./Graphics":"XM8K","../GameObjectFactory":"QDoc"}],"lwaH":[function(require,module,exports) {
var e=require("./Group"),r=require("../GameObjectFactory");r.register("group",function(r,t){return this.updateList.add(new e(this.scene,r,t))});
},{"./Group":"xnxC","../GameObjectFactory":"QDoc"}],"FzQK":[function(require,module,exports) {
var e=require("./Image"),r=require("../GameObjectFactory");r.register("image",function(r,i,t,a){return this.displayList.add(new e(this.scene,r,i,t,a))});
},{"./Image":"DnOy","../GameObjectFactory":"QDoc"}],"WJkI":[function(require,module,exports) {
var e=require("../GameObjectFactory"),r=require("./ParticleEmitterManager");e.register("particles",function(e,t,i){var a=new r(this.scene,e,t,i);return this.displayList.add(a),this.updateList.add(a),a});
},{"../GameObjectFactory":"QDoc","./ParticleEmitterManager":"Y3Cr"}],"JEFx":[function(require,module,exports) {
var e=require("../GameObjectFactory"),r=require("./PathFollower");e.register("follower",function(e,t,i,a,s){var d=new r(this.scene,e,t,i,a,s);return this.displayList.add(d),this.updateList.add(d),d});
},{"../GameObjectFactory":"QDoc","./PathFollower":"O3pG"}],"yT9P":[function(require,module,exports) {
var e=require("../GameObjectFactory"),r=require("./RenderTexture");e.register("renderTexture",function(e,t,i,n,s,u){return this.displayList.add(new r(this.scene,e,t,i,n,s,u))});
},{"../GameObjectFactory":"QDoc","./RenderTexture":"bRZ2"}],"gvOo":[function(require,module,exports) {
var e=require("./Rope"),r=require("../GameObjectFactory");r.register("rope",function(r,t,i,a,s,d,n,u){var c=new e(this.scene,r,t,i,a,s,d,n,u);return this.displayList.add(c),this.updateList.add(c)});
},{"./Rope":"Uw2t","../GameObjectFactory":"QDoc"}],"rvi5":[function(require,module,exports) {
var e=require("../GameObjectFactory"),r=require("./Sprite");e.register("sprite",function(e,t,i,s){var a=new r(this.scene,e,t,i,s);return this.displayList.add(a),this.updateList.add(a),a});
},{"../GameObjectFactory":"QDoc","./Sprite":"ZUCM"}],"nImP":[function(require,module,exports) {
var e=require("./BitmapText"),t=require("../../GameObjectFactory");t.register("bitmapText",function(t,i,r,a,s,n){return this.displayList.add(new e(this.scene,t,i,r,a,s,n))});
},{"./BitmapText":"KD9W","../../GameObjectFactory":"QDoc"}],"eXLP":[function(require,module,exports) {
var e=require("./Text"),t=require("../../GameObjectFactory");t.register("text",function(t,r,i,s){return this.displayList.add(new e(this.scene,t,r,i,s))});
},{"./Text":"CBp4","../../GameObjectFactory":"QDoc"}],"mFek":[function(require,module,exports) {
var e=require("./TileSprite"),i=require("../GameObjectFactory");i.register("tileSprite",function(i,r,t,s,a,n){return this.displayList.add(new e(this.scene,i,r,t,s,a,n))});
},{"./TileSprite":"Ixoc","../GameObjectFactory":"QDoc"}],"Vaqd":[function(require,module,exports) {
var e=require("./Zone"),r=require("../GameObjectFactory");r.register("zone",function(r,i,t,n){return this.displayList.add(new e(this.scene,r,i,t,n))});
},{"./Zone":"SQPm","../GameObjectFactory":"QDoc"}],"Umgd":[function(require,module,exports) {
var e=require("./Video"),i=require("../GameObjectFactory");i.register("video",function(i,r,t){var a=new e(this.scene,i,r,t);return this.displayList.add(a),this.updateList.add(a),a});
},{"./Video":"YQws","../GameObjectFactory":"QDoc"}],"OXBY":[function(require,module,exports) {
var e=require("./Arc"),r=require("../../GameObjectFactory");r.register("arc",function(r,i,t,s,c,n,a,d){return this.displayList.add(new e(this.scene,r,i,t,s,c,n,a,d))}),r.register("circle",function(r,i,t,s,c){return this.displayList.add(new e(this.scene,r,i,t,0,360,!1,s,c))});
},{"./Arc":"xx7B","../../GameObjectFactory":"QDoc"}],"lxrW":[function(require,module,exports) {
var e=require("../../GameObjectFactory"),r=require("./Curve");e.register("curve",function(e,i,t,s,u){return this.displayList.add(new r(this.scene,e,i,t,s,u))});
},{"../../GameObjectFactory":"QDoc","./Curve":"pcN5"}],"cJnt":[function(require,module,exports) {
var e=require("./Ellipse"),i=require("../../GameObjectFactory");i.register("ellipse",function(i,r,s,t,a,l){return this.displayList.add(new e(this.scene,i,r,s,t,a,l))});
},{"./Ellipse":"vFZM","../../GameObjectFactory":"QDoc"}],"aZQm":[function(require,module,exports) {
var e=require("../../GameObjectFactory"),r=require("./Grid");e.register("grid",function(e,i,t,s,a,d,n,c,u,g){return this.displayList.add(new r(this.scene,e,i,t,s,a,d,n,c,u,g))});
},{"../../GameObjectFactory":"QDoc","./Grid":"MGv8"}],"wxI3":[function(require,module,exports) {
var e=require("../../GameObjectFactory"),r=require("./IsoBox");e.register("isobox",function(e,i,s,t,o,a,n){return this.displayList.add(new r(this.scene,e,i,s,t,o,a,n))});
},{"../../GameObjectFactory":"QDoc","./IsoBox":"BF1N"}],"LqVJ":[function(require,module,exports) {
var e=require("../../GameObjectFactory"),r=require("./IsoTriangle");e.register("isotriangle",function(e,i,t,s,a,n,c,o){return this.displayList.add(new r(this.scene,e,i,t,s,a,n,c,o))});
},{"../../GameObjectFactory":"QDoc","./IsoTriangle":"KTO1"}],"zWoH":[function(require,module,exports) {
var e=require("../../GameObjectFactory"),i=require("./Line");e.register("line",function(e,r,t,n,s,a,c,u){return this.displayList.add(new i(this.scene,e,r,t,n,s,a,c,u))});
},{"../../GameObjectFactory":"QDoc","./Line":"AsVj"}],"JI21":[function(require,module,exports) {
var e=require("../../GameObjectFactory"),r=require("./Polygon");e.register("polygon",function(e,i,t,n,o){return this.displayList.add(new r(this.scene,e,i,t,n,o))});
},{"../../GameObjectFactory":"QDoc","./Polygon":"XEeT"}],"Vlps":[function(require,module,exports) {
var e=require("../../GameObjectFactory"),r=require("./Rectangle");e.register("rectangle",function(e,t,i,a,n,c){return this.displayList.add(new r(this.scene,e,t,i,a,n,c))});
},{"../../GameObjectFactory":"QDoc","./Rectangle":"Csmh"}],"QcSq":[function(require,module,exports) {
var e=require("./Star"),r=require("../../GameObjectFactory");r.register("star",function(r,t,i,a,s,n,c){return this.displayList.add(new e(this.scene,r,t,i,a,s,n,c))});
},{"./Star":"dL5c","../../GameObjectFactory":"QDoc"}],"I88X":[function(require,module,exports) {
var e=require("../../GameObjectFactory"),r=require("./Triangle");e.register("triangle",function(e,i,t,a,n,s,c,u,d,g){return this.displayList.add(new r(this.scene,e,i,t,a,n,s,c,u,d,g))});
},{"../../GameObjectFactory":"QDoc","./Triangle":"zSaC"}],"Mvei":[function(require,module,exports) {
var e=require("./Blitter"),r=require("../BuildGameObject"),t=require("../GameObjectCreator"),i=require("../../utils/object/GetAdvancedValue");t.register("blitter",function(t,u){void 0===t&&(t={});var a=i(t,"key",null),l=i(t,"frame",null),n=new e(this.scene,0,0,a,l);return void 0!==u&&(t.add=u),r(this.scene,n,t),n});
},{"./Blitter":"uysv","../BuildGameObject":"BMFz","../GameObjectCreator":"vSy1","../../utils/object/GetAdvancedValue":"vpak"}],"K5qj":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("./Container"),i=require("../GameObjectCreator"),t=require("../../utils/object/GetAdvancedValue");i.register("container",function(i,n){void 0===i&&(i={});var a=t(i,"x",0),u=t(i,"y",0),c=new r(this.scene,a,u);return void 0!==n&&(i.add=n),e(this.scene,c,i),c});
},{"../BuildGameObject":"BMFz","./Container":"XM3Y","../GameObjectCreator":"vSy1","../../utils/object/GetAdvancedValue":"vpak"}],"IDho":[function(require,module,exports) {
var e=require("./DynamicBitmapText"),t=require("../../BuildGameObject"),i=require("../../GameObjectCreator"),r=require("../../../utils/object/GetAdvancedValue");i.register("dynamicBitmapText",function(i,a){void 0===i&&(i={});var n=r(i,"font",""),c=r(i,"text",""),u=r(i,"size",!1),d=new e(this.scene,0,0,n,c,u);return void 0!==a&&(i.add=a),t(this.scene,d,i),d});
},{"./DynamicBitmapText":"pcVL","../../BuildGameObject":"BMFz","../../GameObjectCreator":"vSy1","../../../utils/object/GetAdvancedValue":"vpak"}],"fnKR":[function(require,module,exports) {
var e=require("../GameObjectCreator"),r=require("./Graphics");e.register("graphics",function(e,i){void 0===e&&(e={}),void 0!==i&&(e.add=i);var s=new r(this.scene,e);return e.add&&this.scene.sys.displayList.add(s),s});
},{"../GameObjectCreator":"vSy1","./Graphics":"XM8K"}],"NNuH":[function(require,module,exports) {
var e=require("../GameObjectCreator"),r=require("./Group");e.register("group",function(e){return new r(this.scene,null,e)});
},{"../GameObjectCreator":"vSy1","./Group":"xnxC"}],"LRFn":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("../GameObjectCreator"),i=require("../../utils/object/GetAdvancedValue"),a=require("./Image");r.register("image",function(r,t){void 0===r&&(r={});var u=i(r,"key",null),n=i(r,"frame",null),c=new a(this.scene,0,0,u,n);return void 0!==t&&(r.add=t),e(this.scene,c,r),c});
},{"../BuildGameObject":"BMFz","../GameObjectCreator":"vSy1","../../utils/object/GetAdvancedValue":"vpak","./Image":"DnOy"}],"ep8G":[function(require,module,exports) {
var e=require("../GameObjectCreator"),t=require("../../utils/object/GetAdvancedValue"),r=require("../../utils/object/GetFastValue"),i=require("./ParticleEmitterManager");e.register("particles",function(e,a){void 0===e&&(e={});var d=t(e,"key",null),u=t(e,"frame",null),l=r(e,"emitters",null),s=new i(this.scene,d,u,l);return void 0!==a&&(e.add=a),r(e,"add",!1)&&this.displayList.add(s),this.updateList.add(s),s});
},{"../GameObjectCreator":"vSy1","../../utils/object/GetAdvancedValue":"vpak","../../utils/object/GetFastValue":"cEup","./ParticleEmitterManager":"Y3Cr"}],"PLLi":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("../GameObjectCreator"),i=require("../../utils/object/GetAdvancedValue"),t=require("./RenderTexture");r.register("renderTexture",function(r,d){void 0===r&&(r={});var u=i(r,"x",0),a=i(r,"y",0),n=i(r,"width",32),c=i(r,"height",32),o=i(r,"key",void 0),v=i(r,"frame",void 0),s=new t(this.scene,u,a,n,c,o,v);return void 0!==d&&(r.add=d),e(this.scene,s,r),s});
},{"../BuildGameObject":"BMFz","../GameObjectCreator":"vSy1","../../utils/object/GetAdvancedValue":"vpak","./RenderTexture":"bRZ2"}],"NOns":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("../GameObjectCreator"),i=require("../../utils/object/GetAdvancedValue"),o=require("../../utils/object/GetValue"),t=require("./Rope");r.register("rope",function(r,u){void 0===r&&(r={});var a=i(r,"key",null),l=i(r,"frame",null),n=i(r,"horizontal",!0),d=o(r,"points",void 0),s=o(r,"colors",void 0),c=o(r,"alphas",void 0),v=new t(this.scene,0,0,a,l,d,n,s,c);return void 0!==u&&(r.add=u),e(this.scene,v,r),v});
},{"../BuildGameObject":"BMFz","../GameObjectCreator":"vSy1","../../utils/object/GetAdvancedValue":"vpak","../../utils/object/GetValue":"OqLI","./Rope":"Uw2t"}],"vOia":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("../BuildGameObjectAnimation"),i=require("../GameObjectCreator"),t=require("../../utils/object/GetAdvancedValue"),u=require("./Sprite");i.register("sprite",function(i,a){void 0===i&&(i={});var n=t(i,"key",null),c=t(i,"frame",null),d=new u(this.scene,0,0,n,c);return void 0!==a&&(i.add=a),e(this.scene,d,i),r(d,i),d});
},{"../BuildGameObject":"BMFz","../BuildGameObjectAnimation":"LH68","../GameObjectCreator":"vSy1","../../utils/object/GetAdvancedValue":"vpak","./Sprite":"ZUCM"}],"QdYt":[function(require,module,exports) {
var e=require("./BitmapText"),t=require("../../BuildGameObject"),i=require("../../GameObjectCreator"),r=require("../../../utils/object/GetAdvancedValue"),a=require("../../../utils/object/GetValue");i.register("bitmapText",function(i,u){void 0===i&&(i={});var n=a(i,"font",""),c=r(i,"text",""),s=r(i,"size",!1),d=a(i,"align",0),o=new e(this.scene,0,0,n,c,s,d);return void 0!==u&&(i.add=u),t(this.scene,o,i),o});
},{"./BitmapText":"KD9W","../../BuildGameObject":"BMFz","../../GameObjectCreator":"vSy1","../../../utils/object/GetAdvancedValue":"vpak","../../../utils/object/GetValue":"OqLI"}],"F4UM":[function(require,module,exports) {
var e=require("../../BuildGameObject"),t=require("../../GameObjectCreator"),r=require("../../../utils/object/GetAdvancedValue"),u=require("./Text");t.register("text",function(t,i){void 0===t&&(t={});var n=r(t,"text",""),a=r(t,"style",null),d=r(t,"padding",null);null!==d&&(a.padding=d);var o=new u(this.scene,0,0,n,a);return void 0!==i&&(t.add=i),e(this.scene,o,t),o.autoRound=r(t,"autoRound",!0),o.resolution=r(t,"resolution",1),o});
},{"../../BuildGameObject":"BMFz","../../GameObjectCreator":"vSy1","../../../utils/object/GetAdvancedValue":"vpak","./Text":"CBp4"}],"JHlu":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("../GameObjectCreator"),i=require("../../utils/object/GetAdvancedValue"),t=require("./TileSprite");r.register("tileSprite",function(r,a){void 0===r&&(r={});var u=i(r,"x",0),d=i(r,"y",0),c=i(r,"width",512),n=i(r,"height",512),s=i(r,"key",""),h=i(r,"frame",""),l=new t(this.scene,u,d,c,n,s,h);return void 0!==a&&(r.add=a),e(this.scene,l,r),l});
},{"../BuildGameObject":"BMFz","../GameObjectCreator":"vSy1","../../utils/object/GetAdvancedValue":"vpak","./TileSprite":"Ixoc"}],"Xmuq":[function(require,module,exports) {
var e=require("../GameObjectCreator"),r=require("../../utils/object/GetAdvancedValue"),t=require("./Zone");e.register("zone",function(e){var i=r(e,"x",0),n=r(e,"y",0),u=r(e,"width",1),a=r(e,"height",u);return new t(this.scene,i,n,u,a)});
},{"../GameObjectCreator":"vSy1","../../utils/object/GetAdvancedValue":"vpak","./Zone":"SQPm"}],"GWgy":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("../GameObjectCreator"),i=require("../../utils/object/GetAdvancedValue"),t=require("./Video");r.register("video",function(r,u){void 0===r&&(r={});var d=i(r,"key",null),a=new t(this.scene,0,0,d);return void 0!==u&&(r.add=u),e(this.scene,a,r),a});
},{"../BuildGameObject":"BMFz","../GameObjectCreator":"vSy1","../../utils/object/GetAdvancedValue":"vpak","./Video":"YQws"}],"jh5W":[function(require,module,exports) {
var e=require("../../renderer/webgl/Utils"),t=function(t,r,l,o,a){var i=this.pipeline;t.setPipeline(i,r);var s=i._tempMatrix1,c=i._tempMatrix2,p=i._tempMatrix3;c.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),s.copyFrom(o.matrix),a?(s.multiplyWithOffset(a,-o.scrollX*r.scrollFactorX,-o.scrollY*r.scrollFactorY),c.e=r.x,c.f=r.y,s.multiply(c,p)):(c.e-=o.scrollX*r.scrollFactorX,c.f-=o.scrollY*r.scrollFactorY,s.multiply(c,p));var n=r.frame.glTexture,u=r.vertices,x=r.uv,v=r.colors,m=r.alphas,f=u.length,h=Math.floor(.5*f);i.vertexCount+h>i.vertexCapacity&&i.flush(),i.setTexture2D(n,0);for(var y=i.vertexViewF32,F=i.vertexViewU32,d=i.vertexCount*i.vertexComponentCount-1,C=0,M=r.tintFill,X=0;X<f;X+=2){var Y=u[X+0],g=u[X+1],T=Y*p.a+g*p.c+p.e,w=Y*p.b+g*p.d+p.f;o.roundPixels&&(T=Math.round(T),w=Math.round(w)),y[++d]=T,y[++d]=w,y[++d]=x[X+0],y[++d]=x[X+1],y[++d]=M,F[++d]=e.getTintAppendFloatAlpha(v[C],o.alpha*m[C]),C++}i.vertexCount+=h};module.exports=t;
},{"../../renderer/webgl/Utils":"ZkeT"}],"OUWa":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./MeshWebGLRenderer"),r=require("./MeshCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"lZkB","./MeshWebGLRenderer":"jh5W","./MeshCanvasRenderer":"lZkB"}],"ETXO":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../components"),r=require("../GameObject"),i=require("./MeshRender"),n=require("../../utils/NOOP"),s=new e({Extends:r,Mixins:[t.BlendMode,t.Depth,t.Mask,t.Pipeline,t.Size,t.Texture,t.Transform,t.Visible,t.ScrollFactor,i],initialize:function(e,t,i,n,s,h,o,l,a){if(r.call(this,e,"Mesh"),n.length!==s.length)throw new Error("Mesh Vertex count must match UV count");var u,c=n.length/2|0;if(h.length>0&&h.length<c)throw new Error("Mesh Color count must match Vertex count");if(o.length>0&&o.length<c)throw new Error("Mesh Alpha count must match Vertex count");if(0===h.length)for(u=0;u<c;++u)h[u]=16777215;if(0===o.length)for(u=0;u<c;++u)o[u]=1;this.vertices=new Float32Array(n),this.uv=new Float32Array(s),this.colors=new Uint32Array(h),this.alphas=new Float32Array(o),this.tintFill=!1,this.setTexture(l,a),this.setPosition(t,i),this.setSizeToFrame(),this.initPipeline()},setAlpha:n});module.exports=s;
},{"../../utils/Class":"JASv","../components":"VjLH","../GameObject":"AetT","./MeshRender":"OUWa","../../utils/NOOP":"lZkB"}],"kiJf":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("../mesh/Mesh"),s=new t({Extends:i,initialize:function(t,s,e,h,o){i.call(this,t,s,e,[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,0,0,1,1,1,0],[16777215,16777215,16777215,16777215,16777215,16777215],[1,1,1,1,1,1],h,o),this.resetPosition()},setFrame:function(t){return this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,t=this.frame,this.uv[0]=t.u0,this.uv[1]=t.v0,this.uv[2]=t.u0,this.uv[3]=t.v1,this.uv[4]=t.u1,this.uv[5]=t.v1,this.uv[6]=t.u0,this.uv[7]=t.v0,this.uv[8]=t.u1,this.uv[9]=t.v1,this.uv[10]=t.u1,this.uv[11]=t.v0,this},topLeftX:{get:function(){return this.x+this.vertices[0]},set:function(t){this.vertices[0]=t-this.x,this.vertices[6]=t-this.x}},topLeftY:{get:function(){return this.y+this.vertices[1]},set:function(t){this.vertices[1]=t-this.y,this.vertices[7]=t-this.y}},topRightX:{get:function(){return this.x+this.vertices[10]},set:function(t){this.vertices[10]=t-this.x}},topRightY:{get:function(){return this.y+this.vertices[11]},set:function(t){this.vertices[11]=t-this.y}},bottomLeftX:{get:function(){return this.x+this.vertices[2]},set:function(t){this.vertices[2]=t-this.x}},bottomLeftY:{get:function(){return this.y+this.vertices[3]},set:function(t){this.vertices[3]=t-this.y}},bottomRightX:{get:function(){return this.x+this.vertices[4]},set:function(t){this.vertices[4]=t-this.x,this.vertices[8]=t-this.x}},bottomRightY:{get:function(){return this.y+this.vertices[5]},set:function(t){this.vertices[5]=t-this.y,this.vertices[9]=t-this.y}},topLeftAlpha:{get:function(){return this.alphas[0]},set:function(t){this.alphas[0]=t,this.alphas[3]=t}},topRightAlpha:{get:function(){return this.alphas[5]},set:function(t){this.alphas[5]=t}},bottomLeftAlpha:{get:function(){return this.alphas[1]},set:function(t){this.alphas[1]=t}},bottomRightAlpha:{get:function(){return this.alphas[2]},set:function(t){this.alphas[2]=t,this.alphas[4]=t}},topLeftColor:{get:function(){return this.colors[0]},set:function(t){this.colors[0]=t,this.colors[3]=t}},topRightColor:{get:function(){return this.colors[5]},set:function(t){this.colors[5]=t}},bottomLeftColor:{get:function(){return this.colors[1]},set:function(t){this.colors[1]=t}},bottomRightColor:{get:function(){return this.colors[2]},set:function(t){this.colors[2]=t,this.colors[4]=t}},setTopLeft:function(t,i){return this.topLeftX=t,this.topLeftY=i,this},setTopRight:function(t,i){return this.topRightX=t,this.topRightY=i,this},setBottomLeft:function(t,i){return this.bottomLeftX=t,this.bottomLeftY=i,this},setBottomRight:function(t,i){return this.bottomRightX=t,this.bottomRightY=i,this},resetPosition:function(){var t=this.x,i=this.y,s=Math.floor(this.width/2),e=Math.floor(this.height/2);return this.setTopLeft(t-s,i-e),this.setTopRight(t+s,i-e),this.setBottomLeft(t-s,i+e),this.setBottomRight(t+s,i+e),this},resetAlpha:function(){var t=this.alphas;return t[0]=1,t[1]=1,t[2]=1,t[3]=1,t[4]=1,t[5]=1,this},resetColors:function(){var t=this.colors;return t[0]=16777215,t[1]=16777215,t[2]=16777215,t[3]=16777215,t[4]=16777215,t[5]=16777215,this},reset:function(){return this.resetPosition(),this.resetAlpha(),this.resetColors()}});module.exports=s;
},{"../../utils/Class":"JASv","../mesh/Mesh":"ETXO"}],"XSgj":[function(require,module,exports) {
var r=function(r,e,n){if(!r||"number"==typeof r)return!1;if(r.hasOwnProperty(e))return r[e]=n,!0;if(-1!==e.indexOf(".")){for(var t=e.split("."),f=r,u=r,i=0;i<t.length;i++){if(!f.hasOwnProperty(t[i]))return!1;u=f,f=f[t[i]]}return u[t[t.length-1]]=n,!0}return!1};module.exports=r;
},{}],"s5Cz":[function(require,module,exports) {
var r=function(r,e,l,t,i){if(e.shader){var o=r.currentPipeline;if(r.clearPipeline(),e.renderToTexture)e.load(),e.flush();else{var a=e._tempMatrix1,c=e._tempMatrix2,s=e._tempMatrix3;c.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),a.copyFrom(t.matrix),i?(a.multiplyWithOffset(i,-t.scrollX*e.scrollFactorX,-t.scrollY*e.scrollFactorY),c.e=e.x,c.f=e.y):(c.e-=t.scrollX*e.scrollFactorX,c.f-=t.scrollY*e.scrollFactorY),a.multiply(c,s),r.width===e._rendererWidth&&r.height===e._rendererHeight||e.projOrtho(0,r.width,r.height,0),e.load(s.matrix),e.flush()}r.rebindPipeline(o)}};module.exports=r;
},{}],"ecy0":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./ShaderWebGLRenderer"),r=require("./ShaderCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"lZkB","./ShaderWebGLRenderer":"s5Cz","./ShaderCanvasRenderer":"lZkB"}],"CaTM":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../components"),r=require("../GameObject"),i=require("../../utils/object/GetFastValue"),s=require("../../utils/object/Extend"),a=require("../../utils/object/SetValue"),n=require("./ShaderRender"),h=require("../components/TransformMatrix"),u=new e({Extends:r,Mixins:[t.ComputedSize,t.Depth,t.GetBounds,t.Mask,t.Origin,t.ScrollFactor,t.Transform,t.Visible,n],initialize:function(e,t,i,s,a,n,u,o){void 0===i&&(i=0),void 0===s&&(s=0),void 0===a&&(a=128),void 0===n&&(n=128),r.call(this,e,"Shader"),this.blendMode=-1,this.shader;var l=e.sys.renderer;this.renderer=l,this.gl=l.gl,this.vertexData=new ArrayBuffer(2*Float32Array.BYTES_PER_ELEMENT*6),this.vertexBuffer=l.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=l.width,this._rendererHeight=l.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(i,s),this.setSize(a,n),this.setOrigin(.5,.5),this.setShader(t,u,o)},willRender:function(e){return!!this.renderToTexture||!(r.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&e.id)},setRenderToTexture:function(e,t){if(void 0===t&&(t=!1),!this.renderToTexture){var r=this.width,i=this.height,s=this.renderer;this.glTexture=s.createTextureFromSource(null,r,i,0),this.glTexture.flipY=t,this.framebuffer=s.createFramebuffer(r,i,this.glTexture,!1),this._rendererWidth=r,this._rendererHeight=i,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),e&&(this.texture=this.scene.sys.textures.addGLTexture(e,this.glTexture,r,i))}if(this.shader){var a=s.currentPipeline;s.clearPipeline(),this.load(),this.flush(),s.rebindPipeline(a)}return this},setShader:function(e,t,r){if(void 0===t&&(t=[]),"string"==typeof e){var i=this.scene.sys.cache.shader;if(!i.has(e))return console.warn("Shader missing: "+e),this;this.shader=i.get(e)}else this.shader=e;var a=this.gl,n=this.renderer;this.program&&a.deleteProgram(this.program);var h=n.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);n.setMatrix4(h,"uViewMatrix",!1,this.viewMatrix),n.setMatrix4(h,"uProjectionMatrix",!1,this.projectionMatrix),n.setFloat2(h,"uResolution",this.width,this.height),this.program=h;var u=new Date,o={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[u.getFullYear(),u.getMonth(),u.getDate(),60*u.getHours()*60+60*u.getMinutes()+u.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=s(!0,{},this.shader.uniforms,o):this.uniforms=o;for(var l=0;l<4;l++)t[l]&&this.setSampler2D("iChannel"+l,t[l],l,r);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(e){return this.pointer=e,this},projOrtho:function(e,t,r,i){var s=1/(e-t),a=1/(r-i),n=this.projectionMatrix;n[0]=-2*s,n[5]=-2*a,n[10]=-.001,n[12]=(e+t)*s,n[13]=(i+r)*a,n[14]=-0;var h=this.program;this.renderer.setMatrix4(h,"uProjectionMatrix",!1,this.projectionMatrix),this._rendererWidth=t,this._rendererHeight=r},initUniforms:function(){var e=this.gl,t=this.renderer.glFuncMap,r=this.program;for(var i in this._textureCount=0,this.uniforms){var s=this.uniforms[i],a=s.type,n=t[a];s.uniformLocation=e.getUniformLocation(r,i),"sampler2D"!==a&&(s.glMatrix=n.matrix,s.glValueLength=n.length,s.glFunc=n.func)}},setSampler2DBuffer:function(e,t,r,i,s,a){void 0===s&&(s=0),void 0===a&&(a={});var n=this.uniforms[e];return n.value=t,a.width=r,a.height=i,n.textureData=a,this._textureCount=s,this.initSampler2D(n),this},setSampler2D:function(e,t,r,i){void 0===r&&(r=0);var s=this.scene.sys.textures;if(s.exists(t)){var a=s.getFrame(t),n=this.uniforms[e],h=a.source;n.textureKey=t,n.source=h.image,n.value=a.glTexture,h.isGLTexture&&(i||(i={}),i.width=h.width,i.height=h.height),i&&(n.textureData=i),this._textureCount=r,this.initSampler2D(n)}return this},setUniform:function(e,t){return a(this.uniforms,e,t),this},getUniform:function(e){return i(this.uniforms,e,null)},setChannel0:function(e,t){return this.setSampler2D("iChannel0",e,0,t)},setChannel1:function(e,t){return this.setSampler2D("iChannel1",e,1,t)},setChannel2:function(e,t){return this.setSampler2D("iChannel2",e,2,t)},setChannel3:function(e,t){return this.setSampler2D("iChannel3",e,3,t)},initSampler2D:function(e){if(e.value){var t=this.gl;t.activeTexture(t.TEXTURE0+this._textureCount),t.bindTexture(t.TEXTURE_2D,e.value);var r=e.textureData;if(r){var s=t[i(r,"magFilter","linear").toUpperCase()],a=t[i(r,"minFilter","linear").toUpperCase()],n=t[i(r,"wrapS","repeat").toUpperCase()],h=t[i(r,"wrapT","repeat").toUpperCase()],u=t[i(r,"format","rgba").toUpperCase()];if(r.repeat&&(n=t.REPEAT,h=t.REPEAT),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!r.flipY),r.width){var o=i(r,"width",512),l=i(r,"height",2),f=i(r,"border",0);t.texImage2D(t.TEXTURE_2D,0,u,o,l,f,u,t.UNSIGNED_BYTE,null)}else t.texImage2D(t.TEXTURE_2D,0,u,t.RGBA,t.UNSIGNED_BYTE,e.source);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,s),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,h)}this.renderer.setProgram(this.program),t.uniform1i(e.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var e,t,r,i,s,a=this.gl,n=this.uniforms,h=0;for(var u in n)r=(e=n[u]).glFunc,t=e.glValueLength,i=e.uniformLocation,null!==(s=e.value)&&(1===t?e.glMatrix?r.call(a,i,e.transpose,s):r.call(a,i,s):2===t?r.call(a,i,s.x,s.y):3===t?r.call(a,i,s.x,s.y,s.z):4===t?r.call(a,i,s.x,s.y,s.z,s.w):"sampler2D"===e.type&&(a.activeTexture(a["TEXTURE"+h]),a.bindTexture(a.TEXTURE_2D,s),a.uniform1i(i,h),h++))},load:function(e){var t=this.gl,r=this.width,i=this.height,s=this.renderer,a=this.program,n=this.viewMatrix;if(!this.renderToTexture){var h=-this._displayOriginX,u=-this._displayOriginY;n[0]=e[0],n[1]=e[1],n[4]=e[2],n[5]=e[3],n[8]=e[4],n[9]=e[5],n[12]=n[0]*h+n[4]*u,n[13]=n[1]*h+n[5]*u}t.useProgram(a),t.uniformMatrix4fv(t.getUniformLocation(a,"uViewMatrix"),!1,n),t.uniform2f(t.getUniformLocation(a,"uResolution"),this.width,this.height);var o=this.uniforms,l=o.resolution;l.value.x=r,l.value.y=i,o.time.value=s.game.loop.getDuration();var f=this.pointer;if(f){var d=o.mouse,m=f.x/r,x=1-f.y/i;d.value.x=m.toFixed(2),d.value.y=x.toFixed(2)}this.syncUniforms()},flush:function(){var e=this.width,t=this.height,r=this.program,i=this.gl,s=this.vertexBuffer,a=this.renderer,n=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(a.setFramebuffer(this.framebuffer),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT)),i.bindBuffer(i.ARRAY_BUFFER,s);var h=i.getAttribLocation(r,"inPosition");-1!==h&&(i.enableVertexAttribArray(h),i.vertexAttribPointer(h,2,i.FLOAT,!1,n,0));var u=this.vertexViewF32;u[3]=t,u[4]=e,u[5]=t,u[8]=e,u[9]=t,u[10]=e;i.bufferSubData(i.ARRAY_BUFFER,0,this.bytes.subarray(0,6*n)),i.drawArrays(i.TRIANGLES,0,6),this.renderToTexture&&a.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var e=this.gl;e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});module.exports=u;
},{"../../utils/Class":"JASv","../components":"VjLH","../GameObject":"AetT","../../utils/object/GetFastValue":"cEup","../../utils/object/Extend":"SFmW","../../utils/object/SetValue":"XSgj","./ShaderRender":"ecy0","../components/TransformMatrix":"s0s4"}],"MPVb":[function(require,module,exports) {
var e=require("./Mesh"),r=require("../GameObjectFactory");r.register("mesh",function(r,i,s,t,a,n,c,h){return this.displayList.add(new e(this.scene,r,i,s,t,a,n,c,h))});
},{"./Mesh":"ETXO","../GameObjectFactory":"QDoc"}],"z1Hl":[function(require,module,exports) {
var e=require("./Quad"),r=require("../GameObjectFactory");r.register("quad",function(r,i,t,a){return this.displayList.add(new e(this.scene,r,i,t,a))});
},{"./Quad":"kiJf","../GameObjectFactory":"QDoc"}],"u1U7":[function(require,module,exports) {
var e=require("./Shader"),r=require("../GameObjectFactory");r.register("shader",function(r,i,t,a,s,d,n){return this.displayList.add(new e(this.scene,r,i,t,a,s,d,n))});
},{"./Shader":"CaTM","../GameObjectFactory":"QDoc"}],"O0sj":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("../GameObjectCreator"),i=require("../../utils/object/GetAdvancedValue"),t=require("../../utils/object/GetValue"),u=require("./Mesh");r.register("mesh",function(r,a){void 0===r&&(r={});var s=i(r,"key",null),l=i(r,"frame",null),c=t(r,"vertices",[]),n=t(r,"colors",[]),o=t(r,"alphas",[]),d=t(r,"uv",[]),v=new u(this.scene,0,0,c,d,n,o,s,l);return void 0!==a&&(r.add=a),e(this.scene,v,r),v});
},{"../BuildGameObject":"BMFz","../GameObjectCreator":"vSy1","../../utils/object/GetAdvancedValue":"vpak","../../utils/object/GetValue":"OqLI","./Mesh":"ETXO"}],"KQxN":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("../GameObjectCreator"),u=require("../../utils/object/GetAdvancedValue"),i=require("./Quad");r.register("quad",function(r,a){void 0===r&&(r={});var t=u(r,"x",0),d=u(r,"y",0),n=u(r,"key",null),c=u(r,"frame",null),l=new i(this.scene,t,d,n,c);return void 0!==a&&(r.add=a),e(this.scene,l,r),l});
},{"../BuildGameObject":"BMFz","../GameObjectCreator":"vSy1","../../utils/object/GetAdvancedValue":"vpak","./Quad":"kiJf"}],"H1EC":[function(require,module,exports) {
var e=require("../BuildGameObject"),r=require("../GameObjectCreator"),i=require("../../utils/object/GetAdvancedValue"),t=require("./Shader");r.register("shader",function(r,a){void 0===r&&(r={});var d=i(r,"key",null),u=i(r,"x",0),n=i(r,"y",0),c=i(r,"width",128),h=i(r,"height",128),s=new t(this.scene,d,u,n,c,h);return void 0!==a&&(r.add=a),e(this.scene,s,r),s});
},{"../BuildGameObject":"BMFz","../GameObjectCreator":"vSy1","../../utils/object/GetAdvancedValue":"vpak","./Shader":"CaTM"}],"Lzwu":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("../../renderer/webgl/Utils"),s=new t({initialize:function(t,i,s,r,h,n,o){this.x=t,this.y=i,this.radius=s,this.r=r,this.g=h,this.b=n,this.intensity=o,this.scrollFactorX=1,this.scrollFactorY=1},set:function(t,i,s,r,h,n,o){return this.x=t,this.y=i,this.radius=s,this.r=r,this.g=h,this.b=n,this.intensity=o,this.scrollFactorX=1,this.scrollFactorY=1,this},setScrollFactor:function(t,i){return void 0===t&&(t=1),void 0===i&&(i=t),this.scrollFactorX=t,this.scrollFactorY=i,this},setColor:function(t){var s=i.getFloatsFromUintRGB(t);return this.r=s[0],this.g=s[1],this.b=s[2],this},setIntensity:function(t){return this.intensity=t,this},setPosition:function(t,i){return this.x=t,this.y=i,this},setRadius:function(t){return this.radius=t,this}});module.exports=s;
},{"../../utils/Class":"JASv","../../renderer/webgl/Utils":"ZkeT"}],"U4Gb":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./Light"),h=require("../../renderer/webgl/Utils"),s=new t({initialize:function(){this.lightPool=[],this.lights=[],this.culledLights=[],this.ambientColor={r:.1,g:.1,b:.1},this.active=!1,this.maxLights=-1},enable:function(){return-1===this.maxLights&&(this.maxLights=this.scene.sys.game.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},cull:function(t){var i=this.lights,h=this.culledLights,s=i.length,e=t.x+t.width/2,o=t.y+t.height/2,r=(t.width+t.height)/2,l={x:0,y:0},n=t.matrix,g=this.systems.game.config.height;h.length=0;for(var u=0;u<s&&h.length<this.maxLights;u++){var a=i[u];n.transformPoint(a.x,a.y,l);var c=e-(l.x-t.scrollX*a.scrollFactorX*t.zoom),m=o-(g-(l.y-t.scrollY*a.scrollFactorY*t.zoom));Math.sqrt(c*c+m*m)<a.radius+r&&h.push(i[u])}return h},forEachLight:function(t){if(t){for(var i=this.lights,h=i.length,s=0;s<h;++s)t(i[s]);return this}},setAmbientColor:function(t){var i=h.getFloatsFromUintRGB(t);return this.ambientColor.r=i[0],this.ambientColor.g=i[1],this.ambientColor.b=i[2],this},getMaxVisibleLights:function(){return 10},getLightCount:function(){return this.lights.length},addLight:function(t,s,e,o,r){var l,n=null;return t=void 0===t?0:t,s=void 0===s?0:s,o=void 0===o?16777215:o,e=void 0===e?100:e,r=void 0===r?1:r,l=h.getFloatsFromUintRGB(o),n=null,this.lightPool.length>0?(n=this.lightPool.pop()).set(t,s,e,l[0],l[1],l[2],r):n=new i(t,s,e,l[0],l[1],l[2],r),this.lights.push(n),n},removeLight:function(t){var i=this.lights.indexOf(t);return i>=0&&(this.lightPool.push(t),this.lights.splice(i,1)),this},shutdown:function(){for(;this.lights.length>0;)this.lightPool.push(this.lights.pop());this.ambientColor={r:.1,g:.1,b:.1},this.culledLights.length=0,this.lights.length=0},destroy:function(){this.shutdown()}});module.exports=s;
},{"../../utils/Class":"JASv","./Light":"Lzwu","../../renderer/webgl/Utils":"ZkeT"}],"mIwN":[function(require,module,exports) {
var s=require("../../utils/Class"),t=require("./LightsManager"),e=require("../../plugins/PluginCache"),i=require("../../scene/events"),n=new s({Extends:t,initialize:function(s){this.scene=s,this.systems=s.sys,s.sys.settings.isBooted||s.sys.events.once(i.BOOT,this.boot,this),t.call(this)},boot:function(){var s=this.systems.events;s.on(i.SHUTDOWN,this.shutdown,this),s.on(i.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});e.register("LightsPlugin",n,"lights"),module.exports=n;
},{"../../utils/Class":"JASv","./LightsManager":"U4Gb","../../plugins/PluginCache":"ZrqD","../../scene/events":"zvkO"}],"TTaA":[function(require,module,exports) {
var e={Events:require("./events"),DisplayList:require("./DisplayList"),GameObjectCreator:require("./GameObjectCreator"),GameObjectFactory:require("./GameObjectFactory"),UpdateList:require("./UpdateList"),Components:require("./components"),BuildGameObject:require("./BuildGameObject"),BuildGameObjectAnimation:require("./BuildGameObjectAnimation"),GameObject:require("./GameObject"),BitmapText:require("./bitmaptext/static/BitmapText"),Blitter:require("./blitter/Blitter"),Container:require("./container/Container"),DOMElement:require("./domelement/DOMElement"),DynamicBitmapText:require("./bitmaptext/dynamic/DynamicBitmapText"),Extern:require("./extern/Extern.js"),Graphics:require("./graphics/Graphics.js"),Group:require("./group/Group"),Image:require("./image/Image"),Particles:require("./particles"),PathFollower:require("./pathfollower/PathFollower"),RenderTexture:require("./rendertexture/RenderTexture"),RetroFont:require("./bitmaptext/RetroFont"),Rope:require("./rope/Rope"),Sprite:require("./sprite/Sprite"),Text:require("./text/static/Text"),TileSprite:require("./tilesprite/TileSprite"),Zone:require("./zone/Zone"),Video:require("./video/Video"),Shape:require("./shape/Shape"),Arc:require("./shape/arc/Arc"),Curve:require("./shape/curve/Curve"),Ellipse:require("./shape/ellipse/Ellipse"),Grid:require("./shape/grid/Grid"),IsoBox:require("./shape/isobox/IsoBox"),IsoTriangle:require("./shape/isotriangle/IsoTriangle"),Line:require("./shape/line/Line"),Polygon:require("./shape/polygon/Polygon"),Rectangle:require("./shape/rectangle/Rectangle"),Star:require("./shape/star/Star"),Triangle:require("./shape/triangle/Triangle"),Factories:{Blitter:require("./blitter/BlitterFactory"),Container:require("./container/ContainerFactory"),DOMElement:require("./domelement/DOMElementFactory"),DynamicBitmapText:require("./bitmaptext/dynamic/DynamicBitmapTextFactory"),Extern:require("./extern/ExternFactory"),Graphics:require("./graphics/GraphicsFactory"),Group:require("./group/GroupFactory"),Image:require("./image/ImageFactory"),Particles:require("./particles/ParticleManagerFactory"),PathFollower:require("./pathfollower/PathFollowerFactory"),RenderTexture:require("./rendertexture/RenderTextureFactory"),Rope:require("./rope/RopeFactory"),Sprite:require("./sprite/SpriteFactory"),StaticBitmapText:require("./bitmaptext/static/BitmapTextFactory"),Text:require("./text/static/TextFactory"),TileSprite:require("./tilesprite/TileSpriteFactory"),Zone:require("./zone/ZoneFactory"),Video:require("./video/VideoFactory"),Arc:require("./shape/arc/ArcFactory"),Curve:require("./shape/curve/CurveFactory"),Ellipse:require("./shape/ellipse/EllipseFactory"),Grid:require("./shape/grid/GridFactory"),IsoBox:require("./shape/isobox/IsoBoxFactory"),IsoTriangle:require("./shape/isotriangle/IsoTriangleFactory"),Line:require("./shape/line/LineFactory"),Polygon:require("./shape/polygon/PolygonFactory"),Rectangle:require("./shape/rectangle/RectangleFactory"),Star:require("./shape/star/StarFactory"),Triangle:require("./shape/triangle/TriangleFactory")},Creators:{Blitter:require("./blitter/BlitterCreator"),Container:require("./container/ContainerCreator"),DynamicBitmapText:require("./bitmaptext/dynamic/DynamicBitmapTextCreator"),Graphics:require("./graphics/GraphicsCreator"),Group:require("./group/GroupCreator"),Image:require("./image/ImageCreator"),Particles:require("./particles/ParticleManagerCreator"),RenderTexture:require("./rendertexture/RenderTextureCreator"),Rope:require("./rope/RopeCreator"),Sprite:require("./sprite/SpriteCreator"),StaticBitmapText:require("./bitmaptext/static/BitmapTextCreator"),Text:require("./text/static/TextCreator"),TileSprite:require("./tilesprite/TileSpriteCreator"),Zone:require("./zone/ZoneCreator"),Video:require("./video/VideoCreator")}};e.Mesh=require("./mesh/Mesh"),e.Quad=require("./quad/Quad"),e.Shader=require("./shader/Shader"),e.Factories.Mesh=require("./mesh/MeshFactory"),e.Factories.Quad=require("./quad/QuadFactory"),e.Factories.Shader=require("./shader/ShaderFactory"),e.Creators.Mesh=require("./mesh/MeshCreator"),e.Creators.Quad=require("./quad/QuadCreator"),e.Creators.Shader=require("./shader/ShaderCreator"),e.Light=require("./lights/Light"),require("./lights/LightsManager"),require("./lights/LightsPlugin"),module.exports=e;
},{"./events":"obPU","./DisplayList":"qxUG","./GameObjectCreator":"vSy1","./GameObjectFactory":"QDoc","./UpdateList":"afAy","./components":"VjLH","./BuildGameObject":"BMFz","./BuildGameObjectAnimation":"LH68","./GameObject":"AetT","./bitmaptext/static/BitmapText":"KD9W","./blitter/Blitter":"uysv","./container/Container":"XM3Y","./domelement/DOMElement":"pAKz","./bitmaptext/dynamic/DynamicBitmapText":"pcVL","./extern/Extern.js":"NXMC","./graphics/Graphics.js":"XM8K","./group/Group":"xnxC","./image/Image":"DnOy","./particles":"XJJF","./pathfollower/PathFollower":"O3pG","./rendertexture/RenderTexture":"bRZ2","./bitmaptext/RetroFont":"SpBY","./rope/Rope":"Uw2t","./sprite/Sprite":"ZUCM","./text/static/Text":"CBp4","./tilesprite/TileSprite":"Ixoc","./zone/Zone":"SQPm","./video/Video":"YQws","./shape/Shape":"dJyI","./shape/arc/Arc":"xx7B","./shape/curve/Curve":"pcN5","./shape/ellipse/Ellipse":"vFZM","./shape/grid/Grid":"MGv8","./shape/isobox/IsoBox":"BF1N","./shape/isotriangle/IsoTriangle":"KTO1","./shape/line/Line":"AsVj","./shape/polygon/Polygon":"XEeT","./shape/rectangle/Rectangle":"Csmh","./shape/star/Star":"dL5c","./shape/triangle/Triangle":"zSaC","./blitter/BlitterFactory":"Qqev","./container/ContainerFactory":"bBET","./domelement/DOMElementFactory":"IUdS","./bitmaptext/dynamic/DynamicBitmapTextFactory":"ZIvA","./extern/ExternFactory":"g8wu","./graphics/GraphicsFactory":"RZLU","./group/GroupFactory":"lwaH","./image/ImageFactory":"FzQK","./particles/ParticleManagerFactory":"WJkI","./pathfollower/PathFollowerFactory":"JEFx","./rendertexture/RenderTextureFactory":"yT9P","./rope/RopeFactory":"gvOo","./sprite/SpriteFactory":"rvi5","./bitmaptext/static/BitmapTextFactory":"nImP","./text/static/TextFactory":"eXLP","./tilesprite/TileSpriteFactory":"mFek","./zone/ZoneFactory":"Vaqd","./video/VideoFactory":"Umgd","./shape/arc/ArcFactory":"OXBY","./shape/curve/CurveFactory":"lxrW","./shape/ellipse/EllipseFactory":"cJnt","./shape/grid/GridFactory":"aZQm","./shape/isobox/IsoBoxFactory":"wxI3","./shape/isotriangle/IsoTriangleFactory":"LqVJ","./shape/line/LineFactory":"zWoH","./shape/polygon/PolygonFactory":"JI21","./shape/rectangle/RectangleFactory":"Vlps","./shape/star/StarFactory":"QcSq","./shape/triangle/TriangleFactory":"I88X","./blitter/BlitterCreator":"Mvei","./container/ContainerCreator":"K5qj","./bitmaptext/dynamic/DynamicBitmapTextCreator":"IDho","./graphics/GraphicsCreator":"fnKR","./group/GroupCreator":"NNuH","./image/ImageCreator":"LRFn","./particles/ParticleManagerCreator":"ep8G","./rendertexture/RenderTextureCreator":"PLLi","./rope/RopeCreator":"NOns","./sprite/SpriteCreator":"vOia","./bitmaptext/static/BitmapTextCreator":"QdYt","./text/static/TextCreator":"F4UM","./tilesprite/TileSpriteCreator":"JHlu","./zone/ZoneCreator":"Xmuq","./video/VideoCreator":"GWgy","./mesh/Mesh":"ETXO","./quad/Quad":"kiJf","./shader/Shader":"CaTM","./mesh/MeshFactory":"MPVb","./quad/QuadFactory":"z1Hl","./shader/ShaderFactory":"u1U7","./mesh/MeshCreator":"O0sj","./quad/QuadCreator":"KQxN","./shader/ShaderCreator":"H1EC","./lights/Light":"Lzwu","./lights/LightsManager":"U4Gb","./lights/LightsPlugin":"mIwN"}],"DoYh":[function(require,module,exports) {
var r=function(r){return r.radius>0?Math.PI*r.radius*r.radius:0};module.exports=r;
},{}],"Pznt":[function(require,module,exports) {
var r=require("./Circle"),e=function(e){return new r(e.x,e.y,e.radius)};module.exports=e;
},{"./Circle":"VKcd"}],"j811":[function(require,module,exports) {
var r=require("./Contains"),e=function(e,n){return r(e,n.x,n.y)};module.exports=e;
},{"./Contains":"inZZ"}],"SMN3":[function(require,module,exports) {
var t=require("./Contains"),o=function(o,r){return t(o,r.x,r.y)&&t(o,r.right,r.y)&&t(o,r.x,r.bottom)&&t(o,r.right,r.bottom)};module.exports=o;
},{"./Contains":"inZZ"}],"wMhT":[function(require,module,exports) {
var r=function(r,e){return e.setTo(r.x,r.y,r.radius)};module.exports=r;
},{}],"goAQ":[function(require,module,exports) {
var r=function(r,u){return r.x===u.x&&r.y===u.y&&r.radius===u.radius};module.exports=r;
},{}],"BNOt":[function(require,module,exports) {
var e=require("../rectangle/Rectangle"),t=function(t,r){return void 0===r&&(r=new e),r.x=t.left,r.y=t.top,r.width=t.diameter,r.height=t.diameter,r};module.exports=t;
},{"../rectangle/Rectangle":"wYVB"}],"jW4N":[function(require,module,exports) {
var r=function(r,e,n){return r.x+=e,r.y+=n,r};module.exports=r;
},{}],"AaiG":[function(require,module,exports) {
var r=function(r,e){return r.x+=e.x,r.y+=e.y,r};module.exports=r;
},{}],"cYfR":[function(require,module,exports) {
var e=require("./Circle");e.Area=require("./Area"),e.Circumference=require("./Circumference"),e.CircumferencePoint=require("./CircumferencePoint"),e.Clone=require("./Clone"),e.Contains=require("./Contains"),e.ContainsPoint=require("./ContainsPoint"),e.ContainsRect=require("./ContainsRect"),e.CopyFrom=require("./CopyFrom"),e.Equals=require("./Equals"),e.GetBounds=require("./GetBounds"),e.GetPoint=require("./GetPoint"),e.GetPoints=require("./GetPoints"),e.Offset=require("./Offset"),e.OffsetPoint=require("./OffsetPoint"),e.Random=require("./Random"),module.exports=e;
},{"./Circle":"VKcd","./Area":"DoYh","./Circumference":"ouyc","./CircumferencePoint":"e6EJ","./Clone":"Pznt","./Contains":"inZZ","./ContainsPoint":"j811","./ContainsRect":"SMN3","./CopyFrom":"wMhT","./Equals":"goAQ","./GetBounds":"BNOt","./GetPoint":"iDO6","./GetPoints":"JZAE","./Offset":"jW4N","./OffsetPoint":"AaiG","./Random":"keI1"}],"waM2":[function(require,module,exports) {
var t=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};module.exports=t;
},{}],"HFXd":[function(require,module,exports) {
var e=require("./Ellipse"),r=function(r){return new e(r.x,r.y,r.width,r.height)};module.exports=r;
},{"./Ellipse":"rdPM"}],"Ep0N":[function(require,module,exports) {
var r=require("./Contains"),e=function(e,n){return r(e,n.x,n.y)};module.exports=e;
},{"./Contains":"A2CA"}],"ljEl":[function(require,module,exports) {
var t=require("./Contains"),o=function(o,r){return t(o,r.x,r.y)&&t(o,r.right,r.y)&&t(o,r.x,r.bottom)&&t(o,r.right,r.bottom)};module.exports=o;
},{"./Contains":"A2CA"}],"Tj4j":[function(require,module,exports) {
var t=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)};module.exports=t;
},{}],"NsEa":[function(require,module,exports) {
var t=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};module.exports=t;
},{}],"i7Xv":[function(require,module,exports) {
var e=require("../rectangle/Rectangle"),t=function(t,i){return void 0===i&&(i=new e),i.x=t.left,i.y=t.top,i.width=t.width,i.height=t.height,i};module.exports=t;
},{"../rectangle/Rectangle":"wYVB"}],"EWge":[function(require,module,exports) {
var e=require("./Ellipse");e.Area=require("./Area"),e.Circumference=require("./Circumference"),e.CircumferencePoint=require("./CircumferencePoint"),e.Clone=require("./Clone"),e.Contains=require("./Contains"),e.ContainsPoint=require("./ContainsPoint"),e.ContainsRect=require("./ContainsRect"),e.CopyFrom=require("./CopyFrom"),e.Equals=require("./Equals"),e.GetBounds=require("./GetBounds"),e.GetPoint=require("./GetPoint"),e.GetPoints=require("./GetPoints"),e.Offset=require("./Offset"),e.OffsetPoint=require("./OffsetPoint"),e.Random=require("./Random"),module.exports=e;
},{"./Ellipse":"rdPM","./Area":"waM2","./Circumference":"w77W","./CircumferencePoint":"pmHn","./Clone":"HFXd","./Contains":"A2CA","./ContainsPoint":"Ep0N","./ContainsRect":"ljEl","./CopyFrom":"Tj4j","./Equals":"NsEa","./GetBounds":"i7Xv","./GetPoint":"GPRi","./GetPoints":"PZsu","./Offset":"jW4N","./OffsetPoint":"AaiG","./Random":"wdHx"}],"p35E":[function(require,module,exports) {
var e=require("../../math/distance/DistanceBetween"),r=function(r,t){return e(r.x,r.y,t.x,t.y)<=r.radius+t.radius};module.exports=r;
},{"../../math/distance/DistanceBetween":"ovvS"}],"M7AG":[function(require,module,exports) {
var r=function(r,a){var i=a.width/2,t=a.height/2,u=Math.abs(r.x-a.x-i),s=Math.abs(r.y-a.y-t),d=i+r.radius,e=t+r.radius;if(u>d||s>e)return!1;if(u<=i||s<=t)return!0;var h=u-i,n=s-t;return h*h+n*n<=r.radius*r.radius};module.exports=r;
},{}],"DjQf":[function(require,module,exports) {
var r=require("../point/Point"),e=require("./CircleToCircle"),s=function(s,t,u){if(void 0===u&&(u=[]),e(s,t)){var i,n,h,a,p=s.x,o=s.y,q=s.radius,w=t.x,d=t.y,l=t.radius;if(o===d)0===(h=(n=-2*d)*n-4*(i=1)*(w*w+(a=(l*l-q*q-w*w+p*p)/(2*(p-w)))*a-2*w*a+d*d-l*l))?u.push(new r(a,-n/(2*i))):h>0&&(u.push(new r(a,(-n+Math.sqrt(h))/(2*i))),u.push(new r(a,(-n-Math.sqrt(h))/(2*i))));else{var v=(p-w)/(o-d),M=(l*l-q*q-w*w+p*p-d*d+o*o)/(2*(o-d));0===(h=(n=2*o*v-2*M*v-2*p)*n-4*(i=v*v+1)*(p*p+o*o+M*M-q*q-2*o*M))?(a=-n/(2*i),u.push(new r(a,M-a*v))):h>0&&(a=(-n+Math.sqrt(h))/(2*i),u.push(new r(a,M-a*v)),a=(-n-Math.sqrt(h))/(2*i),u.push(new r(a,M-a*v)))}}return u};module.exports=s;
},{"../point/Point":"IDPQ","./CircleToCircle":"p35E"}],"vcom":[function(require,module,exports) {
var r=require("../circle/Contains"),x=require("../point/Point"),y=new x,e=function(x,e,i){if(void 0===i&&(i=y),r(e,x.x1,x.y1))return i.x=x.x1,i.y=x.y1,!0;if(r(e,x.x2,x.y2))return i.x=x.x2,i.y=x.y2,!0;var n=x.x2-x.x1,t=x.y2-x.y1,o=e.x-x.x1,u=e.y-x.y1,a=n*n+t*t,f=n,v=t;if(a>0){var c=(o*n+u*t)/a;f*=c,v*=c}return i.x=x.x1+f,i.y=x.y1+v,f*f+v*v<=a&&f*n+v*t>=0&&r(e,i.x,i.y)};module.exports=e;
},{"../circle/Contains":"inZZ","../point/Point":"IDPQ"}],"dYXG":[function(require,module,exports) {
var r=require("../point/Point"),e=require("./LineToCircle"),i=function(i,n,t){if(void 0===t&&(t=[]),e(i,n)){var u,a,s=i.x1,o=i.y1,v=i.x2,h=i.y2,p=n.x,f=n.y,q=n.radius,x=v-s,d=h-o,l=s-p,w=o-f,y=x*x+d*d,c=2*(x*l+d*w),M=c*c-4*y*(l*l+w*w-q*q);if(0===M){var m=-c/(2*y);u=s+m*x,a=o+m*d,m>=0&&m<=1&&t.push(new r(u,a))}else if(M>0){var C=(-c-Math.sqrt(M))/(2*y);u=s+C*x,a=o+C*d,C>=0&&C<=1&&t.push(new r(u,a));var L=(-c+Math.sqrt(M))/(2*y);u=s+L*x,a=o+L*d,L>=0&&L<=1&&t.push(new r(u,a))}}return t};module.exports=i;
},{"../point/Point":"IDPQ","./LineToCircle":"vcom"}],"tzPA":[function(require,module,exports) {
var e=require("./GetLineToCircle"),i=require("./CircleToRectangle"),r=function(r,n,t){if(void 0===t&&(t=[]),i(r,n)){var o=n.getLineA(),g=n.getLineB(),u=n.getLineC(),L=n.getLineD();e(o,r,t),e(g,r,t),e(u,r,t),e(L,r,t)}return t};module.exports=r;
},{"./GetLineToCircle":"dYXG","./CircleToRectangle":"M7AG"}],"FOym":[function(require,module,exports) {
var r=require("../point/Point"),e=function(e,n,i){void 0===i&&(i=new r);var o=e.x1,t=e.y1,x=e.x2,u=e.y2,y=n.x1,v=n.y1,a=n.x2,d=n.y2,f=(d-v)*(x-o)-(a-y)*(u-t);if(0===f)return!1;var p=((a-y)*(t-v)-(d-v)*(o-y))/f,c=((x-o)*(t-v)-(u-t)*(o-y))/f;return p>=0&&p<=1&&c>=0&&c<=1&&(i.x=o+p*(x-o),i.y=t+p*(u-t),!0)};module.exports=e;
},{"../point/Point":"IDPQ"}],"AFBr":[function(require,module,exports) {
var r=function(r,e){var t=r.x1,i=r.y1,f=r.x2,n=r.y2,u=e.x,o=e.y,x=e.right,l=e.bottom,s=0;if(t>=u&&t<=x&&i>=o&&i<=l||f>=u&&f<=x&&n>=o&&n<=l)return!0;if(t<u&&f>=u){if((s=i+(n-i)*(u-t)/(f-t))>o&&s<=l)return!0}else if(t>x&&f<=x&&(s=i+(n-i)*(x-t)/(f-t))>=o&&s<=l)return!0;if(i<o&&n>=o){if((s=t+(f-t)*(o-i)/(n-i))>=u&&s<=x)return!0}else if(i>l&&n<=l&&(s=t+(f-t)*(l-i)/(n-i))>=u&&s<=x)return!0;return!1};module.exports=r;
},{}],"OsMY":[function(require,module,exports) {
var e=require("../point/Point"),n=require("./LineToLine"),i=require("./LineToRectangle"),r=function(r,t,o){if(void 0===o&&(o=[]),i(r,t))for(var u=t.getLineA(),L=t.getLineB(),g=t.getLineC(),w=t.getLineD(),a=[new e,new e,new e,new e],f=[n(u,r,a[0]),n(L,r,a[1]),n(g,r,a[2]),n(w,r,a[3])],p=0;p<4;p++)f[p]&&o.push(a[p]);return o};module.exports=r;
},{"../point/Point":"IDPQ","./LineToLine":"FOym","./LineToRectangle":"AFBr"}],"ls5g":[function(require,module,exports) {
var t=function(t,h){return!(t.width<=0||t.height<=0||h.width<=0||h.height<=0)&&!(t.right<h.x||t.bottom<h.y||t.x>h.right||t.y>h.bottom)};module.exports=t;
},{}],"FewT":[function(require,module,exports) {
var t=require("../rectangle/Rectangle"),e=require("./RectangleToRectangle"),a=function(a,r,i){return void 0===i&&(i=new t),e(a,r)&&(i.x=Math.max(a.x,r.x),i.y=Math.max(a.y,r.y),i.width=Math.min(a.right,r.right)-i.x,i.height=Math.min(a.bottom,r.bottom)-i.y),i};module.exports=a;
},{"../rectangle/Rectangle":"wYVB","./RectangleToRectangle":"ls5g"}],"JrSU":[function(require,module,exports) {
var e=require("./GetLineToRectangle"),n=require("./RectangleToRectangle"),t=function(t,i,r){if(void 0===r&&(r=[]),n(t,i)){var g=t.getLineA(),o=t.getLineB(),a=t.getLineC(),u=t.getLineD();e(g,i,r),e(o,i,r),e(a,i,r),e(u,i,r)}return r};module.exports=t;
},{"./GetLineToRectangle":"OsMY","./RectangleToRectangle":"ls5g"}],"YduP":[function(require,module,exports) {
var x=function(x,y,o,r){void 0===o&&(o=!1),void 0===r&&(r=[]);for(var e,n,t,u,v,d,i=x.x3-x.x1,a=x.y3-x.y1,f=x.x2-x.x1,h=x.y2-x.y1,l=i*i+a*a,p=i*f+a*h,s=f*f+h*h,c=l*s-p*p,g=0===c?0:1/c,m=x.x1,b=x.y1,j=0;j<y.length&&(n=(l*(d=f*(t=y[j].x-m)+h*(u=y[j].y-b))-p*(v=i*t+a*u))*g,!((e=(s*v-p*d)*g)>=0&&n>=0&&e+n<1&&(r.push({x:y[j].x,y:y[j].y}),o)));j++);return r};module.exports=x;
},{}],"VCE4":[function(require,module,exports) {
var t=function(t,o){return void 0===o&&(o=[]),o.push({x:t.x,y:t.y}),o.push({x:t.right,y:t.y}),o.push({x:t.right,y:t.bottom}),o.push({x:t.x,y:t.bottom}),o};module.exports=t;
},{}],"WGyj":[function(require,module,exports) {
var e=require("./LineToLine"),r=require("../rectangle/Contains"),t=require("../triangle/ContainsArray"),n=require("../rectangle/Decompose"),i=function(i,o){if(o.left>i.right||o.right<i.left||o.top>i.bottom||o.bottom<i.top)return!1;var u=o.getLineA(),g=o.getLineB(),a=o.getLineC();if(r(i,u.x1,u.y1)||r(i,u.x2,u.y2))return!0;if(r(i,g.x1,g.y1)||r(i,g.x2,g.y2))return!0;if(r(i,a.x1,a.y1)||r(i,a.x2,a.y2))return!0;var f=i.getLineA(),L=i.getLineB(),l=i.getLineC(),x=i.getLineD();if(e(u,f)||e(u,L)||e(u,l)||e(u,x))return!0;if(e(g,f)||e(g,L)||e(g,l)||e(g,x))return!0;if(e(a,f)||e(a,L)||e(a,l)||e(a,x))return!0;var y=n(i);return t(o,y,!0).length>0};module.exports=i;
},{"./LineToLine":"FOym","../rectangle/Contains":"mjUt","../triangle/ContainsArray":"YduP","../rectangle/Decompose":"VCE4"}],"vdqF":[function(require,module,exports) {
var e=require("./RectangleToTriangle"),i=require("./GetLineToRectangle"),n=function(n,r,t){if(void 0===t&&(t=[]),e(n,r)){var g=r.getLineA(),o=r.getLineB(),a=r.getLineC();i(g,n,t),i(o,n,t),i(a,n,t)}return t};module.exports=n;
},{"./RectangleToTriangle":"WGyj","./GetLineToRectangle":"OsMY"}],"io7Q":[function(require,module,exports) {
var e=require("./LineToCircle"),t=require("../triangle/Contains"),i=function(i,r){return!(i.left>r.right||i.right<r.left||i.top>r.bottom||i.bottom<r.top)&&(!!t(i,r.x,r.y)||(!!e(i.getLineA(),r)||(!!e(i.getLineB(),r)||!!e(i.getLineC(),r))))};module.exports=i;
},{"./LineToCircle":"vcom","../triangle/Contains":"t8Ac"}],"duyg":[function(require,module,exports) {
var e=require("./GetLineToCircle"),i=require("./TriangleToCircle"),r=function(r,n,t){if(void 0===t&&(t=[]),i(r,n)){var o=r.getLineA(),u=r.getLineB(),g=r.getLineC();e(o,n,t),e(u,n,t),e(g,n,t)}return t};module.exports=r;
},{"./GetLineToCircle":"dYXG","./TriangleToCircle":"io7Q"}],"ERjR":[function(require,module,exports) {
var e=require("../triangle/Contains"),n=require("./LineToLine"),i=function(i,t){return!(!e(i,t.getPointA())&&!e(i,t.getPointB()))||(!!n(i.getLineA(),t)||(!!n(i.getLineB(),t)||!!n(i.getLineC(),t)))};module.exports=i;
},{"../triangle/Contains":"t8Ac","./LineToLine":"FOym"}],"CCuS":[function(require,module,exports) {
var e=require("../point/Point"),i=require("./TriangleToLine"),n=require("./LineToLine"),r=function(r,o,t){if(void 0===t&&(t=[]),i(r,o))for(var u=r.getLineA(),L=r.getLineB(),g=r.getLineC(),a=[new e,new e,new e],f=[n(u,o,a[0]),n(L,o,a[1]),n(g,o,a[2])],p=0;p<3;p++)f[p]&&t.push(a[p]);return t};module.exports=r;
},{"../point/Point":"IDPQ","./TriangleToLine":"ERjR","./LineToLine":"FOym"}],"hGzO":[function(require,module,exports) {
var x=function(x,u){return void 0===u&&(u=[]),u.push({x:x.x1,y:x.y1}),u.push({x:x.x2,y:x.y2}),u.push({x:x.x3,y:x.y3}),u};module.exports=x;
},{}],"CzSa":[function(require,module,exports) {
var e=require("../triangle/ContainsArray"),t=require("../triangle/Decompose"),r=require("./LineToLine"),i=function(i,n){if(i.left>n.right||i.right<n.left||i.top>n.bottom||i.bottom<n.top)return!1;var o=i.getLineA(),g=i.getLineB(),u=i.getLineC(),L=n.getLineA(),a=n.getLineB(),f=n.getLineC();if(r(o,L)||r(o,a)||r(o,f))return!0;if(r(g,L)||r(g,a)||r(g,f))return!0;if(r(u,L)||r(u,a)||r(u,f))return!0;var l=t(i),h=e(n,l,!0);return h.length>0||(l=t(n),(h=e(i,l,!0)).length>0)};module.exports=i;
},{"../triangle/ContainsArray":"YduP","../triangle/Decompose":"hGzO","./LineToLine":"FOym"}],"o68R":[function(require,module,exports) {
var e=require("./TriangleToTriangle"),i=require("./GetTriangleToLine"),r=function(r,n,t){if(void 0===t&&(t=[]),e(r,n)){var g=n.getLineA(),o=n.getLineB(),a=n.getLineC();i(r,g,t),i(r,o,t),i(r,a,t)}return t};module.exports=r;
},{"./TriangleToTriangle":"CzSa","./GetTriangleToLine":"CCuS"}],"wg5G":[function(require,module,exports) {
var r=function(r,t,a){void 0===a&&(a=1);var e=t.x1,n=t.y1,u=t.x2,i=t.y2,s=r.x,v=r.y,f=(u-e)*(u-e)+(i-n)*(i-n);if(0===f)return!1;var h=((s-e)*(u-e)+(v-n)*(i-n))/f;if(h<0)return Math.sqrt((e-s)*(e-s)+(n-v)*(n-v))<=a;if(h>=0&&h<=1){var o=((n-v)*(u-e)-(e-s)*(i-n))/f;return Math.abs(o)*Math.sqrt(f)<=a}return Math.sqrt((u-s)*(u-s)+(i-v)*(i-v))<=a};module.exports=r;
},{}],"nvNO":[function(require,module,exports) {
var r=require("./PointToLine"),t=function(t,x){if(!r(t,x))return!1;var a=Math.min(x.x1,x.x2),n=Math.max(x.x1,x.x2),e=Math.min(x.y1,x.y2),i=Math.max(x.y1,x.y2);return t.x>=a&&t.x<=n&&t.y>=e&&t.y<=i};module.exports=t;
},{"./PointToLine":"wg5G"}],"Rcvs":[function(require,module,exports) {
var t=function(t,o,r,e,i,n){return void 0===n&&(n=0),!(o>t.right+n||r<t.left-n||e>t.bottom+n||i<t.top-n)};module.exports=t;
},{}],"qgzk":[function(require,module,exports) {
module.exports={CircleToCircle:require("./CircleToCircle"),CircleToRectangle:require("./CircleToRectangle"),GetCircleToCircle:require("./GetCircleToCircle"),GetCircleToRectangle:require("./GetCircleToRectangle"),GetLineToCircle:require("./GetLineToCircle"),GetLineToRectangle:require("./GetLineToRectangle"),GetRectangleIntersection:require("./GetRectangleIntersection"),GetRectangleToRectangle:require("./GetRectangleToRectangle"),GetRectangleToTriangle:require("./GetRectangleToTriangle"),GetTriangleToCircle:require("./GetTriangleToCircle"),GetTriangleToLine:require("./GetTriangleToLine"),GetTriangleToTriangle:require("./GetTriangleToTriangle"),LineToCircle:require("./LineToCircle"),LineToLine:require("./LineToLine"),LineToRectangle:require("./LineToRectangle"),PointToLine:require("./PointToLine"),PointToLineSegment:require("./PointToLineSegment"),RectangleToRectangle:require("./RectangleToRectangle"),RectangleToTriangle:require("./RectangleToTriangle"),RectangleToValues:require("./RectangleToValues"),TriangleToCircle:require("./TriangleToCircle"),TriangleToLine:require("./TriangleToLine"),TriangleToTriangle:require("./TriangleToTriangle")};
},{"./CircleToCircle":"p35E","./CircleToRectangle":"M7AG","./GetCircleToCircle":"DjQf","./GetCircleToRectangle":"tzPA","./GetLineToCircle":"dYXG","./GetLineToRectangle":"OsMY","./GetRectangleIntersection":"FewT","./GetRectangleToRectangle":"JrSU","./GetRectangleToTriangle":"vdqF","./GetTriangleToCircle":"duyg","./GetTriangleToLine":"CCuS","./GetTriangleToTriangle":"o68R","./LineToCircle":"vcom","./LineToLine":"FOym","./LineToRectangle":"AFBr","./PointToLine":"wg5G","./PointToLineSegment":"nvNO","./RectangleToRectangle":"ls5g","./RectangleToTriangle":"WGyj","./RectangleToValues":"Rcvs","./TriangleToCircle":"io7Q","./TriangleToLine":"ERjR","./TriangleToTriangle":"CzSa"}],"I8zf":[function(require,module,exports) {
var t=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};module.exports=t;
},{}],"Zklj":[function(require,module,exports) {
var r=function(r,x,y){var e=x-(r.x1+r.x2)/2,n=y-(r.y1+r.y2)/2;return r.x1+=e,r.y1+=n,r.x2+=e,r.y2+=n,r};module.exports=r;
},{}],"o8Ci":[function(require,module,exports) {
var e=require("./Line"),r=function(r){return new e(r.x1,r.y1,r.x2,r.y2)};module.exports=r;
},{"./Line":"nem2"}],"eqHx":[function(require,module,exports) {
var e=function(e,o){return o.setTo(e.x1,e.y1,e.x2,e.y2)};module.exports=e;
},{}],"W3HD":[function(require,module,exports) {
var x=function(x,r){return x.x1===r.x1&&x.y1===r.y1&&x.x2===r.x2&&x.y2===r.y2};module.exports=x;
},{}],"Z1Kk":[function(require,module,exports) {
var r=require("./Length"),x=function(x,e,y){void 0===y&&(y=e);var n=r(x),o=x.x2-x.x1,t=x.y2-x.y1;return e&&(x.x1=x.x1-o/n*e,x.y1=x.y1-t/n*e),y&&(x.x2=x.x2+o/n*y,x.y2=x.y2+t/n*y),x};module.exports=x;
},{"./Length":"cDwM"}],"CZGR":[function(require,module,exports) {
var e=require("../../math/distance/DistanceBetweenPoints"),r=require("../../tweens/builders/GetEaseFunction"),n=require("../point/Point"),t=function(t,i,u,o,s){void 0===o&&(o=0),void 0===s&&(s=[]);var a,p,h=[],v=t.x1,d=t.y1,c=t.x2-v,f=t.y2-d,l=r(i,s),w=u-1;for(a=0;a<w;a++)p=l(a/w),h.push(new n(v+c*p,d+f*p));if(p=l(1),h.push(new n(v+c*p,d+f*p)),o>0){var q=h[0],x=[q];for(a=1;a<h.length-1;a++){var g=h[a];e(q,g)>=o&&(x.push(g),q=g)}var m=h[h.length-1];return e(q,m)<o&&x.pop(),x.push(m),x}return h};module.exports=t;
},{"../../math/distance/DistanceBetweenPoints":"o5Th","../../tweens/builders/GetEaseFunction":"riN9","../point/Point":"IDPQ"}],"dHyb":[function(require,module,exports) {
var e=require("../point/Point"),n=function(n,o){return void 0===o&&(o=new e),o.x=(n.x1+n.x2)/2,o.y=(n.y1+n.y2)/2,o};module.exports=n;
},{"../point/Point":"IDPQ"}],"chtG":[function(require,module,exports) {
var r=require("../point/Point"),e=function(e,n,i){void 0===i&&(i=new r);var o=e.x1,t=e.y1,u=e.x2,x=e.y2,v=(u-o)*(u-o)+(x-t)*(x-t);if(0===v)return i;var y=((n.x-o)*(u-o)+(n.y-t)*(x-t))/v;return i.x=o+y*(u-o),i.y=t+y*(x-t),i};module.exports=e;
},{"../point/Point":"IDPQ"}],"arNC":[function(require,module,exports) {
var e=require("../../math/const"),r=require("./Angle"),n=require("../point/Point"),t=function(t,i){void 0===i&&(i=new n);var o=r(t)-e.TAU;return i.x=Math.cos(o),i.y=Math.sin(o),i};module.exports=t;
},{"../../math/const":"HC1y","./Angle":"I8zf","../point/Point":"IDPQ"}],"eAPf":[function(require,module,exports) {
var r=function(r,t){var a=r.x1,e=r.y1,n=r.x2,u=r.y2,x=(n-a)*(n-a)+(u-e)*(u-e);if(0===x)return!1;var o=((e-t.y)*(n-a)-(a-t.x)*(u-e))/x;return Math.abs(o)*Math.sqrt(x)};module.exports=r;
},{}],"Euk0":[function(require,module,exports) {
var r=function(r){return Math.abs(r.y1-r.y2)};module.exports=r;
},{}],"qNif":[function(require,module,exports) {
var r=require("../../math/const"),e=require("../../math/Wrap"),t=require("./Angle"),a=function(a){var u=t(a)-r.TAU;return e(u,-Math.PI,Math.PI)};module.exports=a;
},{"../../math/const":"HC1y","../../math/Wrap":"wXAg","./Angle":"I8zf"}],"ce9S":[function(require,module,exports) {
var e=require("../../math/const"),r=require("./Angle"),t=function(t){return Math.cos(r(t)-e.TAU)};module.exports=t;
},{"../../math/const":"HC1y","./Angle":"I8zf"}],"ZYso":[function(require,module,exports) {
var e=require("../../math/const"),r=require("./Angle"),n=function(n){return Math.sin(r(n)-e.TAU)};module.exports=n;
},{"../../math/const":"HC1y","./Angle":"I8zf"}],"trl9":[function(require,module,exports) {
var r=function(r,e,n){return r.x1+=e,r.y1+=n,r.x2+=e,r.y2+=n,r};module.exports=r;
},{}],"mNpN":[function(require,module,exports) {
var r=function(r){return-(r.x2-r.x1)/(r.y2-r.y1)};module.exports=r;
},{}],"KOMH":[function(require,module,exports) {
var e=require("./Angle"),r=require("./NormalAngle"),n=function(n,u){return 2*r(u)-Math.PI-e(n)};module.exports=n;
},{"./Angle":"I8zf","./NormalAngle":"qNif"}],"pm7U":[function(require,module,exports) {
var r=function(r,t,x,a){var n=Math.cos(a),o=Math.sin(a),y=r.x1-t,e=r.y1-x;return r.x1=y*n-e*o+t,r.y1=y*o+e*n+x,y=r.x2-t,e=r.y2-x,r.x2=y*n-e*o+t,r.y2=y*o+e*n+x,r};module.exports=r;
},{}],"BJ51":[function(require,module,exports) {
var r=require("./RotateAroundXY"),e=function(e,o){var t=(e.x1+e.x2)/2,u=(e.y1+e.y2)/2;return r(e,t,u,o)};module.exports=e;
},{"./RotateAroundXY":"pm7U"}],"gDgq":[function(require,module,exports) {
var r=require("./RotateAroundXY"),e=function(e,o,t){return r(e,o.x,o.y,t)};module.exports=e;
},{"./RotateAroundXY":"pm7U"}],"jcMh":[function(require,module,exports) {
var t=function(t,n,o,r,a){return t.x1=n,t.y1=o,t.x2=n+Math.cos(r)*a,t.y2=o+Math.sin(r)*a,t};module.exports=t;
},{}],"LzM2":[function(require,module,exports) {
var r=function(r){return(r.y2-r.y1)/(r.x2-r.x1)};module.exports=r;
},{}],"Yoxo":[function(require,module,exports) {
var r=function(r){return Math.abs(r.x1-r.x2)};module.exports=r;
},{}],"JDDG":[function(require,module,exports) {
var e=require("./Line");e.Angle=require("./Angle"),e.BresenhamPoints=require("./BresenhamPoints"),e.CenterOn=require("./CenterOn"),e.Clone=require("./Clone"),e.CopyFrom=require("./CopyFrom"),e.Equals=require("./Equals"),e.Extend=require("./Extend"),e.GetEasedPoints=require("./GetEasedPoints"),e.GetMidPoint=require("./GetMidPoint"),e.GetNearestPoint=require("./GetNearestPoint"),e.GetNormal=require("./GetNormal"),e.GetPoint=require("./GetPoint"),e.GetPoints=require("./GetPoints"),e.GetShortestDistance=require("./GetShortestDistance"),e.Height=require("./Height"),e.Length=require("./Length"),e.NormalAngle=require("./NormalAngle"),e.NormalX=require("./NormalX"),e.NormalY=require("./NormalY"),e.Offset=require("./Offset"),e.PerpSlope=require("./PerpSlope"),e.Random=require("./Random"),e.ReflectAngle=require("./ReflectAngle"),e.Rotate=require("./Rotate"),e.RotateAroundPoint=require("./RotateAroundPoint"),e.RotateAroundXY=require("./RotateAroundXY"),e.SetToAngle=require("./SetToAngle"),e.Slope=require("./Slope"),e.Width=require("./Width"),module.exports=e;
},{"./Line":"nem2","./Angle":"I8zf","./BresenhamPoints":"D2JB","./CenterOn":"Zklj","./Clone":"o8Ci","./CopyFrom":"eqHx","./Equals":"W3HD","./Extend":"Z1Kk","./GetEasedPoints":"CZGR","./GetMidPoint":"dHyb","./GetNearestPoint":"chtG","./GetNormal":"arNC","./GetPoint":"v5jv","./GetPoints":"DOcs","./GetShortestDistance":"eAPf","./Height":"Euk0","./Length":"cDwM","./NormalAngle":"qNif","./NormalX":"ce9S","./NormalY":"ZYso","./Offset":"trl9","./PerpSlope":"mNpN","./Random":"SrIb","./ReflectAngle":"KOMH","./Rotate":"BJ51","./RotateAroundPoint":"gDgq","./RotateAroundXY":"pm7U","./SetToAngle":"jcMh","./Slope":"LzM2","./Width":"Yoxo"}],"E3OQ":[function(require,module,exports) {
var e=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};module.exports=e;
},{}],"lEeH":[function(require,module,exports) {
var e=require("./Point"),r=function(r){return new e(r.x,r.y)};module.exports=r;
},{"./Point":"IDPQ"}],"rpiU":[function(require,module,exports) {
var e=function(e,o){return o.setTo(e.x,e.y)};module.exports=e;
},{}],"myYZ":[function(require,module,exports) {
var r=function(r,e){return r.x===e.x&&r.y===e.y};module.exports=r;
},{}],"YRDC":[function(require,module,exports) {
var o=function(o){return o.setTo(Math.floor(o.x),Math.floor(o.y))};module.exports=o;
},{}],"w4rd":[function(require,module,exports) {
var r=require("./Point"),e=function(e,t){if(void 0===t&&(t=new r),!Array.isArray(e))throw new Error("GetCentroid points argument must be an array");var n=e.length;if(n<1)throw new Error("GetCentroid points array must not be empty");if(1===n)t.x=e[0].x,t.y=e[0].y;else{for(var o=0;o<n;o++)t.x+=e[o].x,t.y+=e[o].y;t.x/=n,t.y/=n}return t};module.exports=e;
},{"./Point":"IDPQ"}],"HQwQ":[function(require,module,exports) {
var r=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)};module.exports=r;
},{}],"vYJ6":[function(require,module,exports) {
var r=function(r){return r.x*r.x+r.y*r.y};module.exports=r;
},{}],"QokO":[function(require,module,exports) {
var I=require("../rectangle/Rectangle"),e=function(e,r){void 0===r&&(r=new I);for(var N=Number.NEGATIVE_INFINITY,t=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY,n=0;n<e.length;n++){var x=e[n];x.x>N&&(N=x.x),x.x<t&&(t=x.x),x.y>u&&(u=x.y),x.y<T&&(T=x.y)}return r.x=t,r.y=T,r.width=N-t,r.height=u-T,r};module.exports=e;
},{"../rectangle/Rectangle":"wYVB"}],"iYaI":[function(require,module,exports) {
var e=require("./Point"),o=function(o,r,i,n){return void 0===i&&(i=0),void 0===n&&(n=new e),n.x=o.x+(r.x-o.x)*i,n.y=o.y+(r.y-o.y)*i,n};module.exports=o;
},{"./Point":"IDPQ"}],"pYMc":[function(require,module,exports) {
var e=function(e){return e.setTo(e.y,e.x)};module.exports=e;
},{}],"vADe":[function(require,module,exports) {
var e=require("./Point"),o=function(o,r){return void 0===r&&(r=new e),r.setTo(-o.x,-o.y)};module.exports=o;
},{"./Point":"IDPQ"}],"qIJH":[function(require,module,exports) {
var e=require("./Point"),r=require("./GetMagnitudeSq"),i=function(i,n,t){void 0===t&&(t=new e);var u=(i.x*n.x+i.y*n.y)/r(n);return 0!==u&&(t.x=u*n.x,t.y=u*n.y),t};module.exports=i;
},{"./Point":"IDPQ","./GetMagnitudeSq":"vYJ6"}],"TLa2":[function(require,module,exports) {
var r=require("./Point"),e=function(e,n,o){void 0===o&&(o=new r);var x=e.x*n.x+e.y*n.y;return 0!==x&&(o.x=x*n.x,o.y=x*n.y),o};module.exports=e;
},{"./Point":"IDPQ"}],"Cftu":[function(require,module,exports) {
var e=require("./GetMagnitude"),r=function(r,t){if(0!==r.x||0!==r.y){var u=e(r);r.x/=u,r.y/=u}return r.x*=t,r.y*=t,r};module.exports=r;
},{"./GetMagnitude":"HQwQ"}],"FxLn":[function(require,module,exports) {
var e=require("./Point");e.Ceil=require("./Ceil"),e.Clone=require("./Clone"),e.CopyFrom=require("./CopyFrom"),e.Equals=require("./Equals"),e.Floor=require("./Floor"),e.GetCentroid=require("./GetCentroid"),e.GetMagnitude=require("./GetMagnitude"),e.GetMagnitudeSq=require("./GetMagnitudeSq"),e.GetRectangleFromPoints=require("./GetRectangleFromPoints"),e.Interpolate=require("./Interpolate"),e.Invert=require("./Invert"),e.Negative=require("./Negative"),e.Project=require("./Project"),e.ProjectUnit=require("./ProjectUnit"),e.SetMagnitude=require("./SetMagnitude"),module.exports=e;
},{"./Point":"IDPQ","./Ceil":"E3OQ","./Clone":"lEeH","./CopyFrom":"rpiU","./Equals":"myYZ","./Floor":"YRDC","./GetCentroid":"w4rd","./GetMagnitude":"HQwQ","./GetMagnitudeSq":"vYJ6","./GetRectangleFromPoints":"QokO","./Interpolate":"iYaI","./Invert":"pYMc","./Negative":"vADe","./Project":"qIJH","./ProjectUnit":"TLa2","./SetMagnitude":"Cftu"}],"Ycqg":[function(require,module,exports) {
var e=require("./Polygon"),n=function(n){return new e(n.points)};module.exports=n;
},{"./Polygon":"OC3c"}],"KWic":[function(require,module,exports) {
var r=require("./Contains"),e=function(e,n){return r(e,n.x,n.y)};module.exports=e;
},{"./Contains":"fVCd"}],"QKqk":[function(require,module,exports) {
var o=function(o,n){void 0===n&&(n=[]);for(var t=0;t<o.points.length;t++)n.push(o.points[t].x),n.push(o.points[t].y);return n};module.exports=o;
},{}],"mTzo":[function(require,module,exports) {
var e=function(e){return e.points.reverse(),e};module.exports=e;
},{}],"S2Ge":[function(require,module,exports) {
var e=require("./Polygon");e.Clone=require("./Clone"),e.Contains=require("./Contains"),e.ContainsPoint=require("./ContainsPoint"),e.GetAABB=require("./GetAABB"),e.GetNumberArray=require("./GetNumberArray"),e.GetPoints=require("./GetPoints"),e.Perimeter=require("./Perimeter"),e.Reverse=require("./Reverse"),e.Smooth=require("./Smooth"),module.exports=e;
},{"./Polygon":"OC3c","./Clone":"Ycqg","./Contains":"fVCd","./ContainsPoint":"KWic","./GetAABB":"rv7u","./GetNumberArray":"QKqk","./GetPoints":"sCie","./Perimeter":"YFF2","./Reverse":"mTzo","./Smooth":"Fyzq"}],"leyH":[function(require,module,exports) {
var t=function(t){return t.width*t.height};module.exports=t;
},{}],"SNJa":[function(require,module,exports) {
var e=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};module.exports=e;
},{}],"bjMK":[function(require,module,exports) {
var t=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};module.exports=t;
},{}],"M1XK":[function(require,module,exports) {
var e=require("./Rectangle"),r=function(r){return new e(r.x,r.y,r.width,r.height)};module.exports=r;
},{"./Rectangle":"wYVB"}],"AMtZ":[function(require,module,exports) {
var r=require("./Contains"),e=function(e,n){return r(e,n.x,n.y)};module.exports=e;
},{"./Contains":"mjUt"}],"O53A":[function(require,module,exports) {
var t=function(t,o){return!(o.width*o.height>t.width*t.height)&&(o.x>t.x&&o.x<t.right&&o.right>t.x&&o.right<t.right&&o.y>t.y&&o.y<t.bottom&&o.bottom>t.y&&o.bottom<t.bottom)};module.exports=t;
},{}],"eAMY":[function(require,module,exports) {
var t=function(t){return 0===t.height?NaN:t.width/t.height};module.exports=t;
},{}],"w4VW":[function(require,module,exports) {
var e=require("./GetAspectRatio"),t=function(t,i){var h=e(t);return h<e(i)?t.setSize(i.height*h,i.height):t.setSize(i.width,i.width/h),t.setPosition(i.centerX-t.width/2,i.centerY-t.height/2)};module.exports=t;
},{"./GetAspectRatio":"eAMY"}],"fe7M":[function(require,module,exports) {
var e=require("./GetAspectRatio"),t=function(t,i){var h=e(t);return h>e(i)?t.setSize(i.height*h,i.height):t.setSize(i.width,i.width/h),t.setPosition(i.centerX-t.width/2,i.centerY-t.height/2)};module.exports=t;
},{"./GetAspectRatio":"eAMY"}],"VMeJ":[function(require,module,exports) {
var o=function(o){return o.x=Math.floor(o.x),o.y=Math.floor(o.y),o};module.exports=o;
},{}],"ybYF":[function(require,module,exports) {
var o=function(o){return o.x=Math.floor(o.x),o.y=Math.floor(o.y),o.width=Math.floor(o.width),o.height=Math.floor(o.height),o};module.exports=o;
},{}],"HkgV":[function(require,module,exports) {
var e=require("./Rectangle"),t=function(t,a,n,r,i){return void 0===i&&(i=new e),i.setTo(Math.min(t,n),Math.min(a,r),Math.abs(t-n),Math.abs(a-r))};module.exports=t;
},{"./Rectangle":"wYVB"}],"IqBS":[function(require,module,exports) {
var e=require("../point/Point"),n=function(n,r){return void 0===r&&(r=new e),r.x=n.centerX,r.y=n.centerY,r};module.exports=n;
},{"../point/Point":"IDPQ"}],"EqDR":[function(require,module,exports) {
var e=require("../point/Point"),i=function(i,t){return void 0===t&&(t=new e),t.x=i.width,t.y=i.height,t};module.exports=i;
},{"../point/Point":"IDPQ"}],"j8sE":[function(require,module,exports) {
var e=require("./CenterOn"),r=function(r,t,n){var i=r.centerX,u=r.centerY;return r.setSize(r.width+2*t,r.height+2*n),e(r,i,u)};module.exports=r;
},{"./CenterOn":"IU3l"}],"adIw":[function(require,module,exports) {
var t=require("./Rectangle"),e=require("../intersects/RectangleToRectangle"),i=function(i,r,a){return void 0===a&&(a=new t),e(i,r)?(a.x=Math.max(i.x,r.x),a.y=Math.max(i.y,r.y),a.width=Math.min(i.right,r.right)-a.x,a.height=Math.min(i.bottom,r.bottom)-a.y):a.setEmpty(),a};module.exports=i;
},{"./Rectangle":"wYVB","../intersects/RectangleToRectangle":"ls5g"}],"s4q2":[function(require,module,exports) {
var t=function(t,h){for(var a=t.x,r=t.right,x=t.y,i=t.bottom,m=0;m<h.length;m++)a=Math.min(a,h[m].x),r=Math.max(r,h[m].x),x=Math.min(x,h[m].y),i=Math.max(i,h[m].y);return t.x=a,t.y=x,t.width=r-a,t.height=i-x,t};module.exports=t;
},{}],"WBHW":[function(require,module,exports) {
var t=function(t,a){var h=Math.min(t.x,a.x),r=Math.max(t.right,a.right);t.x=h,t.width=r-h;var i=Math.min(t.y,a.y),m=Math.max(t.bottom,a.bottom);return t.y=i,t.height=m-i,t};module.exports=t;
},{}],"Hp9H":[function(require,module,exports) {
var t=function(t,a,h){var r=Math.min(t.x,a),i=Math.max(t.right,a);t.x=r,t.width=i-r;var m=Math.min(t.y,h),n=Math.max(t.bottom,h);return t.y=m,t.height=n-m,t};module.exports=t;
},{}],"OP5P":[function(require,module,exports) {
var t=function(t,o){return t.x<o.right&&t.right>o.x&&t.y<o.bottom&&t.bottom>o.y};module.exports=t;
},{}],"mFYF":[function(require,module,exports) {
var t=require("../point/Point"),e=require("../../math/DegToRad"),h=function(h,i,r){void 0===r&&(r=new t),i=e(i);var a=Math.sin(i),n=Math.cos(i),o=n>0?h.width/2:h.width/-2,d=a>0?h.height/2:h.height/-2;return Math.abs(o*a)<Math.abs(d*n)?d=o*a/n:o=d*n/a,r.x=o+h.centerX,r.y=d+h.centerY,r};module.exports=h;
},{"../point/Point":"IDPQ","../../math/DegToRad":"VYZO"}],"DfyW":[function(require,module,exports) {
var t=require("../../math/Between"),a=require("./ContainsRect"),o=require("../point/Point"),r=function(r,e,n){if(void 0===n&&(n=new o),a(r,e))switch(t(0,3)){case 0:n.x=r.x+Math.random()*(e.right-r.x),n.y=r.y+Math.random()*(e.top-r.y);break;case 1:n.x=e.x+Math.random()*(r.right-e.x),n.y=e.bottom+Math.random()*(r.bottom-e.bottom);break;case 2:n.x=r.x+Math.random()*(e.x-r.x),n.y=e.y+Math.random()*(r.bottom-e.y);break;case 3:n.x=e.right+Math.random()*(r.right-e.right),n.y=r.y+Math.random()*(e.bottom-r.y)}return n};module.exports=r;
},{"../../math/Between":"SQE2","./ContainsRect":"O53A","../point/Point":"IDPQ"}],"zu6c":[function(require,module,exports) {
var t=function(t,h){return t.width===h.width&&t.height===h.height};module.exports=t;
},{}],"uIkh":[function(require,module,exports) {
var t=function(t,e,i){return void 0===i&&(i=e),t.width*=e,t.height*=i,t};module.exports=t;
},{}],"fJix":[function(require,module,exports) {
var e=require("./Rectangle");e.Area=require("./Area"),e.Ceil=require("./Ceil"),e.CeilAll=require("./CeilAll"),e.CenterOn=require("./CenterOn"),e.Clone=require("./Clone"),e.Contains=require("./Contains"),e.ContainsPoint=require("./ContainsPoint"),e.ContainsRect=require("./ContainsRect"),e.CopyFrom=require("./CopyFrom"),e.Decompose=require("./Decompose"),e.Equals=require("./Equals"),e.FitInside=require("./FitInside"),e.FitOutside=require("./FitOutside"),e.Floor=require("./Floor"),e.FloorAll=require("./FloorAll"),e.FromPoints=require("./FromPoints"),e.FromXY=require("./FromXY"),e.GetAspectRatio=require("./GetAspectRatio"),e.GetCenter=require("./GetCenter"),e.GetPoint=require("./GetPoint"),e.GetPoints=require("./GetPoints"),e.GetSize=require("./GetSize"),e.Inflate=require("./Inflate"),e.Intersection=require("./Intersection"),e.MarchingAnts=require("./MarchingAnts"),e.MergePoints=require("./MergePoints"),e.MergeRect=require("./MergeRect"),e.MergeXY=require("./MergeXY"),e.Offset=require("./Offset"),e.OffsetPoint=require("./OffsetPoint"),e.Overlaps=require("./Overlaps"),e.Perimeter=require("./Perimeter"),e.PerimeterPoint=require("./PerimeterPoint"),e.Random=require("./Random"),e.RandomOutside=require("./RandomOutside"),e.SameDimensions=require("./SameDimensions"),e.Scale=require("./Scale"),e.Union=require("./Union"),module.exports=e;
},{"./Rectangle":"wYVB","./Area":"leyH","./Ceil":"SNJa","./CeilAll":"bjMK","./CenterOn":"IU3l","./Clone":"M1XK","./Contains":"mjUt","./ContainsPoint":"AMtZ","./ContainsRect":"O53A","./CopyFrom":"Tj4j","./Decompose":"VCE4","./Equals":"NsEa","./FitInside":"w4VW","./FitOutside":"fe7M","./Floor":"VMeJ","./FloorAll":"ybYF","./FromPoints":"IP12","./FromXY":"HkgV","./GetAspectRatio":"eAMY","./GetCenter":"IqBS","./GetPoint":"DH2T","./GetPoints":"m1JL","./GetSize":"EqDR","./Inflate":"j8sE","./Intersection":"adIw","./MarchingAnts":"ZEcu","./MergePoints":"s4q2","./MergeRect":"WBHW","./MergeXY":"Hp9H","./Offset":"jW4N","./OffsetPoint":"AaiG","./Overlaps":"OP5P","./Perimeter":"x5Kb","./PerimeterPoint":"mFYF","./Random":"zxcx","./RandomOutside":"DfyW","./SameDimensions":"zu6c","./Scale":"uIkh","./Union":"zHvV"}],"IQoy":[function(require,module,exports) {
var r=function(r){var a=r.x1,t=r.y1,x=r.x2,e=r.y2,n=r.x3,o=r.y3;return Math.abs(((n-a)*(e-t)-(x-a)*(o-t))/2)};module.exports=r;
},{}],"W88E":[function(require,module,exports) {
var r=require("./Triangle"),e=function(e,n,t){var a=t*(Math.sqrt(3)/2);return new r(e,n,e+t/2,n+a,e-t/2,n+a)};module.exports=e;
},{"./Triangle":"YBUZ"}],"R5Yr":[function(require,module,exports) {
var r=require("../polygon/Earcut"),e=require("./Triangle"),o=function(o,i,n,u,l){void 0===i&&(i=null),void 0===n&&(n=1),void 0===u&&(u=1),void 0===l&&(l=[]);for(var v,d,t,a,g,p,c,f,h,q=r(o,i),s=0;s<q.length;s+=3)v=q[s],d=q[s+1],t=q[s+2],a=o[2*v]*n,g=o[2*v+1]*u,p=o[2*d]*n,c=o[2*d+1]*u,f=o[2*t]*n,h=o[2*t+1]*u,l.push(new e(a,g,p,c,f,h));return l};module.exports=o;
},{"../polygon/Earcut":"k71t","./Triangle":"YBUZ"}],"BZbb":[function(require,module,exports) {
var e=require("./Triangle"),r=function(r,n,i,o){return void 0===o&&(o=i),new e(r,n,r,n-o,r+i,n)};module.exports=r;
},{"./Triangle":"YBUZ"}],"UhkI":[function(require,module,exports) {
var e=require("../point/Point"),n=function(n,o){return void 0===o&&(o=new e),o.x=(n.x1+n.x2+n.x3)/3,o.y=(n.y1+n.y2+n.y3)/3,o};module.exports=n;
},{"../point/Point":"IDPQ"}],"RTJa":[function(require,module,exports) {
var r=function(r,x,e){return r.x1+=x,r.y1+=e,r.x2+=x,r.y2+=e,r.x3+=x,r.y3+=e,r};module.exports=r;
},{}],"icBw":[function(require,module,exports) {
var r=require("./Centroid"),e=require("./Offset"),i=function(i,o,t,u){void 0===u&&(u=r);var n=u(i),d=o-n.x,f=t-n.y;return e(i,d,f)};module.exports=i;
},{"./Centroid":"UhkI","./Offset":"RTJa"}],"nfrs":[function(require,module,exports) {
var r=require("../../math/Vector2");function e(r,e,n,t){return r*t-e*n}var n=function(n,t){void 0===t&&(t=new r);var o=n.x3,u=n.y3,x=n.x1-o,a=n.y1-u,i=n.x2-o,v=n.y2-u,y=2*e(x,a,i,v),c=e(a,x*x+a*a,v,i*i+v*v),d=e(x,x*x+a*a,i,i*i+v*v);return t.x=o-c/y,t.y=u+d/y,t};module.exports=n;
},{"../../math/Vector2":"qKN5"}],"boK1":[function(require,module,exports) {
var a=require("../circle/Circle"),r=function(r,t){void 0===t&&(t=new a);var e,i,x=r.x1,h=r.y1,s=r.x2,M=r.y2,n=r.x3,u=r.y3,y=s-x,m=M-h,c=n-x,d=u-h,l=y*(x+s)+m*(h+M),o=c*(x+n)+d*(h+u),v=2*(y*(u-M)-m*(n-s));if(Math.abs(v)<1e-6){var q=Math.min(x,s,n),f=Math.min(h,M,u);e=.5*(Math.max(x,s,n)-q),i=.5*(Math.max(h,M,u)-f),t.x=q+e,t.y=f+i,t.radius=Math.sqrt(e*e+i*i)}else t.x=(d*l-m*o)/v,t.y=(y*o-c*l)/v,e=t.x-x,i=t.y-h,t.radius=Math.sqrt(e*e+i*i);return t};module.exports=r;
},{"../circle/Circle":"VKcd"}],"mJWe":[function(require,module,exports) {
var e=require("./Triangle"),r=function(r){return new e(r.x1,r.y1,r.x2,r.y2,r.x3,r.y3)};module.exports=r;
},{"./Triangle":"YBUZ"}],"kRUA":[function(require,module,exports) {
var r=require("./Contains"),e=function(e,n){return r(e,n.x,n.y)};module.exports=e;
},{"./Contains":"t8Ac"}],"ckxL":[function(require,module,exports) {
var e=function(e,o){return o.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};module.exports=e;
},{}],"PyUG":[function(require,module,exports) {
var x=function(x,y){return x.x1===y.x1&&x.y1===y.y1&&x.x2===y.x2&&x.y2===y.y2&&x.x3===y.x3&&x.y3===y.y3};module.exports=x;
},{}],"qaUh":[function(require,module,exports) {
var r=require("../point/Point");function n(r,n,t,e){var o=r-t,i=n-e,u=o*o+i*i;return Math.sqrt(u)}var t=function(t,e){void 0===e&&(e=new r);var o=t.x1,i=t.y1,u=t.x2,a=t.y2,v=t.x3,x=t.y3,y=n(v,x,u,a),c=n(o,i,v,x),d=n(u,a,o,i),f=y+c+d;return e.x=(o*y+u*c+v*d)/f,e.y=(i*y+a*c+x*d)/f,e};module.exports=t;
},{"../point/Point":"IDPQ"}],"KnjQ":[function(require,module,exports) {
var e=require("../line/Length"),n=function(n){var r=n.getLineA(),t=n.getLineB(),i=n.getLineC();return e(r)+e(t)+e(i)};module.exports=n;
},{"../line/Length":"cDwM"}],"mr88":[function(require,module,exports) {
var x=function(x,y,r,t){var a=Math.cos(t),n=Math.sin(t),o=x.x1-y,e=x.y1-r;return x.x1=o*a-e*n+y,x.y1=o*n+e*a+r,o=x.x2-y,e=x.y2-r,x.x2=o*a-e*n+y,x.y2=o*n+e*a+r,o=x.x3-y,e=x.y3-r,x.x3=o*a-e*n+y,x.y3=o*n+e*a+r,x};module.exports=x;
},{}],"hlJf":[function(require,module,exports) {
var r=require("./RotateAroundXY"),e=require("./InCenter"),n=function(n,t){var u=e(n);return r(n,u.x,u.y,t)};module.exports=n;
},{"./RotateAroundXY":"mr88","./InCenter":"qaUh"}],"wzCN":[function(require,module,exports) {
var r=require("./RotateAroundXY"),e=function(e,o,t){return r(e,o.x,o.y,t)};module.exports=e;
},{"./RotateAroundXY":"mr88"}],"Tn9u":[function(require,module,exports) {
var e=require("./Triangle");e.Area=require("./Area"),e.BuildEquilateral=require("./BuildEquilateral"),e.BuildFromPolygon=require("./BuildFromPolygon"),e.BuildRight=require("./BuildRight"),e.CenterOn=require("./CenterOn"),e.Centroid=require("./Centroid"),e.CircumCenter=require("./CircumCenter"),e.CircumCircle=require("./CircumCircle"),e.Clone=require("./Clone"),e.Contains=require("./Contains"),e.ContainsArray=require("./ContainsArray"),e.ContainsPoint=require("./ContainsPoint"),e.CopyFrom=require("./CopyFrom"),e.Decompose=require("./Decompose"),e.Equals=require("./Equals"),e.GetPoint=require("./GetPoint"),e.GetPoints=require("./GetPoints"),e.InCenter=require("./InCenter"),e.Perimeter=require("./Perimeter"),e.Offset=require("./Offset"),e.Random=require("./Random"),e.Rotate=require("./Rotate"),e.RotateAroundPoint=require("./RotateAroundPoint"),e.RotateAroundXY=require("./RotateAroundXY"),module.exports=e;
},{"./Triangle":"YBUZ","./Area":"IQoy","./BuildEquilateral":"W88E","./BuildFromPolygon":"R5Yr","./BuildRight":"BZbb","./CenterOn":"icBw","./Centroid":"UhkI","./CircumCenter":"nfrs","./CircumCircle":"boK1","./Clone":"mJWe","./Contains":"t8Ac","./ContainsArray":"YduP","./ContainsPoint":"kRUA","./CopyFrom":"ckxL","./Decompose":"hGzO","./Equals":"PyUG","./GetPoint":"jzh2","./GetPoints":"caa2","./InCenter":"qaUh","./Perimeter":"KnjQ","./Offset":"RTJa","./Random":"GQ7o","./Rotate":"hlJf","./RotateAroundPoint":"wzCN","./RotateAroundXY":"mr88"}],"HXAG":[function(require,module,exports) {
var e=require("./const"),r=require("../utils/object/Extend"),i={Circle:require("./circle"),Ellipse:require("./ellipse"),Intersects:require("./intersects"),Line:require("./line"),Point:require("./point"),Polygon:require("./polygon"),Rectangle:require("./rectangle"),Triangle:require("./triangle")};i=r(!1,i,e),module.exports=i;
},{"./const":"ytOT","../utils/object/Extend":"SFmW","./circle":"cYfR","./ellipse":"EWge","./intersects":"qgzk","./line":"JDDG","./point":"FxLn","./polygon":"S2Ge","./rectangle":"fJix","./triangle":"Tn9u"}],"qWsS":[function(require,module,exports) {
var a=function(a,r,l){return{gameObject:a,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:r,hitAreaCallback:l,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};module.exports=a;
},{}],"IpB8":[function(require,module,exports) {
var t=require("../../utils/Class"),e=new t({initialize:function(t,e){this.pad=t,this.events=t.events,this.index=e,this.value=0,this.threshold=.1},update:function(t){this.value=t},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});module.exports=e;
},{"../../utils/Class":"JASv"}],"b41r":[function(require,module,exports) {
module.exports="down";
},{}],"bMqz":[function(require,module,exports) {
module.exports="up";
},{}],"Jlzh":[function(require,module,exports) {
module.exports="connected";
},{}],"xD0v":[function(require,module,exports) {
module.exports="disconnected";
},{}],"gE3Q":[function(require,module,exports) {
module.exports={BUTTON_DOWN:require("./BUTTON_DOWN_EVENT"),BUTTON_UP:require("./BUTTON_UP_EVENT"),CONNECTED:require("./CONNECTED_EVENT"),DISCONNECTED:require("./DISCONNECTED_EVENT"),GAMEPAD_BUTTON_DOWN:require("./GAMEPAD_BUTTON_DOWN_EVENT"),GAMEPAD_BUTTON_UP:require("./GAMEPAD_BUTTON_UP_EVENT")};
},{"./BUTTON_DOWN_EVENT":"b41r","./BUTTON_UP_EVENT":"bMqz","./CONNECTED_EVENT":"Jlzh","./DISCONNECTED_EVENT":"xD0v","./GAMEPAD_BUTTON_DOWN_EVENT":"b41r","./GAMEPAD_BUTTON_UP_EVENT":"bMqz"}],"GVM8":[function(require,module,exports) {
var s=require("../../utils/Class"),t=require("./events"),e=new s({initialize:function(s,t){this.pad=s,this.events=s.manager,this.index=t,this.value=0,this.threshold=1,this.pressed=!1},update:function(s){this.value=s;var e=this.pad,i=this.index;s>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(t.BUTTON_DOWN,e,this,s),this.pad.emit(t.GAMEPAD_BUTTON_DOWN,i,s,this)):this.pressed&&(this.pressed=!1,this.events.emit(t.BUTTON_UP,e,this,s),this.pad.emit(t.GAMEPAD_BUTTON_UP,i,s,this))},destroy:function(){this.pad=null,this.events=null}});module.exports=e;
},{"../../utils/Class":"JASv","./events":"gE3Q"}],"sY36":[function(require,module,exports) {
var t=require("./Axis"),e=require("./Button"),i=require("../../utils/Class"),s=require("eventemitter3"),n=require("../../math/Vector2"),r=new i({Extends:s,initialize:function(i,r){s.call(this),this.manager=i,this.pad=r,this.id=r.id,this.index=r.index;for(var h=[],u=0;u<r.buttons.length;u++)h.push(new e(this,u));this.buttons=h;var o=[];for(u=0;u<r.axes.length;u++)o.push(new t(this,u));this.axes=o,this.vibration=r.vibrationActuator;var a={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:a,this._LCRight=h[15]?h[15]:a,this._LCTop=h[12]?h[12]:a,this._LCBottom=h[13]?h[13]:a,this._RCLeft=h[2]?h[2]:a,this._RCRight=h[1]?h[1]:a,this._RCTop=h[3]?h[3]:a,this._RCBottom=h[0]?h[0]:a,this._FBLeftTop=h[4]?h[4]:a,this._FBLeftBottom=h[6]?h[6]:a,this._FBRightTop=h[5]?h[5]:a,this._FBRightBottom=h[7]?h[7]:a;var g={value:0};this._HAxisLeft=o[0]?o[0]:g,this._VAxisLeft=o[1]?o[1]:g,this._HAxisRight=o[2]?o[2]:g,this._VAxisRight=o[3]?o[3]:g,this.leftStick=new n,this.rightStick=new n},getAxisTotal:function(){return this.axes.length},getAxisValue:function(t){return this.axes[t].getValue()},setAxisThreshold:function(t){for(var e=0;e<this.axes.length;e++)this.axes[e].threshold=t},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(t){return this.buttons[t].value},isButtonDown:function(t){return this.buttons[t].pressed},update:function(t){var e,i=this.buttons,s=t.buttons,n=i.length;for(e=0;e<n;e++)i[e].update(s[e].value);var r=this.axes,h=t.axes;for(n=r.length,e=0;e<n;e++)r[e].update(h[e]);n>=2&&(this.leftStick.set(r[0].getValue(),r[1].getValue()),n>=4&&this.rightStick.set(r[2].getValue(),r[3].getValue()))},destroy:function(){var t;for(this.removeAllListeners(),this.manager=null,this.pad=null,t=0;t<this.buttons.length;t++)this.buttons[t].destroy();for(t=0;t<this.axes.length;t++)this.axes[t].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});module.exports=r;
},{"./Axis":"IpB8","./Button":"GVM8","../../utils/Class":"JASv","eventemitter3":"JJlS","../../math/Vector2":"qKN5"}],"t4Uy":[function(require,module,exports) {
var e=require("../utils/object/GetValue"),n={},i={register:function(e,i,t,r,g){n[e]={plugin:i,mapping:t,settingsKey:r,configKey:g}},getPlugin:function(e){return n[e]},install:function(i){var t=i.scene.sys,r=t.settings.input,g=t.game.config;for(var s in n){var o=n[s].plugin,u=n[s].mapping,a=n[s].settingsKey,c=n[s].configKey;e(r,a,g[c])&&(i[u]=new o(i))}},remove:function(e){n.hasOwnProperty(e)&&delete n[e]}};module.exports=i;
},{"../utils/object/GetValue":"OqLI"}],"Of6t":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("eventemitter3"),s=require("./events"),i=require("./Gamepad"),n=require("../../utils/object/GetValue"),a=require("../InputPluginCache"),d=require("../events"),h=new e({Extends:t,initialize:function(e){t.call(this),this.scene=e.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=e,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,e.pluginEvents.once(d.BOOT,this.boot,this),e.pluginEvents.on(d.START,this.start,this)},boot:function(){var e=this.scene.sys.game,t=this.settings.input,s=e.config;this.enabled=n(t,"gamepad",s.inputGamepad)&&e.device.input.gamepads,this.target=n(t,"gamepad.target",s.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(d.DESTROY,this.destroy,this)},start:function(){this.enabled&&this.startListeners(),this.sceneInputPlugin.pluginEvents.once(d.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var e=this,t=this.target,s=function(t){!t.defaultPrevented&&e.isActive()&&(e.refreshPads(),e.queue.push(t))};this.onGamepadHandler=s,t.addEventListener("gamepadconnected",s,!1),t.addEventListener("gamepaddisconnected",s,!1),this.sceneInputPlugin.pluginEvents.on(d.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(d.UPDATE,this.update)},disconnectAll:function(){for(var e=0;e<this.gamepads.length;e++)this.gamepads.connected=!1},refreshPads:function(){var e=navigator.getGamepads();if(e)for(var t=this.gamepads,s=0;s<e.length;s++){var n=e[s];if(n){var a=n.id,d=n.index,h=t[d];if(h)h.id!==a?(h.destroy(),t[d]=new i(this,n)):h.update(n);else{var r=new i(this,n);t[d]=r,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=r):this._pad3=r:this._pad2=r:this._pad1=r}}}else this.disconnectAll()},getAll:function(){for(var e=[],t=this.gamepads,s=0;s<t.length;s++)t[s]&&e.push(t[s]);return e},getPad:function(e){for(var t=this.gamepads,s=0;s<t.length;s++)if(t[s]&&t[s].index===e)return t[s]},update:function(){if(this.enabled){this.refreshPads();var e=this.queue.length;if(0!==e)for(var t=this.queue.splice(0,e),i=0;i<e;i++){var n=t[i],a=this.getPad(n.gamepad.index);"gamepadconnected"===n.type?this.emit(s.CONNECTED,a,n):"gamepaddisconnected"===n.type&&this.emit(s.DISCONNECTED,a,n)}}},shutdown:function(){this.stopListeners(),this.disconnectAll(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var e=0;e<this.gamepads.length;e++)this.gamepads[e]&&this.gamepads[e].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});a.register("GamepadPlugin",h,"gamepad","gamepad","inputGamepad"),module.exports=h;
},{"../../utils/Class":"JASv","eventemitter3":"JJlS","./events":"gE3Q","./Gamepad":"sY36","../../utils/object/GetValue":"OqLI","../InputPluginCache":"t4Uy","../events":"aZHS"}],"dlzj":[function(require,module,exports) {
module.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3};
},{}],"a6Xc":[function(require,module,exports) {
module.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5};
},{}],"vpDS":[function(require,module,exports) {
module.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3};
},{}],"gjz9":[function(require,module,exports) {
module.exports={DUALSHOCK_4:require("./Sony_PlayStation_DualShock_4"),SNES_USB:require("./SNES_USB_Controller"),XBOX_360:require("./XBox360_Controller")};
},{"./Sony_PlayStation_DualShock_4":"dlzj","./SNES_USB_Controller":"a6Xc","./XBox360_Controller":"vpDS"}],"AKVT":[function(require,module,exports) {
module.exports={Axis:require("./Axis"),Button:require("./Button"),Events:require("./events"),Gamepad:require("./Gamepad"),GamepadPlugin:require("./GamepadPlugin"),Configs:require("./configs/")};
},{"./Axis":"IpB8","./Button":"GVM8","./events":"gE3Q","./Gamepad":"sY36","./GamepadPlugin":"Of6t","./configs/":"gjz9"}],"RdON":[function(require,module,exports) {
var e=function(e,r){return function(t,n,u,a){var o=e.getPixelAlpha(n,u,a.texture.key,a.frame.name);return o&&o>=r}};module.exports=e;
},{}],"JPfu":[function(require,module,exports) {
var t=require("../geom/circle/Circle"),e=require("../geom/circle/Contains"),i=require("../utils/Class"),n=require("./const"),r=require("./CreateInteractiveObject"),s=require("./CreatePixelPerfectHandler"),a=require("../math/distance/DistanceBetween"),o=require("../geom/ellipse/Ellipse"),h=require("../geom/ellipse/Contains"),l=require("./events"),u=require("eventemitter3"),c=require("../utils/object/GetFastValue"),g=require("../geom/const"),p=require("./InputPluginCache"),d=require("../utils/object/IsPlainObject"),m=require("../plugins/PluginCache"),v=require("../geom/rectangle/Rectangle"),E=require("../geom/rectangle/Contains"),f=require("../scene/events"),_=require("../geom/triangle/Triangle"),O=require("../geom/triangle/Contains"),T=new i({Extends:u,initialize:function(t){u.call(this),this.scene=t,this.systems=t.sys,this.settings=t.sys.settings,this.manager=t.sys.game.input,this.pluginEvents=new u,this.enabled=!0,this.displayList,this.cameras,p.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var e={cancelled:!1};this._eventContainer={stopPropagation:function(){e.cancelled=!0}},this._eventData=e,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,t.sys.events.once(f.BOOT,this.boot,this),t.sys.events.on(f.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(f.DESTROY,this.destroy,this),this.pluginEvents.emit(l.BOOT)},start:function(){var t=this.systems.events;t.on(f.TRANSITION_START,this.transitionIn,this),t.on(f.TRANSITION_OUT,this.transitionOut,this),t.on(f.TRANSITION_COMPLETE,this.transitionComplete,this),t.on(f.PRE_UPDATE,this.preUpdate,this),t.once(f.SHUTDOWN,this.shutdown,this),this.manager.events.on(l.GAME_OUT,this.onGameOut,this),this.manager.events.on(l.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(l.START)},onGameOver:function(t){this.isActive()&&this.emit(l.GAME_OVER,t.timeStamp,t)},onGameOut:function(t){this.isActive()&&this.emit(l.GAME_OUT,t.timeStamp,t)},preUpdate:function(){this.pluginEvents.emit(l.PRE_UPDATE);var t=this._pendingRemoval,e=this._pendingInsertion,i=t.length,n=e.length;if(0!==i||0!==n){for(var r=this._list,s=0;s<i;s++){var a=t[s],o=r.indexOf(a);o>-1&&(r.splice(o,1),this.clear(a,!0))}t.length=0,this._pendingRemoval.length=0,this._list=r.concat(e.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(t,e){if(!this.isActive())return!1;if(this.pluginEvents.emit(l.UPDATE,t,e),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var i,n=this.manager,r=n.pointers,s=n.pointersTotal;for(i=0;i<s;i++)r[i].updateMotion();if(0===this._list.length)return!1;var a=this.pollRate;if(-1===a)return!1;if(a>0){if(this._pollTimer-=e,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var o=!1;for(i=0;i<s;i++){var h=0,u=r[i];this._tempZones=[],this._temp=this.hitTestPointer(u),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),h+=this.processOverOutEvents(u),2===this.getDragState(u)&&this.processDragThresholdEvent(u,t),h>0&&(o=!0)}return o},update:function(t,e){if(!this.isActive())return!1;for(var i=e.length,r=!1,s=0;s<i;s++){var a=0,o=e[s];switch(this._tempZones=[],this._temp=this.hitTestPointer(o),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),t){case n.MOUSE_DOWN:a+=this.processDragDownEvent(o),a+=this.processDownEvents(o),a+=this.processOverOutEvents(o);break;case n.MOUSE_UP:a+=this.processDragUpEvent(o),a+=this.processUpEvents(o),a+=this.processOverOutEvents(o);break;case n.TOUCH_START:a+=this.processDragDownEvent(o),a+=this.processDownEvents(o),a+=this.processOverEvents(o);break;case n.TOUCH_END:case n.TOUCH_CANCEL:a+=this.processDragUpEvent(o),a+=this.processUpEvents(o),a+=this.processOutEvents(o);break;case n.MOUSE_MOVE:case n.TOUCH_MOVE:a+=this.processDragMoveEvent(o),a+=this.processMoveEvents(o),a+=this.processOverOutEvents(o);break;case n.MOUSE_WHEEL:a+=this.processWheelEvent(o)}a>0&&(r=!0)}return this._updatedThisFrame=!0,r},clear:function(t,e){void 0===e&&(e=!1);var i=t.input;if(i){e||this.queueForRemoval(t),i.gameObject=void 0,i.target=void 0,i.hitArea=void 0,i.hitAreaCallback=void 0,i.callbackContext=void 0,this.manager.resetCursor(i),t.input=null;var n=this._draggable.indexOf(t);return n>-1&&this._draggable.splice(n,1),(n=this._drag[0].indexOf(t))>-1&&this._drag[0].splice(n,1),(n=this._over[0].indexOf(t))>-1&&this._over[0].splice(n,1),t}},disable:function(t){t.input.enabled=!1},enable:function(t,e,i,n){return void 0===n&&(n=!1),t.input?t.input.enabled=!0:this.setHitArea(t,e,i),t.input&&n&&!t.input.dropZone&&(t.input.dropZone=n),this},hitTestPointer:function(t){for(var e=this.cameras.getCamerasBelowPointer(t),i=0;i<e.length;i++){for(var n=e[i],r=this.manager.hitTest(t,this._list,n),s=0;s<r.length;s++){var a=r[s];a.input.dropZone&&this._tempZones.push(a)}if(r.length>0)return t.camera=n,r}return t.camera=e[0],[]},processDownEvents:function(t){var e=0,i=this._temp,n=this._eventData,r=this._eventContainer;n.cancelled=!1;for(var s=!1,a=0;a<i.length;a++){var o=i[a];if(o.input){if(e++,o.emit(l.GAMEOBJECT_POINTER_DOWN,t,o.input.localX,o.input.localY,r),n.cancelled||!o.input){s=!0;break}if(this.emit(l.GAMEOBJECT_DOWN,t,o,r),n.cancelled||!o.input){s=!0;break}}}return!s&&this.manager&&(t.downElement===this.manager.game.canvas?this.emit(l.POINTER_DOWN,t,i):this.emit(l.POINTER_DOWN_OUTSIDE,t)),e},getDragState:function(t){return this._dragState[t.id]},setDragState:function(t,e){this._dragState[t.id]=e},processDragThresholdEvent:function(t,e){var i=!1,n=this.dragTimeThreshold,r=this.dragDistanceThreshold;if(r>0&&a(t.x,t.y,t.downX,t.downY)>=r?i=!0:n>0&&e>=t.downTime+n&&(i=!0),i)return this.setDragState(t,3),this.processDragStartList(t)},processDragStartList:function(t){if(3!==this.getDragState(t))return 0;for(var e=this._drag[t.id],i=0;i<e.length;i++){var n=e[i],r=n.input;r.dragState=2,r.dragStartX=n.x,r.dragStartY=n.y,r.dragStartXGlobal=t.x,r.dragStartYGlobal=t.y,r.dragX=r.dragStartXGlobal-r.dragStartX,r.dragY=r.dragStartYGlobal-r.dragStartY,n.emit(l.GAMEOBJECT_DRAG_START,t,r.dragX,r.dragY),this.emit(l.DRAG_START,t,n)}return this.setDragState(t,4),e.length},processDragDownEvent:function(t){var e=this._temp;if(0===this._draggable.length||0===e.length||!t.primaryDown||0!==this.getDragState(t))return 0;this.setDragState(t,1);for(var i=[],n=0;n<e.length;n++){var r=e[n];r.input.draggable&&0===r.input.dragState&&i.push(r)}return 0===i.length?(this.setDragState(t,0),0):(i.length>1&&(this.sortGameObjects(i),this.topOnly&&i.splice(1)),this._drag[t.id]=i,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?(this.setDragState(t,3),this.processDragStartList(t)):(this.setDragState(t,2),0))},processDragMoveEvent:function(t){if(2===this.getDragState(t)&&this.processDragThresholdEvent(t,this.manager.game.loop.now),4!==this.getDragState(t))return 0;for(var e=this._tempZones,i=this._drag[t.id],n=0;n<i.length;n++){var r,s,a=i[n],o=a.input,h=o.target;if(h){var u=e.indexOf(h);0===u?(a.emit(l.GAMEOBJECT_DRAG_OVER,t,h),this.emit(l.DRAG_OVER,t,a,h)):u>0?(a.emit(l.GAMEOBJECT_DRAG_LEAVE,t,h),this.emit(l.DRAG_LEAVE,t,a,h),o.target=e[0],h=o.target,a.emit(l.GAMEOBJECT_DRAG_ENTER,t,h),this.emit(l.DRAG_ENTER,t,a,h)):(a.emit(l.GAMEOBJECT_DRAG_LEAVE,t,h),this.emit(l.DRAG_LEAVE,t,a,h),e[0]?(o.target=e[0],h=o.target,a.emit(l.GAMEOBJECT_DRAG_ENTER,t,h),this.emit(l.DRAG_ENTER,t,a,h)):o.target=null)}else!h&&e[0]&&(o.target=e[0],h=o.target,a.emit(l.GAMEOBJECT_DRAG_ENTER,t,h),this.emit(l.DRAG_ENTER,t,a,h));if(a.parentContainer){var c=t.x-o.dragStartXGlobal,g=t.y-o.dragStartYGlobal,p=a.getParentRotation(),d=c*Math.cos(p)+g*Math.sin(p),m=g*Math.cos(p)-c*Math.sin(p);d*=1/a.parentContainer.scaleX,m*=1/a.parentContainer.scaleY,r=d+o.dragStartX,s=m+o.dragStartY}else r=t.x-o.dragX,s=t.y-o.dragY;a.emit(l.GAMEOBJECT_DRAG,t,r,s),this.emit(l.DRAG,t,a,r,s)}return i.length},processDragUpEvent:function(t){for(var e=this._drag[t.id],i=0;i<e.length;i++){var n=e[i],r=n.input;if(r&&2===r.dragState){r.dragState=0,r.dragX=r.localX-n.displayOriginX,r.dragY=r.localY-n.displayOriginY;var s=!1,a=r.target;a&&(n.emit(l.GAMEOBJECT_DROP,t,a),this.emit(l.DROP,t,n,a),r.target=null,s=!0),n.input&&(n.emit(l.GAMEOBJECT_DRAG_END,t,r.dragX,r.dragY,s),this.emit(l.DRAG_END,t,n,s))}}return this.setDragState(t,0),e.splice(0),0},processMoveEvents:function(t){var e=0,i=this._temp,n=this._eventData,r=this._eventContainer;n.cancelled=!1;for(var s=!1,a=0;a<i.length;a++){var o=i[a];if(o.input){if(e++,o.emit(l.GAMEOBJECT_POINTER_MOVE,t,o.input.localX,o.input.localY,r),n.cancelled||!o.input){s=!0;break}if(this.emit(l.GAMEOBJECT_MOVE,t,o,r),n.cancelled||!o.input){s=!0;break}if(this.topOnly)break}}return s||this.emit(l.POINTER_MOVE,t,i),e},processWheelEvent:function(t){var e=0,i=this._temp,n=this._eventData,r=this._eventContainer;n.cancelled=!1;for(var s=!1,a=t.deltaX,o=t.deltaY,h=t.deltaZ,u=0;u<i.length;u++){var c=i[u];if(c.input){if(e++,c.emit(l.GAMEOBJECT_POINTER_WHEEL,t,a,o,h,r),n.cancelled||!c.input){s=!0;break}if(this.emit(l.GAMEOBJECT_WHEEL,t,c,a,o,h,r),n.cancelled||!c.input){s=!0;break}}}return s||this.emit(l.POINTER_WHEEL,t,i,a,o,h),e},processOverEvents:function(t){var e=this._temp,i=0,n=e.length,r=[];if(n>0){var s=this.manager,a=this._eventData,o=this._eventContainer;a.cancelled=!1;for(var h=!1,u=0;u<n;u++){var c=e[u];if(c.input){if(r.push(c),s.setCursor(c.input),c.emit(l.GAMEOBJECT_POINTER_OVER,t,c.input.localX,c.input.localY,o),i++,a.cancelled||!c.input){h=!0;break}if(this.emit(l.GAMEOBJECT_OVER,t,c,o),a.cancelled||!c.input){h=!0;break}}}h||this.emit(l.POINTER_OVER,t,r)}return this._over[t.id]=r,i},processOutEvents:function(t){var e=this._over[t.id],i=0,n=e.length;if(n>0){var r=this.manager,s=this._eventData,a=this._eventContainer;s.cancelled=!1;var o=!1;this.sortGameObjects(e);for(var h=0;h<n;h++){var u=e[h];for(h=0;h<n;h++)if((u=e[h]).input){if(r.resetCursor(u.input),u.emit(l.GAMEOBJECT_POINTER_OUT,t,a),i++,s.cancelled||!u.input){o=!0;break}if(this.emit(l.GAMEOBJECT_OUT,t,u,a),s.cancelled||!u.input){o=!0;break}}o||this.emit(l.POINTER_OUT,t,e)}this._over[t.id]=[]}return i},processOverOutEvents:function(t){var e,i,n=this._temp,r=[],s=[],a=[],o=this._over[t.id],h=this._drag[t.id],u=this.manager;for(e=0;e<o.length;e++)i=o[e],-1===n.indexOf(i)&&-1===h.indexOf(i)?r.push(i):a.push(i);for(e=0;e<n.length;e++)i=n[e],-1===o.indexOf(i)&&s.push(i);var c=r.length,g=0,p=this._eventData,d=this._eventContainer;p.cancelled=!1;var m=!1;if(c>0){for(this.sortGameObjects(r),e=0;e<c;e++)if((i=r[e]).input){if(u.resetCursor(i.input),i.emit(l.GAMEOBJECT_POINTER_OUT,t,d),g++,p.cancelled||!i.input){m=!0;break}if(this.emit(l.GAMEOBJECT_OUT,t,i,d),p.cancelled||!i.input){m=!0;break}}m||this.emit(l.POINTER_OUT,t,r)}if(c=s.length,p.cancelled=!1,m=!1,c>0){for(this.sortGameObjects(s),e=0;e<c;e++)if((i=s[e]).input){if(u.setCursor(i.input),i.emit(l.GAMEOBJECT_POINTER_OVER,t,i.input.localX,i.input.localY,d),g++,p.cancelled||!i.input){m=!0;break}if(this.emit(l.GAMEOBJECT_OVER,t,i,d),p.cancelled||!i.input){m=!0;break}}m||this.emit(l.POINTER_OVER,t,s)}return o=a.concat(s),this._over[t.id]=this.sortGameObjects(o),g},processUpEvents:function(t){var e=this._temp,i=this._eventData,n=this._eventContainer;i.cancelled=!1;for(var r=!1,s=0;s<e.length;s++){var a=e[s];if(a.input){if(a.emit(l.GAMEOBJECT_POINTER_UP,t,a.input.localX,a.input.localY,n),i.cancelled||!a.input){r=!0;break}if(this.emit(l.GAMEOBJECT_UP,t,a,n),i.cancelled||!a.input){r=!0;break}}}return!r&&this.manager&&(t.upElement===this.manager.game.canvas?this.emit(l.POINTER_UP,t,e):this.emit(l.POINTER_UP_OUTSIDE,t)),e.length},queueForInsertion:function(t){return-1===this._pendingInsertion.indexOf(t)&&-1===this._list.indexOf(t)&&this._pendingInsertion.push(t),this},queueForRemoval:function(t){return this._pendingRemoval.push(t),this},setDraggable:function(t,e){void 0===e&&(e=!0),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var n=t[i];n.input.draggable=e;var r=this._draggable.indexOf(n);e&&-1===r?this._draggable.push(n):!e&&r>-1&&this._draggable.splice(r,1)}return this},makePixelPerfect:function(t){void 0===t&&(t=1);var e=this.systems.textures;return s(e,t)},setHitArea:function(t,e,i){if(void 0===e)return this.setHitAreaFromTexture(t);Array.isArray(t)||(t=[t]);var n=!1,s=!1,a=!1,o=!1,h=!1,l=!0;if(d(e)){var u=e;e=c(u,"hitArea",null),i=c(u,"hitAreaCallback",null),n=c(u,"draggable",!1),s=c(u,"dropZone",!1),a=c(u,"cursor",!1),o=c(u,"useHandCursor",!1),h=c(u,"pixelPerfect",!1);var g=c(u,"alphaTolerance",1);h&&(e={},i=this.makePixelPerfect(g)),e&&i||(this.setHitAreaFromTexture(t),l=!1)}else"function"!=typeof e||i||(i=e,e={});for(var p=0;p<t.length;p++){var m=t[p];if(h&&"Container"===m.type)console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");else{var v=m.input?m.input:r(m,e,i);v.customHitArea=l,v.dropZone=s,v.cursor=o?"pointer":a,m.input=v,n&&this.setDraggable(m),this.queueForInsertion(m)}}return this},setHitAreaCircle:function(i,n,r,s,a){void 0===a&&(a=e);var o=new t(n,r,s);return this.setHitArea(i,o,a)},setHitAreaEllipse:function(t,e,i,n,r,s){void 0===s&&(s=h);var a=new o(e,i,n,r);return this.setHitArea(t,a,s)},setHitAreaFromTexture:function(t,e){void 0===e&&(e=E),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var n=t[i],s=n.frame,a=0,o=0;n.width?(a=n.width,o=n.height):s&&(a=s.realWidth,o=s.realHeight),"Container"!==n.type||0!==a&&0!==o?0!==a&&0!==o&&(n.input=r(n,new v(0,0,a,o),e),this.queueForInsertion(n)):console.warn("Container.setInteractive must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(t,e,i,n,r,s){void 0===s&&(s=E);var a=new v(e,i,n,r);return this.setHitArea(t,a,s)},setHitAreaTriangle:function(t,e,i,n,r,s,a,o){void 0===o&&(o=O);var h=new _(e,i,n,r,s,a);return this.setHitArea(t,h,o)},enableDebug:function(t,e){void 0===e&&(e=65280);var i=t.input;if(!i||!i.hitArea)return this;var n=i.hitArea,r=n.type,s=i.hitAreaDebug,a=this.systems.add,o=this.systems.updateList;s&&(o.remove(s),s.destroy(),s=null);var h=0,l=0;switch(r){case g.CIRCLE:s=a.arc(0,0,n.radius),h=n.x-n.radius,l=n.y-n.radius;break;case g.ELLIPSE:s=a.ellipse(0,0,n.width,n.height),h=n.x-n.width/2,l=n.y-n.height/2;break;case g.LINE:s=a.line(0,0,n.x1,n.y1,n.x2,n.y2);break;case g.POLYGON:s=a.polygon(0,0,n.points);break;case g.RECTANGLE:s=a.rectangle(0,0,n.width,n.height),h=n.x,l=n.y;break;case g.TRIANGLE:s=a.triangle(0,0,n.x1,n.y1,n.x2,n.y2,n.x3,n.y3)}return s&&(s.isFilled=!1,s.preUpdate=function(){s.setStrokeStyle(1/t.scale,e),s.setDisplayOrigin(t.displayOriginX,t.displayOriginY);var i=t.x,n=t.y,r=t.rotation,a=t.scaleX,o=t.scaleY;if(t.parentContainer){var u=t.getWorldTransformMatrix();i=u.tx,n=u.ty,r=u.rotation,a=u.scaleX,o=u.scaleY}s.setRotation(r),s.setScale(a,o),s.setPosition(i+h,n+l),s.setScrollFactor(t.scrollFactorX,t.scrollFactorY),s.setDepth(t.depth)},o.add(s),i.hitAreaDebug=s),this},removeDebug:function(t){var e=t.input;if(e&&e.hitAreaDebug){var i=e.hitAreaDebug;this.systems.updateList.remove(i),i.destroy(),e.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(t){return this.pollRate=t,this._pollTimer=0,this},setGlobalTopOnly:function(t){return this.manager.globalTopOnly=t,this},setTopOnly:function(t){return this.topOnly=t,this},sortGameObjects:function(t){return t.length<2?t:(this.scene.sys.depthSort(),t.sort(this.sortHandlerGO.bind(this)))},sortHandlerGO:function(t,e){if(t.parentContainer||e.parentContainer){if(t.parentContainer===e.parentContainer)return e.parentContainer.getIndex(e)-t.parentContainer.getIndex(t);if(t.parentContainer===e)return-1;if(e.parentContainer===t)return 1;for(var i=t.getIndexList(),n=e.getIndexList(),r=Math.min(i.length,n.length),s=0;s<r;s++){var a=i[s],o=n[s];if(a!==o)return o-a}return n.length-i.length}return this.displayList.getIndex(e)-this.displayList.getIndex(t)},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(t){return this.manager.addPointer(t)},setDefaultCursor:function(t){return this.manager.setDefaultCursor(t),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(l.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var t=0;t<10;t++)this._drag[t]=[],this._over[t]=[];this.removeAllListeners();var e=this.systems.events;e.off(f.TRANSITION_START,this.transitionIn,this),e.off(f.TRANSITION_OUT,this.transitionOut,this),e.off(f.TRANSITION_COMPLETE,this.transitionComplete,this),e.off(f.PRE_UPDATE,this.preUpdate,this),this.manager.events.off(l.GAME_OUT,this.onGameOut,this),this.manager.events.off(l.GAME_OVER,this.onGameOver,this),e.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(l.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});m.register("InputPlugin",T,"input"),module.exports=T;
},{"../geom/circle/Circle":"VKcd","../geom/circle/Contains":"inZZ","../utils/Class":"JASv","./const":"TdW0","./CreateInteractiveObject":"qWsS","./CreatePixelPerfectHandler":"RdON","../math/distance/DistanceBetween":"ovvS","../geom/ellipse/Ellipse":"rdPM","../geom/ellipse/Contains":"A2CA","./events":"aZHS","eventemitter3":"JJlS","../utils/object/GetFastValue":"cEup","../geom/const":"ytOT","./InputPluginCache":"t4Uy","../utils/object/IsPlainObject":"erhr","../plugins/PluginCache":"ZrqD","../geom/rectangle/Rectangle":"wYVB","../geom/rectangle/Contains":"mjUt","../scene/events":"zvkO","../geom/triangle/Triangle":"YBUZ","../geom/triangle/Contains":"t8Ac"}],"RCA9":[function(require,module,exports) {
module.exports="keydown";
},{}],"Ld87":[function(require,module,exports) {
module.exports="keyup";
},{}],"Fqss":[function(require,module,exports) {
module.exports="keycombomatch";
},{}],"ciuK":[function(require,module,exports) {
module.exports="keydown-";
},{}],"LQo1":[function(require,module,exports) {
module.exports="keyup-";
},{}],"A0OE":[function(require,module,exports) {
module.exports={ANY_KEY_DOWN:require("./ANY_KEY_DOWN_EVENT"),ANY_KEY_UP:require("./ANY_KEY_UP_EVENT"),COMBO_MATCH:require("./COMBO_MATCH_EVENT"),DOWN:require("./DOWN_EVENT"),KEY_DOWN:require("./KEY_DOWN_EVENT"),KEY_UP:require("./KEY_UP_EVENT"),UP:require("./UP_EVENT")};
},{"./ANY_KEY_DOWN_EVENT":"RCA9","./ANY_KEY_UP_EVENT":"Ld87","./COMBO_MATCH_EVENT":"Fqss","./DOWN_EVENT":"b41r","./KEY_DOWN_EVENT":"ciuK","./KEY_UP_EVENT":"LQo1","./UP_EVENT":"bMqz"}],"A2V6":[function(require,module,exports) {
var t=require("../../../utils/Class"),i=require("eventemitter3"),s=require("../events"),e=new t({Extends:i,initialize:function(t,s){i.call(this),this.plugin=t,this.keyCode=s,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(t){return this.emitOnRepeat=t,this},onDown:function(t){this.originalEvent=t,this.enabled&&(this.altKey=t.altKey,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.location=t.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(s.DOWN,this,t):(this.isDown=!0,this.isUp=!1,this.timeDown=t.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(s.DOWN,this,t)))},onUp:function(t){this.originalEvent=t,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=t.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(s.UP,this,t))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});module.exports=e;
},{"../../../utils/Class":"JASv","eventemitter3":"JJlS","../events":"A0OE"}],"LfFv":[function(require,module,exports) {
var e=function(e,t){return t.timeLastMatched=e.timeStamp,t.index++,t.index===t.size||(t.current=t.keyCodes[t.index],!1)};module.exports=e;
},{}],"gI8r":[function(require,module,exports) {
var e=require("./AdvanceKeyCombo"),t=function(t,a){if(a.matched)return!0;var r=!1,m=!1;if(t.keyCode===a.current)if(a.index>0&&a.maxKeyDelay>0){var i=a.timeLastMatched+a.maxKeyDelay;t.timeStamp<=i&&(m=!0,r=e(t,a))}else m=!0,r=e(t,a);return!m&&a.resetOnWrongKey&&(a.index=0,a.current=a.keyCodes[0]),r&&(a.timeLastMatched=t.timeStamp,a.matched=!0,a.timeMatched=t.timeStamp),r};module.exports=t;
},{"./AdvanceKeyCombo":"LfFv"}],"pXdP":[function(require,module,exports) {
var e=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};module.exports=e;
},{}],"zWcN":[function(require,module,exports) {
var e=require("../../../utils/Class"),t=require("../events"),s=require("../../../utils/object/GetFastValue"),i=require("./ProcessKeyCombo"),n=require("./ResetKeyCombo"),h=new e({initialize:function(e,h,r){if(void 0===r&&(r={}),h.length<2)return!1;this.manager=e,this.enabled=!0,this.keyCodes=[];for(var o=0;o<h.length;o++){var a=h[o];"string"==typeof a?this.keyCodes.push(a.toUpperCase().charCodeAt(0)):"number"==typeof a?this.keyCodes.push(a):a.hasOwnProperty("keyCode")&&this.keyCodes.push(a.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=s(r,"resetOnWrongKey",!0),this.maxKeyDelay=s(r,"maxKeyDelay",0),this.resetOnMatch=s(r,"resetOnMatch",!1),this.deleteOnMatch=s(r,"deleteOnMatch",!1);var d=this;this.onKeyDown=function(e){!d.matched&&d.enabled&&i(e,d)&&(d.manager.emit(t.COMBO_MATCH,d,e),d.resetOnMatch?n(d):d.deleteOnMatch&&d.destroy())},this.manager.on(t.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(t.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});module.exports=h;
},{"../../../utils/Class":"JASv","../events":"A0OE","../../../utils/object/GetFastValue":"cEup","./ProcessKeyCombo":"gI8r","./ResetKeyCombo":"pXdP"}],"esUu":[function(require,module,exports) {
var e=require("./KeyCodes"),r={};for(var o in e)r[e[o]]=o;module.exports=r;
},{"./KeyCodes":"ClXs"}],"SZum":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("eventemitter3"),n=require("./events"),i=require("../../core/events"),s=require("../../utils/object/GetValue"),r=require("../events"),a=require("../InputPluginCache"),u=require("./keys/Key"),o=require("./keys/KeyCodes"),h=require("./combo/KeyCombo"),c=require("./keys/KeyMap"),l=require("../../math/snap/SnapFloor"),d=new e({Extends:t,initialize:function(e){t.call(this),this.game=e.systems.game,this.scene=e.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=e,this.manager=e.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],e.pluginEvents.once(r.BOOT,this.boot,this),e.pluginEvents.on(r.START,this.start,this)},boot:function(){var e=this.settings.input;this.enabled=s(e,"keyboard",!0);var t=s(e,"keyboard.capture",null);t&&this.addCaptures(t),this.sceneInputPlugin.pluginEvents.once(r.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.useQueue?this.sceneInputPlugin.pluginEvents.on(r.UPDATE,this.update,this):this.sceneInputPlugin.manager.events.on(r.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(r.SHUTDOWN,this.shutdown,this),this.game.events.on(i.BLUR,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(e){return this.manager.addCapture(e),this},removeCapture:function(e){return this.manager.removeCapture(e),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:o.UP,down:o.DOWN,left:o.LEFT,right:o.RIGHT,space:o.SPACE,shift:o.SHIFT})},addKeys:function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1);var i={};if("string"==typeof e){e=e.split(",");for(var s=0;s<e.length;s++){var r=e[s].trim();r&&(i[r]=this.addKey(r,t,n))}}else for(var a in e)i[a]=this.addKey(e[a],t,n);return i},addKey:function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1);var i=this.keys;if(e instanceof u){var s=i.indexOf(e);return s>-1?i[s]=e:i[e.keyCode]=e,t&&this.addCapture(e.keyCode),e.setEmitOnRepeat(n),e}return"string"==typeof e&&(e=o[e.toUpperCase()]),i[e]||(i[e]=new u(this,e),t&&this.addCapture(e),i[e].setEmitOnRepeat(n)),i[e]},removeKey:function(e,t){void 0===t&&(t=!1);var n,i=this.keys;if(e instanceof u){var s=i.indexOf(e);s>-1&&(n=this.keys[s],this.keys[s]=void 0)}else"string"==typeof e&&(e=o[e.toUpperCase()]);return i[e]&&(n=i[e],i[e]=void 0),n&&(n.plugin=null,t&&n.destroy()),this},createCombo:function(e,t){return new h(this,e,t)},checkDown:function(e,t){if(this.enabled&&e.isDown){var n=l(this.time-e.timeDown,t);if(n>e._tick)return e._tick=n,!0}return!1},update:function(){var e=this.manager.queue,t=e.length;if(this.isActive()&&0!==t)for(var i=this.keys,s=0;s<t;s++){var r=e[s],a=r.keyCode,u=i[a],o=!1;void 0===r.cancelled&&(r.cancelled=0,r.stopImmediatePropagation=function(){r.cancelled=1},r.stopPropagation=function(){r.cancelled=-1}),-1!==r.cancelled&&("keydown"===r.type?(u&&(o=u.isDown,u.onDown(r)),r.cancelled||u&&o||(c[a]&&(this.emit(n.KEY_DOWN+c[a],r),this.emit("keydown_"+c[a],r)),r.cancelled||this.emit(n.ANY_KEY_DOWN,r))):(u&&u.onUp(r),r.cancelled||(c[a]&&(this.emit(n.KEY_UP+c[a],r),this.emit("keyup_"+c[a],r)),r.cancelled||this.emit(n.ANY_KEY_UP,r))),1===r.cancelled&&(r.cancelled=0))}},resetKeys:function(){for(var e=this.keys,t=0;t<e.length;t++)e[t]&&e[t].reset();return this},shutdown:function(){this.resetKeys(),this.sceneInputPlugin.manager.useQueue?this.sceneInputPlugin.pluginEvents.off(r.UPDATE,this.update,this):this.sceneInputPlugin.manager.events.off(r.MANAGER_PROCESS,this.update,this),this.game.events.off(i.BLUR,this.resetKeys),this.removeAllListeners(),this.queue=[]},destroy:function(){this.shutdown();for(var e=this.keys,t=0;t<e.length;t++)e[t]&&e[t].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});a.register("KeyboardPlugin",d,"keyboard","keyboard","inputKeyboard"),module.exports=d;
},{"../../utils/Class":"JASv","eventemitter3":"JJlS","./events":"A0OE","../../core/events":"Dc0S","../../utils/object/GetValue":"OqLI","../events":"aZHS","../InputPluginCache":"t4Uy","./keys/Key":"A2V6","./keys/KeyCodes":"ClXs","./combo/KeyCombo":"zWcN","./keys/KeyMap":"esUu","../../math/snap/SnapFloor":"hQtq"}],"JZuU":[function(require,module,exports) {
var n=function(n){return!!n._justDown&&(n._justDown=!1,!0)};module.exports=n;
},{}],"TEna":[function(require,module,exports) {
var t=function(t){return!!t._justUp&&(t._justUp=!1,!0)};module.exports=t;
},{}],"vf7U":[function(require,module,exports) {
var o=function(o,e){void 0===e&&(e=50);var i=o.plugin.game.loop.time-o.timeDown;return o.isDown&&i<e};module.exports=o;
},{}],"yAJy":[function(require,module,exports) {
var e=function(e,i){void 0===i&&(i=50);var o=e.plugin.game.loop.time-e.timeUp;return e.isUp&&o<i};module.exports=e;
},{}],"x56i":[function(require,module,exports) {
module.exports={Events:require("./events"),KeyboardManager:require("./KeyboardManager"),KeyboardPlugin:require("./KeyboardPlugin"),Key:require("./keys/Key"),KeyCodes:require("./keys/KeyCodes"),KeyCombo:require("./combo/KeyCombo"),JustDown:require("./keys/JustDown"),JustUp:require("./keys/JustUp"),DownDuration:require("./keys/DownDuration"),UpDuration:require("./keys/UpDuration")};
},{"./events":"A0OE","./KeyboardManager":"zsUT","./KeyboardPlugin":"SZum","./keys/Key":"A2V6","./keys/KeyCodes":"ClXs","./combo/KeyCombo":"zWcN","./keys/JustDown":"JZuU","./keys/JustUp":"TEna","./keys/DownDuration":"vf7U","./keys/UpDuration":"yAJy"}],"Ye2T":[function(require,module,exports) {
module.exports={MouseManager:require("./MouseManager")};
},{"./MouseManager":"UWhd"}],"rbqR":[function(require,module,exports) {
module.exports={TouchManager:require("./TouchManager")};
},{"./TouchManager":"Cm3D"}],"hCMr":[function(require,module,exports) {
var e=require("./const"),r=require("../utils/object/Extend"),u={CreateInteractiveObject:require("./CreateInteractiveObject"),Events:require("./events"),Gamepad:require("./gamepad"),InputManager:require("./InputManager"),InputPlugin:require("./InputPlugin"),InputPluginCache:require("./InputPluginCache"),Keyboard:require("./keyboard"),Mouse:require("./mouse"),Pointer:require("./Pointer"),Touch:require("./touch")};u=r(!1,u,e),module.exports=u;
},{"./const":"TdW0","../utils/object/Extend":"SFmW","./CreateInteractiveObject":"qWsS","./events":"aZHS","./gamepad":"AKVT","./InputManager":"zFOA","./InputPlugin":"JPfu","./InputPluginCache":"t4Uy","./keyboard":"x56i","./mouse":"Ye2T","./Pointer":"DRn5","./touch":"rbqR"}],"g2Jn":[function(require,module,exports) {
var E={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19};module.exports=E;
},{}],"qoco":[function(require,module,exports) {
var t=function(t,r){return!!t.url&&(t.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?t.url:r+t.url)};module.exports=t;
},{}],"abHE":[function(require,module,exports) {
var e=function(e,d,i,o,r,v){return void 0===e&&(e=""),void 0===d&&(d=!0),void 0===i&&(i=""),void 0===o&&(o=""),void 0===r&&(r=0),void 0===v&&(v=!1),{responseType:e,async:d,user:i,password:o,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:v}};module.exports=e;
},{}],"Eiyl":[function(require,module,exports) {
var global = arguments[3];
var r=arguments[3],e=require("../utils/object/Extend"),i=require("./XHRSettings"),t=function(r,t){var n=void 0===r?i():e({},r);if(t)for(var o in t)void 0!==t[o]&&(n[o]=t[o]);return n};module.exports=t;
},{"../utils/object/Extend":"SFmW","./XHRSettings":"abHE"}],"Vtzu":[function(require,module,exports) {
var e=require("./MergeXHRSettings"),r=function(r,s){var t=e(s,r.xhrSettings),d=new XMLHttpRequest;if(d.open("GET",r.src,t.async,t.user,t.password),d.responseType=r.xhrSettings.responseType,d.timeout=t.timeout,t.headers)for(var i in t.headers)d.setRequestHeader(i,t.headers[i]);return t.header&&t.headerValue&&d.setRequestHeader(t.header,t.headerValue),t.requestedWith&&d.setRequestHeader("X-Requested-With",t.requestedWith),t.overrideMimeType&&d.overrideMimeType(t.overrideMimeType),t.withCredentials&&(d.withCredentials=!0),d.onload=r.onLoad.bind(r,d),d.onerror=r.onError.bind(r,d),d.onprogress=r.onProgress.bind(r),d.send(),d};module.exports=r;
},{"./MergeXHRSettings":"Eiyl"}],"TuUi":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("./const"),i=require("./events"),s=require("../utils/object/GetFastValue"),r=require("./GetURL"),o=require("./MergeXHRSettings"),h=require("./XHRLoader"),n=require("./XHRSettings"),a=new t({initialize:function(t,i){this.loader=t,this.cache=s(i,"cache",!1),this.type=s(i,"type",!1),this.key=s(i,"key",!1);var r=this.key;if(t.prefix&&""!==t.prefix&&(this.key=t.prefix+r),!this.type||!this.key)throw new Error("Error calling 'Loader."+this.type+"' invalid key provided.");this.url=s(i,"url"),void 0===this.url?this.url=t.path+r+"."+s(i,"extension",""):"function"!=typeof this.url&&0!==this.url.indexOf("blob:")&&0!==this.url.indexOf("data:")&&(this.url=t.path+this.url),this.src="",this.xhrSettings=n(s(i,"responseType",void 0)),s(i,"xhrSettings",!1)&&(this.xhrSettings=o(this.xhrSettings,s(i,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?e.FILE_POPULATED:e.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=s(i,"config",{}),this.multiFile,this.linkFile},setLink:function(t){this.linkFile=t,t.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===e.FILE_POPULATED?this.loader.nextFile(this,!0):(this.src=r(this,this.loader.baseURL),0===this.src.indexOf("data:")?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=h(this,this.loader.xhr))},onLoad:function(t,e){var i=t.responseURL&&0===t.responseURL.indexOf("file://")&&0===e.target.status,s=!(e.target&&200!==e.target.status)||i;4===t.readyState&&t.status>=400&&t.status<=599&&(s=!1),this.resetXHR(),this.loader.nextFile(this,s)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(t){t.lengthComputable&&(this.bytesLoaded=t.loaded,this.bytesTotal=t.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(i.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=e.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=e.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=e.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(t){void 0===t&&(t=this.data);var e=this.key,s=this.type;this.loader.emit(i.FILE_COMPLETE,e,s,t),this.loader.emit(i.FILE_KEY_COMPLETE+s+"-"+e,e,s,t),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});a.createObjectURL=function(t,e,i){if("function"==typeof URL)t.src=URL.createObjectURL(e);else{var s=new FileReader;s.onload=function(){t.removeAttribute("crossOrigin"),t.src="data:"+(e.type||i)+";base64,"+s.result.split(",")[1]},s.onerror=t.onerror,s.readAsDataURL(e)}},a.revokeObjectURL=function(t){"function"==typeof URL&&URL.revokeObjectURL(t.src)},module.exports=a;
},{"../utils/Class":"JASv","./const":"g2Jn","./events":"VSyc","../utils/object/GetFastValue":"cEup","./GetURL":"qoco","./MergeXHRSettings":"Eiyl","./XHRLoader":"Vtzu","./XHRSettings":"abHE"}],"VNgR":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),s=require("../File"),i=require("../FileTypesManager"),r=require("../../utils/object/GetFastValue"),a=require("../../utils/object/GetValue"),n=require("../../utils/object/IsPlainObject"),o=new e({Extends:s,initialize:function(e,i,o,l,h){var u="json";if(n(i)){var c=i;i=r(c,"key"),o=r(c,"url"),l=r(c,"xhrSettings"),u=r(c,"extension",u),h=r(c,"dataKey",h)}var d={type:"json",cache:e.cacheManager.json,extension:u,responseType:"text",key:i,url:o,xhrSettings:l,config:h};s.call(this,e,d),n(o)&&(this.data=h?a(o,h):o,this.state=t.FILE_POPULATED)},onProcess:function(){if(this.state!==t.FILE_POPULATED){this.state=t.FILE_PROCESSING;var e=JSON.parse(this.xhrLoader.responseText),s=this.config;this.data="string"==typeof s?a(e,s,e):e}this.onProcessComplete()}});i.register("json",function(e,t,s,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new o(this,e[r]));else this.addFile(new o(this,e,t,i,s));return this}),module.exports=o;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/GetValue":"OqLI","../../utils/object/IsPlainObject":"erhr"}],"sUth":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../FileTypesManager"),t=require("./JSONFile.js"),s=require("../events"),n=new e({Extends:t,initialize:function(e,i,s,n,r){t.call(this,e,i,s,n,r),this.type="animationJSON"},onProcess:function(){this.loader.once(s.POST_PROCESS,this.onLoadComplete,this),t.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});i.register("animation",function(e,i,t,s){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new n(this,e[r]));else this.addFile(new n(this,e,i,s,t));return this}),module.exports=n;
},{"../../utils/Class":"JASv","../FileTypesManager":"daYy","./JSONFile.js":"VNgR","../events":"VSyc"}],"iZBN":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),i=require("../File"),a=require("../FileTypesManager"),s=require("../../utils/object/GetFastValue"),r=require("../../utils/object/IsPlainObject"),n=new e({Extends:i,initialize:function e(t,a,n,o,h){var d,c="png";if(r(a)){var l=a;a=s(l,"key"),n=s(l,"url"),d=s(l,"normalMap"),o=s(l,"xhrSettings"),c=s(l,"extension",c),h=s(l,"frameConfig")}Array.isArray(n)&&(d=n[1],n=n[0]);var g={type:"image",cache:t.textureManager,extension:c,responseType:"blob",key:a,url:n,xhrSettings:o,config:h};if(i.call(this,t,g),d){var u=new e(t,this.key,d,o,h);u.type="normalMap",this.setLink(u),t.addFile(u)}},onProcess:function(){this.state=t.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var e=this;this.data.onload=function(){i.revokeObjectURL(e.data),e.onProcessComplete()},this.data.onerror=function(){i.revokeObjectURL(e.data),e.onProcessError()},i.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var e,i=this.linkFile;i&&i.state===t.FILE_COMPLETE?(e="image"===this.type?this.cache.addImage(this.key,this.data,i.data):this.cache.addImage(i.key,i.data,this.data),this.pendingDestroy(e),i.pendingDestroy(e)):i||(e=this.cache.addImage(this.key,this.data),this.pendingDestroy(e))}});a.register("image",function(e,t,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new n(this,e[a]));else this.addFile(new n(this,e,t,i));return this}),module.exports=n;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr"}],"C6ub":[function(require,module,exports) {
var i=require("../utils/Class"),e=new i({initialize:function(i,e,t,s){this.loader=i,this.type=e,this.key=t,this.multiKeyIndex=i.multiKeyIndex++,this.files=s,this.complete=!1,this.pending=s.length,this.failed=0,this.config={},this.baseURL=i.baseURL,this.path=i.path,this.prefix=i.prefix;for(var n=0;n<s.length;n++)s[n].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(i){return this.files.push(i),i.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(i){-1!==this.files.indexOf(i)&&this.pending--},onFileFailed:function(i){-1!==this.files.indexOf(i)&&this.failed++}});module.exports=e;
},{"../utils/Class":"JASv"}],"RgG9":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../FileTypesManager"),t=require("../../utils/object/GetFastValue"),s=require("./ImageFile.js"),a=require("../../utils/object/IsPlainObject"),l=require("./JSONFile.js"),r=require("../MultiFile.js"),n=new e({Extends:r,initialize:function(e,i,n,u,o,h){var d,f;if(a(i)){var c=i;i=t(c,"key"),d=new s(e,{key:i,url:t(c,"textureURL"),extension:t(c,"textureExtension","png"),normalMap:t(c,"normalMap"),xhrSettings:t(c,"textureXhrSettings")}),f=new l(e,{key:i,url:t(c,"atlasURL"),extension:t(c,"atlasExtension","json"),xhrSettings:t(c,"atlasXhrSettings")})}else d=new s(e,i,n,o),f=new l(e,i,u,h);d.linkFile?r.call(this,e,"atlasjson",i,[d,f,d.linkFile]):r.call(this,e,"atlasjson",i,[d,f])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],i=this.files[1],t=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(e.key,e.data,i.data,t),i.addToCache(),this.complete=!0}}});i.register("atlas",function(e,i,t,s,a){var l;if(Array.isArray(e))for(var r=0;r<e.length;r++)l=new n(this,e[r]),this.addFile(l.files);else l=new n(this,e,i,t,s,a),this.addFile(l.files);return this}),module.exports=n;
},{"../../utils/Class":"JASv","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","./ImageFile.js":"iZBN","../../utils/object/IsPlainObject":"erhr","./JSONFile.js":"VNgR","../MultiFile.js":"C6ub"}],"RD1k":[function(require,module,exports) {
var e=require("../../utils/Class"),r=require("../const"),t=require("../File"),i=require("../FileTypesManager"),s=require("../../utils/object/GetFastValue"),n=require("../../utils/object/IsPlainObject"),a=require("../../dom/ParseXML"),l=new e({Extends:t,initialize:function(e,r,i,a){var l="xml";if(n(r)){var o=r;r=s(o,"key"),i=s(o,"url"),a=s(o,"xhrSettings"),l=s(o,"extension",l)}var h={type:"xml",cache:e.cacheManager.xml,extension:l,responseType:"text",key:r,url:i,xhrSettings:a};t.call(this,e,h)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=a(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});i.register("xml",function(e,r,t){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new l(this,e[i]));else this.addFile(new l(this,e,r,t));return this}),module.exports=l;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr","../../dom/ParseXML":"X1B3"}],"SwRc":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../FileTypesManager"),t=require("../../utils/object/GetFastValue"),s=require("./ImageFile.js"),a=require("../../utils/object/IsPlainObject"),l=require("../MultiFile.js"),r=require("./XMLFile.js"),n=new e({Extends:l,initialize:function(e,i,n,u,h,o){var d,x;if(a(i)){var f=i;i=t(f,"key"),d=new s(e,{key:i,url:t(f,"textureURL"),extension:t(f,"textureExtension","png"),normalMap:t(f,"normalMap"),xhrSettings:t(f,"textureXhrSettings")}),x=new r(e,{key:i,url:t(f,"atlasURL"),extension:t(f,"atlasExtension","xml"),xhrSettings:t(f,"atlasXhrSettings")})}else d=new s(e,i,n,h),x=new r(e,i,u,o);d.linkFile?l.call(this,e,"atlasxml",i,[d,x,d.linkFile]):l.call(this,e,"atlasxml",i,[d,x])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],i=this.files[1],t=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(e.key,e.data,i.data,t),i.addToCache(),this.complete=!0}}});i.register("atlasXML",function(e,i,t,s,a){var l;if(Array.isArray(e))for(var r=0;r<e.length;r++)l=new n(this,e[r]),this.addFile(l.files);else l=new n(this,e,i,t,s,a),this.addFile(l.files);return this}),module.exports=n;
},{"../../utils/Class":"JASv","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","./ImageFile.js":"iZBN","../../utils/object/IsPlainObject":"erhr","../MultiFile.js":"C6ub","./XMLFile.js":"RD1k"}],"ay6o":[function(require,module,exports) {
var t=require("../../utils/Class"),e=require("../events"),i=require("../File"),s=require("../../utils/object/GetFastValue"),a=require("../GetURL"),o=require("../../utils/object/IsPlainObject"),l=new t({Extends:i,initialize:function(t,e,a,l){if(o(e)){var r=e;e=s(r,"key"),l=s(r,"config",l)}var n={type:"audio",cache:t.cacheManager.audio,extension:a.type,key:e,url:a.url,config:l};i.call(this,t,n),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];e.oncanplaythrough=null,e.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(t){var i=t.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(e.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var t=this.config&&this.config.instances||1;this.filesTotal=t,this.filesLoaded=0,this.percentComplete=0;for(var e=0;e<t;e++){var i=new Audio;i.dataset||(i.dataset={}),i.dataset.name=this.key+("0"+e).slice(-2),i.dataset.used="false",this.locked?i.dataset.locked="true":(i.dataset.locked="false",i.preload="auto",i.oncanplaythrough=this.onProgress.bind(this),i.onerror=this.onError.bind(this)),this.data.push(i)}for(e=0;e<this.data.length;e++)(i=this.data[e]).src=a(this,this.loader.baseURL),this.locked||i.load();this.locked&&setTimeout(this.onLoad.bind(this))}});module.exports=l;
},{"../../utils/Class":"JASv","../events":"VSyc","../File":"TuUi","../../utils/object/GetFastValue":"cEup","../GetURL":"qoco","../../utils/object/IsPlainObject":"erhr"}],"MtdO":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../const"),r=require("../File"),t=require("../FileTypesManager"),o=require("../../utils/object/GetFastValue"),a=require("./HTML5AudioFile"),n=require("../../utils/object/IsPlainObject"),s=new e({Extends:r,initialize:function(e,i,t,a,s){if(n(i)){var u=i;i=o(u,"key"),a=o(u,"xhrSettings"),s=o(u,"context",s)}var c={type:"audio",cache:e.cacheManager.audio,extension:t.type,responseType:"arraybuffer",key:i,url:t.url,xhrSettings:a,config:{context:s}};r.call(this,e,c)},onProcess:function(){this.state=i.FILE_PROCESSING;var e=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(i){e.data=i,e.onProcessComplete()},function(i){console.error("Error decoding audio: "+this.key+" - ",i?i.message:null),e.onProcessError()}),this.config.context=null}});s.create=function(e,i,r,t,u){var c=e.systems.game,d=c.config.audio,l=c.device.audio;n(i)&&(r=o(i,"url",[]),t=o(i,"config",{}));var f=s.getAudioURL(c,r);return f?!l.webAudio||d&&d.disableWebAudio?new a(e,i,f,t):new s(e,i,f,u,c.sound.context):null},s.getAudioURL=function(e,i){Array.isArray(i)||(i=[i]);for(var r=0;r<i.length;r++){var t=o(i[r],"url",i[r]);if(0===t.indexOf("blob:")||0===t.indexOf("data:"))return{url:t,type:""};var a=t.match(/\.([a-zA-Z0-9]+)($|\?)/);if(a=o(i[r],"type",a?a[1]:"").toLowerCase(),e.device.audio[a])return{url:t,type:a}}return null},t.register("audio",function(e,i,r,t){var o,a=this.systems.game,n=a.config.audio,u=a.device.audio;if(n&&n.noAudio||!u.webAudio&&!u.audioData)return this;if(Array.isArray(e))for(var c=0;c<e.length;c++)(o=s.create(this,e[c]))&&this.addFile(o);else(o=s.create(this,e,i,r,t))&&this.addFile(o);return this}),module.exports=s;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","./HTML5AudioFile":"ay6o","../../utils/object/IsPlainObject":"erhr"}],"trUW":[function(require,module,exports) {
var i=require("./AudioFile.js"),e=require("../../utils/Class"),s=require("../FileTypesManager"),t=require("../../utils/object/GetFastValue"),a=require("../../utils/object/IsPlainObject"),o=require("./JSONFile.js"),r=require("../MultiFile.js"),n=new e({Extends:r,initialize:function(e,s,n,d,u,l,h){if(a(s)){var c=s;s=t(c,"key"),n=t(c,"jsonURL"),d=t(c,"audioURL"),u=t(c,"audioConfig"),l=t(c,"audioXhrSettings"),h=t(c,"jsonXhrSettings")}var f;if(d){var g=i.create(e,s,d,u,l);g&&(f=new o(e,s,n,h),r.call(this,e,"audiosprite",s,[g,f]),this.config.resourceLoad=!1)}else f=new o(e,s,n,h),r.call(this,e,"audiosprite",s,[f]),this.config.resourceLoad=!0,this.config.audioConfig=u,this.config.audioXhrSettings=l},onFileComplete:function(e){if(-1!==this.files.indexOf(e)&&(this.pending--,this.config.resourceLoad&&"json"===e.type&&e.data.hasOwnProperty("resources"))){var s=e.data.resources,a=t(this.config,"audioConfig"),o=t(this.config,"audioXhrSettings"),r=i.create(this.loader,e.key,s,a,o);r&&(this.addToMultiFile(r),this.loader.addFile(r))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],e=this.files[1];i.addToCache(),e.addToCache(),this.complete=!0}}});s.register("audioSprite",function(i,e,s,t,a,o){var r,d=this.systems.game,u=d.config.audio,l=d.device.audio;if(u&&u.noAudio||!l.webAudio&&!l.audioData)return this;if(Array.isArray(i))for(var h=0;h<i.length;h++)(r=new n(this,i[h])).files&&this.addFile(r.files);else(r=new n(this,i,e,s,t,a,o)).files&&this.addFile(r.files);return this});
},{"./AudioFile.js":"MtdO","../../utils/Class":"JASv","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr","./JSONFile.js":"VNgR","../MultiFile.js":"C6ub"}],"MDMN":[function(require,module,exports) {
var e=require("../../utils/Class"),r=require("../const"),i=require("../File"),t=require("../FileTypesManager"),s=require("../../utils/object/GetFastValue"),a=require("../../utils/object/IsPlainObject"),n=new e({Extends:i,initialize:function(e,r,t,n,o){var h="bin";if(a(r)){var l=r;r=s(l,"key"),t=s(l,"url"),n=s(l,"xhrSettings"),h=s(l,"extension",h),o=s(l,"dataType",o)}var u={type:"binary",cache:e.cacheManager.binary,extension:h,responseType:"arraybuffer",key:r,url:t,xhrSettings:n,config:{dataType:o}};i.call(this,e,u)},onProcess:function(){this.state=r.FILE_PROCESSING;var e=this.config.dataType;this.data=e?new e(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});t.register("binary",function(e,r,i,t){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new n(this,e[s]));else this.addFile(new n(this,e,r,t,i));return this}),module.exports=n;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr"}],"rIfa":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../FileTypesManager"),i=require("../../utils/object/GetFastValue"),a=require("./ImageFile.js"),r=require("../../utils/object/IsPlainObject"),s=require("../MultiFile.js"),n=require("../../gameobjects/bitmaptext/ParseXMLBitmapFont.js"),l=require("./XMLFile.js"),o=new e({Extends:s,initialize:function(e,t,n,o,u,h){var d,f;if(r(t)){var c=t;t=i(c,"key"),d=new a(e,{key:t,url:i(c,"textureURL"),extension:i(c,"textureExtension","png"),normalMap:i(c,"normalMap"),xhrSettings:i(c,"textureXhrSettings")}),f=new l(e,{key:t,url:i(c,"fontDataURL"),extension:i(c,"fontDataExtension","xml"),xhrSettings:i(c,"fontDataXhrSettings")})}else d=new a(e,t,n,u),f=new l(e,t,o,h);d.linkFile?s.call(this,e,"bitmapfont",t,[d,f,d.linkFile]):s.call(this,e,"bitmapfont",t,[d,f])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1];e.addToCache(),t.addToCache(),this.loader.cacheManager.bitmapFont.add(e.key,{data:n(t.data),texture:e.key,frame:null}),this.complete=!0}}});t.register("bitmapFont",function(e,t,i,a,r){var s;if(Array.isArray(e))for(var n=0;n<e.length;n++)s=new o(this,e[n]),this.addFile(s.files);else s=new o(this,e,t,i,a,r),this.addFile(s.files);return this}),module.exports=o;
},{"../../utils/Class":"JASv","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","./ImageFile.js":"iZBN","../../utils/object/IsPlainObject":"erhr","../MultiFile.js":"C6ub","../../gameobjects/bitmaptext/ParseXMLBitmapFont.js":"KGvr","./XMLFile.js":"RD1k"}],"biHQ":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),s=require("../File"),i=require("../FileTypesManager"),r=require("../../utils/object/GetFastValue"),n=require("../../utils/object/IsPlainObject"),a=new e({Extends:s,initialize:function(e,t,i,a){var l="css";if(n(t)){var o=t;t=r(o,"key"),i=r(o,"url"),a=r(o,"xhrSettings"),l=r(o,"extension",l)}var h={type:"script",cache:!1,extension:l,responseType:"text",key:t,url:i,xhrSettings:a};s.call(this,e,h)},onProcess:function(){this.state=t.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});i.register("css",function(e,t,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new a(this,e[i]));else this.addFile(new a(this,e,t,s));return this}),module.exports=a;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr"}],"Y3S3":[function(require,module,exports) {
var e=require("../../utils/Class"),r=require("../const"),t=require("../File"),i=require("../FileTypesManager"),s=require("../../utils/object/GetFastValue"),a=require("../../utils/object/IsPlainObject"),n=require("../../display/shader/BaseShader"),h=new e({Extends:t,initialize:function(e,r,i,n,h){var o="glsl";if(a(r)){var c=r;r=s(c,"key"),i=s(c,"url"),n=s(c,"shaderType","fragment"),h=s(c,"xhrSettings"),o=s(c,"extension",o)}else void 0===n&&(n="fragment");var d={type:"glsl",cache:e.cacheManager.shader,extension:o,responseType:"text",key:r,url:i,config:{shaderType:n},xhrSettings:h};t.call(this,e,d)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e=this.data.split("\n"),r=this.extractBlock(e,0);if(r)for(;r;){var t=this.getShaderName(r.header),i=this.getShaderType(r.header),s=this.getShaderUniforms(r.header),a=r.shader;if(this.cache.has(t)){var h=this.cache.get(t);"fragment"===i?h.fragmentSrc=a:h.vertexSrc=a,h.uniforms||(h.uniforms=s)}else"fragment"===i?this.cache.add(t,new n(t,a,"",s)):this.cache.add(t,new n(t,"",a,s));r=this.extractBlock(e,r.offset)}else"fragment"===this.config.shaderType?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(e){for(var r=0;r<e.length;r++){var t=e[r].trim();if("name:"===t.substring(0,5))return t.substring(5).trim()}return this.key},getShaderType:function(e){for(var r=0;r<e.length;r++){var t=e[r].trim();if("type:"===t.substring(0,5))return t.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(e){for(var r={},t=0;t<e.length;t++){var i=e[t].trim();if("uniform."===i.substring(0,8)){var s=i.indexOf(":");if(s){var a=i.substring(8,s);try{r[a]=JSON.parse(i.substring(s+1))}catch(n){console.warn("Invalid uniform JSON: "+a)}}}}return r},extractBlock:function(e,r){for(var t=-1,i=-1,s=-1,a=!1,n=!1,h=[],o=[],c=r;c<e.length;c++){var d=e[c].trim();if("---"===d)if(-1===t)t=c,a=!0;else{if(!a){n=!1;break}i=c,a=!1,n=!0}else a?h.push(d):n&&(o.push(d),s=c)}return a||-1===i?null:{header:h,shader:o.join("\n"),offset:s}}});i.register("glsl",function(e,r,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new h(this,e[s]));else this.addFile(new h(this,e,r,t,i));return this}),module.exports=h;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr","../../display/shader/BaseShader":"pZSz"}],"eRcD":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),i=require("../File"),r=require("../FileTypesManager"),s=require("../../utils/object/GetFastValue"),n=require("../../utils/object/IsPlainObject"),a=new e({Extends:i,initialize:function(e,t,r,a){var l="html";if(n(t)){var h=t;t=s(h,"key"),r=s(h,"url"),a=s(h,"xhrSettings"),l=s(h,"extension",l)}var o={type:"text",cache:e.cacheManager.html,extension:l,responseType:"text",key:t,url:r,xhrSettings:a};i.call(this,e,o)},onProcess:function(){this.state=t.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new a(this,e[r]));else this.addFile(new a(this,e,t,i));return this}),module.exports=a;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr"}],"ML0K":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),i=require("../File"),s=require("../FileTypesManager"),r=require("../../utils/object/GetFastValue"),h=require("../../utils/object/IsPlainObject"),a=new e({Extends:i,initialize:function(e,t,s,a,n,o){void 0===a&&(a=512),void 0===n&&(n=512);var c="html";if(h(t)){var d=t;t=r(d,"key"),s=r(d,"url"),o=r(d,"xhrSettings"),c=r(d,"extension",c),a=r(d,"width",a),n=r(d,"height",n)}var u={type:"html",cache:e.textureManager,extension:c,responseType:"text",key:t,url:s,xhrSettings:o,config:{width:a,height:n}};i.call(this,e,u)},onProcess:function(){this.state=t.FILE_PROCESSING;var e=this.config.width,s=this.config.height,r=[];r.push('<svg width="'+e+'px" height="'+s+'px" viewBox="0 0 '+e+" "+s+'" xmlns="http://www.w3.org/2000/svg">'),r.push('<foreignObject width="100%" height="100%">'),r.push('<body xmlns="http://www.w3.org/1999/xhtml">'),r.push(this.xhrLoader.responseText),r.push("</body>"),r.push("</foreignObject>"),r.push("</svg>");var h=[r.join("\n")],a=this;try{var n=new window.Blob(h,{type:"image/svg+xml;charset=utf-8"})}catch(o){return a.state=t.FILE_ERRORED,void a.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){i.revokeObjectURL(a.data),a.onProcessComplete()},this.data.onerror=function(){i.revokeObjectURL(a.data),a.onProcessError()},i.createObjectURL(this.data,n,"image/svg+xml")},addToCache:function(){var e=this.cache.addImage(this.key,this.data);this.pendingDestroy(e)}});s.register("htmlTexture",function(e,t,i,s,r){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new a(this,e[h]));else this.addFile(new a(this,e,t,i,s,r));return this}),module.exports=a;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr"}],"E70N":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../FileTypesManager"),i=require("../../utils/object/GetFastValue"),s=require("./ImageFile.js"),a=require("../../utils/object/IsPlainObject"),r=require("./JSONFile.js"),l=require("../MultiFile.js"),n=new e({Extends:l,initialize:function(e,t,s,n,h,u,f){if(a(t)){var o=t;t=i(o,"key"),s=i(o,"url",!1)?i(o,"url"):i(o,"atlasURL"),u=i(o,"xhrSettings"),n=i(o,"path"),h=i(o,"baseURL"),f=i(o,"textureXhrSettings")}var d=new r(e,t,s,u);l.call(this,e,"multiatlas",t,[d]),this.config.path=n,this.config.baseURL=h,this.config.textureXhrSettings=f},onFileComplete:function(e){if(-1!==this.files.indexOf(e)&&(this.pending--,"json"===e.type&&e.data.hasOwnProperty("textures"))){var t=e.data.textures,a=this.config,r=this.loader,l=r.baseURL,n=r.path,h=r.prefix,u=i(a,"baseURL",this.baseURL),f=i(a,"path",this.path),o=i(a,"prefix",this.prefix),d=i(a,"textureXhrSettings");r.setBaseURL(u),r.setPath(f),r.setPrefix(o);for(var p=0;p<t.length;p++){var g=t[p].image,x="MA"+this.multiKeyIndex+"_"+g,c=new s(r,x,g,d);if(this.addToMultiFile(c),r.addFile(c),t[p].normalMap){var y=new s(r,x,t[p].normalMap,d);y.type="normalMap",c.setLink(y),this.addToMultiFile(y),r.addFile(y)}}r.setBaseURL(l),r.setPath(n),r.setPrefix(h)}},addToCache:function(){if(this.isReadyToProcess()){for(var e=this.files[0],t=[],i=[],s=[],a=1;a<this.files.length;a++){var r=this.files[a];if("normalMap"!==r.type)for(var l=r.key.indexOf("_"),n=r.key.substr(l+1),h=r.data,u=0;u<e.data.textures.length;u++){var f=e.data.textures[u];if(f.image===n){i.push(h),t.push(f),r.linkFile&&s.push(r.linkFile.data);break}}}for(0===s.length&&(s=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,i,t,s),this.complete=!0,a=0;a<this.files.length;a++)this.files[a].pendingDestroy()}}});t.register("multiatlas",function(e,t,i,s,a){var r;if(Array.isArray(e))for(var l=0;l<e.length;l++)r=new n(this,e[l]),this.addFile(r.files);else r=new n(this,e,t,i,s,a),this.addFile(r.files);return this}),module.exports=n;
},{"../../utils/Class":"JASv","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","./ImageFile.js":"iZBN","../../utils/object/IsPlainObject":"erhr","./JSONFile.js":"VNgR","../MultiFile.js":"C6ub"}],"K2ae":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),i=require("../File"),s=require("../FileTypesManager"),r=require("../../utils/object/GetFastValue"),a=require("../../utils/object/IsPlainObject"),n=new e({Extends:i,initialize:function(e,t,s,n){var h="js";if(a(t)){var l=t;t=r(l,"key"),s=r(l,"url"),n=r(l,"xhrSettings"),h=r(l,"extension",h)}var o={type:"script",cache:!1,extension:h,responseType:"text",key:t,url:s,xhrSettings:n};i.call(this,e,o)},onProcess:function(){this.state=t.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("script",function(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new n(this,e[s]));else this.addFile(new n(this,e,t,i));return this}),module.exports=n;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr"}],"SrRx":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../FileTypesManager"),i=require("../../utils/object/GetFastValue"),r=require("../../utils/object/IsPlainObject"),s=require("../MultiFile.js"),a=require("./ScriptFile.js"),n=new e({Extends:s,initialize:function(e,t,n,l){var o="js",u=[];if(r(t)){var c=t;t=i(c,"key"),n=i(c,"url"),l=i(c,"xhrSettings"),o=i(c,"extension",o)}Array.isArray(n)||(n=[n]);for(var d=0;d<n.length;d++){var h=new a(e,{key:t+"_"+d.toString(),url:n[d],extension:o,xhrSettings:l});h.onProcess=function(){this.onProcessComplete()},u.push(h)}s.call(this,e,"scripts",t,u)},addToCache:function(){if(this.isReadyToProcess()){for(var e=0;e<this.files.length;e++){var t=this.files[e];t.data=document.createElement("script"),t.data.language="javascript",t.data.type="text/javascript",t.data.defer=!1,t.data.text=t.xhrLoader.responseText,document.head.appendChild(t.data)}this.complete=!0}}});t.register("scripts",function(e,t,i){var r;if(Array.isArray(e))for(var s=0;s<e.length;s++)r=new n(this,e[s]),this.addFile(r.files);else r=new n(this,e,t,i),this.addFile(r.files);return this}),module.exports=n;
},{"../../utils/Class":"JASv","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr","../MultiFile.js":"C6ub","./ScriptFile.js":"K2ae"}],"ZqSK":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../const"),s=require("../FileTypesManager"),t=require("./JSONFile.js"),r=new e({Extends:t,initialize:function(e,i,s,r,a){t.call(this,e,i,s,r,a),this.type="packfile"},onProcess:function(){this.state!==i.FILE_POPULATED&&(this.state=i.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});s.register("pack",function(e,i,s,t){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new r(this,e[a]));else this.addFile(new r(this,e,i,t,s));return this}),module.exports=r;
},{"../../utils/Class":"JASv","../const":"g2Jn","../FileTypesManager":"daYy","./JSONFile.js":"VNgR"}],"Ij8l":[function(require,module,exports) {
var t=require("../../utils/Class"),e=require("../const"),s=require("../File"),i=require("../FileTypesManager"),a=require("../../utils/object/GetFastValue"),r=require("../../utils/object/IsPlainObject"),n=new t({Extends:s,initialize:function(t,i,n,l,h,o){var d="js";if(r(i)){var u=i;i=a(u,"key"),n=a(u,"url"),o=a(u,"xhrSettings"),d=a(u,"extension",d),l=a(u,"start"),h=a(u,"mapping")}var p={type:"plugin",cache:!1,extension:d,responseType:"text",key:i,url:n,xhrSettings:o,config:{start:l,mapping:h}};s.call(this,t,p),"function"==typeof n&&(this.data=n,this.state=e.FILE_POPULATED)},onProcess:function(){var t=this.loader.systems.plugins,s=this.config,i=a(s,"start",!1),r=a(s,"mapping",null);if(this.state===e.FILE_POPULATED)t.install(this.key,this.data,i,r);else{this.state=e.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var n=t.install(this.key,window[this.key],i,r);(i||r)&&(this.loader.systems[r]=n,this.loader.scene[r]=n)}this.onProcessComplete()}});i.register("plugin",function(t,e,s,i,a){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new n(this,t[r]));else this.addFile(new n(this,t,e,s,i,a));return this}),module.exports=n;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr"}],"QJOJ":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),i=require("../File"),s=require("../FileTypesManager"),r=require("../../utils/object/GetFastValue"),n=require("../../utils/object/IsPlainObject"),a=new e({Extends:i,initialize:function(e,t,s,a){var l="js";if(n(t)){var o=t;t=r(o,"key"),s=r(o,"url"),a=r(o,"xhrSettings"),l=r(o,"extension",l)}var c={type:"text",cache:e.cacheManager.text,extension:l,responseType:"text",key:t,url:s,xhrSettings:a};i.call(this,e,c)},onProcess:function(){this.state=t.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);"),t=eval;this.loader.sceneManager.add(this.key,t(e)),this.complete=!0}});s.register("sceneFile",function(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new a(this,e[s]));else this.addFile(new a(this,e,t,i));return this}),module.exports=a;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr"}],"qJHN":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),s=require("../File"),i=require("../FileTypesManager"),a=require("../../utils/object/GetFastValue"),n=require("../../utils/object/IsPlainObject"),r=new e({Extends:s,initialize:function(e,i,r,l,h,c){var o="js";if(n(i)){var u=i;i=a(u,"key"),r=a(u,"url"),c=a(u,"xhrSettings"),o=a(u,"extension",o),l=a(u,"systemKey"),h=a(u,"sceneKey")}var d={type:"scenePlugin",cache:!1,extension:o,responseType:"text",key:i,url:r,xhrSettings:c,config:{systemKey:l,sceneKey:h}};s.call(this,e,d),"function"==typeof r&&(this.data=r,this.state=t.FILE_POPULATED)},onProcess:function(){var e=this.loader.systems.plugins,s=this.config,i=this.key,n=a(s,"systemKey",i),r=a(s,"sceneKey",i);this.state===t.FILE_POPULATED?e.installScenePlugin(n,this.data,r,this.loader.scene,!0):(this.state=t.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),e.installScenePlugin(n,window[this.key],r,this.loader.scene,!0)),this.onProcessComplete()}});i.register("scenePlugin",function(e,t,s,i,a){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new r(this,e[n]));else this.addFile(new r(this,e,t,s,i,a));return this}),module.exports=r;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr"}],"F7l0":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../FileTypesManager"),t=require("./ImageFile.js"),s=new e({Extends:t,initialize:function(e,i,s,r,a){t.call(this,e,i,s,a,r),this.type="spritesheet"},addToCache:function(){var e=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(e)}});i.register("spritesheet",function(e,i,t,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new s(this,e[a]));else this.addFile(new s(this,e,i,t,r));return this}),module.exports=s;
},{"../../utils/Class":"JASv","../FileTypesManager":"daYy","./ImageFile.js":"iZBN"}],"p7JY":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),i=require("../File"),r=require("../FileTypesManager"),s=require("../../utils/object/GetFastValue"),a=require("../../utils/object/IsPlainObject"),n=new e({Extends:i,initialize:function(e,t,r,n,o){var h="svg";if(a(t)){var g=t;t=s(g,"key"),r=s(g,"url"),n=s(g,"svgConfig",{}),o=s(g,"xhrSettings"),h=s(g,"extension",h)}var c={type:"svg",cache:e.textureManager,extension:h,responseType:"text",key:t,url:r,xhrSettings:o,config:{width:s(n,"width"),height:s(n,"height"),scale:s(n,"scale")}};i.call(this,e,c)},onProcess:function(){this.state=t.FILE_PROCESSING;var e=this.xhrLoader.responseText,r=[e],s=this.config.width,a=this.config.height,n=this.config.scale;e:if(s&&a||n){var o=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("svg")[0],h=o.hasAttribute("viewBox"),g=parseFloat(o.getAttribute("width")),c=parseFloat(o.getAttribute("height"));if(!h&&g&&c)o.setAttribute("viewBox","0  0 "+g+" "+c);else if(h&&!g&&!c){var l=o.getAttribute("viewBox").split(/\s+|,/);g=l[2],c=l[3]}if(n){if(!g||!c)break e;s=g*n,a=c*n}o.setAttribute("width",s.toString()+"px"),o.setAttribute("height",a.toString()+"px"),r=[(new XMLSerializer).serializeToString(o)]}try{var d=new window.Blob(r,{type:"image/svg+xml;charset=utf-8"})}catch(f){return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this,v=!1;this.data.onload=function(){v||i.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){v?u.onProcessError():(v=!0,i.revokeObjectURL(u.data),u.data.src="data:image/svg+xml,"+encodeURIComponent(r.join("")))},i.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){var e=this.cache.addImage(this.key,this.data);this.pendingDestroy(e)}});r.register("svg",function(e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new n(this,e[s]));else this.addFile(new n(this,e,t,i,r));return this}),module.exports=n;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr"}],"AvJf":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),i=require("../File"),r=require("../FileTypesManager"),s=require("../../utils/object/GetFastValue"),n=require("../../utils/object/IsPlainObject"),a=new e({Extends:i,initialize:function(e,t,r,a){var l="txt";if(n(t)){var o=t;t=s(o,"key"),r=s(o,"url"),a=s(o,"xhrSettings"),l=s(o,"extension",l)}var u={type:"text",cache:e.cacheManager.text,extension:l,responseType:"text",key:t,url:r,xhrSettings:a};i.call(this,e,u)},onProcess:function(){this.state=t.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new a(this,e[r]));else this.addFile(new a(this,e,t,i));return this}),module.exports=a;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr"}],"T6CI":[function(require,module,exports) {
module.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3};
},{}],"OIwK":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),i=require("../File"),r=require("../FileTypesManager"),s=require("../../utils/object/GetFastValue"),a=require("../../utils/object/IsPlainObject"),n=require("../../tilemaps/Formats"),o=new e({Extends:i,initialize:function(e,t,r,o){var l="csv";if(a(t)){var h=t;t=s(h,"key"),r=s(h,"url"),o=s(h,"xhrSettings"),l=s(h,"extension",l)}var c={type:"tilemapCSV",cache:e.cacheManager.tilemap,extension:l,responseType:"text",key:t,url:r,xhrSettings:o};i.call(this,e,c),this.tilemapFormat=n.CSV},onProcess:function(){this.state=t.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});r.register("tilemapCSV",function(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new o(this,e[r]));else this.addFile(new o(this,e,t,i));return this}),module.exports=o;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr","../../tilemaps/Formats":"T6CI"}],"MsHm":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../FileTypesManager"),t=require("./JSONFile.js"),a=require("../../tilemaps/Formats"),r=new e({Extends:t,initialize:function(e,i,a,r){t.call(this,e,i,a,r),this.type="tilemapJSON",this.cache=e.cacheManager.tilemap},addToCache:function(){var e={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});i.register("tilemapImpact",function(e,i,t){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new r(this,e[a]));else this.addFile(new r(this,e,i,t));return this}),module.exports=r;
},{"../../utils/Class":"JASv","../FileTypesManager":"daYy","./JSONFile.js":"VNgR","../../tilemaps/Formats":"T6CI"}],"deeB":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("../FileTypesManager"),t=require("./JSONFile.js"),a=require("../../tilemaps/Formats"),r=new e({Extends:t,initialize:function(e,i,a,r){t.call(this,e,i,a,r),this.type="tilemapJSON",this.cache=e.cacheManager.tilemap},addToCache:function(){var e={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});i.register("tilemapTiledJSON",function(e,i,t){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new r(this,e[a]));else this.addFile(new r(this,e,i,t));return this}),module.exports=r;
},{"../../utils/Class":"JASv","../FileTypesManager":"daYy","./JSONFile.js":"VNgR","../../tilemaps/Formats":"T6CI"}],"OGxW":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../FileTypesManager"),i=require("../../utils/object/GetFastValue"),s=require("./ImageFile.js"),a=require("../../utils/object/IsPlainObject"),l=require("../MultiFile.js"),r=require("./TextFile.js"),n=new e({Extends:l,initialize:function(e,t,n,u,h,o){var d,x;if(a(t)){var f=t;t=i(f,"key"),d=new s(e,{key:t,url:i(f,"textureURL"),extension:i(f,"textureExtension","png"),normalMap:i(f,"normalMap"),xhrSettings:i(f,"textureXhrSettings")}),x=new r(e,{key:t,url:i(f,"atlasURL"),extension:i(f,"atlasExtension","txt"),xhrSettings:i(f,"atlasXhrSettings")})}else d=new s(e,t,n,h),x=new r(e,t,u,o);d.linkFile?l.call(this,e,"unityatlas",t,[d,x,d.linkFile]):l.call(this,e,"unityatlas",t,[d,x])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(e.key,e.data,t.data,i),t.addToCache(),this.complete=!0}}});t.register("unityAtlas",function(e,t,i,s,a){var l;if(Array.isArray(e))for(var r=0;r<e.length;r++)l=new n(this,e[r]),this.addFile(l.files);else l=new n(this,e,t,i,s,a),this.addFile(l.files);return this}),module.exports=n;
},{"../../utils/Class":"JASv","../FileTypesManager":"daYy","../../utils/object/GetFastValue":"cEup","./ImageFile.js":"iZBN","../../utils/object/IsPlainObject":"erhr","../MultiFile.js":"C6ub","./TextFile.js":"AvJf"}],"ZQ7f":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../const"),r=require("../File"),i=require("../FileTypesManager"),a=require("../GetURL"),o=require("../../utils/object/GetFastValue"),n=require("../../utils/object/IsPlainObject"),s=new e({Extends:r,initialize:function(e,t,i,a,o,n,s){void 0===a&&(a="loadeddata"),void 0===o&&(o=!1),void 0===n&&(n=!1),"loadeddata"!==a&&"canplay"!==a&&"canplaythrough"!==a&&(a="loadeddata");var l={type:"video",cache:e.cacheManager.video,extension:i.type,responseType:"blob",key:t,url:i.url,xhrSettings:s,config:{loadEvent:a,asBlob:o,noAudio:n}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),r.call(this,e,l)},onProcess:function(){if(this.state=t.FILE_PROCESSING,this.config.asBlob){var e=this.createVideoElement();this.data=e;var i=this;this.data.onloadeddata=function(){i.onProcessComplete()},this.data.onerror=function(){r.revokeObjectURL(i.data),i.onProcessError()},r.createObjectURL(e,this.xhrLoader.response,""),e.load()}else this.onProcessComplete()},createVideoElement:function(){var e=document.createElement("video");return e.controls=!1,e.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(e.muted=!0,e.defaultMuted=!0,e.setAttribute("autoplay","autoplay")),e.setAttribute("playsinline","playsinline"),e.setAttribute("preload","auto"),e},onVideoLoadHandler:function(e){var t=e.target;t.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),t.removeEventListener("error",this.onErrorCallback,!0),this.data=t,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(e){var t=e.target;t&&(t.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),t.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var e=this.config.loadEvent;if(this.config.asBlob)r.prototype.load.call(this);else{this.percentComplete=0;var t=this.createVideoElement();t.addEventListener(e,this.onLoadCallback,!0),t.addEventListener("error",this.onErrorCallback,!0),t.src=a(this,this.loader.baseURL),t.load()}}});s.create=function(e,t,r,i,a,l,d){var c=e.systems.game;n(t)&&(r=o(t,"url",[]),i=o(t,"loadEvent","loadeddata"),a=o(t,"asBlob",!1),l=o(t,"noAudio",!1),d=o(t,"xhrSettings"));var h=s.getVideoURL(c,r);if(h)return new s(e,t,h,i,a,l,d)},s.getVideoURL=function(e,t){Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var i,a=o(t[r],"url",t[r]);if(0===a.indexOf("blob:"))return{url:a,type:""};if(i=0===a.indexOf("data:")?a.split(",")[0].match(/\/(.*?);/):a.match(/\.([a-zA-Z0-9]+)($|\?)/),i=o(t[r],"type",i?i[1]:"").toLowerCase(),e.device.video[i])return{url:a,type:i}}return null},i.register("video",function(e,t,r,i,a,o){var n;if(Array.isArray(e))for(var l=0;l<e.length;l++)(n=s.create(this,e[l]))&&this.addFile(n);else(n=s.create(this,e,t,r,i,a,o))&&this.addFile(n);return this}),module.exports=s;
},{"../../utils/Class":"JASv","../const":"g2Jn","../File":"TuUi","../FileTypesManager":"daYy","../GetURL":"qoco","../../utils/object/GetFastValue":"cEup","../../utils/object/IsPlainObject":"erhr"}],"hjWm":[function(require,module,exports) {
module.exports={AnimationJSONFile:require("./AnimationJSONFile"),AtlasJSONFile:require("./AtlasJSONFile"),AtlasXMLFile:require("./AtlasXMLFile"),AudioFile:require("./AudioFile"),AudioSpriteFile:require("./AudioSpriteFile"),BinaryFile:require("./BinaryFile"),BitmapFontFile:require("./BitmapFontFile"),CSSFile:require("./CSSFile"),GLSLFile:require("./GLSLFile"),HTML5AudioFile:require("./HTML5AudioFile"),HTMLFile:require("./HTMLFile"),HTMLTextureFile:require("./HTMLTextureFile"),ImageFile:require("./ImageFile"),JSONFile:require("./JSONFile"),MultiAtlasFile:require("./MultiAtlasFile"),MultiScriptFile:require("./MultiScriptFile"),PackFile:require("./PackFile"),PluginFile:require("./PluginFile"),SceneFile:require("./SceneFile"),ScenePluginFile:require("./ScenePluginFile"),ScriptFile:require("./ScriptFile"),SpriteSheetFile:require("./SpriteSheetFile"),SVGFile:require("./SVGFile"),TextFile:require("./TextFile"),TilemapCSVFile:require("./TilemapCSVFile"),TilemapImpactFile:require("./TilemapImpactFile"),TilemapJSONFile:require("./TilemapJSONFile"),UnityAtlasFile:require("./UnityAtlasFile"),VideoFile:require("./VideoFile"),XMLFile:require("./XMLFile")};
},{"./AnimationJSONFile":"sUth","./AtlasJSONFile":"RgG9","./AtlasXMLFile":"SwRc","./AudioFile":"MtdO","./AudioSpriteFile":"trUW","./BinaryFile":"MDMN","./BitmapFontFile":"rIfa","./CSSFile":"biHQ","./GLSLFile":"Y3S3","./HTML5AudioFile":"ay6o","./HTMLFile":"eRcD","./HTMLTextureFile":"ML0K","./ImageFile":"iZBN","./JSONFile":"VNgR","./MultiAtlasFile":"E70N","./MultiScriptFile":"SrRx","./PackFile":"ZqSK","./PluginFile":"Ij8l","./SceneFile":"QJOJ","./ScenePluginFile":"qJHN","./ScriptFile":"K2ae","./SpriteSheetFile":"F7l0","./SVGFile":"p7JY","./TextFile":"AvJf","./TilemapCSVFile":"OIwK","./TilemapImpactFile":"MsHm","./TilemapJSONFile":"deeB","./UnityAtlasFile":"OGxW","./VideoFile":"ZQ7f","./XMLFile":"RD1k"}],"whMK":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("./const"),s=require("../structs/Set"),i=require("eventemitter3"),h=require("./events"),a=require("./FileTypesManager"),r=require("../utils/object/GetFastValue"),n=require("../plugins/PluginCache"),o=require("../scene/events"),l=require("./XHRSettings"),u=new t({Extends:i,initialize:function(t){i.call(this);var h=t.sys.game.config,n=t.sys.settings.loader;this.scene=t,this.systems=t.sys,this.cacheManager=t.sys.cache,this.textureManager=t.sys.textures,this.sceneManager=t.sys.game.scene,a.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(r(n,"baseURL",h.loaderBaseURL)),this.setPath(r(n,"path",h.loaderPath)),this.setPrefix(r(n,"prefix",h.loaderPrefix)),this.maxParallelDownloads=r(n,"maxParallelDownloads",h.loaderMaxParallelDownloads),this.xhr=l(r(n,"responseType",h.loaderResponseType),r(n,"async",h.loaderAsync),r(n,"user",h.loaderUser),r(n,"password",h.loaderPassword),r(n,"timeout",h.loaderTimeout),r(n,"withCredentials",h.loaderWithCredentials)),this.crossOrigin=r(n,"crossOrigin",h.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new s,this.inflight=new s,this.queue=new s,this._deleteQueue=new s,this.totalFailed=0,this.totalComplete=0,this.state=e.LOADER_IDLE,this.multiKeyIndex=0,t.sys.events.once(o.BOOT,this.boot,this),t.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},setBaseURL:function(t){return void 0===t&&(t=""),""!==t&&"/"!==t.substr(-1)&&(t=t.concat("/")),this.baseURL=t,this},setPath:function(t){return void 0===t&&(t=""),""!==t&&"/"!==t.substr(-1)&&(t=t.concat("/")),this.path=t,this},setPrefix:function(t){return void 0===t&&(t=""),this.prefix=t,this},setCORS:function(t){return this.crossOrigin=t,this},addFile:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var s=t[e];this.keyExists(s)||(this.list.set(s),this.emit(h.ADD,s.key,s.type,this,s),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(t){var e=t.hasCacheConflict();return e||this.list.iterate(function(s){if(s.type===t.type&&s.key===t.key)return e=!0,!1}),!e&&this.isLoading()&&(this.inflight.iterate(function(s){if(s.type===t.type&&s.key===t.key)return e=!0,!1}),this.queue.iterate(function(s){if(s.type===t.type&&s.key===t.key)return e=!0,!1})),e},addPack:function(t,e){e&&t.hasOwnProperty(e)&&(t={packKey:t[e]});var s=0,i=this.baseURL,h=this.path,a=this.prefix;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=t[n],l=r(o,"baseURL",i),u=r(o,"path",h),c=r(o,"prefix",a),d=r(o,"files",null),f=r(o,"defaultType","void");if(Array.isArray(d)){this.setBaseURL(l),this.setPath(u),this.setPrefix(c);for(var p=0;p<d.length;p++){var y=d[p],g=y.hasOwnProperty("type")?y.type:f;this[g]&&(this[g](y),s++)}}}return this.setBaseURL(i),this.setPath(h),this.setPrefix(a),s>0},isLoading:function(){return this.state===e.LOADER_LOADING||this.state===e.LOADER_PROCESSING},isReady:function(){return this.state===e.LOADER_IDLE||this.state===e.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(h.START,this),0===this.list.size?this.loadComplete():(this.state=e.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(o.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(h.PROGRESS,this.progress)},update:function(){this.state===e.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(t){if((t.state===e.FILE_POPULATED||t.state===e.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(t),this.list.delete(t),t.crossOrigin||(t.crossOrigin=this.crossOrigin),t.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(t,e){this.inflight&&(this.inflight.delete(t),this.updateProgress(),e?(this.totalComplete++,this.queue.set(t),this.emit(h.FILE_LOAD,t),t.onProcess()):(this.totalFailed++,this._deleteQueue.set(t),this.emit(h.FILE_LOAD_ERROR,t),this.fileProcessComplete(t)))},fileProcessComplete:function(t){this.scene&&this.systems&&this.systems.game&&!this.systems.game.pendingDestroy&&(t.state===e.FILE_ERRORED?t.multiFile&&t.multiFile.onFileFailed(t):t.state===e.FILE_COMPLETE&&(t.multiFile?t.multiFile.isReadyToProcess()&&t.multiFile.addToCache():t.addToCache()),this.queue.delete(t),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(h.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=e.LOADER_COMPLETE,this.systems.events.off(o.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(h.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(t){this._deleteQueue.set(t)},saveJSON:function(t,e){return this.save(JSON.stringify(t),e)},save:function(t,e,s){void 0===e&&(e="file.json"),void 0===s&&(s="application/json");var i=new Blob([t],{type:s}),h=URL.createObjectURL(i),a=document.createElement("a");return a.download=e,a.textContent="Download "+e,a.href=h,a.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var t=this.systems.game.config,s=this.systems.settings.loader;this.setBaseURL(r(s,"baseURL",t.loaderBaseURL)),this.setPath(r(s,"path",t.loaderPath)),this.setPrefix(r(s,"prefix",t.loaderPrefix)),this.state=e.LOADER_IDLE},shutdown:function(){this.reset(),this.state=e.LOADER_SHUTDOWN,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=e.LOADER_DESTROYED,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});n.register("Loader",u,"load"),module.exports=u;
},{"../utils/Class":"JASv","./const":"g2Jn","../structs/Set":"qWkr","eventemitter3":"JJlS","./events":"VSyc","./FileTypesManager":"daYy","../utils/object/GetFastValue":"cEup","../plugins/PluginCache":"ZrqD","../scene/events":"zvkO","./XHRSettings":"abHE"}],"e9Dy":[function(require,module,exports) {
var e=require("./const"),r=require("../utils/object/Extend"),i={Events:require("./events"),FileTypes:require("./filetypes"),File:require("./File"),FileTypesManager:require("./FileTypesManager"),GetURL:require("./GetURL"),LoaderPlugin:require("./LoaderPlugin"),MergeXHRSettings:require("./MergeXHRSettings"),MultiFile:require("./MultiFile"),XHRLoader:require("./XHRLoader"),XHRSettings:require("./XHRSettings")};i=r(!1,i,e),module.exports=i;
},{"./const":"g2Jn","../utils/object/Extend":"SFmW","./events":"VSyc","./filetypes":"hjWm","./File":"TuUi","./FileTypesManager":"daYy","./GetURL":"qoco","./LoaderPlugin":"whMK","./MergeXHRSettings":"Eiyl","./MultiFile":"C6ub","./XHRLoader":"Vtzu","./XHRSettings":"abHE"}],"FWI5":[function(require,module,exports) {
var A={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};module.exports=A;
},{}],"RTFe":[function(require,module,exports) {
var t={setAcceleration:function(t,e){return this.body.acceleration.set(t,e),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};module.exports=t;
},{}],"FKuu":[function(require,module,exports) {
var t={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};module.exports=t;
},{}],"NXQe":[function(require,module,exports) {
var t={setBounce:function(t,o){return this.body.bounce.set(t,o),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,o,e){return this.body.setCollideWorldBounds(t,o,e),this}};module.exports=t;
},{}],"WF5N":[function(require,module,exports) {
var o={setDebug:function(o,t,e){return this.debugShowBody=o,this.debugShowVelocity=t,this.debugBodyColor=e,this},setDebugBodyColor:function(o){return this.body.debugBodyColor=o,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(o){this.body.debugShowBody=o}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(o){this.body.debugShowVelocity=o}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(o){this.body.debugBodyColor=o}}};module.exports=o;
},{}],"Cun0":[function(require,module,exports) {
var t={setDrag:function(t,r){return this.body.drag.set(t,r),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};module.exports=t;
},{}],"YrDk":[function(require,module,exports) {
var e={enableBody:function(e,t,i,o,b){return e&&this.body.reset(t,i),o&&(this.body.gameObject.active=!0),b&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),t&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};module.exports=e;
},{}],"o2oU":[function(require,module,exports) {
var t={setFriction:function(t,i){return this.body.friction.set(t,i),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};module.exports=t;
},{}],"gegv":[function(require,module,exports) {
var t={setGravity:function(t,i){return this.body.gravity.set(t,i),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};module.exports=t;
},{}],"y6FG":[function(require,module,exports) {
var o={setImmovable:function(o){return void 0===o&&(o=!0),this.body.immovable=o,this}};module.exports=o;
},{}],"Oket":[function(require,module,exports) {
var s={setMass:function(s){return this.body.mass=s,this}};module.exports=s;
},{}],"ofsM":[function(require,module,exports) {
var t={setOffset:function(t,e){return this.body.setOffset(t,e),this},setSize:function(t,e,s){return this.body.setSize(t,e,s),this},setCircle:function(t,e,s){return this.body.setCircle(t,e,s),this}};module.exports=t;
},{}],"AWSa":[function(require,module,exports) {
var t={setVelocity:function(t,e){return this.body.setVelocity(t,e),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,e){return this.body.maxVelocity.set(t,e),this}};module.exports=t;
},{}],"rtKR":[function(require,module,exports) {
module.exports={Acceleration:require("./Acceleration"),Angular:require("./Angular"),Bounce:require("./Bounce"),Debug:require("./Debug"),Drag:require("./Drag"),Enable:require("./Enable"),Friction:require("./Friction"),Gravity:require("./Gravity"),Immovable:require("./Immovable"),Mass:require("./Mass"),Size:require("./Size"),Velocity:require("./Velocity")};
},{"./Acceleration":"RTFe","./Angular":"FKuu","./Bounce":"NXQe","./Debug":"WF5N","./Drag":"Cun0","./Enable":"YrDk","./Friction":"o2oU","./Gravity":"gegv","./Immovable":"y6FG","./Mass":"Oket","./Size":"ofsM","./Velocity":"AWSa"}],"xNJw":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("./components"),a=require("../../gameobjects/image/Image"),n=new e({Extends:a,Mixins:[i.Acceleration,i.Angular,i.Bounce,i.Debug,i.Drag,i.Enable,i.Friction,i.Gravity,i.Immovable,i.Mass,i.Size,i.Velocity],initialize:function(e,i,n,l,r){a.call(this,e,i,n,l,r),this.body=null}});module.exports=n;
},{"../../utils/Class":"JASv","./components":"rtKR","../../gameobjects/image/Image":"DnOy"}],"EKCX":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("./components"),r=require("../../gameobjects/sprite/Sprite"),t=new e({Extends:r,Mixins:[i.Acceleration,i.Angular,i.Bounce,i.Debug,i.Drag,i.Enable,i.Friction,i.Gravity,i.Immovable,i.Mass,i.Size,i.Velocity],initialize:function(e,i,t,n,l){r.call(this,e,i,t,n,l),this.body=null}});module.exports=t;
},{"../../utils/Class":"JASv","./components":"rtKR","../../gameobjects/sprite/Sprite":"ZUCM"}],"GovP":[function(require,module,exports) {
var e=require("./ArcadeSprite"),l=require("../../utils/Class"),t=require("./const"),a=require("../../utils/object/GetFastValue"),r=require("../../gameobjects/group/Group"),i=require("../../utils/object/IsPlainObject"),o=new l({Extends:r,initialize:function(l,o,n,s){if(n||s)if(i(n))s=n,n=null,s.internalCreateCallback=this.createCallbackHandler,s.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(n)&&i(n[0])){s=n[0];var c=this;n.forEach(function(e){e.internalCreateCallback=c.createCallbackHandler,e.internalRemoveCallback=c.removeCallbackHandler})}else s={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else s={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=l,s.classType=a(s,"classType",e),this.physicsType=t.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:a(s,"collideWorldBounds",!1),setBoundsRectangle:a(s,"customBoundsRectangle",null),setAccelerationX:a(s,"accelerationX",0),setAccelerationY:a(s,"accelerationY",0),setAllowDrag:a(s,"allowDrag",!0),setAllowGravity:a(s,"allowGravity",!0),setAllowRotation:a(s,"allowRotation",!0),setBounceX:a(s,"bounceX",0),setBounceY:a(s,"bounceY",0),setDragX:a(s,"dragX",0),setDragY:a(s,"dragY",0),setEnable:a(s,"enable",!0),setGravityX:a(s,"gravityX",0),setGravityY:a(s,"gravityY",0),setFrictionX:a(s,"frictionX",0),setFrictionY:a(s,"frictionY",0),setVelocityX:a(s,"velocityX",0),setVelocityY:a(s,"velocityY",0),setAngularVelocity:a(s,"angularVelocity",0),setAngularAcceleration:a(s,"angularAcceleration",0),setAngularDrag:a(s,"angularDrag",0),setMass:a(s,"mass",1),setImmovable:a(s,"immovable",!1)},Array.isArray(n)&&(s=null),r.call(this,o,n,s),this.type="PhysicsGroup"},createCallbackHandler:function(e){e.body||this.world.enableBody(e,t.DYNAMIC_BODY);var l=e.body;for(var a in this.defaults)l[a](this.defaults[a])},removeCallbackHandler:function(e){e.body&&this.world.disableBody(e)},setVelocity:function(e,l,t){void 0===t&&(t=0);for(var a=this.getChildren(),r=0;r<a.length;r++)a[r].body.velocity.set(e+r*t,l+r*t);return this},setVelocityX:function(e,l){void 0===l&&(l=0);for(var t=this.getChildren(),a=0;a<t.length;a++)t[a].body.velocity.x=e+a*l;return this},setVelocityY:function(e,l){void 0===l&&(l=0);for(var t=this.getChildren(),a=0;a<t.length;a++)t[a].body.velocity.y=e+a*l;return this}});module.exports=o;
},{"./ArcadeSprite":"EKCX","../../utils/Class":"JASv","./const":"FWI5","../../utils/object/GetFastValue":"cEup","../../gameobjects/group/Group":"xnxC","../../utils/object/IsPlainObject":"erhr"}],"xy7Y":[function(require,module,exports) {
var e=require("./ArcadeSprite"),l=require("../../utils/Class"),a=require("./const"),r=require("../../utils/object/GetFastValue"),t=require("../../gameobjects/group/Group"),i=require("../../utils/object/IsPlainObject"),c=new l({Extends:t,initialize:function(l,c,s,n){s||n?i(s)?(n=s,s=null,n.internalCreateCallback=this.createCallbackHandler,n.internalRemoveCallback=this.removeCallbackHandler,n.createMultipleCallback=this.createMultipleCallbackHandler,n.classType=r(n,"classType",e)):Array.isArray(s)&&i(s[0])&&(n=s,s=null,n.forEach(function(l){l.internalCreateCallback=this.createCallbackHandler,l.internalRemoveCallback=this.removeCallbackHandler,l.createMultipleCallback=this.createMultipleCallbackHandler,l.classType=r(l,"classType",e)})):n={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:e},this.world=l,this.physicsType=a.STATIC_BODY,t.call(this,c,s,n),this.type="StaticPhysicsGroup"},createCallbackHandler:function(e){e.body||this.world.enableBody(e,a.STATIC_BODY)},removeCallbackHandler:function(e){e.body&&this.world.disableBody(e)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var e=this.children.entries,l=0;l<e.length;l++)e[l].body.reset();return this}});module.exports=c;
},{"./ArcadeSprite":"EKCX","../../utils/Class":"JASv","./const":"FWI5","../../utils/object/GetFastValue":"cEup","../../gameobjects/group/Group":"xnxC","../../utils/object/IsPlainObject":"erhr"}],"Hlve":[function(require,module,exports) {
var s=require("./ArcadeImage"),e=require("./ArcadeSprite"),t=require("../../utils/Class"),i=require("./const"),r=require("./PhysicsGroup"),n=require("./StaticPhysicsGroup"),d=new t({initialize:function(s){this.world=s,this.scene=s.scene,this.sys=s.scene.sys},collider:function(s,e,t,i,r){return this.world.addCollider(s,e,t,i,r)},overlap:function(s,e,t,i,r){return this.world.addOverlap(s,e,t,i,r)},existing:function(s,e){var t=e?i.STATIC_BODY:i.DYNAMIC_BODY;return this.world.enableBody(s,t),s},staticImage:function(e,t,r,n){var d=new s(this.scene,e,t,r,n);return this.sys.displayList.add(d),this.world.enableBody(d,i.STATIC_BODY),d},image:function(e,t,r,n){var d=new s(this.scene,e,t,r,n);return this.sys.displayList.add(d),this.world.enableBody(d,i.DYNAMIC_BODY),d},staticSprite:function(s,t,r,n){var d=new e(this.scene,s,t,r,n);return this.sys.displayList.add(d),this.sys.updateList.add(d),this.world.enableBody(d,i.STATIC_BODY),d},sprite:function(s,t,r,n){var d=new e(this.scene,s,t,r,n);return this.sys.displayList.add(d),this.sys.updateList.add(d),this.world.enableBody(d,i.DYNAMIC_BODY),d},staticGroup:function(s,e){return this.sys.updateList.add(new n(this.world,this.world.scene,s,e))},group:function(s,e){return this.sys.updateList.add(new r(this.world,this.world.scene,s,e))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});module.exports=d;
},{"./ArcadeImage":"xNJw","./ArcadeSprite":"EKCX","../../utils/Class":"JASv","./const":"FWI5","./PhysicsGroup":"GovP","./StaticPhysicsGroup":"xy7Y"}],"Um7c":[function(require,module,exports) {
var e=function(e,t,i,r,o,s,a){void 0===s&&(s=!0),void 0===a&&(a=!1);var n=[],c=[],m=e.treeMinMax;if(m.minX=t,m.minY=i,m.maxX=t+r,m.maxY=i+o,a&&(c=e.staticTree.search(m)),s&&e.useTree)n=e.tree.search(m);else if(s){var u=e.bodies,f={position:{x:t,y:i},left:t,top:i,right:t+r,bottom:i+o,isCircle:!1},v=e.intersects;u.iterate(function(e){v(e,f)&&n.push(e)})}return c.concat(n)};module.exports=e;
},{}],"oRz8":[function(require,module,exports) {
var e=require("./OverlapRect"),r=require("../../../geom/circle/Circle"),i=require("../../../geom/intersects/CircleToCircle"),t=require("../../../geom/intersects/CircleToRectangle"),c=function(c,n,l,o,u,s){var a=e(c,n-o,l-o,2*o,2*o,u,s);if(0===a.length)return a;for(var g=new r(n,l,o),h=new r,v=[],C=0;C<a.length;C++){var f=a[C];f.isCircle?(h.setTo(f.center.x,f.center.y,f.halfWidth),i(g,h)&&v.push(f)):t(g,f)&&v.push(f)}return v};module.exports=c;
},{"./OverlapRect":"Um7c","../../../geom/circle/Circle":"VKcd","../../../geom/intersects/CircleToCircle":"p35E","../../../geom/intersects/CircleToRectangle":"M7AG"}],"TRUm":[function(require,module,exports) {
module.exports="collide";
},{}],"LRVg":[function(require,module,exports) {
module.exports="overlap";
},{}],"zqUM":[function(require,module,exports) {
module.exports="tilecollide";
},{}],"P18d":[function(require,module,exports) {
module.exports="tileoverlap";
},{}],"CQg5":[function(require,module,exports) {
module.exports="worldbounds";
},{}],"zHoN":[function(require,module,exports) {
module.exports="worldstep";
},{}],"csuF":[function(require,module,exports) {
module.exports={COLLIDE:require("./COLLIDE_EVENT"),OVERLAP:require("./OVERLAP_EVENT"),PAUSE:require("./PAUSE_EVENT"),RESUME:require("./RESUME_EVENT"),TILE_COLLIDE:require("./TILE_COLLIDE_EVENT"),TILE_OVERLAP:require("./TILE_OVERLAP_EVENT"),WORLD_BOUNDS:require("./WORLD_BOUNDS_EVENT"),WORLD_STEP:require("./WORLD_STEP_EVENT")};
},{"./COLLIDE_EVENT":"TRUm","./OVERLAP_EVENT":"LRVg","./PAUSE_EVENT":"XFXR","./RESUME_EVENT":"swsX","./TILE_COLLIDE_EVENT":"zqUM","./TILE_OVERLAP_EVENT":"P18d","./WORLD_BOUNDS_EVENT":"CQg5","./WORLD_STEP_EVENT":"zHoN"}],"gwNI":[function(require,module,exports) {
var t=require("../../utils/Class"),i=require("./const"),s=require("./events"),e=require("../../math/RadToDeg"),h=require("../../geom/rectangle/Rectangle"),o=require("../../geom/rectangle/Contains"),n=require("../../math/Vector2"),r=new t({initialize:function(t,s){var e=s.displayWidth?s.displayWidth:64,o=s.displayHeight?s.displayHeight:64;this.world=t,this.gameObject=s,this.transform={x:s.x,y:s.y,rotation:s.angle,scaleX:s.scaleX,scaleY:s.scaleY,displayOriginX:s.displayOriginX,displayOriginY:s.displayOriginY},this.debugShowBody=t.defaults.debugShowBody,this.debugShowVelocity=t.defaults.debugShowVelocity,this.debugBodyColor=t.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(s.x-s.scaleX*s.displayOriginX,s.y-s.scaleY*s.displayOriginY),this.prev=new n(s.x,s.y),this.prevFrame=new n(s.x,s.y),this.allowRotation=!0,this.rotation=s.angle,this.preRotation=s.angle,this.width=e,this.height=o,this.sourceWidth=e,this.sourceHeight=o,s.frame&&(this.sourceWidth=s.frame.realWidth,this.sourceHeight=s.frame.realHeight),this.halfWidth=Math.abs(e/2),this.halfHeight=Math.abs(o/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new n,this.newVelocity=new n,this.deltaMax=new n,this.acceleration=new n,this.allowDrag=!0,this.drag=new n,this.allowGravity=!0,this.gravity=new n,this.bounce=new n,this.worldBounce=null,this.customBoundsRectangle=t.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new n(1e4,1e4),this.maxSpeed=-1,this.friction=new n(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=i.FACING_NONE,this.immovable=!1,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=i.DYNAMIC_BODY,this._sx=s.scaleX,this._sy=s.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new h},updateBounds:function(){var t=this.gameObject,i=this.transform;if(t.parentContainer){var s=t.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);i.x=s.tx,i.y=s.ty,i.rotation=e(s.rotation),i.scaleX=s.scaleX,i.scaleY=s.scaleY,i.displayOriginX=t.displayOriginX,i.displayOriginY=t.displayOriginY}else i.x=t.x,i.y=t.y,i.rotation=t.angle,i.scaleX=t.scaleX,i.scaleY=t.scaleY,i.displayOriginX=t.displayOriginX,i.displayOriginY=t.displayOriginY;var h=!1;if(this.syncBounds){var o=t.getBounds(this._bounds);this.width=o.width,this.height=o.height,h=!0}else{var n=Math.abs(i.scaleX),r=Math.abs(i.scaleY);this._sx===n&&this._sy===r||(this.width=this.sourceWidth*n,this.height=this.sourceHeight*r,this._sx=n,this._sy=r,h=!0)}h&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},resetFlags:function(){var t=this.wasTouching,i=this.touching,s=this.blocked;t.none=i.none,t.up=i.up,t.down=i.down,t.left=i.left,t.right=i.right,i.none=!0,i.up=!1,i.down=!1,i.left=!1,i.right=!1,s.none=!0,s.up=!1,s.down=!1,s.left=!1,s.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(t,i){t&&this.resetFlags(),this.updateBounds();var s=this.transform;this.position.x=s.x+s.scaleX*(this.offset.x-s.displayOriginX),this.position.y=s.y+s.scaleY*(this.offset.y-s.displayOriginY),this.updateCenter(),this.rotation=s.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),t&&this.update(i)},update:function(t){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,t);var i=this.velocity.x,e=this.velocity.y;this.newVelocity.set(i*t,e*t),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(e,i),this.speed=Math.sqrt(i*i+e*e),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(s.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var t=this.position.x-this.prevFrame.x,s=this.position.y-this.prevFrame.y;if(this.moves){var e=this.deltaMax.x,h=this.deltaMax.y;0!==e&&0!==t&&(t<0&&t<-e?t=-e:t>0&&t>e&&(t=e)),0!==h&&0!==s&&(s<0&&s<-h?s=-h:s>0&&s>h&&(s=h)),this.gameObject.x+=t,this.gameObject.y+=s}t<0?this.facing=i.FACING_LEFT:t>0&&(this.facing=i.FACING_RIGHT),s<0?this.facing=i.FACING_UP:s>0&&(this.facing=i.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=t,this._ty=s},setBoundsRectangle:function(t){return this.customBoundsRectangle=t||this.world.bounds,this},checkWorldBounds:function(){var t=this.position,i=this.customBoundsRectangle,s=this.world.checkCollision,e=this.worldBounce?-this.worldBounce.x:-this.bounce.x,h=this.worldBounce?-this.worldBounce.y:-this.bounce.y,o=!1;return t.x<i.x&&s.left?(t.x=i.x,this.velocity.x*=e,this.blocked.left=!0,o=!0):this.right>i.right&&s.right&&(t.x=i.right-this.width,this.velocity.x*=e,this.blocked.right=!0,o=!0),t.y<i.y&&s.up?(t.y=i.y,this.velocity.y*=h,this.blocked.up=!0,o=!0):this.bottom>i.bottom&&s.down&&(t.y=i.bottom-this.height,this.velocity.y*=h,this.blocked.down=!0,o=!0),o&&(this.blocked.none=!1),o},setOffset:function(t,i){return void 0===i&&(i=t),this.offset.set(t,i),this.updateCenter(),this},setSize:function(t,i,s){void 0===s&&(s=!0);var e=this.gameObject;if(!t&&e.frame&&(t=e.frame.realWidth),!i&&e.frame&&(i=e.frame.realHeight),this.sourceWidth=t,this.sourceHeight=i,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),s&&e.getCenter){var h=(e.width-t)/2,o=(e.height-i)/2;this.offset.set(h,o)}return this.isCircle=!1,this.radius=0,this},setCircle:function(t,i,s){return void 0===i&&(i=this.offset.x),void 0===s&&(s=this.offset.y),t>0?(this.isCircle=!0,this.radius=t,this.sourceWidth=2*t,this.sourceHeight=2*t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(i,s),this.updateCenter()):this.isCircle=!1,this},reset:function(t,i){this.stop();var s=this.gameObject;s.setPosition(t,i),s.getTopLeft?s.getTopLeft(this.position):this.position.set(t,i),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=s.angle,this.preRotation=s.angle,this.updateBounds(),this.updateCenter()},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,i){return this.isCircle?this.radius>0&&t>=this.left&&t<=this.right&&i>=this.top&&i<=this.bottom&&(this.center.x-t)*(this.center.x-t)+(this.center.y-i)*(this.center.y-i)<=this.radius*this.radius:o(this,t,i)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(t){var i=this.position,s=i.x+this.halfWidth,e=i.y+this.halfHeight;this.debugShowBody&&(t.lineStyle(t.defaultStrokeWidth,this.debugBodyColor),this.isCircle?t.strokeCircle(s,e,this.width/2):(this.checkCollision.up&&t.lineBetween(i.x,i.y,i.x+this.width,i.y),this.checkCollision.right&&t.lineBetween(i.x+this.width,i.y,i.x+this.width,i.y+this.height),this.checkCollision.down&&t.lineBetween(i.x,i.y+this.height,i.x+this.width,i.y+this.height),this.checkCollision.left&&t.lineBetween(i.x,i.y,i.x,i.y+this.height))),this.debugShowVelocity&&(t.lineStyle(t.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),t.lineBetween(s,e,s+this.velocity.x/2,e+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(t,i,s){void 0===t&&(t=!0),this.collideWorldBounds=t;var e=void 0!==i,h=void 0!==s;return(e||h)&&(this.worldBounce||(this.worldBounce=new n),e&&(this.worldBounce.x=i),h&&(this.worldBounce.y=s)),this},setVelocity:function(t,i){return this.velocity.set(t,i),t=this.velocity.x,i=this.velocity.y,this.speed=Math.sqrt(t*t+i*i),this},setVelocityX:function(t){this.velocity.x=t;var i=t,s=this.velocity.y;return this.speed=Math.sqrt(i*i+s*s),this},setVelocityY:function(t){this.velocity.y=t;var i=this.velocity.x,s=t;return this.speed=Math.sqrt(i*i+s*s),this},setMaxVelocity:function(t,i){return this.maxVelocity.set(t,i),this},setMaxSpeed:function(t){return this.maxSpeed=t,this},setBounce:function(t,i){return this.bounce.set(t,i),this},setBounceX:function(t){return this.bounce.x=t,this},setBounceY:function(t){return this.bounce.y=t,this},setAcceleration:function(t,i){return this.acceleration.set(t,i),this},setAccelerationX:function(t){return this.acceleration.x=t,this},setAccelerationY:function(t){return this.acceleration.y=t,this},setAllowDrag:function(t){return void 0===t&&(t=!0),this.allowDrag=t,this},setAllowGravity:function(t){return void 0===t&&(t=!0),this.allowGravity=t,this},setAllowRotation:function(t){return void 0===t&&(t=!0),this.allowRotation=t,this},setDrag:function(t,i){return this.drag.set(t,i),this},setDragX:function(t){return this.drag.x=t,this},setDragY:function(t){return this.drag.y=t,this},setGravity:function(t,i){return this.gravity.set(t,i),this},setGravityX:function(t){return this.gravity.x=t,this},setGravityY:function(t){return this.gravity.y=t,this},setFriction:function(t,i){return this.friction.set(t,i),this},setFrictionX:function(t){return this.friction.x=t,this},setFrictionY:function(t){return this.friction.y=t,this},setAngularVelocity:function(t){return this.angularVelocity=t,this},setAngularAcceleration:function(t){return this.angularAcceleration=t,this},setAngularDrag:function(t){return this.angularDrag=t,this},setMass:function(t){return this.mass=t,this},setImmovable:function(t){return void 0===t&&(t=!0),this.immovable=t,this},setEnable:function(t){return void 0===t&&(t=!0),this.enable=t,this},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});module.exports=r;
},{"../../utils/Class":"JASv","./const":"FWI5","./events":"csuF","../../math/RadToDeg":"vauQ","../../geom/rectangle/Rectangle":"wYVB","../../geom/rectangle/Contains":"mjUt","../../math/Vector2":"qKN5"}],"Upa6":[function(require,module,exports) {
var t=require("../../utils/Class"),l=new t({initialize:function(t,l,i,s,e,c,o){this.world=t,this.name="",this.active=!0,this.overlapOnly=l,this.object1=i,this.object2=s,this.collideCallback=e,this.processCallback=c,this.callbackContext=o},setName:function(t){return this.name=t,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});module.exports=l;
},{"../../utils/Class":"JASv"}],"WS1S":[function(require,module,exports) {
var e=require("./const"),o=function(o,n,c,i){var t=0,l=o.deltaAbsX()+n.deltaAbsX()+i;return 0===o._dx&&0===n._dx?(o.embedded=!0,n.embedded=!0):o._dx>n._dx?(t=o.right-n.x)>l&&!c||!1===o.checkCollision.right||!1===n.checkCollision.left?t=0:(o.touching.none=!1,o.touching.right=!0,n.touching.none=!1,n.touching.left=!0,n.physicsType===e.STATIC_BODY&&(o.blocked.none=!1,o.blocked.right=!0),o.physicsType===e.STATIC_BODY&&(n.blocked.none=!1,n.blocked.left=!0)):o._dx<n._dx&&(-(t=o.x-n.width-n.x)>l&&!c||!1===o.checkCollision.left||!1===n.checkCollision.right?t=0:(o.touching.none=!1,o.touching.left=!0,n.touching.none=!1,n.touching.right=!0,n.physicsType===e.STATIC_BODY&&(o.blocked.none=!1,o.blocked.left=!0),o.physicsType===e.STATIC_BODY&&(n.blocked.none=!1,n.blocked.right=!0))),o.overlapX=t,n.overlapX=t,t};module.exports=o;
},{"./const":"FWI5"}],"JFvb":[function(require,module,exports) {
var o=require("./const"),e=function(e,n,c,d){var i=0,l=e.deltaAbsY()+n.deltaAbsY()+d;return 0===e._dy&&0===n._dy?(e.embedded=!0,n.embedded=!0):e._dy>n._dy?(i=e.bottom-n.y)>l&&!c||!1===e.checkCollision.down||!1===n.checkCollision.up?i=0:(e.touching.none=!1,e.touching.down=!0,n.touching.none=!1,n.touching.up=!0,n.physicsType===o.STATIC_BODY&&(e.blocked.none=!1,e.blocked.down=!0),e.physicsType===o.STATIC_BODY&&(n.blocked.none=!1,n.blocked.up=!0)):e._dy<n._dy&&(-(i=e.y-n.bottom)>l&&!c||!1===e.checkCollision.up||!1===n.checkCollision.down?i=0:(e.touching.none=!1,e.touching.up=!0,n.touching.none=!1,n.touching.down=!0,n.physicsType===o.STATIC_BODY&&(e.blocked.none=!1,e.blocked.up=!0),e.physicsType===o.STATIC_BODY&&(n.blocked.none=!1,n.blocked.down=!0))),e.overlapY=i,n.overlapY=i,i};module.exports=e;
},{"./const":"FWI5"}],"wjuU":[function(require,module,exports) {
var l=function(l,a){return l.collisionCallback?!l.collisionCallback.call(l.collisionCallbackContext,a,l):!l.layer.callbacks[l.index]||!l.layer.callbacks[l.index].callback.call(l.layer.callbacks[l.index].callbackContext,a,l)};module.exports=l;
},{}],"eoRJ":[function(require,module,exports) {
var t=require("../utils/array/QuickSelect");function i(t){if(!(this instanceof i))return new i(t,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function n(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function r(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,h){h||(h=x(null)),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0;for(var a,o=i;o<n;o++)a=t.children[o],e(h,t.leaf?r(a):a);return h}function e(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function a(t,i){return t.minX-i.minX}function o(t,i){return t.minY-i.minY}function s(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function u(t,i){var n=Math.max(t.minX,i.minX),r=Math.max(t.minY,i.minY),h=Math.min(t.maxX,i.maxX),e=Math.min(t.maxY,i.maxY);return Math.max(0,h-n)*Math.max(0,e-r)}function c(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function f(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function x(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,h,e){for(var a,o=[n,r];o.length;)(r=o.pop())-(n=o.pop())<=h||(a=n+Math.ceil((r-n)/h/2)*h,t(i,a,n,r,e),o.push(n,a,a,r))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var i=this.data,n=[],r=this.toBBox;if(!f(t,i))return n;for(var h,e,a,o,s=[];i;){for(h=0,e=i.children.length;h<e;h++)a=i.children[h],f(t,o=i.leaf?r(a):a)&&(i.leaf?n.push(a):c(t,o)?this._all(a,n):s.push(a));i=s.pop()}return n},collides:function(t){var i=this.data,n=this.toBBox;if(!f(t,i))return!1;for(var r,h,e,a,o=[];i;){for(r=0,h=i.children.length;r<h;r++)if(e=i.children[r],f(t,a=i.leaf?n(e):e)){if(i.leaf||c(t,a))return!0;o.push(e)}i=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var h=this.data;this.data=r,r=h}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=x([]),this},remove:function(t,i){if(!t)return this;for(var r,h,e,a,o=this.data,s=this.toBBox(t),l=[],m=[];o||l.length;){if(o||(o=l.pop(),h=l[l.length-1],r=m.pop(),a=!0),o.leaf&&-1!==(e=n(t,o.children,i)))return o.children.splice(e,1),l.push(o),this._condense(l),this;a||o.leaf||!c(o,s)?h?(r++,o=h.children[r],a=!1):o=null:(l.push(o),m.push(r),r=0,h=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:a,compareMinY:o,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},_build:function(t,i,n,h){var e,a=n-i+1,o=this._maxEntries;if(a<=o)return r(e=x(t.slice(i,n+1)),this.toBBox),e;h||(h=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,h-1))),(e=x([])).leaf=!1,e.height=h;var s,l,m,u,c=Math.ceil(a/o),f=c*Math.ceil(Math.sqrt(o));for(d(t,i,n,f,this.compareMinX),s=i;s<=n;s+=f)for(d(t,s,m=Math.min(s+f-1,n),c,this.compareMinY),l=s;l<=m;l+=c)u=Math.min(l+c-1,m),e.children.push(this._build(t,l,u,h-1));return r(e,this.toBBox),e},_chooseSubtree:function(t,i,n,r){for(var h,e,a,o,l,u,c,f;r.push(i),!i.leaf&&r.length-1!==n;){for(c=f=1/0,h=0,e=i.children.length;h<e;h++)l=s(a=i.children[h]),(u=m(t,a)-l)<f?(f=u,c=l<c?l:c,o=a):u===f&&l<c&&(c=l,o=a);i=o||i.children[0]}return i},_insert:function(t,i,n){var r=this.toBBox,h=n?t:r(t),a=[],o=this._chooseSubtree(h,this.data,i,a);for(o.children.push(t),e(o,h);i>=0&&a[i].children.length>this._maxEntries;)this._split(a,i),i--;this._adjustParentBBoxes(h,a,i)},_split:function(t,i){var n=t[i],h=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,h);var a=this._chooseSplitIndex(n,e,h),o=x(n.children.splice(a,n.children.length-a));o.height=n.height,o.leaf=n.leaf,r(n,this.toBBox),r(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(t,i){this.data=x([t,i]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(t,i,n){var r,e,a,o,l,m,c,f;for(m=c=1/0,r=i;r<=n-i;r++)o=u(e=h(t,0,r,this.toBBox),a=h(t,r,n,this.toBBox)),l=s(e)+s(a),o<m?(m=o,f=r,c=l<c?l:c):o===m&&l<c&&(c=l,f=r);return f},_chooseSplitAxis:function(t,i,n){var r=t.leaf?this.compareMinX:a,h=t.leaf?this.compareMinY:o;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,h)&&t.children.sort(r)},_allDistMargin:function(t,i,n,r){t.children.sort(r);var a,o,s=this.toBBox,m=h(t,0,i,s),u=h(t,n-i,n,s),c=l(m)+l(u);for(a=i;a<n-i;a++)o=t.children[a],e(m,t.leaf?s(o):o),c+=l(m);for(a=n-i-1;a>=i;a--)o=t.children[a],e(u,t.leaf?s(o):o),c+=l(u);return c},_adjustParentBBoxes:function(t,i,n){for(var r=n;r>=0;r--)e(i[r],t)},_condense:function(t){for(var i,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(i=t[n-1].children).splice(i.indexOf(t[n]),1):this.clear():r(t[n],this.toBBox)},compareMinX:function(t,i){return t.left-i.left},compareMinY:function(t,i){return t.top-i.top},toBBox:function(t){return{minX:t.left,minY:t.top,maxX:t.right,maxY:t.bottom}}},module.exports=i;
},{"../utils/array/QuickSelect":"MEkw"}],"vdLB":[function(require,module,exports) {
var o=function(o,e){e<0?(o.blocked.none=!1,o.blocked.left=!0):e>0&&(o.blocked.none=!1,o.blocked.right=!0),o.position.x-=e,0===o.bounce.x?o.velocity.x=0:o.velocity.x=-o.velocity.x*o.bounce.x};module.exports=o;
},{}],"oBoz":[function(require,module,exports) {
var e=require("./ProcessTileSeparationX"),t=function(t,i,l,r,o,a){var c=0,h=i.faceLeft,f=i.faceRight,n=i.collideLeft,s=i.collideRight;return a||(h=!0,f=!0,n=!0,s=!0),t.deltaX()<0&&s&&t.checkCollision.left?f&&t.x<r&&(c=t.x-r)<-o&&(c=0):t.deltaX()>0&&n&&t.checkCollision.right&&h&&t.right>l&&(c=t.right-l)>o&&(c=0),0!==c&&(t.customSeparateX?t.overlapX=c:e(t,c)),c};module.exports=t;
},{"./ProcessTileSeparationX":"vdLB"}],"VFIE":[function(require,module,exports) {
var o=function(o,e){e<0?(o.blocked.none=!1,o.blocked.up=!0):e>0&&(o.blocked.none=!1,o.blocked.down=!0),o.position.y-=e,0===o.bounce.y?o.velocity.y=0:o.velocity.y=-o.velocity.y*o.bounce.y};module.exports=o;
},{}],"Es5q":[function(require,module,exports) {
var o=require("./ProcessTileSeparationY"),e=function(e,t,l,a,c,r){var i=0,n=t.faceTop,p=t.faceBottom,d=t.collideUp,s=t.collideDown;return r||(n=!0,p=!0,d=!0,s=!0),e.deltaY()<0&&s&&e.checkCollision.up?p&&e.y<a&&(i=e.y-a)<-c&&(i=0):e.deltaY()>0&&d&&e.checkCollision.down&&n&&e.bottom>l&&(i=e.bottom-l)>c&&(i=0),0!==i&&(e.customSeparateY?e.overlapY=i:o(e,i)),i};module.exports=e;
},{"./ProcessTileSeparationY":"VFIE"}],"m4LE":[function(require,module,exports) {
var t=function(t,o){return!(o.right<=t.left||o.bottom<=t.top||o.position.x>=t.right||o.position.y>=t.bottom)};module.exports=t;
},{}],"YqIp":[function(require,module,exports) {
var t=require("./TileCheckX"),e=require("./TileCheckY"),a=require("./TileIntersectsBody"),r=function(r,i,o,s,l,f,h){var n=s.left,b=s.top,u=s.right,c=s.bottom,d=o.faceLeft||o.faceRight,m=o.faceTop||o.faceBottom;if(h||(d=!0,m=!0),!d&&!m)return!1;var M=0,p=0,A=0,T=1;if(i.deltaAbsX()>i.deltaAbsY()?A=-1:i.deltaAbsX()<i.deltaAbsY()&&(T=-1),0!==i.deltaX()&&0!==i.deltaY()&&d&&m&&(A=Math.min(Math.abs(i.position.x-u),Math.abs(i.right-n)),T=Math.min(Math.abs(i.position.y-c),Math.abs(i.bottom-b))),A<T){if(d&&0!==(M=t(i,o,n,u,f,h))&&!a(s,i))return!0;m&&(p=e(i,o,b,c,f,h))}else{if(m&&0!==(p=e(i,o,b,c,f,h))&&!a(s,i))return!0;d&&(M=t(i,o,n,u,f,h))}return 0!==M||0!==p};module.exports=r;
},{"./TileCheckX":"oBoz","./TileCheckY":"Es5q","./TileIntersectsBody":"m4LE"}],"mYXi":[function(require,module,exports) {
var e=require("./GetOverlapX"),o=function(o,m,t,a){var r=e(o,m,t,a);if(t||0===r||o.immovable&&m.immovable||o.customSeparateX||m.customSeparateX)return 0!==r||o.embedded&&m.embedded;var v=o.velocity.x,i=m.velocity.x;if(o.immovable||m.immovable)o.immovable?(m.x+=r,m.velocity.x=v-i*m.bounce.x,o.moves&&(m.y+=(o.y-o.prev.y)*o.friction.y)):(o.x-=r,o.velocity.x=i-v*o.bounce.x,m.moves&&(o.y+=(m.y-m.prev.y)*m.friction.y));else{r*=.5,o.x-=r,m.x+=r;var s=Math.sqrt(i*i*m.mass/o.mass)*(i>0?1:-1),c=Math.sqrt(v*v*o.mass/m.mass)*(v>0?1:-1),x=.5*(s+c);s-=x,c-=x,o.velocity.x=x+s*o.bounce.x,m.velocity.x=x+c*m.bounce.x}return!0};module.exports=o;
},{"./GetOverlapX":"WS1S"}],"xEeA":[function(require,module,exports) {
var e=require("./GetOverlapY"),o=function(o,m,t,a){var r=e(o,m,t,a);if(t||0===r||o.immovable&&m.immovable||o.customSeparateY||m.customSeparateY)return 0!==r||o.embedded&&m.embedded;var v=o.velocity.y,y=m.velocity.y;if(o.immovable||m.immovable)o.immovable?(m.y+=r,m.velocity.y=v-y*m.bounce.y,o.moves&&(m.x+=(o.x-o.prev.x)*o.friction.x)):(o.y-=r,o.velocity.y=y-v*o.bounce.y,m.moves&&(o.x+=(m.x-m.prev.x)*m.friction.x));else{r*=.5,o.y-=r,m.y+=r;var i=Math.sqrt(y*y*m.mass/o.mass)*(y>0?1:-1),s=Math.sqrt(v*v*o.mass/m.mass)*(v>0?1:-1),c=.5*(i+s);i-=c,s-=c,o.velocity.y=c+i*o.bounce.y,m.velocity.y=c+s*m.bounce.y}return!0};module.exports=o;
},{"./GetOverlapY":"JFvb"}],"NZWW":[function(require,module,exports) {
var t=require("../../geom/circle/Contains"),i=require("../../utils/Class"),s=require("./const"),e=require("../../geom/rectangle/Contains"),h=require("../../math/Vector2"),o=new i({initialize:function(t,i){var e=i.displayWidth?i.displayWidth:64,o=i.displayHeight?i.displayHeight:64;this.world=t,this.gameObject=i,this.debugShowBody=t.defaults.debugShowStaticBody,this.debugBodyColor=t.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new h,this.position=new h(i.x-i.displayOriginX,i.y-i.displayOriginY),this.width=e,this.height=o,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new h(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=h.ZERO,this.allowGravity=!1,this.gravity=h.ZERO,this.bounce=h.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=s.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(t,i){return t&&t!==this.gameObject&&(this.gameObject.body=null,t.body=this,this.gameObject=t),i&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var t=this.gameObject;return t.getTopLeft(this.position),this.width=t.displayWidth,this.height=t.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(t,i){return void 0===i&&(i=t),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(t,i),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(t,i,s){void 0===s&&(s=!0);var e=this.gameObject;if(!t&&e.frame&&(t=e.frame.realWidth),!i&&e.frame&&(i=e.frame.realHeight),this.world.staticTree.remove(this),this.width=t,this.height=i,this.halfWidth=Math.floor(t/2),this.halfHeight=Math.floor(i/2),s&&e.getCenter){var h=e.displayWidth/2,o=e.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(h-this.halfWidth,o-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(t,i,s){return void 0===i&&(i=this.offset.x),void 0===s&&(s=this.offset.y),t>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=t,this.width=2*t,this.height=2*t,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(i,s),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(t,i){var s=this.gameObject;void 0===t&&(t=s.x),void 0===i&&(i=s.y),this.world.staticTree.remove(this),s.setPosition(t,i),s.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(i,s){return this.isCircle?t(this,i,s):e(this,i,s)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(t){var i=this.position,s=i.x+this.halfWidth,e=i.y+this.halfHeight;this.debugShowBody&&(t.lineStyle(t.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?t.strokeCircle(s,e,this.width/2):t.strokeRect(i.x,i.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(t){return t<=0&&(t=.1),this.mass=t,this},x:{get:function(){return this.position.x},set:function(t){this.world.staticTree.remove(this),this.position.x=t,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(t){this.world.staticTree.remove(this),this.position.y=t,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});module.exports=o;
},{"../../geom/circle/Contains":"inZZ","../../utils/Class":"JASv","./const":"FWI5","../../geom/rectangle/Contains":"mjUt","../../math/Vector2":"qKN5"}],"EaXf":[function(require,module,exports) {
var e=require("./Body"),i=require("../../math/Clamp"),t=require("../../utils/Class"),r=require("./Collider"),s=require("./const"),o=require("../../math/distance/DistanceBetween"),l=require("eventemitter3"),a=require("./events"),n=require("../../math/fuzzy/Equal"),h=require("../../math/fuzzy/GreaterThan"),c=require("../../math/fuzzy/LessThan"),d=require("./GetOverlapX"),u=require("./GetOverlapY"),y=require("../../utils/object/GetValue"),p=require("../../structs/ProcessQueue"),m=require("./tilemap/ProcessTileCallbacks"),b=require("../../geom/rectangle/Rectangle"),v=require("../../structs/RTree"),f=require("./tilemap/SeparateTile"),g=require("./SeparateX"),x=require("./SeparateY"),C=require("../../structs/Set"),T=require("./StaticBody"),S=require("./tilemap/TileIntersectsBody"),w=require("../../gameobjects/components/TransformMatrix"),O=require("../../math/Vector2"),B=require("../../math/Wrap"),_=new t({Extends:l,initialize:function(e,i){l.call(this),this.scene=e,this.bodies=new C,this.staticBodies=new C,this.pendingDestroy=new C,this.colliders=new p,this.gravity=new O(y(i,"gravity.x",0),y(i,"gravity.y",0)),this.bounds=new b(y(i,"x",0),y(i,"y",0),y(i,"width",e.sys.scale.width),y(i,"height",e.sys.scale.height)),this.checkCollision={up:y(i,"checkCollision.up",!0),down:y(i,"checkCollision.down",!0),left:y(i,"checkCollision.left",!0),right:y(i,"checkCollision.right",!0)},this.fps=y(i,"fps",60),this.fixedStep=!0,this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=y(i,"timeScale",1),this.OVERLAP_BIAS=y(i,"overlapBias",4),this.TILE_BIAS=y(i,"tileBias",16),this.forceX=y(i,"forceX",!1),this.isPaused=y(i,"isPaused",!1),this._total=0,this.drawDebug=y(i,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:y(i,"debugShowBody",!0),debugShowStaticBody:y(i,"debugShowStaticBody",!0),debugShowVelocity:y(i,"debugShowVelocity",!0),bodyDebugColor:y(i,"debugBodyColor",16711935),staticBodyDebugColor:y(i,"debugStaticBodyColor",255),velocityDebugColor:y(i,"debugVelocityColor",65280)},this.maxEntries=y(i,"maxEntries",16),this.useTree=y(i,"useTree",!0),this.tree=new v(this.maxEntries),this.staticTree=new v(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new w,this._tempMatrix2=new w,this.drawDebug&&this.createDebugGraphic()},enable:function(e,i){void 0===i&&(i=s.DYNAMIC_BODY),Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var r=e[t];if(r.isParent)for(var o=r.getChildren(),l=0;l<o.length;l++){var a=o[l];a.isParent?this.enable(a,i):this.enableBody(a,i)}else this.enableBody(r,i)}},enableBody:function(i,t){return void 0===t&&(t=s.DYNAMIC_BODY),i.body||(t===s.DYNAMIC_BODY?i.body=new e(this,i):t===s.STATIC_BODY&&(i.body=new T(this,i))),this.add(i.body),i},add:function(e){return e.physicsType===s.DYNAMIC_BODY?this.bodies.set(e):e.physicsType===s.STATIC_BODY&&(this.staticBodies.set(e),this.staticTree.insert(e)),e.enable=!0,e},disable:function(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var t=e[i];if(t.isParent)for(var r=t.getChildren(),s=0;s<r.length;s++){var o=r[s];o.isParent?this.disable(o):this.disableBody(o.body)}else this.disableBody(t.body)}},disableBody:function(e){this.remove(e),e.enable=!1},remove:function(e){e.physicsType===s.DYNAMIC_BODY?(this.tree.remove(e),this.bodies.delete(e)):e.physicsType===s.STATIC_BODY&&(this.staticBodies.delete(e),this.staticTree.remove(e))},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},setBounds:function(e,i,t,r,s,o,l,a){return this.bounds.setTo(e,i,t,r),void 0!==s&&this.setBoundsCollision(s,o,l,a),this},setBoundsCollision:function(e,i,t,r){return void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===t&&(t=!0),void 0===r&&(r=!0),this.checkCollision.left=e,this.checkCollision.right=i,this.checkCollision.up=t,this.checkCollision.down=r,this},pause:function(){return this.isPaused=!0,this.emit(a.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(a.RESUME),this},addCollider:function(e,i,t,s,o){void 0===t&&(t=null),void 0===s&&(s=null),void 0===o&&(o=t);var l=new r(this,!1,e,i,t,s,o);return this.colliders.add(l),l},addOverlap:function(e,i,t,s,o){void 0===t&&(t=null),void 0===s&&(s=null),void 0===o&&(o=t);var l=new r(this,!0,e,i,t,s,o);return this.colliders.add(l),l},removeCollider:function(e){return this.colliders.remove(e),this},setFPS:function(e){return this.fps=e,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(e,i){if(!this.isPaused&&0!==this.bodies.size){var t,r,s=this._frameTime,o=this._frameTimeMS*this.timeScale;this._elapsed+=i;var l=this.bodies.entries,n=this._elapsed>=o;for(this.fixedStep||(s=.001*i,n=!0,this._elapsed=0),t=0;t<l.length;t++)(r=l[t]).enable&&r.preUpdate(n,s);if(n){this._elapsed-=o,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(l));var h=this.colliders.update();for(t=0;t<h.length;t++){var c=h[t];c.active&&c.update()}this.emit(a.WORLD_STEP)}for(;this._elapsed>=o;)this._elapsed-=o,this.step(s)}},step:function(e){var i,t,r=this.bodies.entries,s=r.length;for(i=0;i<s;i++)(t=r[i]).enable&&t.update(e);this.useTree&&(this.tree.clear(),this.tree.load(r));var o=this.colliders.update();for(i=0;i<o.length;i++){var l=o[i];l.active&&l.update()}this.emit(a.WORLD_STEP),this.stepsLastFrame++},postUpdate:function(){var e,i,t=this.bodies.entries,r=t.length,o=this.bodies,l=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,e=0;e<r;e++)(i=t[e]).enable&&i.postUpdate();if(this.drawDebug){var a=this.debugGraphic;for(a.clear(),e=0;e<r;e++)(i=t[e]).willDrawDebug()&&i.drawDebug(a);for(r=(t=l.entries).length,e=0;e<r;e++)(i=t[e]).willDrawDebug()&&i.drawDebug(a)}var n=this.pendingDestroy;if(n.size>0){var h=this.tree,c=this.staticTree;for(r=(t=n.entries).length,e=0;e<r;e++)(i=t[e]).physicsType===s.DYNAMIC_BODY?(h.remove(i),o.delete(i)):i.physicsType===s.STATIC_BODY&&(c.remove(i),l.delete(i)),i.world=void 0,i.gameObject=void 0;n.clear()}},updateMotion:function(e,i){e.allowRotation&&this.computeAngularVelocity(e,i),this.computeVelocity(e,i)},computeAngularVelocity:function(e,t){var r=e.angularVelocity,s=e.angularAcceleration,o=e.angularDrag,l=e.maxAngular;s?r+=s*t:e.allowDrag&&o&&(h(r-(o*=t),0,.1)?r-=o:c(r+o,0,.1)?r+=o:r=0);var a=(r=i(r,-l,l))-e.angularVelocity;e.angularVelocity+=a,e.rotation+=e.angularVelocity*t},computeVelocity:function(e,t){var r=e.velocity.x,s=e.acceleration.x,o=e.drag.x,l=e.maxVelocity.x,a=e.velocity.y,d=e.acceleration.y,u=e.drag.y,y=e.maxVelocity.y,p=e.speed,m=e.maxSpeed,b=e.allowDrag,v=e.useDamping;e.allowGravity&&(r+=(this.gravity.x+e.gravity.x)*t,a+=(this.gravity.y+e.gravity.y)*t),s?r+=s*t:b&&o&&(v?(r*=o,p=Math.sqrt(r*r+a*a),n(p,0,.001)&&(r=0)):h(r-(o*=t),0,.01)?r-=o:c(r+o,0,.01)?r+=o:r=0),d?a+=d*t:b&&u&&(v?(a*=u,p=Math.sqrt(r*r+a*a),n(p,0,.001)&&(a=0)):h(a-(u*=t),0,.01)?a-=u:c(a+u,0,.01)?a+=u:a=0),r=i(r,-l,l),a=i(a,-y,y),e.velocity.set(r,a),m>-1&&p>m&&(e.velocity.normalize().scale(m),p=m),e.speed=p},separate:function(e,i,t,r,s){if(!e.enable||!i.enable||e.checkCollision.none||i.checkCollision.none||!this.intersects(e,i))return!1;if(t&&!1===t.call(r,e.gameObject,i.gameObject))return!1;if(e.isCircle&&i.isCircle)return this.separateCircle(e,i,s);if(e.isCircle!==i.isCircle){var o=e.isCircle?i:e,l=e.isCircle?e:i,n={x:o.x,y:o.y,right:o.right,bottom:o.bottom},h=l.center;if((h.y<n.y||h.y>n.bottom)&&(h.x<n.x||h.x>n.right))return this.separateCircle(e,i,s)}var c=!1,d=!1;this.forceX||Math.abs(this.gravity.y+e.gravity.y)<Math.abs(this.gravity.x+e.gravity.x)?(c=g(e,i,s,this.OVERLAP_BIAS),this.intersects(e,i)&&(d=x(e,i,s,this.OVERLAP_BIAS))):(d=x(e,i,s,this.OVERLAP_BIAS),this.intersects(e,i)&&(c=g(e,i,s,this.OVERLAP_BIAS)));var u=c||d;return u&&(s?(e.onOverlap||i.onOverlap)&&this.emit(a.OVERLAP,e.gameObject,i.gameObject,e,i):(e.onCollide||i.onCollide)&&this.emit(a.COLLIDE,e.gameObject,i.gameObject,e,i)),u},separateCircle:function(e,i,t,r){d(e,i,!1,r),u(e,i,!1,r);var s=0;if(e.isCircle!==i.isCircle){var l={x:i.isCircle?e.position.x:i.position.x,y:i.isCircle?e.position.y:i.position.y,right:i.isCircle?e.right:i.right,bottom:i.isCircle?e.bottom:i.bottom},n={x:e.isCircle?e.center.x:i.center.x,y:e.isCircle?e.center.y:i.center.y,radius:e.isCircle?e.halfWidth:i.halfWidth};n.y<l.y?n.x<l.x?s=o(n.x,n.y,l.x,l.y)-n.radius:n.x>l.right&&(s=o(n.x,n.y,l.right,l.y)-n.radius):n.y>l.bottom&&(n.x<l.x?s=o(n.x,n.y,l.x,l.bottom)-n.radius:n.x>l.right&&(s=o(n.x,n.y,l.right,l.bottom)-n.radius)),s*=-1}else s=e.halfWidth+i.halfWidth-o(e.center.x,e.center.y,i.center.x,i.center.y);if(t||0===s||e.immovable&&i.immovable||e.customSeparateX||i.customSeparateX)return 0!==s&&(e.onOverlap||i.onOverlap)&&this.emit(a.OVERLAP,e.gameObject,i.gameObject,e,i),0!==s;var h=e.center.x-i.center.x,c=e.center.y-i.center.y,y=Math.sqrt(Math.pow(h,2)+Math.pow(c,2)),p=(i.center.x-e.center.x)/y||0,m=(i.center.y-e.center.y)/y||0,b=2*(e.velocity.x*p+e.velocity.y*m-i.velocity.x*p-i.velocity.y*m)/(e.mass+i.mass);e.immovable||(e.velocity.x=e.velocity.x-b*e.mass*p,e.velocity.y=e.velocity.y-b*e.mass*m),i.immovable||(i.velocity.x=i.velocity.x+b*i.mass*p,i.velocity.y=i.velocity.y+b*i.mass*m);var v=i.velocity.x-e.velocity.x,f=i.velocity.y-e.velocity.y,g=Math.atan2(f,v),x=this._frameTime;return e.immovable||i.immovable||(s/=2),e.immovable||(e.x+=e.velocity.x*x-s*Math.cos(g),e.y+=e.velocity.y*x-s*Math.sin(g)),i.immovable||(i.x+=i.velocity.x*x+s*Math.cos(g),i.y+=i.velocity.y*x+s*Math.sin(g)),e.velocity.x*=e.bounce.x,e.velocity.y*=e.bounce.y,i.velocity.x*=i.bounce.x,i.velocity.y*=i.bounce.y,(e.onCollide||i.onCollide)&&this.emit(a.COLLIDE,e.gameObject,i.gameObject,e,i),!0},intersects:function(e,i){return e!==i&&(e.isCircle||i.isCircle?e.isCircle?i.isCircle?o(e.center.x,e.center.y,i.center.x,i.center.y)<=e.halfWidth+i.halfWidth:this.circleBodyIntersects(e,i):this.circleBodyIntersects(i,e):!(e.right<=i.position.x||e.bottom<=i.position.y||e.position.x>=i.right||e.position.y>=i.bottom))},circleBodyIntersects:function(e,t){var r=i(e.center.x,t.left,t.right),s=i(e.center.y,t.top,t.bottom);return(e.center.x-r)*(e.center.x-r)+(e.center.y-s)*(e.center.y-s)<=e.halfWidth*e.halfWidth},overlap:function(e,i,t,r,s){return void 0===t&&(t=null),void 0===r&&(r=null),void 0===s&&(s=t),this.collideObjects(e,i,t,r,s,!0)},collide:function(e,i,t,r,s){return void 0===t&&(t=null),void 0===r&&(r=null),void 0===s&&(s=t),this.collideObjects(e,i,t,r,s,!1)},collideObjects:function(e,i,t,r,s,o){var l,a;e.isParent&&void 0===e.physicsType&&(e=e.children.entries),i&&i.isParent&&void 0===i.physicsType&&(i=i.children.entries);var n=Array.isArray(e),h=Array.isArray(i);if(this._total=0,n||h)if(!n&&h)for(l=0;l<i.length;l++)this.collideHandler(e,i[l],t,r,s,o);else if(n&&!h)if(i)for(l=0;l<e.length;l++)this.collideHandler(e[l],i,t,r,s,o);else for(l=0;l<e.length;l++){var c=e[l];for(a=l+1;a<e.length;a++)l!==a&&this.collideHandler(c,e[a],t,r,s,o)}else for(l=0;l<e.length;l++)for(a=0;a<i.length;a++)this.collideHandler(e[l],i[a],t,r,s,o);else this.collideHandler(e,i,t,r,s,o);return this._total>0},collideHandler:function(e,i,t,r,s,o){if(void 0===i&&e.isParent)return this.collideGroupVsGroup(e,e,t,r,s,o);if(!e||!i)return!1;if(e.body){if(i.body)return this.collideSpriteVsSprite(e,i,t,r,s,o);if(i.isParent)return this.collideSpriteVsGroup(e,i,t,r,s,o);if(i.isTilemap)return this.collideSpriteVsTilemapLayer(e,i,t,r,s,o)}else if(e.isParent){if(i.body)return this.collideSpriteVsGroup(i,e,t,r,s,o);if(i.isParent)return this.collideGroupVsGroup(e,i,t,r,s,o);if(i.isTilemap)return this.collideGroupVsTilemapLayer(e,i,t,r,s,o)}else if(e.isTilemap){if(i.body)return this.collideSpriteVsTilemapLayer(i,e,t,r,s,o);if(i.isParent)return this.collideGroupVsTilemapLayer(i,e,t,r,s,o)}},collideSpriteVsSprite:function(e,i,t,r,s,o){return!(!e.body||!i.body)&&(this.separate(e.body,i.body,r,s,o)&&(t&&t.call(s,e,i),this._total++),!0)},collideSpriteVsGroup:function(e,i,t,r,o,l){var a,n,h,c=e.body;if(0!==i.length&&c&&c.enable&&!c.checkCollision.none)if(this.useTree){var d=this.treeMinMax;d.minX=c.left,d.minY=c.top,d.maxX=c.right,d.maxY=c.bottom;var u=i.physicsType===s.DYNAMIC_BODY?this.tree.search(d):this.staticTree.search(d);for(n=u.length,a=0;a<n;a++)c!==(h=u[a])&&h.enable&&!h.checkCollision.none&&i.contains(h.gameObject)&&this.separate(c,h,r,o,l)&&(t&&t.call(o,c.gameObject,h.gameObject),this._total++)}else{var y=i.getChildren(),p=i.children.entries.indexOf(e);for(n=y.length,a=0;a<n;a++)(h=y[a].body)&&a!==p&&h.enable&&this.separate(c,h,r,o,l)&&(t&&t.call(o,c.gameObject,h.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(e,i,t,r,s,o){var l=e.getChildren();if(0===l.length)return!1;for(var a=!1,n=0;n<l.length;n++)l[n].body&&this.collideSpriteVsTilemapLayer(l[n],i,t,r,s,o)&&(a=!0);return a},collideTiles:function(e,i,t,r,s){return!(!e.body.enable||0===i.length)&&this.collideSpriteVsTilesHandler(e,i,t,r,s,!1,!1)},overlapTiles:function(e,i,t,r,s){return!(!e.body.enable||0===i.length)&&this.collideSpriteVsTilesHandler(e,i,t,r,s,!0,!1)},collideSpriteVsTilemapLayer:function(e,i,t,r,s,o){var l=e.body;if(!l.enable||l.checkCollision.none)return!1;var a=l.position.x,n=l.position.y,h=l.width,c=l.height,d=i.layer;if(d.tileWidth>d.baseTileWidth){var u=(d.tileWidth-d.baseTileWidth)*i.scaleX;a-=u,h+=u}d.tileHeight>d.baseTileHeight&&(c+=(d.tileHeight-d.baseTileHeight)*i.scaleY);var y=i.getTilesWithinWorldXY(a,n,h,c);return 0!==y.length&&this.collideSpriteVsTilesHandler(e,y,t,r,s,o,!0)},collideSpriteVsTilesHandler:function(e,i,t,r,s,o,l){for(var n,h,c=e.body,d={left:0,right:0,top:0,bottom:0},u=!1,y=0;y<i.length;y++)h=(n=i[y]).tilemapLayer,d.left=h.tileToWorldX(n.x),d.top=h.tileToWorldY(n.y),n.baseHeight!==n.height&&(d.top-=(n.height-n.baseHeight)*h.scaleY),d.right=d.left+n.width*h.scaleX,d.bottom=d.top+n.height*h.scaleY,S(d,c)&&(!r||r.call(s,e,n))&&m(n,e)&&(o||f(y,c,n,d,h,this.TILE_BIAS,l))&&(this._total++,u=!0,t&&t.call(s,e,n),o&&c.onOverlap?this.emit(a.TILE_OVERLAP,e,n,c):c.onCollide&&this.emit(a.TILE_COLLIDE,e,n,c));return u},collideGroupVsGroup:function(e,i,t,r,s,o){if(0!==e.length&&0!==i.length)for(var l=e.getChildren(),a=0;a<l.length;a++)this.collideSpriteVsGroup(l[a],i,t,r,s,o)},wrap:function(e,i){e.body?this.wrapObject(e,i):e.getChildren?this.wrapArray(e.getChildren(),i):Array.isArray(e)?this.wrapArray(e,i):this.wrapObject(e,i)},wrapArray:function(e,i){for(var t=0;t<e.length;t++)this.wrapObject(e[t],i)},wrapObject:function(e,i){void 0===i&&(i=0),e.x=B(e.x,this.bounds.left-i,this.bounds.right+i),e.y=B(e.y,this.bounds.top-i,this.bounds.bottom+i)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});module.exports=_;
},{"./Body":"gwNI","../../math/Clamp":"eCA1","../../utils/Class":"JASv","./Collider":"Upa6","./const":"FWI5","../../math/distance/DistanceBetween":"ovvS","eventemitter3":"JJlS","./events":"csuF","../../math/fuzzy/Equal":"mjnD","../../math/fuzzy/GreaterThan":"UunE","../../math/fuzzy/LessThan":"wdSg","./GetOverlapX":"WS1S","./GetOverlapY":"JFvb","../../utils/object/GetValue":"OqLI","../../structs/ProcessQueue":"zyEQ","./tilemap/ProcessTileCallbacks":"wjuU","../../geom/rectangle/Rectangle":"wYVB","../../structs/RTree":"eoRJ","./tilemap/SeparateTile":"YqIp","./SeparateX":"mYXi","./SeparateY":"xEeA","../../structs/Set":"qWkr","./StaticBody":"NZWW","./tilemap/TileIntersectsBody":"m4LE","../../gameobjects/components/TransformMatrix":"s0s4","../../math/Vector2":"qKN5","../../math/Wrap":"wXAg"}],"oHzV":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../../math/DegToRad"),s=require("../../math/distance/DistanceBetween"),i=require("../../math/distance/DistanceSquared"),o=require("./Factory"),r=require("../../utils/object/GetFastValue"),n=require("../../utils/object/Merge"),l=require("./components/OverlapCirc"),c=require("./components/OverlapRect"),d=require("../../plugins/PluginCache"),u=require("../../scene/events"),h=require("../../math/Vector2"),a=require("./World"),v=new e({initialize:function(e){this.scene=e,this.systems=e.sys,this.config=this.getConfig(),this.world,this.add,e.sys.events.once(u.BOOT,this.boot,this),e.sys.events.on(u.START,this.start,this)},boot:function(){this.world=new a(this.scene,this.config),this.add=new o(this.world),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new a(this.scene,this.config),this.add=new o(this.world));var e=this.systems.events;e.on(u.UPDATE,this.world.update,this.world),e.on(u.POST_UPDATE,this.world.postUpdate,this.world),e.once(u.SHUTDOWN,this.shutdown,this)},getConfig:function(){var e=this.systems.game.config.physics,t=this.systems.settings.physics;return n(r(t,"arcade",{}),r(e,"arcade",{}))},overlap:function(e,t,s,i,o){return void 0===s&&(s=null),void 0===i&&(i=null),void 0===o&&(o=s),this.world.collideObjects(e,t,s,i,o,!0)},collide:function(e,t,s,i,o){return void 0===s&&(s=null),void 0===i&&(i=null),void 0===o&&(o=s),this.world.collideObjects(e,t,s,i,o,!1)},collideTiles:function(e,t,s,i,o){return this.world.collideTiles(e,t,s,i,o)},overlapTiles:function(e,t,s,i,o){return this.world.overlapTiles(e,t,s,i,o)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(e,t,s,i,o,r){void 0===i&&(i=60);var n=Math.atan2(s-e.y,t-e.x);return e.body.acceleration.setToPolar(n,i),void 0!==o&&void 0!==r&&e.body.maxVelocity.set(o,r),n},accelerateToObject:function(e,t,s,i,o){return this.accelerateTo(e,t.x,t.y,s,i,o)},closest:function(e,t){t||(t=this.world.bodies.entries);for(var s=Number.MAX_VALUE,o=null,r=e.x,n=e.y,l=t.length,c=0;c<l;c++){var d=t[c],u=d.body||d;if(e!==d&&e!==u&&e!==u.gameObject&&e!==u.center){var h=i(r,n,u.center.x,u.center.y);h<s&&(o=d,s=h)}}return o},furthest:function(e,t){t||(t=this.world.bodies.entries);for(var s=-1,o=null,r=e.x,n=e.y,l=t.length,c=0;c<l;c++){var d=t[c],u=d.body||d;if(e!==d&&e!==u&&e!==u.gameObject&&e!==u.center){var h=i(r,n,u.center.x,u.center.y);h>s&&(o=d,s=h)}}return o},moveTo:function(e,t,i,o,r){void 0===o&&(o=60),void 0===r&&(r=0);var n=Math.atan2(i-e.y,t-e.x);return r>0&&(o=s(e.x,e.y,t,i)/(r/1e3)),e.body.velocity.setToPolar(n,o),n},moveToObject:function(e,t,s,i){return this.moveTo(e,t.x,t.y,s,i)},velocityFromAngle:function(e,s,i){return void 0===s&&(s=60),void 0===i&&(i=new h),i.setToPolar(t(e),s)},velocityFromRotation:function(e,t,s){return void 0===t&&(t=60),void 0===s&&(s=new h),s.setToPolar(e,t)},overlapRect:function(e,t,s,i,o,r){return c(this.world,e,t,s,i,o,r)},overlapCirc:function(e,t,s,i,o){return l(this.world,e,t,s,i,o)},shutdown:function(){if(this.world){var e=this.systems.events;e.off(u.UPDATE,this.world.update,this.world),e.off(u.POST_UPDATE,this.world.postUpdate,this.world),e.off(u.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});d.register("ArcadePhysics",v,"arcadePhysics"),module.exports=v;
},{"../../utils/Class":"JASv","../../math/DegToRad":"VYZO","../../math/distance/DistanceBetween":"ovvS","../../math/distance/DistanceSquared":"OAF7","./Factory":"Hlve","../../utils/object/GetFastValue":"cEup","../../utils/object/Merge":"NXFV","./components/OverlapCirc":"oRz8","./components/OverlapRect":"Um7c","../../plugins/PluginCache":"ZrqD","../../scene/events":"zvkO","../../math/Vector2":"qKN5","./World":"EaXf"}],"Waxg":[function(require,module,exports) {
var e=require("./const"),r=require("../../utils/object/Extend"),i={ArcadePhysics:require("./ArcadePhysics"),Body:require("./Body"),Collider:require("./Collider"),Components:require("./components"),Events:require("./events"),Factory:require("./Factory"),Group:require("./PhysicsGroup"),Image:require("./ArcadeImage"),Sprite:require("./ArcadeSprite"),StaticBody:require("./StaticBody"),StaticGroup:require("./StaticPhysicsGroup"),World:require("./World")};i=r(!1,i,e),module.exports=i;
},{"./const":"FWI5","../../utils/object/Extend":"SFmW","./ArcadePhysics":"oHzV","./Body":"gwNI","./Collider":"Upa6","./components":"rtKR","./events":"csuF","./Factory":"Hlve","./PhysicsGroup":"GovP","./ArcadeImage":"xNJw","./ArcadeSprite":"EKCX","./StaticBody":"NZWW","./StaticPhysicsGroup":"xy7Y","./World":"EaXf"}],"SEOU":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../../math/Vector2"),n=new e({initialize:function(){this.boundsCenter=new t,this.centerDiff=new t},parseBody:function(e){if(!(e=e.hasOwnProperty("body")?e.body:e).hasOwnProperty("bounds")||!e.hasOwnProperty("centerOfMass"))return!1;var t=this.boundsCenter,n=this.centerDiff,r=e.bounds.max.x-e.bounds.min.x,i=e.bounds.max.y-e.bounds.min.y,o=r*e.centerOfMass.x,s=i*e.centerOfMass.y;return t.set(r/2,i/2),n.set(o-t.x,s-t.y),!0},getTopLeft:function(e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=0),this.parseBody(e)){var i=this.boundsCenter,o=this.centerDiff;return new t(n+i.x+o.x,r+i.y+o.y)}return!1},getTopCenter:function(e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=0),this.parseBody(e)){var i=this.boundsCenter,o=this.centerDiff;return new t(n+o.x,r+i.y+o.y)}return!1},getTopRight:function(e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=0),this.parseBody(e)){var i=this.boundsCenter,o=this.centerDiff;return new t(n-(i.x-o.x),r+i.y+o.y)}return!1},getLeftCenter:function(e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=0),this.parseBody(e)){var i=this.boundsCenter,o=this.centerDiff;return new t(n+i.x+o.x,r+o.y)}return!1},getCenter:function(e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=0),this.parseBody(e)){var i=this.centerDiff;return new t(n+i.x,r+i.y)}return!1},getRightCenter:function(e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=0),this.parseBody(e)){var i=this.boundsCenter,o=this.centerDiff;return new t(n-(i.x-o.x),r+o.y)}return!1},getBottomLeft:function(e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=0),this.parseBody(e)){var i=this.boundsCenter,o=this.centerDiff;return new t(n+i.x+o.x,r-(i.y-o.y))}return!1},getBottomCenter:function(e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=0),this.parseBody(e)){var i=this.boundsCenter,o=this.centerDiff;return new t(n+o.x,r-(i.y-o.y))}return!1},getBottomRight:function(e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=0),this.parseBody(e)){var i=this.boundsCenter,o=this.centerDiff;return new t(n-(i.x-o.x),r-(i.y-o.y))}return!1}});module.exports=n;
},{"../../utils/Class":"JASv","../../math/Vector2":"qKN5"}],"SoZW":[function(require,module,exports) {
var n={};module.exports=n,n.create=function(n,t){return{x:n||0,y:t||0}},n.clone=function(n){return{x:n.x,y:n.y}},n.magnitude=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},n.magnitudeSquared=function(n){return n.x*n.x+n.y*n.y},n.rotate=function(n,t,r){var e=Math.cos(t),x=Math.sin(t);r||(r={});var y=n.x*e-n.y*x;return r.y=n.x*x+n.y*e,r.x=y,r},n.rotateAbout=function(n,t,r,e){var x=Math.cos(t),y=Math.sin(t);e||(e={});var u=r.x+((n.x-r.x)*x-(n.y-r.y)*y);return e.y=r.y+((n.x-r.x)*y+(n.y-r.y)*x),e.x=u,e},n.normalise=function(t){var r=n.magnitude(t);return 0===r?{x:0,y:0}:{x:t.x/r,y:t.y/r}},n.dot=function(n,t){return n.x*t.x+n.y*t.y},n.cross=function(n,t){return n.x*t.y-n.y*t.x},n.cross3=function(n,t,r){return(t.x-n.x)*(r.y-n.y)-(t.y-n.y)*(r.x-n.x)},n.add=function(n,t,r){return r||(r={}),r.x=n.x+t.x,r.y=n.y+t.y,r},n.sub=function(n,t,r){return r||(r={}),r.x=n.x-t.x,r.y=n.y-t.y,r},n.mult=function(n,t){return{x:n.x*t,y:n.y*t}},n.div=function(n,t){return{x:n.x/t,y:n.y/t}},n.perp=function(n,t){return{x:(t=!0===t?-1:1)*-n.y,y:t*n.x}},n.neg=function(n){return{x:-n.x,y:-n.y}},n.angle=function(n,t){return Math.atan2(t.y-n.y,t.x-n.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()];
},{}],"lVTS":[function(require,module,exports) {
var n={};module.exports=n,function(){n._nextId=0,n._seed=0,n._nowStartTime=+new Date,n.extend=function(e,t){var r,o;"boolean"==typeof t?(r=2,o=t):(r=1,o=!0);for(var c=r;c<arguments.length;c++){var i=arguments[c];if(i)for(var a in i)o&&i[a]&&i[a].constructor===Object?e[a]&&e[a].constructor!==Object?e[a]=i[a]:(e[a]=e[a]||{},n.extend(e[a],o,i[a])):e[a]=i[a]}return e},n.clone=function(e,t){return n.extend({},t,e)},n.keys=function(n){if(Object.keys)return Object.keys(n);var e=[];for(var t in n)e.push(t);return e},n.values=function(n){var e=[];if(Object.keys){for(var t=Object.keys(n),r=0;r<t.length;r++)e.push(n[t[r]]);return e}for(var o in n)e.push(n[o]);return e},n.get=function(n,e,t,r){e=e.split(".").slice(t,r);for(var o=0;o<e.length;o+=1)n=n[e[o]];return n},n.set=function(e,t,r,o,c){var i=t.split(".").slice(o,c);return n.get(e,t,0,-1)[i[i.length-1]]=r,r},n.shuffle=function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(n.random()*(t+1)),o=e[t];e[t]=e[r],e[r]=o}return e},n.choose=function(e){return e[Math.floor(n.random()*e.length)]},n.isElement=function(n){return"undefined"!=typeof HTMLElement?n instanceof HTMLElement:!!(n&&n.nodeType&&n.nodeName)},n.isArray=function(n){return"[object Array]"===Object.prototype.toString.call(n)},n.isFunction=function(n){return"function"==typeof n},n.isPlainObject=function(n){return"object"==typeof n&&n.constructor===Object},n.isString=function(n){return"[object String]"===Object.prototype.toString.call(n)},n.clamp=function(n,e,t){return n<e?e:n>t?t:n},n.sign=function(n){return n<0?-1:1},n.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-n._nowStartTime},n.random=function(n,t){return t=void 0!==t?t:1,(n=void 0!==n?n:0)+e()*(t-n)};var e=function(){return n._seed=(9301*n._seed+49297)%233280,n._seed/233280};n.colorToNumber=function(n){return 3==(n=n.replace("#","")).length&&(n=n.charAt(0)+n.charAt(0)+n.charAt(1)+n.charAt(1)+n.charAt(2)+n.charAt(2)),parseInt(n,16)},n.logLevel=1,n.log=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.info=function(){console&&n.logLevel>0&&n.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warn=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.nextId=function(){return n._nextId++},n.indexOf=function(n,e){if(n.indexOf)return n.indexOf(e);for(var t=0;t<n.length;t++)if(n[t]===e)return t;return-1},n.map=function(n,e){if(n.map)return n.map(e);for(var t=[],r=0;r<n.length;r+=1)t.push(e(n[r]));return t},n.topologicalSort=function(e){var t=[],r=[],o=[];for(var c in e)r[c]||o[c]||n._topologicalSort(c,r,o,e,t);return t},n._topologicalSort=function(e,t,r,o,c){var i=o[e]||[];r[e]=!0;for(var a=0;a<i.length;a+=1){var u=i[a];r[u]||(t[u]||n._topologicalSort(u,t,r,o,c))}r[e]=!1,t[e]=!0,c.push(e)},n.chain=function(){for(var n=[],e=0;e<arguments.length;e+=1){var t=arguments[e];t._chained?n.push.apply(n,t._chained):n.push(t)}var r=function(){for(var e,t=new Array(arguments.length),r=0,o=arguments.length;r<o;r++)t[r]=arguments[r];for(r=0;r<n.length;r+=1){var c=n[r].apply(e,t);void 0!==c&&(e=c)}return e};return r._chained=n,r},n.chainPathBefore=function(e,t,r){return n.set(e,t,n.chain(r,n.get(e,t)))},n.chainPathAfter=function(e,t,r){return n.set(e,t,n.chain(n.get(e,t),r))}}();
},{}],"JhJa":[function(require,module,exports) {
var r={};module.exports=r;var t=require("../geometry/Vector"),n=require("../core/Common");r.create=function(r,t){for(var n=[],e=0;e<r.length;e++){var o=r[e],a={x:o.x,y:o.y,index:e,body:t,isInternal:!1,contact:null,offset:null};a.contact={vertex:a,normalImpulse:0,tangentImpulse:0},n.push(a)}return n},r.fromPath=function(t,n){var e=[];return t.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,function(r,t,n){e.push({x:parseFloat(t),y:parseFloat(n)})}),r.create(e,n)},r.centre=function(n){for(var e,o,a,l=r.area(n,!0),u={x:0,y:0},f=0;f<n.length;f++)a=(f+1)%n.length,e=t.cross(n[f],n[a]),o=t.mult(t.add(n[f],n[a]),e),u=t.add(u,o);return t.div(u,6*l)},r.mean=function(r){for(var n={x:0,y:0},e=0;e<r.length;e++)n.x+=r[e].x,n.y+=r[e].y;return t.div(n,r.length)},r.area=function(r,t){for(var n=0,e=r.length-1,o=0;o<r.length;o++)n+=(r[e].x-r[o].x)*(r[e].y+r[o].y),e=o;return t?n/2:Math.abs(n)/2},r.inertia=function(r,n){for(var e,o,a=0,l=0,u=r,f=0;f<u.length;f++)o=(f+1)%u.length,a+=(e=Math.abs(t.cross(u[o],u[f])))*(t.dot(u[o],u[o])+t.dot(u[o],u[f])+t.dot(u[f],u[f])),l+=e;return n/6*(a/l)},r.translate=function(r,t,n){var e;if(n)for(e=0;e<r.length;e++)r[e].x+=t.x*n,r[e].y+=t.y*n;else for(e=0;e<r.length;e++)r[e].x+=t.x,r[e].y+=t.y;return r},r.rotate=function(r,t,n){if(0!==t){for(var e=Math.cos(t),o=Math.sin(t),a=0;a<r.length;a++){var l=r[a],u=l.x-n.x,f=l.y-n.y;l.x=n.x+(u*e-f*o),l.y=n.y+(u*o+f*e)}return r}},r.contains=function(r,t){for(var n=0;n<r.length;n++){var e=r[n],o=r[(n+1)%r.length];if((t.x-e.x)*(o.y-e.y)+(t.y-e.y)*(e.x-o.x)>0)return!1}return!0},r.scale=function(n,e,o,a){if(1===e&&1===o)return n;var l,u;a=a||r.centre(n);for(var f=0;f<n.length;f++)l=n[f],u=t.sub(l,a),n[f].x=a.x+u.x*e,n[f].y=a.y+u.y*o;return n},r.chamfer=function(r,e,o,a,l){e="number"==typeof e?[e]:e||[8],o=void 0!==o?o:-1,a=a||2,l=l||14;for(var u=[],f=0;f<r.length;f++){var h=r[f-1>=0?f-1:r.length-1],c=r[f],s=r[(f+1)%r.length],i=e[f<e.length?f:e.length-1];if(0!==i){var x=t.normalise({x:c.y-h.y,y:h.x-c.x}),y=t.normalise({x:s.y-c.y,y:c.x-s.x}),g=Math.sqrt(2*Math.pow(i,2)),v=t.mult(n.clone(x),i),p=t.normalise(t.mult(t.add(x,y),.5)),d=t.sub(c,t.mult(p,g)),m=o;-1===o&&(m=1.75*Math.pow(i,.32)),(m=n.clamp(m,a,l))%2==1&&(m+=1);for(var M=Math.acos(t.dot(x,y))/m,b=0;b<m;b++)u.push(t.add(t.rotate(v,M*b),d))}else u.push(c)}return u},r.clockwiseSort=function(n){var e=r.mean(n);return n.sort(function(r,n){return t.angle(e,r)-t.angle(e,n)}),n},r.isConvex=function(r){var t,n,e,o,a=0,l=r.length;if(l<3)return null;for(t=0;t<l;t++)if(e=(t+2)%l,o=(r[n=(t+1)%l].x-r[t].x)*(r[e].y-r[n].y),(o-=(r[n].y-r[t].y)*(r[e].x-r[n].x))<0?a|=1:o>0&&(a|=2),3===a)return!1;return 0!==a||null},r.hull=function(r){var n,e,o=[],a=[];for((r=r.slice(0)).sort(function(r,t){var n=r.x-t.x;return 0!==n?n:r.y-t.y}),e=0;e<r.length;e+=1){for(n=r[e];a.length>=2&&t.cross3(a[a.length-2],a[a.length-1],n)<=0;)a.pop();a.push(n)}for(e=r.length-1;e>=0;e-=1){for(n=r[e];o.length>=2&&t.cross3(o[o.length-2],o[o.length-1],n)<=0;)o.pop();o.push(n)}return o.pop(),a.pop(),o.concat(a)};
},{"../geometry/Vector":"SoZW","../core/Common":"lVTS"}],"spdM":[function(require,module,exports) {
var e={};module.exports=e;var n=require("./Common");e.on=function(e,n,t){for(var r,s=n.split(" "),o=0;o<s.length;o++)r=s[o],e.events=e.events||{},e.events[r]=e.events[r]||[],e.events[r].push(t);return t},e.off=function(e,t,r){if(t){"function"==typeof t&&(r=t,t=n.keys(e.events).join(" "));for(var s=t.split(" "),o=0;o<s.length;o++){var v=e.events[s[o]],f=[];if(r&&v)for(var i=0;i<v.length;i++)v[i]!==r&&f.push(v[i]);e.events[s[o]]=f}}else e.events={}},e.trigger=function(e,t,r){var s,o,v,f,i=e.events;if(i&&n.keys(i).length>0){r||(r={}),s=t.split(" ");for(var l=0;l<s.length;l++)if(v=i[o=s[l]]){(f=n.clone(r,!1)).name=o,f.source=e;for(var a=0;a<v.length;a++)v[a].apply(e,[f])}}};
},{"./Common":"lVTS"}],"zP33":[function(require,module,exports) {
var e={};module.exports=e;var i=require("./Events");e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(i,o){for(var s=o*o*o,n=0;n<i.length;n++){var t=i[n],r=t.speed*t.speed+t.angularSpeed*t.angularSpeed;if(0===t.force.x&&0===t.force.y){var l=Math.min(t.motion,r),p=Math.max(t.motion,r);t.motion=e._minBias*l+(1-e._minBias)*p,t.sleepThreshold>0&&t.motion<e._motionSleepThreshold*s?(t.sleepCounter+=1,t.sleepCounter>=t.sleepThreshold&&e.set(t,!0)):t.sleepCounter>0&&(t.sleepCounter-=1)}else e.set(t,!1)}},e.afterCollisions=function(i,o){for(var s=o*o*o,n=0;n<i.length;n++){var t=i[n];if(t.isActive){var r=t.collision,l=r.bodyA.parent,p=r.bodyB.parent;if(!(l.isSleeping&&p.isSleeping||l.isStatic||p.isStatic)&&(l.isSleeping||p.isSleeping)){var a=l.isSleeping&&!l.isStatic?l:p,g=a===l?p:l;!a.isStatic&&g.motion>e._motionWakeThreshold*s&&e.set(a,!1)}}}},e.set=function(e,o){var s=e.isSleeping;o?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,s||i.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,s&&i.trigger(e,"sleepEnd"))};
},{"./Events":"spdM"}],"DuOH":[function(require,module,exports) {
var x={};module.exports=x,x.create=function(m){var n={min:{x:0,y:0},max:{x:0,y:0}};return m&&x.update(n,m),n},x.update=function(x,m,n){x.min.x=1/0,x.max.x=-1/0,x.min.y=1/0,x.max.y=-1/0;for(var y=0;y<m.length;y++){var a=m[y];a.x>x.max.x&&(x.max.x=a.x),a.x<x.min.x&&(x.min.x=a.x),a.y>x.max.y&&(x.max.y=a.y),a.y<x.min.y&&(x.min.y=a.y)}n&&(n.x>0?x.max.x+=n.x:x.min.x+=n.x,n.y>0?x.max.y+=n.y:x.min.y+=n.y)},x.contains=function(x,m){return m.x>=x.min.x&&m.x<=x.max.x&&m.y>=x.min.y&&m.y<=x.max.y},x.overlaps=function(x,m){return x.min.x<=m.max.x&&x.max.x>=m.min.x&&x.max.y>=m.min.y&&x.min.y<=m.max.y},x.translate=function(x,m){x.min.x+=m.x,x.max.x+=m.x,x.min.y+=m.y,x.max.y+=m.y},x.shift=function(x,m){var n=x.max.x-x.min.x,y=x.max.y-x.min.y;x.min.x=m.x,x.max.x=m.x+n,x.min.y=m.y,x.max.y=m.y+y};
},{}],"AlFY":[function(require,module,exports) {
var r={};module.exports=r;var e=require("../geometry/Vector"),o=require("../core/Common");r.fromVertices=function(r){for(var t={},n=0;n<r.length;n++){var a=(n+1)%r.length,i=e.normalise({x:r[a].y-r[n].y,y:r[n].x-r[a].x}),x=0===i.y?1/0:i.x/i.y;t[x=x.toFixed(3).toString()]=i}return o.values(t)},r.rotate=function(r,e){if(0!==e)for(var o=Math.cos(e),t=Math.sin(e),n=0;n<r.length;n++){var a,i=r[n];a=i.x*o-i.y*t,i.y=i.x*t+i.y*o,i.x=a}};
},{"../geometry/Vector":"SoZW","../core/Common":"lVTS"}],"ZQ7a":[function(require,module,exports) {
var e={};module.exports=e;var i=require("../geometry/Vertices"),t=require("../geometry/Vector"),n=require("../core/Sleeping"),s=require("../core/Common"),r=require("../geometry/Bounds"),a=require("../geometry/Axes");!function(){e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e.create=function(e){var t={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!e.hasOwnProperty("position")&&e.hasOwnProperty("vertices")?e.position=i.centre(e.vertices):e.hasOwnProperty("vertices")||(t.vertices=i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var n=s.extend(t,e);return o(n,e),n.setOnCollideWith=function(e,i){return i?this.onCollideWith[e.id]=i:delete this.onCollideWith[e.id],this},n},e.nextGroup=function(i){return i?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var o=function(n,s){s=s||{},e.set(n,{bounds:n.bounds||r.create(n.vertices),positionPrev:n.positionPrev||t.clone(n.position),anglePrev:n.anglePrev||n.angle,vertices:n.vertices,parts:n.parts||[n],isStatic:n.isStatic,isSleeping:n.isSleeping,parent:n.parent||n});var o=n.bounds;if(i.rotate(n.vertices,n.angle,n.position),a.rotate(n.axes,n.angle),r.update(o,n.vertices,n.velocity),e.set(n,{axes:s.axes||n.axes,area:s.area||n.area,mass:s.mass||n.mass,inertia:s.inertia||n.inertia}),1===n.parts.length){var l=n.centerOfMass,c=n.centerOffset,p=o.max.x-o.min.x,y=o.max.y-o.min.y;l.x=-(o.min.x-n.position.x)/p,l.y=-(o.min.y-n.position.y)/y,c.x=p*l.x,c.y=y*l.y}};e.set=function(i,t,s){var r;for(r in"string"==typeof t&&(r=t,(t={})[r]=s),t)if(Object.prototype.hasOwnProperty.call(t,r))switch(s=t[r],r){case"isStatic":e.setStatic(i,s);break;case"isSleeping":n.set(i,s);break;case"mass":e.setMass(i,s);break;case"density":e.setDensity(i,s);break;case"inertia":e.setInertia(i,s);break;case"vertices":e.setVertices(i,s);break;case"position":e.setPosition(i,s);break;case"angle":e.setAngle(i,s);break;case"velocity":e.setVelocity(i,s);break;case"angularVelocity":e.setAngularVelocity(i,s);break;case"parts":e.setParts(i,s);break;case"centre":e.setCentre(i,s);break;default:i[r]=s}},e.setStatic=function(e,i){for(var t=0;t<e.parts.length;t++){var n=e.parts[t];n.isStatic=i,i?(n._original={restitution:n.restitution,friction:n.friction,mass:n.mass,inertia:n.inertia,density:n.density,inverseMass:n.inverseMass,inverseInertia:n.inverseInertia},n.restitution=0,n.friction=1,n.mass=n.inertia=n.density=1/0,n.inverseMass=n.inverseInertia=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.angularVelocity=0,n.speed=0,n.angularSpeed=0,n.motion=0):n._original&&(n.restitution=n._original.restitution,n.friction=n._original.friction,n.mass=n._original.mass,n.inertia=n._original.inertia,n.density=n._original.density,n.inverseMass=n._original.inverseMass,n.inverseInertia=n._original.inverseInertia,n._original=null)}},e.setMass=function(e,i){var t=e.inertia/(e.mass/6);e.inertia=t*(i/6),e.inverseInertia=1/e.inertia,e.mass=i,e.inverseMass=1/e.mass,e.density=e.mass/e.area},e.setDensity=function(i,t){e.setMass(i,t*i.area),i.density=t},e.setInertia=function(e,i){e.inertia=i,e.inverseInertia=1/e.inertia},e.setVertices=function(t,n){n[0].body===t?t.vertices=n:t.vertices=i.create(n,t),t.axes=a.fromVertices(t.vertices),t.area=i.area(t.vertices),e.setMass(t,t.density*t.area);var s=i.centre(t.vertices);i.translate(t.vertices,s,-1),e.setInertia(t,e._inertiaScale*i.inertia(t.vertices,t.mass)),i.translate(t.vertices,t.position),r.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,n,s){var a;for(n=n.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,a=0;a<n.length;a++){var o=n[a];o!==t&&(o.parent=t,t.parts.push(o))}if(1!==t.parts.length){if(s=void 0===s||s){var l=[];for(a=0;a<n.length;a++)l=l.concat(n[a].vertices);i.clockwiseSort(l);var c=i.hull(l),p=i.centre(c);e.setVertices(t,c),i.translate(t.vertices,p)}var y=e._totalProperties(t),v=y.centre.x,u=y.centre.y,x=t.bounds,g=t.centerOfMass,d=t.centerOffset;r.update(x,t.vertices,t.velocity),g.x=-(x.min.x-v)/(x.max.x-x.min.x),g.y=-(x.min.y-u)/(x.max.y-x.min.y),d.x=v,d.y=u,t.area=y.area,t.parent=t,t.position.x=v,t.position.y=u,t.positionPrev.x=v,t.positionPrev.y=u,e.setMass(t,y.mass),e.setInertia(t,y.inertia),e.setPosition(t,y.centre)}},e.setCentre=function(e,i,t){t?(e.positionPrev.x+=i.x,e.positionPrev.y+=i.y,e.position.x+=i.x,e.position.y+=i.y):(e.positionPrev.x=i.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=i.y-(e.position.y-e.positionPrev.y),e.position.x=i.x,e.position.y=i.y)},e.setPosition=function(e,n){var s=t.sub(n,e.position);e.positionPrev.x+=s.x,e.positionPrev.y+=s.y;for(var a=0;a<e.parts.length;a++){var o=e.parts[a];o.position.x+=s.x,o.position.y+=s.y,i.translate(o.vertices,s),r.update(o.bounds,o.vertices,e.velocity)}},e.setAngle=function(e,n){var s=n-e.angle;e.anglePrev+=s;for(var o=0;o<e.parts.length;o++){var l=e.parts[o];l.angle+=s,i.rotate(l.vertices,s,e.position),a.rotate(l.axes,s),r.update(l.bounds,l.vertices,e.velocity),o>0&&t.rotateAbout(l.position,s,e.position,l.position)}},e.setVelocity=function(e,i){e.positionPrev.x=e.position.x-i.x,e.positionPrev.y=e.position.y-i.y,e.velocity.x=i.x,e.velocity.y=i.y,e.speed=t.magnitude(e.velocity)},e.setAngularVelocity=function(e,i){e.anglePrev=e.angle-i,e.angularVelocity=i,e.angularSpeed=Math.abs(e.angularVelocity)},e.translate=function(i,n){e.setPosition(i,t.add(i.position,n))},e.rotate=function(i,t,n){if(n){var s=Math.cos(t),r=Math.sin(t),a=i.position.x-n.x,o=i.position.y-n.y;e.setPosition(i,{x:n.x+(a*s-o*r),y:n.y+(a*r+o*s)}),e.setAngle(i,i.angle+t)}else e.setAngle(i,i.angle+t)},e.scale=function(t,n,s,o){var l=0,c=0;o=o||t.position;for(var p=0;p<t.parts.length;p++){var y=t.parts[p];y.scale.x=n,y.scale.y=s,i.scale(y.vertices,n,s,o),y.axes=a.fromVertices(y.vertices),y.area=i.area(y.vertices),e.setMass(y,t.density*y.area),i.translate(y.vertices,{x:-y.position.x,y:-y.position.y}),e.setInertia(y,e._inertiaScale*i.inertia(y.vertices,y.mass)),i.translate(y.vertices,{x:y.position.x,y:y.position.y}),p>0&&(l+=y.area,c+=y.inertia),y.position.x=o.x+(y.position.x-o.x)*n,y.position.y=o.y+(y.position.y-o.y)*s,r.update(y.bounds,y.vertices,t.velocity)}t.parts.length>1&&(t.area=l,t.isStatic||(e.setMass(t,t.density*l),e.setInertia(t,c))),t.circleRadius&&(n===s?t.circleRadius*=n:t.circleRadius=null)},e.update=function(e,n,s,o){var l=Math.pow(n*s*e.timeScale,2),c=1-e.frictionAir*s*e.timeScale,p=e.position.x-e.positionPrev.x,y=e.position.y-e.positionPrev.y;e.velocity.x=p*c*o+e.force.x/e.mass*l,e.velocity.y=y*c*o+e.force.y/e.mass*l,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.angularVelocity=(e.angle-e.anglePrev)*c*o+e.torque/e.inertia*l,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=t.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var v=0;v<e.parts.length;v++){var u=e.parts[v];i.translate(u.vertices,e.velocity),v>0&&(u.position.x+=e.velocity.x,u.position.y+=e.velocity.y),0!==e.angularVelocity&&(i.rotate(u.vertices,e.angularVelocity,e.position),a.rotate(u.axes,e.angularVelocity),v>0&&t.rotateAbout(u.position,e.angularVelocity,e.position,u.position)),r.update(u.bounds,u.vertices,e.velocity)}},e.applyForce=function(e,i,t){e.force.x+=t.x,e.force.y+=t.y;var n=i.x-e.position.x,s=i.y-e.position.y;e.torque+=n*t.y-s*t.x},e._totalProperties=function(e){for(var i={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===e.parts.length?0:1;n<e.parts.length;n++){var s=e.parts[n],r=s.mass!==1/0?s.mass:1;i.mass+=r,i.area+=s.area,i.inertia+=s.inertia,i.centre=t.add(i.centre,t.mult(s.position,r))}return i.centre=t.div(i.centre,i.mass),i}}();
},{"../geometry/Vertices":"JhJa","../geometry/Vector":"SoZW","../core/Sleeping":"zP33","../core/Common":"lVTS","../geometry/Bounds":"DuOH","../geometry/Axes":"AlFY"}],"NmAR":[function(require,module,exports) {
function r(r,n,t){t=t||0;var e,u,f,o,i,h,l,a=[0,0];return e=r[1][1]-r[0][1],u=r[0][0]-r[1][0],f=e*r[0][0]+u*r[0][1],o=n[1][1]-n[0][1],i=n[0][0]-n[1][0],h=o*n[0][0]+i*n[0][1],U(l=e*i-o*u,0,t)||(a[0]=(i*f-u*h)/l,a[1]=(e*h-o*f)/l),a}function n(r,n,t,e){var u=n[0]-r[0],f=n[1]-r[1],o=e[0]-t[0],i=e[1]-t[1];if(o*f-i*u==0)return!1;var h=(u*(t[1]-r[1])+f*(r[0]-t[0]))/(o*f-i*u),l=(o*(r[1]-t[1])+i*(t[0]-r[0]))/(i*u-o*f);return h>=0&&h<=1&&l>=0&&l<=1}function t(r,n,t){return(n[0]-r[0])*(t[1]-r[1])-(t[0]-r[0])*(n[1]-r[1])}function e(r,n,e){return t(r,n,e)>0}function u(r,n,e){return t(r,n,e)>=0}function f(r,n,e){return t(r,n,e)<0}function o(r,n,e){return t(r,n,e)<=0}module.exports={decomp:x,quickDecomp:E,isSimple:C,removeCollinearPoints:L,removeDuplicatePoints:N,makeCCW:s};var i=[],h=[];function l(r,n,e,u){if(u){var f=i,o=h;f[0]=n[0]-r[0],f[1]=n[1]-r[1],o[0]=e[0]-n[0],o[1]=e[1]-n[1];var l=f[0]*o[0]+f[1]*o[1],a=Math.sqrt(f[0]*f[0]+f[1]*f[1]),c=Math.sqrt(o[0]*o[0]+o[1]*o[1]);return Math.acos(l/(a*c))<u}return 0===t(r,n,e)}function a(r,n){var t=n[0]-r[0],e=n[1]-r[1];return t*t+e*e}function c(r,n){var t=r.length;return r[n<0?n%t+t:n%t]}function g(r){r.length=0}function v(r,n,t,e){for(var u=t;u<e;u++)r.push(n[u])}function s(r){for(var n=0,t=r,u=1;u<r.length;++u)(t[u][1]<t[n][1]||t[u][1]===t[n][1]&&t[u][0]>t[n][0])&&(n=u);return!e(c(r,n-1),c(r,n),c(r,n+1))&&(p(r),!0)}function p(r){for(var n=[],t=r.length,e=0;e!==t;e++)n.push(r.pop());for(e=0;e!==t;e++)r[e]=n[e]}function m(r,n){return f(c(r,n-1),c(r,n),c(r,n+1))}var A=[],M=[];function d(n,t,e){var f,i,h=A,l=M;if(u(c(n,t+1),c(n,t),c(n,e))&&o(c(n,t-1),c(n,t),c(n,e)))return!1;i=a(c(n,t),c(n,e));for(var g=0;g!==n.length;++g)if((g+1)%n.length!==t&&g!==t&&u(c(n,t),c(n,e),c(n,g+1))&&o(c(n,t),c(n,e),c(n,g))&&(h[0]=c(n,t),h[1]=c(n,e),l[0]=c(n,g),l[1]=c(n,g+1),f=r(h,l),a(c(n,t),f)<i))return!1;return!0}function b(r,t,e){for(var u=0;u!==r.length;++u)if(u!==t&&u!==e&&(u+1)%r.length!==t&&(u+1)%r.length!==e&&n(c(r,t),c(r,e),c(r,u),c(r,u+1)))return!1;return!0}function k(r,n,t,e){var u=e||[];if(g(u),n<t)for(var f=n;f<=t;f++)u.push(r[f]);else{for(f=0;f<=t;f++)u.push(r[f]);for(f=n;f<r.length;f++)u.push(r[f])}return u}function q(r){for(var n=[],t=[],e=[],u=[],f=Number.MAX_VALUE,o=0;o<r.length;++o)if(m(r,o))for(var i=0;i<r.length;++i)if(d(r,o,i)){t=q(k(r,o,i,u)),e=q(k(r,i,o,u));for(var h=0;h<e.length;h++)t.push(e[h]);t.length<f&&(n=t,f=t.length,n.push([c(r,o),c(r,i)]))}return n}function x(r){var n=q(r);return n.length>0?y(r,n):[r]}function y(r,n){if(0===n.length)return[r];if(n instanceof Array&&n.length&&n[0]instanceof Array&&2===n[0].length&&n[0][0]instanceof Array){for(var t=[r],e=0;e<n.length;e++)for(var u=n[e],f=0;f<t.length;f++){var o=y(t[f],u);if(o){t.splice(f,1),t.push(o[0],o[1]);break}}return t}u=n,e=r.indexOf(u[0]),f=r.indexOf(u[1]);return-1!==e&&-1!==f&&[k(r,e,f),k(r,f,e)]}function C(r){var t,e=r;for(t=0;t<e.length-1;t++)for(var u=0;u<t-1;u++)if(n(e[t],e[t+1],e[u],e[u+1]))return!1;for(t=1;t<e.length-2;t++)if(n(e[0],e[e.length-1],e[t],e[t+1]))return!1;return!0}function D(r,n,t,e,u){u=u||0;var f=n[1]-r[1],o=r[0]-n[0],i=f*r[0]+o*r[1],h=e[1]-t[1],l=t[0]-e[0],a=h*t[0]+l*t[1],c=f*l-h*o;return U(c,0,u)?[0,0]:[(l*i-o*a)/c,(f*a-h*i)/c]}function E(r,n,t,i,h,l,g){l=l||100,g=g||0,h=h||25,n=void 0!==n?n:[],t=t||[],i=i||[];var s=[0,0],p=[0,0],A=[0,0],M=0,d=0,k=0,q=0,x=0,y=0,C=0,L=[],N=[],U=r,V=r;if(V.length<3)return n;if(++g>l)return console.warn("quickDecomp: max level ("+l+") reached."),n;for(var X=0;X<r.length;++X)if(m(U,X)){t.push(U[X]),M=d=Number.MAX_VALUE;for(var _=0;_<r.length;++_)e(c(U,X-1),c(U,X),c(U,_))&&o(c(U,X-1),c(U,X),c(U,_-1))&&(A=D(c(U,X-1),c(U,X),c(U,_),c(U,_-1)),f(c(U,X+1),c(U,X),A)&&(k=a(U[X],A))<d&&(d=k,p=A,y=_)),e(c(U,X+1),c(U,X),c(U,_+1))&&o(c(U,X+1),c(U,X),c(U,_))&&(A=D(c(U,X+1),c(U,X),c(U,_),c(U,_+1)),e(c(U,X-1),c(U,X),A)&&(k=a(U[X],A))<M&&(M=k,s=A,x=_));if(y===(x+1)%r.length)A[0]=(p[0]+s[0])/2,A[1]=(p[1]+s[1])/2,i.push(A),X<x?(v(L,U,X,x+1),L.push(A),N.push(A),0!==y&&v(N,U,y,U.length),v(N,U,0,X+1)):(0!==X&&v(L,U,X,U.length),v(L,U,0,x+1),L.push(A),N.push(A),v(N,U,y,X+1));else{if(y>x&&(x+=r.length),q=Number.MAX_VALUE,x<y)return n;for(_=y;_<=x;++_)u(c(U,X-1),c(U,X),c(U,_))&&o(c(U,X+1),c(U,X),c(U,_))&&(k=a(c(U,X),c(U,_)))<q&&b(U,X,_)&&(q=k,C=_%r.length);X<C?(v(L,U,X,C+1),0!==C&&v(N,U,C,V.length),v(N,U,0,X+1)):(0!==X&&v(L,U,X,V.length),v(L,U,0,C+1),v(N,U,C,X+1))}return L.length<N.length?(E(L,n,t,i,h,l,g),E(N,n,t,i,h,l,g)):(E(N,n,t,i,h,l,g),E(L,n,t,i,h,l,g)),n}return n.push(r),n}function L(r,n){for(var t=0,e=r.length-1;r.length>3&&e>=0;--e)l(c(r,e-1),c(r,e),c(r,e+1),n)&&(r.splice(e%r.length,1),t++);return t}function N(r,n){for(var t=r.length-1;t>=1;--t)for(var e=r[t],u=t-1;u>=0;--u)V(e,r[u],n)&&r.splice(t,1)}function U(r,n,t){return t=t||0,Math.abs(r-n)<=t}function V(r,n,t){return U(r[0],n[0],t)&&U(r[1],n[1],t)}
},{}],"bOCr":[function(require,module,exports) {
var e={};module.exports=e;var r=require("../geometry/Vertices"),t=require("../core/Common"),i=require("../body/Body"),a=require("../geometry/Bounds"),o=require("../geometry/Vector"),n=require("../../poly-decomp");e.rectangle=function(e,a,o,n,c){c=c||{};var l={label:"Rectangle Body",position:{x:e,y:a},vertices:r.fromPath("L 0 0 L "+o+" 0 L "+o+" "+n+" L 0 "+n)};if(c.chamfer){var s=c.chamfer;l.vertices=r.chamfer(l.vertices,s.radius,s.quality,s.qualityMin,s.qualityMax),delete c.chamfer}return i.create(t.extend({},l,c))},e.trapezoid=function(e,a,o,n,c,l){l=l||{};var s,u=o*(c*=.5),v=u+(1-2*c)*o,d=v+u;s=c<.5?"L 0 0 L "+u+" "+-n+" L "+v+" "+-n+" L "+d+" 0":"L 0 0 L "+v+" "+-n+" L "+d+" 0";var f={label:"Trapezoid Body",position:{x:e,y:a},vertices:r.fromPath(s)};if(l.chamfer){var h=l.chamfer;f.vertices=r.chamfer(f.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete l.chamfer}return i.create(t.extend({},f,l))},e.circle=function(r,i,a,o,n){o=o||{};var c={label:"Circle Body",circleRadius:a};n=n||25;var l=Math.ceil(Math.max(10,Math.min(n,a)));return l%2==1&&(l+=1),e.polygon(r,i,l,a,t.extend({},c,o))},e.polygon=function(a,o,n,c,l){if(l=l||{},n<3)return e.circle(a,o,c,l);for(var s=2*Math.PI/n,u="",v=.5*s,d=0;d<n;d+=1){var f=v+d*s,h=Math.cos(f)*c,m=Math.sin(f)*c;u+="L "+h.toFixed(3)+" "+m.toFixed(3)+" "}var y={label:"Polygon Body",position:{x:a,y:o},vertices:r.fromPath(u)};if(l.chamfer){var g=l.chamfer;y.vertices=r.chamfer(y.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete l.chamfer}return i.create(t.extend({},y,l))},e.fromVertices=function(a,o,c,l,s,u,v){var d,f,h,m,y,g;for(l=l||{},f=[],s=void 0!==s&&s,u=void 0!==u?u:.01,v=void 0!==v?v:10,n||t.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),t.isArray(c[0])||(c=[c]),g=0;g<c.length;g+=1)if(m=c[g],(h=r.isConvex(m))||!n)m=h?r.clockwiseSort(m):r.hull(m),f.push({position:{x:a,y:o},vertices:m});else{var p=m.map(function(e){return[e.x,e.y]});n.makeCCW(p),!1!==u&&n.removeCollinearPoints(p,u);var x=n.quickDecomp(p);for(y=0;y<x.length;y++){var q=x[y].map(function(e){return{x:e[0],y:e[1]}});v>0&&r.area(q)<v||f.push({position:r.centre(q),vertices:q})}}for(y=0;y<f.length;y++)f[y]=i.create(t.extend(f[y],l));return s&&e.flagCoincidentParts(f,5),f.length>1?(d=i.create(t.extend({parts:f.slice(0)},l)),i.setPosition(d,{x:a,y:o}),d):f[0]},e.flagCoincidentParts=function(e,r){void 0===r&&(r=5);for(var t=0;t<e.length;t++)for(var i=e[t],n=t+1;n<e.length;n++){var c=e[n];if(a.overlaps(i.bounds,c.bounds))for(var l=i.vertices,s=c.vertices,u=0;u<i.vertices.length;u++)for(var v=0;v<c.vertices.length;v++){var d=o.magnitudeSquared(o.sub(l[(u+1)%l.length],s[v])),f=o.magnitudeSquared(o.sub(l[u],s[(v+1)%s.length]));d<r&&f<r&&(l[u].isInternal=!0,s[v].isInternal=!0)}}return e};
},{"../geometry/Vertices":"JhJa","../core/Common":"lVTS","../body/Body":"ZQ7a","../geometry/Bounds":"DuOH","../geometry/Vector":"SoZW","../../poly-decomp":"NmAR"}],"Tlkx":[function(require,module,exports) {
var e={};module.exports=e;var o=require("../core/Events"),t=require("../core/Common"),i=require("../geometry/Bounds"),n=require("./Body");e.create=function(e){return t.extend({id:t.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},e.setModified=function(t,i,n,r){if(o.trigger(t,"compositeModified",t),t.isModified=i,n&&t.parent&&e.setModified(t.parent,i,n,r),r)for(var s=0;s<t.composites.length;s++){var a=t.composites[s];e.setModified(a,i,n,r)}},e.add=function(i,n){var r=[].concat(n);o.trigger(i,"beforeAdd",{object:n});for(var s=0;s<r.length;s++){var a=r[s];switch(a.type){case"body":if(a.parent!==a){t.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(i,a);break;case"constraint":e.addConstraint(i,a);break;case"composite":e.addComposite(i,a);break;case"mouseConstraint":e.addConstraint(i,a.constraint)}}return o.trigger(i,"afterAdd",{object:n}),i},e.remove=function(t,i,n){var r=[].concat(i);o.trigger(t,"beforeRemove",{object:i});for(var s=0;s<r.length;s++){var a=r[s];switch(a.type){case"body":e.removeBody(t,a,n);break;case"constraint":e.removeConstraint(t,a,n);break;case"composite":e.removeComposite(t,a,n);break;case"mouseConstraint":e.removeConstraint(t,a.constraint)}}return o.trigger(t,"afterRemove",{object:i}),t},e.addComposite=function(o,t){return o.composites.push(t),t.parent=o,e.setModified(o,!0,!0,!1),o},e.removeComposite=function(o,t,i){var n=o.composites.indexOf(t);if(-1!==n&&(e.removeCompositeAt(o,n),e.setModified(o,!0,!0,!1)),i)for(var r=0;r<o.composites.length;r++)e.removeComposite(o.composites[r],t,!0);return o},e.removeCompositeAt=function(o,t){return o.composites.splice(t,1),e.setModified(o,!0,!0,!1),o},e.addBody=function(o,t){return o.bodies.push(t),e.setModified(o,!0,!0,!1),o},e.removeBody=function(o,t,i){var n=o.bodies.indexOf(t);if(-1!==n&&(e.removeBodyAt(o,n),e.setModified(o,!0,!0,!1)),i)for(var r=0;r<o.composites.length;r++)e.removeBody(o.composites[r],t,!0);return o},e.removeBodyAt=function(o,t){return o.bodies.splice(t,1),e.setModified(o,!0,!0,!1),o},e.addConstraint=function(o,t){return o.constraints.push(t),e.setModified(o,!0,!0,!1),o},e.removeConstraint=function(o,t,i){var n=o.constraints.indexOf(t);if(-1!==n&&e.removeConstraintAt(o,n),i)for(var r=0;r<o.composites.length;r++)e.removeConstraint(o.composites[r],t,!0);return o},e.removeConstraintAt=function(o,t){return o.constraints.splice(t,1),e.setModified(o,!0,!0,!1),o},e.clear=function(o,t,i){if(i)for(var n=0;n<o.composites.length;n++)e.clear(o.composites[n],t,!0);return t?o.bodies=o.bodies.filter(function(e){return e.isStatic}):o.bodies.length=0,o.constraints.length=0,o.composites.length=0,e.setModified(o,!0,!0,!1),o},e.allBodies=function(o){for(var t=[].concat(o.bodies),i=0;i<o.composites.length;i++)t=t.concat(e.allBodies(o.composites[i]));return t},e.allConstraints=function(o){for(var t=[].concat(o.constraints),i=0;i<o.composites.length;i++)t=t.concat(e.allConstraints(o.composites[i]));return t},e.allComposites=function(o){for(var t=[].concat(o.composites),i=0;i<o.composites.length;i++)t=t.concat(e.allComposites(o.composites[i]));return t},e.get=function(o,t,i){var n,r;switch(i){case"body":n=e.allBodies(o);break;case"constraint":n=e.allConstraints(o);break;case"composite":n=e.allComposites(o).concat(o)}return n?0===(r=n.filter(function(e){return e.id.toString()===t.toString()})).length?null:r[0]:null},e.move=function(o,t,i){return e.remove(o,t),e.add(i,t),o},e.rebase=function(o){for(var i=e.allBodies(o).concat(e.allConstraints(o)).concat(e.allComposites(o)),n=0;n<i.length;n++)i[n].id=t.nextId();return e.setModified(o,!0,!0,!1),o},e.translate=function(o,t,i){for(var r=i?e.allBodies(o):o.bodies,s=0;s<r.length;s++)n.translate(r[s],t);return e.setModified(o,!0,!0,!1),o},e.rotate=function(o,t,i,r){for(var s=Math.cos(t),a=Math.sin(t),c=r?e.allBodies(o):o.bodies,d=0;d<c.length;d++){var f=c[d],u=f.position.x-i.x,l=f.position.y-i.y;n.setPosition(f,{x:i.x+(u*s-l*a),y:i.y+(u*a+l*s)}),n.rotate(f,t)}return e.setModified(o,!0,!0,!1),o},e.scale=function(o,t,i,r,s){for(var a=s?e.allBodies(o):o.bodies,c=0;c<a.length;c++){var d=a[c],f=d.position.x-r.x,u=d.position.y-r.y;n.setPosition(d,{x:r.x+f*t,y:r.y+u*i}),n.scale(d,t,i)}return e.setModified(o,!0,!0,!1),o},e.bounds=function(o){for(var t=e.allBodies(o),n=[],r=0;r<t.length;r+=1){var s=t[r];n.push(s.bounds.min,s.bounds.max)}return i.create(n)};
},{"../core/Events":"spdM","../core/Common":"lVTS","../geometry/Bounds":"DuOH","./Body":"ZQ7a"}],"sj0G":[function(require,module,exports) {
var n={};module.exports=n;var i=require("../geometry/Vertices"),e=require("../geometry/Vector"),o=require("../core/Sleeping"),t=require("../geometry/Bounds"),s=require("../geometry/Axes"),a=require("../core/Common");n._warming=.4,n._torqueDampen=1,n._minLength=1e-6,n.create=function(n){var i=n;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var o=i.bodyA?e.add(i.bodyA.position,i.pointA):i.pointA,t=i.bodyB?e.add(i.bodyB.position,i.pointB):i.pointB,s=e.magnitude(e.sub(o,t));i.length=void 0!==i.length?i.length:s,i.id=i.id||a.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var r={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===i.length&&i.stiffness>.1?(r.type="pin",r.anchors=!1):i.stiffness<.9&&(r.type="spring"),i.render=a.extend(r,i.render),i},n.preSolveAll=function(n){for(var i=0;i<n.length;i+=1){var e=n[i],o=e.constraintImpulse;e.isStatic||0===o.x&&0===o.y&&0===o.angle||(e.position.x+=o.x,e.position.y+=o.y,e.angle+=o.angle)}},n.solveAll=function(i,e){for(var o=0;o<i.length;o+=1){var t=i[o],s=!t.bodyA||t.bodyA&&t.bodyA.isStatic,a=!t.bodyB||t.bodyB&&t.bodyB.isStatic;(s||a)&&n.solve(i[o],e)}for(o=0;o<i.length;o+=1)s=!(t=i[o]).bodyA||t.bodyA&&t.bodyA.isStatic,a=!t.bodyB||t.bodyB&&t.bodyB.isStatic,s||a||n.solve(i[o],e)},n.solve=function(i,o){var t=i.bodyA,s=i.bodyB,a=i.pointA,r=i.pointB;if(t||s){t&&!t.isStatic&&(e.rotate(a,t.angle-i.angleA,a),i.angleA=t.angle),s&&!s.isStatic&&(e.rotate(r,s.angle-i.angleB,r),i.angleB=s.angle);var l=a,p=r;if(t&&(l=e.add(t.position,a)),s&&(p=e.add(s.position,r)),l&&p){var y=e.sub(l,p),g=e.magnitude(y);g<n._minLength&&(g=n._minLength);var d,u,v,c,b,f=(g-i.length)/g,m=i.stiffness<1?i.stiffness*o:i.stiffness,A=e.mult(y,f*m),x=(t?t.inverseMass:0)+(s?s.inverseMass:0),B=x+((t?t.inverseInertia:0)+(s?s.inverseInertia:0));if(i.damping){var h=e.create();v=e.div(y,g),b=e.sub(s&&e.sub(s.position,s.positionPrev)||h,t&&e.sub(t.position,t.positionPrev)||h),c=e.dot(v,b)}t&&!t.isStatic&&(u=t.inverseMass/x,t.constraintImpulse.x-=A.x*u,t.constraintImpulse.y-=A.y*u,t.position.x-=A.x*u,t.position.y-=A.y*u,i.damping&&(t.positionPrev.x-=i.damping*v.x*c*u,t.positionPrev.y-=i.damping*v.y*c*u),d=e.cross(a,A)/B*n._torqueDampen*t.inverseInertia*(1-i.angularStiffness),t.constraintImpulse.angle-=d,t.angle-=d),s&&!s.isStatic&&(u=s.inverseMass/x,s.constraintImpulse.x+=A.x*u,s.constraintImpulse.y+=A.y*u,s.position.x+=A.x*u,s.position.y+=A.y*u,i.damping&&(s.positionPrev.x+=i.damping*v.x*c*u,s.positionPrev.y+=i.damping*v.y*c*u),d=e.cross(r,A)/B*n._torqueDampen*s.inverseInertia*(1-i.angularStiffness),s.constraintImpulse.angle+=d,s.angle+=d)}}},n.postSolveAll=function(a){for(var r=0;r<a.length;r++){var l=a[r],p=l.constraintImpulse;if(!(l.isStatic||0===p.x&&0===p.y&&0===p.angle)){o.set(l,!1);for(var y=0;y<l.parts.length;y++){var g=l.parts[y];i.translate(g.vertices,p),y>0&&(g.position.x+=p.x,g.position.y+=p.y),0!==p.angle&&(i.rotate(g.vertices,p.angle,l.position),s.rotate(g.axes,p.angle),y>0&&e.rotateAbout(g.position,p.angle,l.position,g.position)),t.update(g.bounds,g.vertices,l.velocity)}p.angle*=n._warming,p.x*=n._warming,p.y*=n._warming}}},n.pointAWorld=function(n){return{x:(n.bodyA?n.bodyA.position.x:0)+n.pointA.x,y:(n.bodyA?n.bodyA.position.y:0)+n.pointA.y}},n.pointBWorld=function(n){return{x:(n.bodyB?n.bodyB.position.x:0)+n.pointB.x,y:(n.bodyB?n.bodyB.position.y:0)+n.pointB.y}};
},{"../geometry/Vertices":"JhJa","../geometry/Vector":"SoZW","../core/Sleeping":"zP33","../geometry/Bounds":"DuOH","../geometry/Axes":"AlFY","../core/Common":"lVTS"}],"fXQ4":[function(require,module,exports) {
var n={};module.exports=n;var e=require("../body/Composite"),r=require("../constraint/Constraint"),o=require("../core/Common"),t=require("../body/Body"),a=require("./Bodies");n.stack=function(n,r,o,a,d,i,s){for(var c,u=e.create({label:"Stack"}),y=n,b=r,l=0,x=0;x<a;x++){for(var f=0,m=0;m<o;m++){var B=s(y,b,m,x,c,l);if(B){var C=B.bounds.max.y-B.bounds.min.y,p=B.bounds.max.x-B.bounds.min.x;C>f&&(f=C),t.translate(B,{x:.5*p,y:.5*C}),y=B.bounds.max.x+d,e.addBody(u,B),c=B,l+=1}else y+=d}b+=f+i,y=n}return u},n.chain=function(n,t,a,d,i,s){for(var c=n.bodies,u=1;u<c.length;u++){var y=c[u-1],b=c[u],l=y.bounds.max.y-y.bounds.min.y,x=y.bounds.max.x-y.bounds.min.x,f=b.bounds.max.y-b.bounds.min.y,m={bodyA:y,pointA:{x:x*t,y:l*a},bodyB:b,pointB:{x:(b.bounds.max.x-b.bounds.min.x)*d,y:f*i}},B=o.extend(m,s);e.addConstraint(n,r.create(B))}return n.label+=" Chain",n},n.mesh=function(n,t,a,d,i){var s,c,u,y,b,l=n.bodies;for(s=0;s<a;s++){for(c=1;c<t;c++)u=l[c-1+s*t],y=l[c+s*t],e.addConstraint(n,r.create(o.extend({bodyA:u,bodyB:y},i)));if(s>0)for(c=0;c<t;c++)u=l[c+(s-1)*t],y=l[c+s*t],e.addConstraint(n,r.create(o.extend({bodyA:u,bodyB:y},i))),d&&c>0&&(b=l[c-1+(s-1)*t],e.addConstraint(n,r.create(o.extend({bodyA:b,bodyB:y},i)))),d&&c<t-1&&(b=l[c+1+(s-1)*t],e.addConstraint(n,r.create(o.extend({bodyA:b,bodyB:y},i))))}return n.label+=" Mesh",n},n.pyramid=function(e,r,o,a,d,i,s){return n.stack(e,r,o,a,d,i,function(n,r,i,c,u,y){var b=Math.min(a,Math.ceil(o/2)),l=u?u.bounds.max.x-u.bounds.min.x:0;if(!(c>b||i<(c=b-c)||i>o-1-c))return 1===y&&t.translate(u,{x:(i+(o%2==1?1:-1))*l,y:0}),s(e+(u?i*l:0)+i*d,r,i,c,u,y)})},n.newtonsCradle=function(n,o,t,d,i){for(var s=e.create({label:"Newtons Cradle"}),c=0;c<t;c++){var u=a.circle(n+c*(1.9*d),o+i,d,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),y=r.create({pointA:{x:n+c*(1.9*d),y:o},bodyB:u});e.addBody(s,u),e.addConstraint(s,y)}return s},n.car=function(n,o,d,i,s){var c=t.nextGroup(!0),u=.5*-d+20,y=.5*d-20,b=e.create({label:"Car"}),l=a.rectangle(n,o,d,i,{collisionFilter:{group:c},chamfer:{radius:.5*i},density:2e-4}),x=a.circle(n+u,o+0,s,{collisionFilter:{group:c},friction:.8}),f=a.circle(n+y,o+0,s,{collisionFilter:{group:c},friction:.8}),m=r.create({bodyB:l,pointB:{x:u,y:0},bodyA:x,stiffness:1,length:0}),B=r.create({bodyB:l,pointB:{x:y,y:0},bodyA:f,stiffness:1,length:0});return e.addBody(b,l),e.addBody(b,x),e.addBody(b,f),e.addConstraint(b,m),e.addConstraint(b,B),b},n.softBody=function(e,r,t,d,i,s,c,u,y,b){y=o.extend({inertia:1/0},y),b=o.extend({stiffness:.2,render:{type:"line",anchors:!1}},b);var l=n.stack(e,r,t,d,i,s,function(n,e){return a.circle(n,e,u,y)});return n.mesh(l,t,d,c,b),l.label="Soft Body",l};
},{"../body/Composite":"Tlkx","../constraint/Constraint":"sj0G","../core/Common":"lVTS","../body/Body":"ZQ7a","./Bodies":"bOCr"}],"DT2I":[function(require,module,exports) {
var e={};module.exports=e;var t=require("../geometry/Bounds"),a=require("../core/Common");e.pathToVertices=function(t,r){"undefined"==typeof window||"SVGPathSeg"in window||a.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var c,s,o,i,n,g,h,S,p,b,l,u=[],m=0,y=0,f=0;r=r||15;var A=function(e,t,a){var r=a%2==1&&a>1;if(!p||e!=p.x||t!=p.y){p&&r?(b=p.x,l=p.y):(b=0,l=0);var c={x:b+e,y:l+t};!r&&p||(p=c),u.push(c),y=b+e,f=l+t}},v=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":y=e.x,f=e.y;break;case"H":y=e.x;break;case"V":f=e.y}A(y,f,e.pathSegType)}};for(e._svgPathToAbsolute(t),o=t.getTotalLength(),g=[],c=0;c<t.pathSegList.numberOfItems;c+=1)g.push(t.pathSegList.getItem(c));for(h=g.concat();m<o;){if((n=g[t.getPathSegAtLength(m)])!=S){for(;h.length&&h[0]!=n;)v(h.shift());S=n}switch(n.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":i=t.getPointAtLength(m),A(i.x,i.y,0)}m+=r}for(c=0,s=h.length;c<s;++c)v(h[c]);return u},e._svgPathToAbsolute=function(e){for(var t,a,r,c,s,o,i=e.pathSegList,n=0,g=0,h=i.numberOfItems,S=0;S<h;++S){var p=i.getItem(S),b=p.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(b))"x"in p&&(n=p.x),"y"in p&&(g=p.y);else switch("x1"in p&&(r=n+p.x1),"x2"in p&&(s=n+p.x2),"y1"in p&&(c=g+p.y1),"y2"in p&&(o=g+p.y2),"x"in p&&(n+=p.x),"y"in p&&(g+=p.y),b){case"m":i.replaceItem(e.createSVGPathSegMovetoAbs(n,g),S);break;case"l":i.replaceItem(e.createSVGPathSegLinetoAbs(n,g),S);break;case"h":i.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(n),S);break;case"v":i.replaceItem(e.createSVGPathSegLinetoVerticalAbs(g),S);break;case"c":i.replaceItem(e.createSVGPathSegCurvetoCubicAbs(n,g,r,c,s,o),S);break;case"s":i.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(n,g,s,o),S);break;case"q":i.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(n,g,r,c),S);break;case"t":i.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(n,g),S);break;case"a":i.replaceItem(e.createSVGPathSegArcAbs(n,g,p.r1,p.r2,p.angle,p.largeArcFlag,p.sweepFlag),S);break;case"z":case"Z":n=t,g=a}"M"!=b&&"m"!=b||(t=n,a=g)}};
},{"../geometry/Bounds":"DuOH","../core/Common":"lVTS"}],"Pqpg":[function(require,module,exports) {
var t={setBounce:function(t){return this.body.restitution=t,this}};module.exports=t;
},{}],"rUap":[function(require,module,exports) {
var i={setCollisionCategory:function(i){return this.body.collisionFilter.category=i,this},setCollisionGroup:function(i){return this.body.collisionFilter.group=i,this},setCollidesWith:function(i){var t=0;if(Array.isArray(i))for(var o=0;o<i.length;o++)t|=i[o];else t=i;return this.body.collisionFilter.mask=t,this},setOnCollide:function(i){return this.body.onCollideCallback=i,this},setOnCollideEnd:function(i){return this.body.onCollideEndCallback=i,this},setOnCollideActive:function(i){return this.body.onCollideActiveCallback=i,this},setOnCollideWith:function(i,t){Array.isArray(i)||(i=[i]);for(var o=0;o<i.length;o++){var l=i[o].hasOwnProperty("body")?i[o].body:i[o];this.body.setOnCollideWith(l,t)}return this}};module.exports=i;
},{}],"eSvn":[function(require,module,exports) {
var t=require("../lib/body/Body"),i={applyForce:function(i){return this._tempVec2.set(this.body.position.x,this.body.position.y),t.applyForce(this.body,this._tempVec2,i),this},applyForceFrom:function(i,s){return t.applyForce(this.body,i,s),this},thrust:function(i){var s=this.body.angle;return this._tempVec2.set(i*Math.cos(s),i*Math.sin(s)),t.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(i){var s=this.body.angle-Math.PI/2;return this._tempVec2.set(i*Math.cos(s),i*Math.sin(s)),t.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(i){var s=this.body.angle+Math.PI/2;return this._tempVec2.set(i*Math.cos(s),i*Math.sin(s)),t.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(i){var s=this.body.angle-Math.PI;return this._tempVec2.set(i*Math.cos(s),i*Math.sin(s)),t.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};module.exports=i;
},{"../lib/body/Body":"ZQ7a"}],"ohfu":[function(require,module,exports) {
var i={setFriction:function(i,t,o){return this.body.friction=i,void 0!==t&&(this.body.frictionAir=t),void 0!==o&&(this.body.frictionStatic=o),this},setFrictionAir:function(i){return this.body.frictionAir=i,this},setFrictionStatic:function(i){return this.body.frictionStatic=i,this}};module.exports=i;
},{}],"D1uD":[function(require,module,exports) {
var r={setIgnoreGravity:function(r){return this.body.ignoreGravity=r,this}};module.exports=r;
},{}],"R6co":[function(require,module,exports) {
var t=require("../lib/body/Body"),e=require("../../../math/Vector2"),s={setMass:function(e){return t.setMass(this.body,e),this},setDensity:function(e){return t.setDensity(this.body,e),this},centerOfMass:{get:function(){return new e(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};module.exports=s;
},{"../lib/body/Body":"ZQ7a","../../../math/Vector2":"qKN5"}],"XVpm":[function(require,module,exports) {
var t=require("../lib/body/Body"),i={setStatic:function(i){return t.setStatic(this.body,i),this},isStatic:function(){return this.body.isStatic}};module.exports=i;
},{"../lib/body/Body":"ZQ7a"}],"akJ4":[function(require,module,exports) {
var s={setSensor:function(s){return this.body.isSensor=s,this},isSensor:function(){return this.body.isSensor}};module.exports=s;
},{}],"YUai":[function(require,module,exports) {
var e=require("./lib/factory/Bodies"),r=require("./lib/body/Body"),t=require("./lib/core/Common"),i=require("../../utils/object/GetFastValue"),c=require("./lib/geometry/Vertices"),s={parseBody:function(e,c,s,o){void 0===o&&(o={});for(var l=i(s,"fixtures",[]),a=[],n=0;n<l.length;n++)for(var u=this.parseFixture(l[n]),d=0;d<u.length;d++)a.push(u[d]);var v=t.clone(s,!0);t.extend(v,o,!0),delete v.fixtures,delete v.type;var f=r.create(v);return r.setParts(f,a),r.setPosition(f,{x:e,y:c}),f},parseFixture:function(r){var c,s=t.extend({},!1,r);if(delete s.circle,delete s.vertices,r.circle){var o=i(r.circle,"x"),l=i(r.circle,"y"),a=i(r.circle,"radius");c=[e.circle(o,l,a,s)]}else r.vertices&&(c=this.parseVertices(r.vertices,s));return c},parseVertices:function(i,s){void 0===s&&(s={});for(var o=[],l=0;l<i.length;l++)c.clockwiseSort(i[l]),o.push(r.create(t.extend({position:c.centre(i[l]),vertices:i[l]},s)));return e.flagCoincidentParts(o)}};module.exports=s;
},{"./lib/factory/Bodies":"bOCr","./lib/body/Body":"ZQ7a","./lib/core/Common":"lVTS","../../utils/object/GetFastValue":"cEup","./lib/geometry/Vertices":"JhJa"}],"YBla":[function(require,module,exports) {
var e=require("./lib/factory/Bodies"),r=require("./lib/body/Body"),t={parseBody:function(t,a,i,o){var s;void 0===o&&(o={});var l=i.vertices;if(1===l.length)o.vertices=l[0],s=r.create(o),e.flagCoincidentParts(s.parts);else{for(var c=[],n=0;n<l.length;n++){var v=r.create({vertices:l[n]});c.push(v)}e.flagCoincidentParts(c),o.parts=c,s=r.create(o)}return s.label=i.label,r.setPosition(s,{x:t,y:a}),s}};module.exports=t;
},{"./lib/factory/Bodies":"bOCr","./lib/body/Body":"ZQ7a"}],"INuS":[function(require,module,exports) {
var e=require("../lib/factory/Bodies"),t=require("../lib/body/Body"),r=require("../../../math/fuzzy/Equal"),i=require("../../../utils/object/GetFastValue"),s=require("../PhysicsEditorParser"),o=require("../PhysicsJSONParser"),a=require("../lib/geometry/Vertices"),d={setRectangle:function(e,t,r){return this.setBody({type:"rectangle",width:e,height:t},r)},setCircle:function(e,t){return this.setBody({type:"circle",radius:e},t)},setPolygon:function(e,t,r){return this.setBody({type:"polygon",sides:t,radius:e},r)},setTrapezoid:function(e,t,r,i){return this.setBody({type:"trapezoid",width:e,height:t,slope:r},i)},setExistingBody:function(e,t){void 0===t&&(t=!0),this.body&&this.world.remove(this.body,!0),this.body=e;for(var i=0;i<e.parts.length;i++)e.parts[i].gameObject=this;var s=this;if(e.destroy=function(){s.world.remove(s.body,!0),s.body.gameObject=null},t&&(this.world.has(e)&&this.world.remove(e,!0),this.world.add(e)),this._originComponent){var o=e.render.sprite.xOffset,a=e.render.sprite.yOffset,d=e.centerOfMass.x,h=e.centerOfMass.y;if(r(d,.5)&&r(h,.5))this.setOrigin(o+.5,a+.5);else{var n=e.centerOffset.x,y=e.centerOffset.y;this.setOrigin(o+n/this.displayWidth,a+y/this.displayHeight)}}return this},setBody:function(r,d){if(!r)return this;var h;"string"==typeof r&&(r={type:r});var n=i(r,"type","rectangle"),y=i(r,"x",this._tempVec2.x),c=i(r,"y",this._tempVec2.y),l=i(r,"width",this.width),f=i(r,"height",this.height);switch(n){case"rectangle":h=e.rectangle(y,c,l,f,d);break;case"circle":var u=i(r,"radius",Math.max(l,f)/2),p=i(r,"maxSides",25);h=e.circle(y,c,u,d,p);break;case"trapezoid":var g=i(r,"slope",.5);h=e.trapezoid(y,c,l,f,g,d);break;case"polygon":var m=i(r,"sides",5),b=i(r,"radius",Math.max(l,f)/2);h=e.polygon(y,c,m,b,d);break;case"fromVertices":case"fromVerts":var v=i(r,"verts",null);if(v)if("string"==typeof v&&(v=a.fromPath(v)),this.body&&!this.body.hasOwnProperty("temp"))t.setVertices(this.body,v),h=this.body;else{var O=i(r,"flagInternal",!1),w=i(r,"removeCollinear",.01),x=i(r,"minimumArea",10);h=e.fromVertices(y,c,v,d,O,w,x)}break;case"fromPhysicsEditor":h=s.parseBody(y,c,r,d);break;case"fromPhysicsTracer":h=o.parseBody(y,c,r,d)}return h&&this.setExistingBody(h,r.addToWorld),this}};module.exports=d;
},{"../lib/factory/Bodies":"bOCr","../lib/body/Body":"ZQ7a","../../../math/fuzzy/Equal":"mjnD","../../../utils/object/GetFastValue":"cEup","../PhysicsEditorParser":"YUai","../PhysicsJSONParser":"YBla","../lib/geometry/Vertices":"JhJa"}],"VQDd":[function(require,module,exports) {
module.exports="afteradd";
},{}],"wXqI":[function(require,module,exports) {
module.exports="afterremove";
},{}],"OUmb":[function(require,module,exports) {
module.exports="afterupdate";
},{}],"byg3":[function(require,module,exports) {
module.exports="beforeadd";
},{}],"xqW3":[function(require,module,exports) {
module.exports="beforeremove";
},{}],"swD1":[function(require,module,exports) {
module.exports="beforeupdate";
},{}],"hT0Y":[function(require,module,exports) {
module.exports="collisionactive";
},{}],"odaZ":[function(require,module,exports) {
module.exports="collisionend";
},{}],"z9zc":[function(require,module,exports) {
module.exports="collisionstart";
},{}],"NanL":[function(require,module,exports) {
module.exports="sleepend";
},{}],"crjx":[function(require,module,exports) {
module.exports="sleepstart";
},{}],"O5an":[function(require,module,exports) {
module.exports={AFTER_ADD:require("./AFTER_ADD_EVENT"),AFTER_REMOVE:require("./AFTER_REMOVE_EVENT"),AFTER_UPDATE:require("./AFTER_UPDATE_EVENT"),BEFORE_ADD:require("./BEFORE_ADD_EVENT"),BEFORE_REMOVE:require("./BEFORE_REMOVE_EVENT"),BEFORE_UPDATE:require("./BEFORE_UPDATE_EVENT"),COLLISION_ACTIVE:require("./COLLISION_ACTIVE_EVENT"),COLLISION_END:require("./COLLISION_END_EVENT"),COLLISION_START:require("./COLLISION_START_EVENT"),DRAG_END:require("./DRAG_END_EVENT"),DRAG:require("./DRAG_EVENT"),DRAG_START:require("./DRAG_START_EVENT"),PAUSE:require("./PAUSE_EVENT"),RESUME:require("./RESUME_EVENT"),SLEEP_END:require("./SLEEP_END_EVENT"),SLEEP_START:require("./SLEEP_START_EVENT")};
},{"./AFTER_ADD_EVENT":"VQDd","./AFTER_REMOVE_EVENT":"wXqI","./AFTER_UPDATE_EVENT":"OUmb","./BEFORE_ADD_EVENT":"byg3","./BEFORE_REMOVE_EVENT":"xqW3","./BEFORE_UPDATE_EVENT":"swD1","./COLLISION_ACTIVE_EVENT":"hT0Y","./COLLISION_END_EVENT":"odaZ","./COLLISION_START_EVENT":"z9zc","./DRAG_END_EVENT":"nSE4","./DRAG_EVENT":"fZIn","./DRAG_START_EVENT":"MAzc","./PAUSE_EVENT":"XFXR","./RESUME_EVENT":"swsX","./SLEEP_END_EVENT":"NanL","./SLEEP_START_EVENT":"crjx"}],"EVWc":[function(require,module,exports) {
var e=require("../events"),t=require("../lib/core/Sleeping"),s=require("../lib/core/Events"),i={setToSleep:function(){t.set(this.body,!0)},setAwake:function(){t.set(this.body,!1)},setSleepThreshold:function(e){return void 0===e&&(e=60),this.body.sleepThreshold=e,this},setSleepEvents:function(e,t){return this.setSleepStartEvent(e),this.setSleepEndEvent(t),this},setSleepStartEvent:function(t){if(t){var i=this.world;s.on(this.body,"sleepStart",function(t){i.emit(e.SLEEP_START,t,this)})}else s.off(this.body,"sleepStart");return this},setSleepEndEvent:function(t){if(t){var i=this.world;s.on(this.body,"sleepEnd",function(t){i.emit(e.SLEEP_END,t,this)})}else s.off(this.body,"sleepEnd");return this}};module.exports=i;
},{"../events":"O5an","../lib/core/Sleeping":"zP33","../lib/core/Events":"spdM"}],"jCns":[function(require,module,exports) {
var t=require("../lib/body/Body"),s=require("../../../math/const"),e=require("../../../math/angle/Wrap"),i=require("../../../math/angle/WrapDegrees"),n=4,o={x:{get:function(){return this.body.position.x},set:function(s){this._tempVec2.set(s,this.y),t.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(s){this._tempVec2.set(this.x,s),t.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(s){var e=1/this._scaleX,i=1/this._scaleY;this._scaleX=s,0===this._scaleX?this.renderFlags&=~n:this.renderFlags|=n,t.scale(this.body,e,i),t.scale(this.body,s,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(s){var e=1/this._scaleX,i=1/this._scaleY;this._scaleY=s,0===this._scaleY?this.renderFlags&=~n:this.renderFlags|=n,t.scale(this.body,e,i),t.scale(this.body,this._scaleX,s)}},angle:{get:function(){return i(this.body.angle*s.RAD_TO_DEG)},set:function(t){this.rotation=i(t)*s.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(s){this._rotation=e(s),t.setAngle(this.body,this._rotation)}},setPosition:function(s,e){return void 0===s&&(s=0),void 0===e&&(e=s),this._tempVec2.set(s,e),t.setPosition(this.body,this._tempVec2),this},setRotation:function(s){return void 0===s&&(s=0),this._rotation=e(s),t.setAngle(this.body,s),this},setFixedRotation:function(){return t.setInertia(this.body,1/0),this},setAngle:function(s){return void 0===s&&(s=0),this.angle=s,t.setAngle(this.body,this.rotation),this},setScale:function(s,e,i){void 0===s&&(s=1),void 0===e&&(e=s);var n=1/this._scaleX,o=1/this._scaleY;return this._scaleX=s,this._scaleY=e,t.scale(this.body,n,o,i),t.scale(this.body,s,e,i),this}};module.exports=o;
},{"../lib/body/Body":"ZQ7a","../../../math/const":"HC1y","../../../math/angle/Wrap":"hYrI","../../../math/angle/WrapDegrees":"NtQj"}],"rpVg":[function(require,module,exports) {
var t=require("../lib/body/Body"),e={setAngularVelocity:function(e){return t.setAngularVelocity(this.body,e),this},setVelocityX:function(e){return this._tempVec2.set(e,this.body.velocity.y),t.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(e){return this._tempVec2.set(this.body.velocity.x,e),t.setVelocity(this.body,this._tempVec2),this},setVelocity:function(e,i){return this._tempVec2.set(e,i),t.setVelocity(this.body,this._tempVec2),this}};module.exports=e;
},{"../lib/body/Body":"ZQ7a"}],"kAkt":[function(require,module,exports) {
module.exports={Bounce:require("./Bounce"),Collision:require("./Collision"),Force:require("./Force"),Friction:require("./Friction"),Gravity:require("./Gravity"),Mass:require("./Mass"),Static:require("./Static"),Sensor:require("./Sensor"),SetBody:require("./SetBody"),Sleep:require("./Sleep"),Transform:require("./Transform"),Velocity:require("./Velocity")};
},{"./Bounce":"Pqpg","./Collision":"rUap","./Force":"eSvn","./Friction":"ohfu","./Gravity":"D1uD","./Mass":"R6co","./Static":"XVpm","./Sensor":"akJ4","./SetBody":"INuS","./Sleep":"EVWc","./Transform":"jCns","./Velocity":"rpVg"}],"Kjia":[function(require,module,exports) {
var e=require("./components"),t=require("../../utils/object/GetFastValue"),o=require("../../math/Vector2");function r(e){return!!e.get&&"function"==typeof e.get||!!e.set&&"function"==typeof e.set}var n=function(n,i,s,a){void 0===s&&(s={}),void 0===a&&(a=!0);var c=i.x,u=i.y;if(i.body={temp:!0,position:{x:c,y:u}},[e.Bounce,e.Collision,e.Force,e.Friction,e.Gravity,e.Mass,e.Sensor,e.SetBody,e.Sleep,e.Static,e.Transform,e.Velocity].forEach(function(e){for(var t in e)r(e[t])?Object.defineProperty(i,t,{get:e[t].get,set:e[t].set}):Object.defineProperty(i,t,{value:e[t]})}),i.world=n,i._tempVec2=new o(c,u),s.hasOwnProperty("type")&&"body"===s.type)i.setExistingBody(s,a);else{var y=t(s,"shape",null);y||(y="rectangle"),s.addToWorld=a,i.setBody(y,s)}return i};module.exports=n;
},{"./components":"kAkt","../../utils/object/GetFastValue":"cEup","../../math/Vector2":"qKN5"}],"aH18":[function(require,module,exports) {
var e=require("../../utils/Class"),i=require("./components"),t=require("../../gameobjects/GameObject"),s=require("../../utils/object/GetFastValue"),r=require("../../gameobjects/image/Image"),n=require("../../gameobjects/components/Pipeline"),o=require("../../math/Vector2"),a=new e({Extends:r,Mixins:[i.Bounce,i.Collision,i.Force,i.Friction,i.Gravity,i.Mass,i.Sensor,i.SetBody,i.Sleep,i.Static,i.Transform,i.Velocity,n],initialize:function(e,i,r,n,a,l){t.call(this,e.scene,"Image"),this.setTexture(n,a),this.setSizeToFrame(),this.setOrigin(),this.world=e,this._tempVec2=new o(i,r);var c=s(l,"shape",null);c?this.setBody(c,l):this.setRectangle(this.width,this.height,l),this.setPosition(i,r),this.initPipeline("TextureTintPipeline")}});module.exports=a;
},{"../../utils/Class":"JASv","./components":"kAkt","../../gameobjects/GameObject":"AetT","../../utils/object/GetFastValue":"cEup","../../gameobjects/image/Image":"DnOy","../../gameobjects/components/Pipeline":"lRBP","../../math/Vector2":"qKN5"}],"pMYD":[function(require,module,exports) {
var e=require("../../gameobjects/components/Animation"),i=require("../../utils/Class"),t=require("./components"),s=require("../../gameobjects/GameObject"),r=require("../../utils/object/GetFastValue"),n=require("../../gameobjects/components/Pipeline"),o=require("../../gameobjects/sprite/Sprite"),a=require("../../math/Vector2"),c=new i({Extends:o,Mixins:[t.Bounce,t.Collision,t.Force,t.Friction,t.Gravity,t.Mass,t.Sensor,t.SetBody,t.Sleep,t.Static,t.Transform,t.Velocity,n],initialize:function(i,t,n,o,c,h){s.call(this,i.scene,"Sprite"),this.anims=new e(this),this.setTexture(o,c),this.setSizeToFrame(),this.setOrigin(),this.world=i,this._tempVec2=new a(t,n);var l=r(h,"shape",null);l?this.setBody(l,h):this.setRectangle(this.width,this.height,h),this.setPosition(t,n),this.initPipeline("TextureTintPipeline")}});module.exports=c;
},{"../../gameobjects/components/Animation":"hTYM","../../utils/Class":"JASv","./components":"kAkt","../../gameobjects/GameObject":"AetT","../../utils/object/GetFastValue":"cEup","../../gameobjects/components/Pipeline":"lRBP","../../gameobjects/sprite/Sprite":"ZUCM","../../math/Vector2":"qKN5"}],"l6TC":[function(require,module,exports) {
var e=require("./lib/factory/Bodies"),t=require("./lib/body/Body"),i=require("../../utils/Class"),o=require("./components"),s=require("eventemitter3"),r=require("../../utils/object/GetFastValue"),l=require("../../utils/object/HasValue"),d=require("./lib/geometry/Vertices"),h=new i({Extends:s,Mixins:[o.Bounce,o.Collision,o.Friction,o.Gravity,o.Mass,o.Sensor,o.Sleep,o.Static],initialize:function(e,t,i){s.call(this),this.tile=t,this.world=e,t.physics.matterBody&&t.physics.matterBody.destroy(),t.physics.matterBody=this;var o=r(i,"body",null),l=r(i,"addToWorld",!0);if(o)this.setBody(o,l);else{var d=t.getCollisionGroup();r(d,"objects",[]).length>0?this.setFromTileCollision(i):this.setFromTileRectangle(i)}},setFromTileRectangle:function(t){void 0===t&&(t={}),l(t,"isStatic")||(t.isStatic=!0),l(t,"addToWorld")||(t.addToWorld=!0);var i=this.tile.getBounds(),o=i.x+i.width/2,s=i.y+i.height/2,r=e.rectangle(o,s,i.width,i.height,t);return this.setBody(r,t.addToWorld),this},setFromTileCollision:function(i){void 0===i&&(i={}),l(i,"isStatic")||(i.isStatic=!0),l(i,"addToWorld")||(i.addToWorld=!0);for(var o=this.tile.tilemapLayer.scaleX,s=this.tile.tilemapLayer.scaleY,h=this.tile.getLeft(),n=this.tile.getTop(),a=this.tile.getCollisionGroup(),y=r(a,"objects",[]),c=[],u=0;u<y.length;u++){var g=y[u],m=h+g.x*o,p=n+g.y*s,v=g.width*o,b=g.height*s,B=null;if(g.rectangle)B=e.rectangle(m+v/2,p+b/2,v,b,i);else if(g.ellipse)B=e.circle(m+v/2,p+b/2,v/2,i);else if(g.polygon||g.polyline){var f=(g.polygon?g.polygon:g.polyline).map(function(e){return{x:e.x*o,y:e.y*s}}),T=d.create(f),q=d.centre(T);m+=q.x,p+=q.y,B=e.fromVertices(m,p,T,i)}B&&c.push(B)}return 1===c.length?this.setBody(c[0],i.addToWorld):c.length>1&&(i.parts=c,this.setBody(t.create(i),i.addToWorld)),this},setBody:function(e,t){return void 0===t&&(t=!0),this.body&&this.removeBody(),this.body=e,this.body.gameObject=this,t&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});module.exports=h;
},{"./lib/factory/Bodies":"bOCr","./lib/body/Body":"ZQ7a","../../utils/Class":"JASv","./components":"kAkt","eventemitter3":"JJlS","../../utils/object/GetFastValue":"cEup","../../utils/object/HasValue":"hJUo","./lib/geometry/Vertices":"JhJa"}],"CbDk":[function(require,module,exports) {
var e={};module.exports=e;var r=require("../geometry/Vertices"),o=require("../geometry/Vector");e.collides=function(t,i,a){var n,s,p,d,l=!1;if(a){var x=t.parent,v=i.parent,u=x.speed*x.speed+x.angularSpeed*x.angularSpeed+v.speed*v.speed+v.angularSpeed*v.angularSpeed;l=a&&a.collided&&u<.2,d=a}else d={collided:!1,bodyA:t,bodyB:i};if(a&&l){var c=d.axisBody,y=c===t?i:t,m=[c.axes[a.axisNumber]];if(p=e._overlapAxes(c.vertices,y.vertices,m),d.reused=!0,p.overlap<=0)return d.collided=!1,d}else{if((n=e._overlapAxes(t.vertices,i.vertices,t.axes)).overlap<=0)return d.collided=!1,d;if((s=e._overlapAxes(i.vertices,t.vertices,i.axes)).overlap<=0)return d.collided=!1,d;n.overlap<s.overlap?(p=n,d.axisBody=t):(p=s,d.axisBody=i),d.axisNumber=p.axisNumber}d.bodyA=t.id<i.id?t:i,d.bodyB=t.id<i.id?i:t,d.collided=!0,d.depth=p.overlap,d.parentA=d.bodyA.parent,d.parentB=d.bodyB.parent,t=d.bodyA,i=d.bodyB,o.dot(p.axis,o.sub(i.position,t.position))<0?d.normal={x:p.axis.x,y:p.axis.y}:d.normal={x:-p.axis.x,y:-p.axis.y},d.tangent=o.perp(d.normal),d.penetration=d.penetration||{},d.penetration.x=d.normal.x*d.depth,d.penetration.y=d.normal.y*d.depth;var f=e._findSupports(t,i,d.normal),g=[];if(r.contains(t.vertices,f[0])&&g.push(f[0]),r.contains(t.vertices,f[1])&&g.push(f[1]),g.length<2){var h=e._findSupports(i,t,o.neg(d.normal));r.contains(i.vertices,h[0])&&g.push(h[0]),g.length<2&&r.contains(i.vertices,h[1])&&g.push(h[1])}return g.length<1&&(g=[f[0]]),d.supports=g,d},e._overlapAxes=function(r,t,i){for(var a,n,s=o._temp[0],p=o._temp[1],d={overlap:Number.MAX_VALUE},l=0;l<i.length;l++){if(n=i[l],e._projectToAxis(s,r,n),e._projectToAxis(p,t,n),(a=Math.min(s.max-p.min,p.max-s.min))<=0)return d.overlap=a,d;a<d.overlap&&(d.overlap=a,d.axis=n,d.axisNumber=l)}return d},e._projectToAxis=function(e,r,t){for(var i=o.dot(r[0],t),a=i,n=1;n<r.length;n+=1){var s=o.dot(r[n],t);s>a?a=s:s<i&&(i=s)}e.min=i,e.max=a},e._findSupports=function(e,r,t){for(var i,a,n,s,p=Number.MAX_VALUE,d=o._temp[0],l=r.vertices,x=e.position,v=0;v<l.length;v++)a=l[v],d.x=a.x-x.x,d.y=a.y-x.y,(i=-o.dot(t,d))<p&&(p=i,n=a);return a=l[n.index-1>=0?n.index-1:l.length-1],d.x=a.x-x.x,d.y=a.y-x.y,p=-o.dot(t,d),s=a,a=l[(n.index+1)%l.length],d.x=a.x-x.x,d.y=a.y-x.y,(i=-o.dot(t,d))<p&&(s=a),[n,s]};
},{"../geometry/Vertices":"JhJa","../geometry/Vector":"SoZW"}],"cKvI":[function(require,module,exports) {
var t={};module.exports=t,t.create=function(i,e){var n=i.bodyA,s=i.bodyB,o={id:t.id(n,s),bodyA:n,bodyB:s,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:n.isSensor||s.isSensor,timeCreated:e,timeUpdated:e,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return t.update(o,i,e),o},t.update=function(i,e,n){if(i.collision=e,e.collided){var s=e.supports,o=i.activeContacts,a=e.parentA,r=e.parentB;i.inverseMass=a.inverseMass+r.inverseMass,i.friction=Math.min(a.friction,r.friction),i.frictionStatic=Math.max(a.frictionStatic,r.frictionStatic),i.restitution=Math.max(a.restitution,r.restitution),i.slop=Math.max(a.slop,r.slop);for(var c=0;c<s.length;c++)o[c]=s[c].contact;var d=s.length;d<o.length&&(o.length=d),i.separation=e.depth,t.setActive(i,!0,n)}else!0===i.isActive&&t.setActive(i,!1,n)},t.setActive=function(t,i,e){i?(t.isActive=!0,t.timeUpdated=e):(t.isActive=!1,t.activeContacts.length=0)},t.id=function(t,i){return t.id<i.id?"A"+t.id+"B"+i.id:"A"+i.id+"B"+t.id};
},{}],"uyPb":[function(require,module,exports) {
var r={};module.exports=r;var e=require("./SAT"),s=require("./Pair"),o=require("../geometry/Bounds");r.collisions=function(i,a){for(var t=[],l=a.pairs.table,n=a.metrics,u=0;u<i.length;u++){var p=i[u][0],c=i[u][1];if((!p.isStatic&&!p.isSleeping||!c.isStatic&&!c.isSleeping)&&r.canCollide(p.collisionFilter,c.collisionFilter)&&(n.midphaseTests+=1,o.overlaps(p.bounds,c.bounds)))for(var d=p.parts.length>1?1:0;d<p.parts.length;d++)for(var g=p.parts[d],v=c.parts.length>1?1:0;v<c.parts.length;v++){var h=c.parts[v];if(g===p&&h===c||o.overlaps(g.bounds,h.bounds)){var f,m=l[s.id(g,h)];f=m&&m.isActive?m.collision:null;var b=e.collides(g,h,f);n.narrowphaseTests+=1,b.reused&&(n.narrowReuseCount+=1),b.collided&&(t.push(b),n.narrowDetections+=1)}}}return t},r.canCollide=function(r,e){return r.group===e.group&&0!==r.group?r.group>0:0!=(r.mask&e.category)&&0!=(e.mask&r.category)};
},{"./SAT":"CbDk","./Pair":"cKvI","../geometry/Bounds":"DuOH"}],"OTzz":[function(require,module,exports) {
var t=require("./lib/geometry/Bounds"),i=require("../../utils/Class"),s=require("./lib/body/Composite"),n=require("./lib/constraint/Constraint"),o=require("./lib/collision/Detector"),e=require("./events"),r=require("../../input/events"),l=require("../../utils/object/Merge"),h=require("./lib/core/Sleeping"),a=require("../../math/Vector2"),u=require("./lib/geometry/Vertices"),p=new i({initialize:function(t,i,s){void 0===s&&(s={});this.scene=t,this.world=i,this.camera=null,this.pointer=null,this.active=!0,this.position=new a,this.body=null,this.part=null,this.constraint=n.create(l(s,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(e.BEFORE_UPDATE,this.update,this),t.sys.input.on(r.POINTER_DOWN,this.onDown,this),t.sys.input.on(r.POINTER_UP,this.onUp,this)},onDown:function(t){this.pointer||(this.pointer=t,this.camera=t.camera)},onUp:function(t){t===this.pointer&&(this.pointer=null)},getBody:function(i){var n=this.position,r=this.constraint;this.camera.getWorldPoint(i.x,i.y,n);for(var l=s.allBodies(this.world.localWorld),h=0;h<l.length;h++){var a=l[h];if(!a.ignorePointer&&t.contains(a.bounds,n)&&o.canCollide(a.collisionFilter,r.collisionFilter)&&this.hitTestBody(a,n))return this.world.emit(e.DRAG_START,a,this.part,this),!0}return!1},hitTestBody:function(t,i){for(var s=this.constraint,n=t.parts.length,o=n>1?1:0;o<n;o++){var e=t.parts[o];if(u.contains(e.vertices,i))return s.pointA=i,s.pointB={x:i.x-t.position.x,y:i.y-t.position.y},s.bodyB=t,s.angleB=t.angle,h.set(t,!1),this.part=e,this.body=t,!0}return!1},update:function(){var t=this.pointer,i=this.body;if(this.active&&t)if(t.isDown||!i){if(t.isDown){if(!i&&!this.getBody(t))return;i=this.body;var s=this.position,n=this.constraint;this.camera.getWorldPoint(t.x,t.y,s),n.pointA.x=s.x,n.pointA.y=s.y,h.set(i,!1),this.world.emit(e.DRAG,i,this)}}else this.stopDrag();else i&&this.stopDrag()},stopDrag:function(){var t=this.body,i=this.constraint;i.bodyB=null,i.pointB=null,this.pointer=null,this.body=null,this.part=null,t&&this.world.emit(e.DRAG_END,t,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(r.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(r.POINTER_UP,this.onUp,this)}});module.exports=p;
},{"./lib/geometry/Bounds":"DuOH","../../utils/Class":"JASv","./lib/body/Composite":"Tlkx","./lib/constraint/Constraint":"sj0G","./lib/collision/Detector":"uyPb","./events":"O5an","../../input/events":"aZHS","../../utils/object/Merge":"NXFV","./lib/core/Sleeping":"zP33","../../math/Vector2":"qKN5","./lib/geometry/Vertices":"JhJa"}],"Hxai":[function(require,module,exports) {
var r=require("./lib/factory/Bodies"),t=require("../../utils/Class"),i=require("./lib/factory/Composites"),e=require("./lib/constraint/Constraint"),n=require("./lib/geometry/Svg"),o=require("./MatterGameObject"),s=require("./MatterImage"),d=require("./MatterSprite"),a=require("./MatterTileBody"),u=require("./PhysicsEditorParser"),c=require("./PhysicsJSONParser"),l=require("./PointerConstraint"),h=require("./lib/geometry/Vertices"),f=new t({initialize:function(r){this.world=r,this.scene=r.scene,this.sys=r.scene.sys},rectangle:function(t,i,e,n,o){var s=r.rectangle(t,i,e,n,o);return this.world.add(s),s},trapezoid:function(t,i,e,n,o,s){var d=r.trapezoid(t,i,e,n,o,s);return this.world.add(d),d},circle:function(t,i,e,n,o){var s=r.circle(t,i,e,n,o);return this.world.add(s),s},polygon:function(t,i,e,n,o){var s=r.polygon(t,i,e,n,o);return this.world.add(s),s},fromVertices:function(t,i,e,n,o,s,d){"string"==typeof e&&(e=h.fromPath(e));var a=r.fromVertices(t,i,e,n,o,s,d);return this.world.add(a),a},fromPhysicsEditor:function(r,t,i,e,n){void 0===n&&(n=!0);var o=u.parseBody(r,t,i,e);return n&&!this.world.has(o)&&this.world.add(o),o},fromSVG:function(t,i,e,o,s,d){void 0===o&&(o=1),void 0===s&&(s={}),void 0===d&&(d=!0);for(var a=e.getElementsByTagName("path"),u=[],c=0;c<a.length;c++){var l=n.pathToVertices(a[c],30);1!==o&&h.scale(l,o,o),u.push(l)}var f=r.fromVertices(t,i,u,s);return d&&this.world.add(f),f},fromJSON:function(r,t,i,e,n){void 0===e&&(e={}),void 0===n&&(n=!0);var o=c.parseBody(r,t,i,e);return o&&n&&this.world.add(o),o},imageStack:function(r,t,e,n,o,d,a,u,c){void 0===a&&(a=0),void 0===u&&(u=0),void 0===c&&(c={});var l=this.world,h=this.sys.displayList;c.addToWorld=!1;var f=i.stack(e,n,o,d,a,u,function(i,e){var n=new s(l,i,e,r,t,c);return h.add(n),n.body});return l.add(f),f},stack:function(r,t,e,n,o,s,d){var a=i.stack(r,t,e,n,o,s,d);return this.world.add(a),a},pyramid:function(r,t,e,n,o,s,d){var a=i.pyramid(r,t,e,n,o,s,d);return this.world.add(a),a},chain:function(r,t,e,n,o,s){return i.chain(r,t,e,n,o,s)},mesh:function(r,t,e,n,o){return i.mesh(r,t,e,n,o)},newtonsCradle:function(r,t,e,n,o){var s=i.newtonsCradle(r,t,e,n,o);return this.world.add(s),s},car:function(r,t,e,n,o){var s=i.car(r,t,e,n,o);return this.world.add(s),s},softBody:function(r,t,e,n,o,s,d,a,u,c){var l=i.softBody(r,t,e,n,o,s,d,a,u,c);return this.world.add(l),l},joint:function(r,t,i,e,n){return this.constraint(r,t,i,e,n)},spring:function(r,t,i,e,n){return this.constraint(r,t,i,e,n)},constraint:function(r,t,i,n,o){void 0===n&&(n=1),void 0===o&&(o={}),o.bodyA="body"===r.type?r:r.body,o.bodyB="body"===t.type?t:t.body,isNaN(i)||(o.length=i),o.stiffness=n;var s=e.create(o);return this.world.add(s),s},worldConstraint:function(r,t,i,n){void 0===i&&(i=1),void 0===n&&(n={}),n.bodyB="body"===r.type?r:r.body,isNaN(t)||(n.length=t),n.stiffness=i;var o=e.create(n);return this.world.add(o),o},mouseSpring:function(r){return this.pointerConstraint(r)},pointerConstraint:function(r){void 0===r&&(r={}),r.hasOwnProperty("render")||(r.render={visible:!1});var t=new l(this.scene,this.world,r);return this.world.add(t.constraint),t},image:function(r,t,i,e,n){var o=new s(this.world,r,t,i,e,n);return this.sys.displayList.add(o),o},tileBody:function(r,t){return new a(this.world,r,t)},sprite:function(r,t,i,e,n){var o=new d(this.world,r,t,i,e,n);return this.sys.displayList.add(o),this.sys.updateList.add(o),o},gameObject:function(r,t,i){return o(this.world,r,t,i)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});module.exports=f;
},{"./lib/factory/Bodies":"bOCr","../../utils/Class":"JASv","./lib/factory/Composites":"fXQ4","./lib/constraint/Constraint":"sj0G","./lib/geometry/Svg":"DT2I","./MatterGameObject":"Kjia","./MatterImage":"aH18","./MatterSprite":"pMYD","./MatterTileBody":"l6TC","./PhysicsEditorParser":"YUai","./PhysicsJSONParser":"YBla","./PointerConstraint":"OTzz","./lib/geometry/Vertices":"JhJa"}],"y68X":[function(require,module,exports) {
var e={};module.exports=e;var n=require("./Common");e._registry={},e.register=function(r){if(e.isPlugin(r)||n.warn("Plugin.register:",e.toString(r),"does not implement all required fields."),r.name in e._registry){var i=e._registry[r.name],t=e.versionParse(r.version).number,s=e.versionParse(i.version).number;t>s?(n.warn("Plugin.register:",e.toString(i),"was upgraded to",e.toString(r)),e._registry[r.name]=r):t<s?n.warn("Plugin.register:",e.toString(i),"can not be downgraded to",e.toString(r)):r!==i&&n.warn("Plugin.register:",e.toString(r),"is already registered to different plugin object")}else e._registry[r.name]=r;return r},e.resolve=function(n){return e._registry[e.dependencyParse(n).name]},e.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},e.isPlugin=function(e){return e&&e.name&&e.version&&e.install},e.isUsed=function(e,n){return e.used.indexOf(n)>-1},e.isFor=function(n,r){var i=n.for&&e.dependencyParse(n.for);return!n.for||r.name===i.name&&e.versionSatisfies(r.version,i.range)},e.use=function(r,i){if(r.uses=(r.uses||[]).concat(i||[]),0!==r.uses.length){for(var t=e.dependencies(r),s=n.topologicalSort(t),a=[],o=0;o<s.length;o+=1)if(s[o]!==r.name){var u=e.resolve(s[o]);u?e.isUsed(r,u.name)||(e.isFor(u,r)||(n.warn("Plugin.use:",e.toString(u),"is for",u.for,"but installed on",e.toString(r)+"."),u._warned=!0),u.install?u.install(r):(n.warn("Plugin.use:",e.toString(u),"does not specify an install function."),u._warned=!0),u._warned?(a.push(" "+e.toString(u)),delete u._warned):a.push(" "+e.toString(u)),r.used.push(u.name)):a.push(" "+s[o])}a.length>0&&!u.silent&&n.info(a.join("  "))}else n.warn("Plugin.use:",e.toString(r),"does not specify any dependencies to install.")},e.dependencies=function(r,i){var t=e.dependencyParse(r),s=t.name;if(!(s in(i=i||{}))){r=e.resolve(r)||r,i[s]=n.map(r.uses||[],function(i){e.isPlugin(i)&&e.register(i);var s=e.dependencyParse(i),a=e.resolve(i);return a&&!e.versionSatisfies(a.version,s.range)?(n.warn("Plugin.dependencies:",e.toString(a),"does not satisfy",e.toString(s),"used by",e.toString(t)+"."),a._warned=!0,r._warned=!0):a||(n.warn("Plugin.dependencies:",e.toString(i),"used by",e.toString(t),"could not be resolved."),r._warned=!0),s.name});for(var a=0;a<i[s].length;a+=1)e.dependencies(i[s][a],i);return i}},e.dependencyParse=function(e){return n.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(e)||n.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},e.versionParse=function(e){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(e)||n.warn("Plugin.versionParse:",e,"is not a valid version or range.");var r=e.split("-");e=r[0];var i=isNaN(Number(e[0])),t=i?e.substr(1):e,s=n.map(t.split("."),function(e){return Number(e)});return{isRange:i,version:t,range:e,operator:i?e[0]:"",parts:s,prerelease:r[1],number:1e8*s[0]+1e4*s[1]+s[2]}},e.versionSatisfies=function(n,r){r=r||"*";var i=e.versionParse(r),t=i.parts,s=e.versionParse(n),a=s.parts;if(i.isRange){if("*"===i.operator||"*"===n)return!0;if("~"===i.operator)return a[0]===t[0]&&a[1]===t[1]&&a[2]>=t[2];if("^"===i.operator)return t[0]>0?a[0]===t[0]&&s.number>=i.number:t[1]>0?a[1]===t[1]&&a[2]>=t[2]:a[2]===t[2]}return n===r||"*"===n};
},{"./Common":"lVTS"}],"Ywbp":[function(require,module,exports) {
var e={};module.exports=e;var r=require("./Plugin"),t=require("./Common");e.name="matter-js",e.version="0.14.2",e.uses=[],e.used=[],e.use=function(){r.use(e,Array.prototype.slice.call(arguments))},e.before=function(r,a){return r=r.replace(/^Matter./,""),t.chainPathBefore(e,r,a)},e.after=function(r,a){return r=r.replace(/^Matter./,""),t.chainPathAfter(e,r,a)};
},{"./Plugin":"y68X","./Common":"lVTS"}],"OARP":[function(require,module,exports) {
var e={};module.exports=e;var r=require("./Composite"),o=require("../constraint/Constraint"),t=require("../core/Common");e.create=function(e){var o=r.create(),a={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return t.extend(o,a,e)};
},{"./Composite":"Tlkx","../constraint/Constraint":"sj0G","../core/Common":"lVTS"}],"U9pO":[function(require,module,exports) {
var e={};module.exports=e;var t=require("./Pair"),r=require("./Detector"),o=require("../core/Common");e.create=function(t){var i={controller:e,detector:r.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return o.extend(i,t)},e.update=function(t,r,o,i){var n,a,s,u,d,c=o.world,g=t.buckets,l=!1,f=o.metrics;for(f.broadphaseTests=0,n=0;n<r.length;n++){var b=r[n];if((!b.isSleeping||i)&&!(b.bounds.max.x<c.bounds.min.x||b.bounds.min.x>c.bounds.max.x||b.bounds.max.y<c.bounds.min.y||b.bounds.min.y>c.bounds.max.y)){var h=e._getRegion(t,b);if(!b.region||h.id!==b.region.id||i){f.broadphaseTests+=1,b.region&&!i||(b.region=h);var m=e._regionUnion(h,b.region);for(a=m.startCol;a<=m.endCol;a++)for(s=m.startRow;s<=m.endRow;s++){u=g[d=e._getBucketId(a,s)];var v=a>=h.startCol&&a<=h.endCol&&s>=h.startRow&&s<=h.endRow,R=a>=b.region.startCol&&a<=b.region.endCol&&s>=b.region.startRow&&s<=b.region.endRow;!v&&R&&R&&u&&e._bucketRemoveBody(t,u,b),(b.region===h||v&&!R||i)&&(u||(u=e._createBucket(g,d)),e._bucketAddBody(t,u,b))}b.region=h,l=!0}}}l&&(t.pairsList=e._createActivePairsList(t))},e.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},e._regionUnion=function(t,r){var o=Math.min(t.startCol,r.startCol),i=Math.max(t.endCol,r.endCol),n=Math.min(t.startRow,r.startRow),a=Math.max(t.endRow,r.endRow);return e._createRegion(o,i,n,a)},e._getRegion=function(t,r){var o=r.bounds,i=Math.floor(o.min.x/t.bucketWidth),n=Math.floor(o.max.x/t.bucketWidth),a=Math.floor(o.min.y/t.bucketHeight),s=Math.floor(o.max.y/t.bucketHeight);return e._createRegion(i,n,a,s)},e._createRegion=function(e,t,r,o){return{id:e+","+t+","+r+","+o,startCol:e,endCol:t,startRow:r,endRow:o}},e._getBucketId=function(e,t){return"C"+e+"R"+t},e._createBucket=function(e,t){return e[t]=[]},e._bucketAddBody=function(e,r,o){for(var i=0;i<r.length;i++){var n=r[i];if(!(o.id===n.id||o.isStatic&&n.isStatic)){var a=t.id(o,n),s=e.pairs[a];s?s[2]+=1:e.pairs[a]=[o,n,1]}}r.push(o)},e._bucketRemoveBody=function(e,r,o){r.splice(r.indexOf(o),1);for(var i=0;i<r.length;i++){var n=r[i],a=t.id(o,n),s=e.pairs[a];s&&(s[2]-=1)}},e._createActivePairsList=function(e){var t,r,i=[];t=o.keys(e.pairs);for(var n=0;n<t.length;n++)(r=e.pairs[t[n]])[2]>0?i.push(r):delete e.pairs[t[n]];return i};
},{"./Pair":"cKvI","./Detector":"uyPb","../core/Common":"lVTS"}],"OjQH":[function(require,module,exports) {
var e={};module.exports=e;var i=require("./Pair"),t=require("../core/Common");e._pairMaxIdleLife=1e3,e.create=function(e){return t.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},e.update=function(e,t,l){var o,n,c,r,s=e.list,d=e.table,a=e.collisionStart,h=e.collisionEnd,u=e.collisionActive;for(a.length=0,h.length=0,u.length=0,r=0;r<s.length;r++)s[r].confirmedActive=!1;for(r=0;r<t.length;r++)(o=t[r]).collided&&((c=d[n=i.id(o.bodyA,o.bodyB)])?(c.isActive?u.push(c):a.push(c),i.update(c,o,l),c.confirmedActive=!0):(c=i.create(o,l),d[n]=c,a.push(c),s.push(c)));for(r=0;r<s.length;r++)(c=s[r]).isActive&&!c.confirmedActive&&(i.setActive(c,!1,l),h.push(c))},e.removeOld=function(i,t){var l,o,n,c,r=i.list,s=i.table,d=[];for(c=0;c<r.length;c++)(o=(l=r[c]).collision).bodyA.isSleeping||o.bodyB.isSleeping?l.timeUpdated=t:t-l.timeUpdated>e._pairMaxIdleLife&&d.push(c);for(c=0;c<d.length;c++)delete s[(l=r[n=d[c]-c]).id],r.splice(n,1)},e.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e};
},{"./Pair":"cKvI","../core/Common":"lVTS"}],"QGzu":[function(require,module,exports) {
var r={};module.exports=r;var e=require("../geometry/Vector"),o=require("./SAT"),n=require("../geometry/Bounds"),t=require("../factory/Bodies"),a=require("../geometry/Vertices");r.collides=function(r,e){for(var t=[],a=0;a<e.length;a++){var s=e[a];if(r!==s&&n.overlaps(s.bounds,r.bounds))for(var i=1===s.parts.length?0:1;i<s.parts.length;i++){var u=s.parts[i];if(n.overlaps(u.bounds,r.bounds)){var l=o.collides(u,r);if(l.collided){t.push(l);break}}}}return t},r.ray=function(o,n,a,s){s=s||1e-100;for(var i=e.angle(n,a),u=e.magnitude(e.sub(n,a)),l=.5*(a.x+n.x),d=.5*(a.y+n.y),v=t.rectangle(l,d,u,s,{angle:i}),c=r.collides(v,o),f=0;f<c.length;f+=1){var g=c[f];g.body=g.bodyB=g.bodyA}return c},r.region=function(r,e,o){for(var t=[],a=0;a<r.length;a++){var s=r[a],i=n.overlaps(s.bounds,e);(i&&!o||!i&&o)&&t.push(s)}return t},r.point=function(r,e){for(var o=[],t=0;t<r.length;t++){var s=r[t];if(n.contains(s.bounds,e))for(var i=1===s.parts.length?0:1;i<s.parts.length;i++){var u=s.parts[i];if(n.contains(u.bounds,e)&&a.contains(u.vertices,e)){o.push(s);break}}}return o};
},{"../geometry/Vector":"SoZW","./SAT":"CbDk","../geometry/Bounds":"DuOH","../factory/Bodies":"bOCr","../geometry/Vertices":"JhJa"}],"NYXY":[function(require,module,exports) {
var i={};module.exports=i;var e=require("../geometry/Vertices"),t=require("../geometry/Vector"),o=require("../core/Common"),s=require("../geometry/Bounds");i._restingThresh=4,i._restingThreshTangent=6,i._positionDampen=.9,i._positionWarming=.8,i._frictionNormalMultiplier=5,i.preSolvePosition=function(i){var e,t,o;for(e=0;e<i.length;e++)(t=i[e]).isActive&&(o=t.activeContacts.length,t.collision.parentA.totalContacts+=o,t.collision.parentB.totalContacts+=o)},i.solvePosition=function(e,t,o){var s,n,r,p,a,l,v,m,c,u,y,g,I,x,P,f,h=o*i._positionDampen;for(s=0;s<t.length;s++){var S=t[s];S.previousPositionImpulse.x=S.positionImpulse.x,S.previousPositionImpulse.y=S.positionImpulse.y}for(s=0;s<e.length;s++)(p=e[s]).isActive&&!p.isSensor&&(l=(a=p.collision).parentA,v=a.parentB,m=a.normal,y=l.previousPositionImpulse,g=v.previousPositionImpulse,u=a.penetration,x=g.x-y.x+u.x,P=g.y-y.y+u.y,c=(n=m.x)*x+(r=m.y)*P,p.separation=c,f=(c-p.slop)*h,(l.isStatic||v.isStatic)&&(f*=2),l.isStatic||l.isSleeping||(I=f/l.totalContacts,l.positionImpulse.x+=n*I,l.positionImpulse.y+=r*I),v.isStatic||v.isSleeping||(I=f/v.totalContacts,v.positionImpulse.x-=n*I,v.positionImpulse.y-=r*I))},i.postSolvePosition=function(o){for(var n=0;n<o.length;n++){var r=o[n];if(r.totalContacts=0,0!==r.positionImpulse.x||0!==r.positionImpulse.y){for(var p=0;p<r.parts.length;p++){var a=r.parts[p];e.translate(a.vertices,r.positionImpulse),s.update(a.bounds,a.vertices,r.velocity),a.position.x+=r.positionImpulse.x,a.position.y+=r.positionImpulse.y}r.positionPrev.x+=r.positionImpulse.x,r.positionPrev.y+=r.positionImpulse.y,t.dot(r.positionImpulse,r.velocity)<0?(r.positionImpulse.x=0,r.positionImpulse.y=0):(r.positionImpulse.x*=i._positionWarming,r.positionImpulse.y*=i._positionWarming)}}},i.preSolveVelocity=function(i){var e,o,s,n,r,p,a,l,v,m,c,u,y,g,I=t._temp[0],x=t._temp[1];for(e=0;e<i.length;e++)if((s=i[e]).isActive&&!s.isSensor)for(n=s.activeContacts,p=(r=s.collision).parentA,a=r.parentB,l=r.normal,v=r.tangent,o=0;o<n.length;o++)c=(m=n[o]).vertex,u=m.normalImpulse,y=m.tangentImpulse,0===u&&0===y||(I.x=l.x*u+v.x*y,I.y=l.y*u+v.y*y,p.isStatic||p.isSleeping||(g=t.sub(c,p.position,x),p.positionPrev.x+=I.x*p.inverseMass,p.positionPrev.y+=I.y*p.inverseMass,p.anglePrev+=t.cross(g,I)*p.inverseInertia),a.isStatic||a.isSleeping||(g=t.sub(c,a.position,x),a.positionPrev.x-=I.x*a.inverseMass,a.positionPrev.y-=I.y*a.inverseMass,a.anglePrev-=t.cross(g,I)*a.inverseInertia))},i.solveVelocity=function(e,s){for(var n=s*s,r=t._temp[0],p=t._temp[1],a=t._temp[2],l=t._temp[3],v=t._temp[4],m=t._temp[5],c=0;c<e.length;c++){var u=e[c];if(u.isActive&&!u.isSensor){var y=u.collision,g=y.parentA,I=y.parentB,x=y.normal,P=y.tangent,f=u.activeContacts,h=1/f.length;g.velocity.x=g.position.x-g.positionPrev.x,g.velocity.y=g.position.y-g.positionPrev.y,I.velocity.x=I.position.x-I.positionPrev.x,I.velocity.y=I.position.y-I.positionPrev.y,g.angularVelocity=g.angle-g.anglePrev,I.angularVelocity=I.angle-I.anglePrev;for(var S=0;S<f.length;S++){var _=f[S],M=_.vertex,d=t.sub(M,g.position,p),C=t.sub(M,I.position,a),A=t.add(g.velocity,t.mult(t.perp(d),g.angularVelocity),l),V=t.add(I.velocity,t.mult(t.perp(C),I.angularVelocity),v),b=t.sub(A,V,m),T=t.dot(x,b),B=t.dot(P,b),q=Math.abs(B),W=o.sign(B),D=(1+u.restitution)*T,N=o.clamp(u.separation+T,0,1)*i._frictionNormalMultiplier,j=B,k=1/0;q>u.friction*u.frictionStatic*N*n&&(k=q,j=o.clamp(u.friction*W*n,-k,k));var w=t.cross(d,x),z=t.cross(C,x),E=h/(g.inverseMass+I.inverseMass+g.inverseInertia*w*w+I.inverseInertia*z*z);if(D*=E,j*=E,T<0&&T*T>i._restingThresh*n)_.normalImpulse=0;else{var F=_.normalImpulse;_.normalImpulse=Math.min(_.normalImpulse+D,0),D=_.normalImpulse-F}if(B*B>i._restingThreshTangent*n)_.tangentImpulse=0;else{var G=_.tangentImpulse;_.tangentImpulse=o.clamp(_.tangentImpulse+j,-k,k),j=_.tangentImpulse-G}r.x=x.x*D+P.x*j,r.y=x.y*D+P.y*j,g.isStatic||g.isSleeping||(g.positionPrev.x+=r.x*g.inverseMass,g.positionPrev.y+=r.y*g.inverseMass,g.anglePrev+=t.cross(d,r)*g.inverseInertia),I.isStatic||I.isSleeping||(I.positionPrev.x-=r.x*I.inverseMass,I.positionPrev.y-=r.y*I.inverseMass,I.anglePrev-=t.cross(C,r)*I.inverseInertia)}}}};
},{"../geometry/Vertices":"JhJa","../geometry/Vector":"SoZW","../core/Common":"lVTS","../geometry/Bounds":"DuOH"}],"eIfX":[function(require,module,exports) {
var e={};module.exports=e;var s=require("../body/Composite"),r=require("./Common");e.create=function(e){return r.extend({extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0},!1,e)},e.reset=function(e){e.extended&&(e.narrowDetections=0,e.narrowphaseTests=0,e.narrowReuse=0,e.narrowReuseCount=0,e.midphaseTests=0,e.broadphaseTests=0,e.narrowEff=0,e.midEff=0,e.broadEff=0,e.collisions=0,e.buckets=0,e.pairs=0,e.bodies=0)},e.update=function(e,r){if(e.extended){var o=r.world,t=s.allBodies(o);e.collisions=e.narrowDetections,e.pairs=r.pairs.list.length,e.bodies=t.length,e.midEff=(e.narrowDetections/(e.midphaseTests||1)).toFixed(2),e.narrowEff=(e.narrowDetections/(e.narrowphaseTests||1)).toFixed(2),e.broadEff=(1-e.broadphaseTests/(t.length||1)).toFixed(2),e.narrowReuse=(e.narrowReuseCount/(e.narrowphaseTests||1)).toFixed(2)}};
},{"../body/Composite":"Tlkx","./Common":"lVTS"}],"XYdd":[function(require,module,exports) {
var e={};module.exports=e;var r=require("../body/World"),i=require("./Sleeping"),t=require("../collision/Resolver"),o=require("../collision/Pairs"),l=require("./Metrics"),a=require("../collision/Grid"),s=require("./Events"),n=require("../body/Composite"),c=require("../constraint/Constraint"),d=require("./Common"),p=require("../body/Body");e.create=function(e,i){i=(i=d.isElement(e)?i:e)||{},((e=d.isElement(e)?e:null)||i.render)&&d.warn("Engine.create: engine.render is deprecated (see docs)");var t={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:a}},s=d.extend(t,i);return s.world=i.world||r.create(s.world),s.pairs=o.create(),s.broadphase=s.broadphase.controller.create(s.broadphase),s.metrics=s.metrics||{extended:!1},s.metrics=l.create(s.metrics),s},e.update=function(r,a,d){a=a||1e3/60,d=d||1;var p,v=r.world,m=r.timing,g=r.broadphase,u=[];m.timestamp+=a*m.timeScale;var f={timestamp:m.timestamp};s.trigger(r,"beforeUpdate",f);var S=n.allBodies(v),y=n.allConstraints(v);for(l.reset(r.metrics),r.enableSleeping&&i.update(S,m.timeScale),e._bodiesApplyGravity(S,v.gravity),e._bodiesUpdate(S,a,m.timeScale,d,v.bounds),c.preSolveAll(S),p=0;p<r.constraintIterations;p++)c.solveAll(y,m.timeScale);c.postSolveAll(S),g.controller?(v.isModified&&g.controller.clear(g),g.controller.update(g,S,r,v.isModified),u=g.pairsList):u=S,v.isModified&&n.setModified(v,!1,!1,!0);var b=g.detector(u,r),h=r.pairs,q=m.timestamp;for(o.update(h,b,q),o.removeOld(h,q),r.enableSleeping&&i.afterCollisions(h.list,m.timeScale),h.collisionStart.length>0&&s.trigger(r,"collisionStart",{pairs:h.collisionStart}),t.preSolvePosition(h.list),p=0;p<r.positionIterations;p++)t.solvePosition(h.list,S,m.timeScale);for(t.postSolvePosition(S),c.preSolveAll(S),p=0;p<r.constraintIterations;p++)c.solveAll(y,m.timeScale);for(c.postSolveAll(S),t.preSolveVelocity(h.list),p=0;p<r.velocityIterations;p++)t.solveVelocity(h.list,m.timeScale);return h.collisionActive.length>0&&s.trigger(r,"collisionActive",{pairs:h.collisionActive}),h.collisionEnd.length>0&&s.trigger(r,"collisionEnd",{pairs:h.collisionEnd}),l.update(r.metrics,r),e._bodiesClearForces(S),s.trigger(r,"afterUpdate",f),r},e.merge=function(r,t){if(d.extend(r,t),t.world){r.world=t.world,e.clear(r);for(var o=n.allBodies(r.world),l=0;l<o.length;l++){var a=o[l];i.set(a,!1),a.id=d.nextId()}}},e.clear=function(e){var r=e.world;o.clear(e.pairs);var i=e.broadphase;if(i.controller){var t=n.allBodies(r);i.controller.clear(i),i.controller.update(i,t,e,!0)}},e._bodiesClearForces=function(e){for(var r=0;r<e.length;r++){var i=e[r];i.force.x=0,i.force.y=0,i.torque=0}},e._bodiesApplyGravity=function(e,r){var i=void 0!==r.scale?r.scale:.001;if((0!==r.x||0!==r.y)&&0!==i)for(var t=0;t<e.length;t++){var o=e[t];o.ignoreGravity||o.isStatic||o.isSleeping||(o.force.x+=o.mass*r.x*i*o.gravityScale.x,o.force.y+=o.mass*r.y*i*o.gravityScale.y)}},e._bodiesUpdate=function(e,r,i,t,o){for(var l=0;l<e.length;l++){var a=e[l];a.isStatic||a.isSleeping||p.update(a,r,i,t)}};
},{"../body/World":"OARP","./Sleeping":"zP33","../collision/Resolver":"NYXY","../collision/Pairs":"OjQH","./Metrics":"eIfX","../collision/Grid":"U9pO","./Events":"spdM","../body/Composite":"Tlkx","../constraint/Constraint":"sj0G","./Common":"lVTS","../body/Body":"ZQ7a"}],"roH5":[function(require,module,exports) {
var e=require("./lib/core/Matter");e.Body=require("./lib/body/Body"),e.Composite=require("./lib/body/Composite"),e.World=require("./lib/body/World"),e.Detector=require("./lib/collision/Detector"),e.Grid=require("./lib/collision/Grid"),e.Pairs=require("./lib/collision/Pairs"),e.Pair=require("./lib/collision/Pair"),e.Query=require("./lib/collision/Query"),e.Resolver=require("./lib/collision/Resolver"),e.SAT=require("./lib/collision/SAT"),e.Constraint=require("./lib/constraint/Constraint"),e.Common=require("./lib/core/Common"),e.Engine=require("./lib/core/Engine"),e.Events=require("./lib/core/Events"),e.Sleeping=require("./lib/core/Sleeping"),e.Plugin=require("./lib/core/Plugin"),e.Bodies=require("./lib/factory/Bodies"),e.Composites=require("./lib/factory/Composites"),e.Axes=require("./lib/geometry/Axes"),e.Bounds=require("./lib/geometry/Bounds"),e.Svg=require("./lib/geometry/Svg"),e.Vector=require("./lib/geometry/Vector"),e.Vertices=require("./lib/geometry/Vertices"),e.World.add=e.Composite.add,e.World.remove=e.Composite.remove,e.World.addComposite=e.Composite.addComposite,e.World.addBody=e.Composite.addBody,e.World.addConstraint=e.Composite.addConstraint,e.World.clear=e.Composite.clear,module.exports=e;
},{"./lib/core/Matter":"Ywbp","./lib/body/Body":"ZQ7a","./lib/body/Composite":"Tlkx","./lib/body/World":"OARP","./lib/collision/Detector":"uyPb","./lib/collision/Grid":"U9pO","./lib/collision/Pairs":"OjQH","./lib/collision/Pair":"cKvI","./lib/collision/Query":"QGzu","./lib/collision/Resolver":"NYXY","./lib/collision/SAT":"CbDk","./lib/constraint/Constraint":"sj0G","./lib/core/Common":"lVTS","./lib/core/Engine":"XYdd","./lib/core/Events":"spdM","./lib/core/Sleeping":"zP33","./lib/core/Plugin":"y68X","./lib/factory/Bodies":"bOCr","./lib/factory/Composites":"fXQ4","./lib/geometry/Axes":"AlFY","./lib/geometry/Bounds":"DuOH","./lib/geometry/Svg":"DT2I","./lib/geometry/Vector":"SoZW","./lib/geometry/Vertices":"JhJa"}],"e0jf":[function(require,module,exports) {
var t=require("../../CustomMain"),o={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(t){t.after("Body.create",function(){o.Body.init(this)}),t.before("Engine.update",function(t){o.Engine.update(t)})},Body:{init:function(t){t.plugin.attractors=t.plugin.attractors||[]}},Engine:{update:function(o){for(var n=o.world,r=t.Composite.allBodies(n),i=0;i<r.length;i+=1){var a=r[i],e=a.plugin.attractors;if(e&&e.length>0)for(var s=i+1;s<r.length;s+=1)for(var c=r[s],u=0;u<e.length;u+=1){var l=e[u],p=l;t.Common.isFunction(l)&&(p=l(a,c)),p&&t.Body.applyForce(c,c.position,p)}}}},Attractors:{gravityConstant:.001,gravity:function(n,r){var i=t.Vector.sub(r.position,n.position),a=t.Vector.magnitudeSquared(i)||1e-4,e=t.Vector.normalise(i),s=-o.Attractors.gravityConstant*(n.mass*r.mass/a),c=t.Vector.mult(e,s);t.Body.applyForce(n,n.position,t.Vector.neg(c)),t.Body.applyForce(r,r.position,c)}}};module.exports=o;
},{"../../CustomMain":"roH5"}],"bJDz":[function(require,module,exports) {
var e={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(e){e.after("Engine.create",function(){e.Events.on(this,"collisionStart",function(l){l.pairs.map(function(l){var i=l.bodyA,o=l.bodyB;i.gameObject&&i.gameObject.emit("collide",i,o,l),o.gameObject&&o.gameObject.emit("collide",o,i,l),e.Events.trigger(i,"onCollide",{pair:l}),e.Events.trigger(o,"onCollide",{pair:l}),i.onCollideCallback&&i.onCollideCallback(l),o.onCollideCallback&&o.onCollideCallback(l),i.onCollideWith[o.id]&&i.onCollideWith[o.id](o,l),o.onCollideWith[i.id]&&o.onCollideWith[i.id](i,l)})}),e.Events.on(this,"collisionActive",function(l){l.pairs.map(function(l){var i=l.bodyA,o=l.bodyB;i.gameObject&&i.gameObject.emit("collideActive",i,o,l),o.gameObject&&o.gameObject.emit("collideActive",o,i,l),e.Events.trigger(i,"onCollideActive",{pair:l}),e.Events.trigger(o,"onCollideActive",{pair:l}),i.onCollideActiveCallback&&i.onCollideActiveCallback(l),o.onCollideActiveCallback&&o.onCollideActiveCallback(l)})}),e.Events.on(this,"collisionEnd",function(l){l.pairs.map(function(l){var i=l.bodyA,o=l.bodyB;i.gameObject&&i.gameObject.emit("collideEnd",i,o,l),o.gameObject&&o.gameObject.emit("collideEnd",o,i,l),e.Events.trigger(i,"onCollideEnd",{pair:l}),e.Events.trigger(o,"onCollideEnd",{pair:l}),i.onCollideEndCallback&&i.onCollideEndCallback(l),o.onCollideEndCallback&&o.onCollideEndCallback(l)})})})}};module.exports=e;
},{}],"kAir":[function(require,module,exports) {
var n=require("../../CustomMain"),o={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(n){n.after("Engine.update",function(){o.Engine.update(this)})},Engine:{update:function(a){for(var i=a.world,r=n.Composite.allBodies(i),t=n.Composite.allComposites(i),e=0;e<r.length;e+=1){var m=r[e];m.plugin.wrap&&o.Body.wrap(m,m.plugin.wrap)}for(e=0;e<t.length;e+=1){var u=t[e];u.plugin.wrap&&o.Composite.wrap(u,u.plugin.wrap)}}},Bounds:{wrap:function(n,o){var a=null,i=null;if(void 0!==o.min.x&&void 0!==o.max.x&&(n.min.x>o.max.x?a=o.min.x-n.max.x:n.max.x<o.min.x&&(a=o.max.x-n.min.x)),void 0!==o.min.y&&void 0!==o.max.y&&(n.min.y>o.max.y?i=o.min.y-n.max.y:n.max.y<o.min.y&&(i=o.max.y-n.min.y)),null!==a||null!==i)return{x:a||0,y:i||0}}},Body:{wrap:function(a,i){var r=o.Bounds.wrap(a.bounds,i);return r&&n.Body.translate(a,r),r}},Composite:{bounds:function(o){for(var a=n.Composite.allBodies(o),i=[],r=0;r<a.length;r+=1){var t=a[r];i.push(t.bounds.min,t.bounds.max)}return n.Bounds.create(i)},wrap:function(a,i){var r=o.Bounds.wrap(o.Composite.bounds(a),i);return r&&n.Composite.translate(a,r),r}}};module.exports=o;
},{"../../CustomMain":"roH5"}],"CDsH":[function(require,module,exports) {
var e=require("./lib/factory/Bodies"),i=require("./lib/body/Body"),t=require("../../utils/Class"),o=require("./lib/core/Common"),n=require("./lib/body/Composite"),r=require("./lib/core/Engine"),l=require("eventemitter3"),s=require("./events"),a=require("../../utils/object/GetFastValue"),h=require("../../utils/object/GetValue"),d=require("./lib/body/Body"),c=require("./lib/core/Events"),u=require("./MatterTileBody"),y=require("./lib/body/World"),p=require("./lib/geometry/Vector"),v=new t({Extends:l,initialize:function(e,i){l.call(this),this.scene=e,this.engine=r.create(i),this.localWorld=this.engine.world;var t=h(i,"gravity",null);t?this.setGravity(t.x,t.y,t.scale):!1===t&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=h(i,"enabled",!0),this.correction=h(i,"correction",1),this.getDelta=h(i,"getDelta",this.update60Hz);var o=a(i,"runner",{}),n=a(o,"fps",!1),s=a(o,"fps",60),d=a(o,"delta",1e3/s),c=a(o,"deltaMin",1e3/s),u=a(o,"deltaMax",1e3/(.5*s));n||(s=1e3/d),this.runner={fps:s,correction:a(o,"correction",1),deltaSampleSize:a(o,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:a(o,"isFixed",!1),delta:d,deltaMin:c,deltaMax:u},this.autoUpdate=h(i,"autoUpdate",!0);var y=h(i,"debug",!1);if(this.drawDebug="object"==typeof y||y,this.debugGraphic,this.debugConfig={showAxes:a(y,"showAxes",!1),showAngleIndicator:a(y,"showAngleIndicator",!1),angleColor:a(y,"angleColor",15208787),showBroadphase:a(y,"showBroadphase",!1),broadphaseColor:a(y,"broadphaseColor",16757760),showBounds:a(y,"showBounds",!1),boundsColor:a(y,"boundsColor",16777215),showVelocity:a(y,"showVelocity",!1),velocityColor:a(y,"velocityColor",44783),showCollisions:a(y,"showCollisions",!1),collisionColor:a(y,"collisionColor",16094476),showSeparations:a(y,"showSeparations",!1),separationColor:a(y,"separationColor",16753920),showBody:a(y,"showBody",!0),showStaticBody:a(y,"showStaticBody",!0),showInternalEdges:a(y,"showInternalEdges",!1),renderFill:a(y,"renderFill",!1),renderLine:a(y,"renderLine",!0),fillColor:a(y,"fillColor",1075465),fillOpacity:a(y,"fillOpacity",1),lineColor:a(y,"lineColor",2678297),lineOpacity:a(y,"lineOpacity",1),lineThickness:a(y,"lineThickness",1),staticFillColor:a(y,"staticFillColor",857979),staticLineColor:a(y,"staticLineColor",1255396),showSleeping:a(y,"showSleeping",!1),staticBodySleepOpacity:a(y,"staticBodySleepOpacity",.7),sleepFillColor:a(y,"sleepFillColor",4605510),sleepLineColor:a(y,"sleepLineColor",10066585),showSensors:a(y,"showSensors",!0),sensorFillColor:a(y,"sensorFillColor",857979),sensorLineColor:a(y,"sensorLineColor",1255396),showPositions:a(y,"showPositions",!0),positionSize:a(y,"positionSize",4),positionColor:a(y,"positionColor",14697178),showJoint:a(y,"showJoint",!0),jointColor:a(y,"jointColor",14737474),jointLineOpacity:a(y,"jointLineOpacity",1),jointLineThickness:a(y,"jointLineThickness",2),pinSize:a(y,"pinSize",4),pinColor:a(y,"pinColor",4382944),springColor:a(y,"springColor",14697184),anchorColor:a(y,"anchorColor",15724527),anchorSize:a(y,"anchorSize",4),showConvexHulls:a(y,"showConvexHulls",!1),hullColor:a(y,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),a(i,"setBounds",!1)){var p=i.setBounds;if("boolean"==typeof p)this.setBounds();else{var v=a(p,"x",0),f=a(p,"y",0),C=a(p,"width",e.sys.scale.width),g=a(p,"height",e.sys.scale.height),b=a(p,"thickness",64),S=a(p,"left",!0),x=a(p,"right",!0),m=a(p,"top",!0),w=a(p,"bottom",!0);this.setBounds(v,f,C,g,b,S,x,m,w)}}},setCompositeRenderStyle:function(e){var i,t,o,n=e.bodies,r=e.constraints,l=e.composites;for(i=0;i<n.length;i++)o=(t=n[i]).render,this.setBodyRenderStyle(t,o.lineColor,o.lineOpacity,o.lineThickness,o.fillColor,o.fillOpacity);for(i=0;i<r.length;i++)o=(t=r[i]).render,this.setConstraintRenderStyle(t,o.lineColor,o.lineOpacity,o.lineThickness,o.pinSize,o.anchorColor,o.anchorSize);for(i=0;i<l.length;i++)t=l[i],this.setCompositeRenderStyle(t);return this},setBodyRenderStyle:function(e,i,t,o,n,r){var l=e.render,s=this.debugConfig;return l?(null==i&&(i=e.isStatic?s.staticLineColor:s.lineColor),null==t&&(t=s.lineOpacity),null==o&&(o=s.lineThickness),null==n&&(n=e.isStatic?s.staticFillColor:s.fillColor),null==r&&(r=s.fillOpacity),!1!==i&&(l.lineColor=i),!1!==t&&(l.lineOpacity=t),!1!==o&&(l.lineThickness=o),!1!==n&&(l.fillColor=n),!1!==r&&(l.fillOpacity=r),this):this},setConstraintRenderStyle:function(e,i,t,o,n,r,l){var s=e.render,a=this.debugConfig;if(!s)return this;if(null==i){var h=s.type;"line"===h?i=a.jointColor:"pin"===h?i=a.pinColor:"spring"===h&&(i=a.springColor)}return null==t&&(t=a.jointLineOpacity),null==o&&(o=a.jointLineThickness),null==n&&(n=a.pinSize),null==r&&(r=a.anchorColor),null==l&&(l=a.anchorSize),!1!==i&&(s.lineColor=i),!1!==t&&(s.lineOpacity=t),!1!==o&&(s.lineThickness=o),!1!==n&&(s.pinSize=n),!1!==r&&(s.anchorColor=r),!1!==l&&(s.anchorSize=l),this},setEventsProxy:function(){var e=this,i=this.engine,t=this.localWorld;this.drawDebug&&(c.on(t,"compositeModified",function(i){e.setCompositeRenderStyle(i)}),c.on(t,"beforeAdd",function(i){for(var t=[].concat(i.object),o=0;o<t.length;o++){var n=t[o],r=n.render;"body"===n.type?e.setBodyRenderStyle(n,r.lineColor,r.lineOpacity,r.lineThickness,r.fillColor,r.fillOpacity):"composite"===n.type?e.setCompositeRenderStyle(n):"constraint"===n.type&&e.setConstraintRenderStyle(n,r.lineColor,r.lineOpacity,r.lineThickness,r.pinSize,r.anchorColor,r.anchorSize)}})),c.on(t,"beforeAdd",function(i){e.emit(s.BEFORE_ADD,i)}),c.on(t,"afterAdd",function(i){e.emit(s.AFTER_ADD,i)}),c.on(t,"beforeRemove",function(i){e.emit(s.BEFORE_REMOVE,i)}),c.on(t,"afterRemove",function(i){e.emit(s.AFTER_REMOVE,i)}),c.on(i,"beforeUpdate",function(i){e.emit(s.BEFORE_UPDATE,i)}),c.on(i,"afterUpdate",function(i){e.emit(s.AFTER_UPDATE,i)}),c.on(i,"collisionStart",function(i){var t,o,n=i.pairs;n.length>0&&(t=n[0].bodyA,o=n[0].bodyB),e.emit(s.COLLISION_START,i,t,o)}),c.on(i,"collisionActive",function(i){var t,o,n=i.pairs;n.length>0&&(t=n[0].bodyA,o=n[0].bodyB),e.emit(s.COLLISION_ACTIVE,i,t,o)}),c.on(i,"collisionEnd",function(i){var t,o,n=i.pairs;n.length>0&&(t=n[0].bodyA,o=n[0].bodyB),e.emit(s.COLLISION_END,i,t,o)})},setBounds:function(e,i,t,o,n,r,l,s,a){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===t&&(t=this.scene.sys.scale.width),void 0===o&&(o=this.scene.sys.scale.height),void 0===n&&(n=64),void 0===r&&(r=!0),void 0===l&&(l=!0),void 0===s&&(s=!0),void 0===a&&(a=!0),this.updateWall(r,"left",e-n,i-n,n,o+2*n),this.updateWall(l,"right",e+t,i-n,n,o+2*n),this.updateWall(s,"top",e,i-n,t,n),this.updateWall(a,"bottom",e,i+o,t,n),this},updateWall:function(e,i,t,o,n,r){var l=this.walls[i];e?(l&&y.remove(this.localWorld,l),t+=n/2,o+=r/2,this.walls[i]=this.create(t,o,n,r,{isStatic:!0,friction:0,frictionStatic:0})):(l&&y.remove(this.localWorld,l),this.walls[i]=null)},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(e,i,t){return void 0===e&&(e=0),void 0===i&&(i=1),this.localWorld.gravity.x=e,this.localWorld.gravity.y=i,void 0!==t&&(this.localWorld.gravity.scale=t),this},create:function(i,t,o,n,r){var l=e.rectangle(i,t,o,n,r);return y.add(this.localWorld,l),l},add:function(e){return y.add(this.localWorld,e),this},remove:function(e,i){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var o=e[t],r=o.body?o.body:o;n.remove(this.localWorld,r,i)}return this},removeConstraint:function(e,i){return n.remove(this.localWorld,e,i),this},convertTilemapLayer:function(e,i){var t=e.layer,o=e.getTilesWithin(0,0,t.width,t.height,{isColliding:!0});return this.convertTiles(o,i),this},convertTiles:function(e,i){if(0===e.length)return this;for(var t=0;t<e.length;t++)new u(this,e[t],i);return this},nextGroup:function(e){return d.nextGroup(e)},nextCategory:function(){return d.nextCategory()},pause:function(){return this.enabled=!1,this.emit(s.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(s.RESUME),this},update:function(e,i){if(this.enabled&&this.autoUpdate){var t=this.engine,o=this.runner,n=t.timing,l=this.correction;o.isFixed?i=this.getDelta(e,i):(i=e-o.timePrev||o.delta,o.timePrev=e,o.deltaHistory.push(i),o.deltaHistory=o.deltaHistory.slice(-o.deltaSampleSize),l=(i=(i=(i=Math.min.apply(null,o.deltaHistory))<o.deltaMin?o.deltaMin:i)>o.deltaMax?o.deltaMax:i)/o.delta,o.delta=i),0!==o.timeScalePrev&&(l*=n.timeScale/o.timeScalePrev),0===n.timeScale&&(l=0),o.timeScalePrev=n.timeScale,o.correction=l,o.frameCounter+=1,e-o.counterTimestamp>=1e3&&(o.fps=o.frameCounter*((e-o.counterTimestamp)/1e3),o.counterTimestamp=e,o.frameCounter=0),r.update(t,i,l)}},step:function(e,i){r.update(this.engine,e,i)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(e){var i=e.hasOwnProperty("body")?e.body:e;return null!==n.get(this.localWorld,i.id,i.type)},getAllBodies:function(){return n.allBodies(this.localWorld)},getAllConstraints:function(){return n.allConstraints(this.localWorld)},getAllComposites:function(){return n.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var e=this.debugConfig,i=this.engine,t=this.debugGraphic,o=n.allBodies(this.localWorld);this.debugGraphic.clear(),e.showBroadphase&&i.broadphase.controller&&this.renderGrid(i.broadphase,t,e.broadphaseColor,.5),e.showBounds&&this.renderBodyBounds(o,t,e.boundsColor,.5),(e.showBody||e.showStaticBody)&&this.renderBodies(o),e.showJoint&&this.renderJoints(),(e.showAxes||e.showAngleIndicator)&&this.renderBodyAxes(o,t,e.showAxes,e.angleColor,.5),e.showVelocity&&this.renderBodyVelocity(o,t,e.velocityColor,1,2),e.showSeparations&&this.renderSeparations(i.pairs.list,t,e.separationColor),e.showCollisions&&this.renderCollisions(i.pairs.list,t,e.collisionColor)}},renderGrid:function(e,i,t,n){i.lineStyle(1,t,n);for(var r=o.keys(e.buckets),l=0;l<r.length;l++){var s=r[l];if(!(e.buckets[s].length<2)){var a=s.split(/C|R/);i.strokeRect(parseInt(a[1],10)*e.bucketWidth,parseInt(a[2],10)*e.bucketHeight,e.bucketWidth,e.bucketHeight)}}return this},renderSeparations:function(e,i,t){i.lineStyle(1,t,1);for(var o=0;o<e.length;o++){var n=e[o];if(n.isActive){var r=n.collision,l=r.bodyA,s=r.bodyB,a=l.position,h=s.position,d=r.penetration,c=l.isStatic||s.isStatic?1:4;s.isStatic&&(c=0),i.lineBetween(h.x,h.y,h.x-d.x*c,h.y-d.y*c),c=l.isStatic||s.isStatic?1:4,l.isStatic&&(c=0),i.lineBetween(a.x,a.y,a.x-d.x*c,a.y-d.y*c)}}return this},renderCollisions:function(e,i,t){var o,n;for(i.lineStyle(1,t,.5),i.fillStyle(t,1),o=0;o<e.length;o++)if((n=e[o]).isActive)for(var r=0;r<n.activeContacts.length;r++){var l=n.activeContacts[r].vertex;i.fillRect(l.x-2,l.y-2,5,5)}for(o=0;o<e.length;o++)if((n=e[o]).isActive){var s=n.collision,a=n.activeContacts;if(a.length>0){var h=a[0].vertex.x,d=a[0].vertex.y;2===a.length&&(h=(a[0].vertex.x+a[1].vertex.x)/2,d=(a[0].vertex.y+a[1].vertex.y)/2),s.bodyB===s.supports[0].body||s.bodyA.isStatic?i.lineBetween(h-8*s.normal.x,d-8*s.normal.y,h,d):i.lineBetween(h+8*s.normal.x,d+8*s.normal.y,h,d)}}return this},renderBodyBounds:function(e,i,t,o){i.lineStyle(1,t,o);for(var n=0;n<e.length;n++){var r=e[n];if(r.render.visible){var l=r.bounds;if(l)i.strokeRect(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y);else for(var s=r.parts,a=s.length>1?1:0;a<s.length;a++){var h=s[a];i.strokeRect(h.bounds.min.x,h.bounds.min.y,h.bounds.max.x-h.bounds.min.x,h.bounds.max.y-h.bounds.min.y)}}}return this},renderBodyAxes:function(e,i,t,o,n){i.lineStyle(1,o,n);for(var r=0;r<e.length;r++){var l,s,a,h=e[r],d=h.parts;if(h.render.visible)if(t)for(s=d.length>1?1:0;s<d.length;s++)for(l=d[s],a=0;a<l.axes.length;a++){var c=l.axes[a];i.lineBetween(l.position.x,l.position.y,l.position.x+20*c.x,l.position.y+20*c.y)}else for(s=d.length>1?1:0;s<d.length;s++)for(l=d[s],a=0;a<l.axes.length;a++)i.lineBetween(l.position.x,l.position.y,(l.vertices[0].x+l.vertices[l.vertices.length-1].x)/2,(l.vertices[0].y+l.vertices[l.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(e,i,t,o,n){i.lineStyle(n,t,o);for(var r=0;r<e.length;r++){var l=e[r];l.render.visible&&i.lineBetween(l.position.x,l.position.y,l.position.x+2*(l.position.x-l.positionPrev.x),l.position.y+2*(l.position.y-l.positionPrev.y))}return this},renderBodies:function(e){for(var i=this.debugGraphic,t=this.debugConfig,o=t.showBody,n=t.showStaticBody,r=t.showSleeping,l=t.showInternalEdges,s=t.showConvexHulls,a=t.renderFill,h=t.renderLine,d=t.staticBodySleepOpacity,c=t.sleepFillColor,u=t.sleepLineColor,y=t.hullColor,p=0;p<e.length;p++){var v=e[p];if(v.render.visible&&((n||!v.isStatic)&&(o||v.isStatic))){var f=v.render.lineColor,C=v.render.lineOpacity,g=v.render.lineThickness,b=v.render.fillColor,S=v.render.fillOpacity;r&&v.isSleeping&&(v.isStatic?(C*=d,S*=d):(f=u,b=c)),a||(b=null),h||(f=null),this.renderBody(v,i,l,f,C,g,b,S);var x=v.parts.length;s&&x>1&&this.renderConvexHull(v,i,y,g)}}},renderBody:function(e,i,t,o,n,r,l,s){void 0===o&&(o=null),void 0===n&&(n=null),void 0===r&&(r=1),void 0===l&&(l=null),void 0===s&&(s=null);for(var a=this.debugConfig,h=a.sensorFillColor,d=a.sensorLineColor,c=e.parts,u=c.length,y=u>1?1:0;y<u;y++){var p=c[y],v=p.render,f=v.opacity;if(v.visible&&0!==f&&(!p.isSensor||a.showSensors)){var C=p.circleRadius;if(i.beginPath(),p.isSensor?(null!==l&&i.fillStyle(h,s*f),null!==o&&i.lineStyle(r,d,n*f)):(null!==l&&i.fillStyle(l,s*f),null!==o&&i.lineStyle(r,o,n*f)),C)i.arc(p.position.x,p.position.y,C,0,2*Math.PI);else{var g=p.vertices,b=g.length;i.moveTo(g[0].x,g[0].y);for(var S=1;S<b;S++){var x=g[S];if(!g[S-1].isInternal||t?i.lineTo(x.x,x.y):i.moveTo(x.x,x.y),S<b&&x.isInternal&&!t){var m=(S+1)%b;i.moveTo(g[m].x,g[m].y)}}i.closePath()}null!==l&&i.fillPath(),null!==o&&i.strokePath()}}if(a.showPositions&&!e.isStatic){var w=e.position.x,B=e.position.y,A=Math.ceil(a.positionSize/2);i.fillStyle(a.positionColor,1),i.fillRect(w-A,B-A,a.positionSize,a.positionSize)}return this},renderConvexHull:function(e,i,t,o){if(void 0===o&&(o=1),e.parts.length>1){var n=e.vertices;i.lineStyle(o,t),i.beginPath(),i.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++)i.lineTo(n[r].x,n[r].y);i.lineTo(n[0].x,n[0].y),i.strokePath()}return this},renderJoints:function(){for(var e=this.debugGraphic,i=n.allConstraints(this.localWorld),t=0;t<i.length;t++){var o=i[t].render,r=o.lineColor,l=o.lineOpacity,s=o.lineThickness,a=o.pinSize,h=o.anchorColor,d=o.anchorSize;this.renderConstraint(i[t],e,r,l,s,a,h,d)}},renderConstraint:function(e,i,t,n,r,l,s,a){var h=e.render;if(!h.visible||!e.pointA||!e.pointB)return this;i.lineStyle(r,t,n);var d,c,u=e.bodyA,y=e.bodyB;if(d=u?p.add(u.position,e.pointA):e.pointA,"pin"===h.type)i.strokeCircle(d.x,d.y,l);else{if(c=y?p.add(y.position,e.pointB):e.pointB,i.beginPath(),i.moveTo(d.x,d.y),"spring"===h.type)for(var v,f=p.sub(c,d),C=p.perp(p.normalise(f)),g=Math.ceil(o.clamp(e.length/5,12,20)),b=1;b<g;b+=1)v=b%2==0?1:-1,i.lineTo(d.x+f.x*(b/g)+C.x*v*4,d.y+f.y*(b/g)+C.y*v*4);i.lineTo(c.x,c.y)}return i.strokePath(),h.anchors&&a>0&&(i.fillStyle(s),i.fillCircle(d.x,d.y,a),i.fillCircle(c.x,c.y,a)),this},resetCollisionIDs:function(){return i._nextCollidingGroupId=1,i._nextNonCollidingGroupId=-1,i._nextCategory=1,this},shutdown:function(){c.off(this.engine),this.removeAllListeners(),y.clear(this.localWorld,!1),r.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});module.exports=v;
},{"./lib/factory/Bodies":"bOCr","./lib/body/Body":"ZQ7a","../../utils/Class":"JASv","./lib/core/Common":"lVTS","./lib/body/Composite":"Tlkx","./lib/core/Engine":"XYdd","eventemitter3":"JJlS","./events":"O5an","../../utils/object/GetFastValue":"cEup","../../utils/object/GetValue":"OqLI","./lib/core/Events":"spdM","./MatterTileBody":"l6TC","./lib/body/World":"OARP","./lib/geometry/Vector":"SoZW"}],"nweT":[function(require,module,exports) {
var t=require("../../display/align/const"),e=require("./lib/geometry/Axes"),i=require("./lib/factory/Bodies"),s=require("./lib/body/Body"),o=require("./BodyBounds"),r=require("./lib/geometry/Bounds"),n=require("../../utils/Class"),h=require("./lib/body/Composite"),a=require("./lib/factory/Composites"),l=require("./lib/constraint/Constraint"),u=require("./lib/collision/Detector"),c=require("../../math/distance/DistanceBetween"),d=require("./Factory"),y=require("../../utils/object/GetFastValue"),g=require("../../utils/object/GetValue"),f=require("./lib/collision/Grid"),p=require("./lib/plugins/MatterAttractors"),b=require("./lib/plugins/MatterCollisionEvents"),B=require("./lib/core/Matter"),T=require("./lib/plugins/MatterWrap"),v=require("../../utils/object/Merge"),m=require("./lib/collision/Pair"),w=require("./lib/collision/Pairs"),E=require("./lib/core/Plugin"),M=require("../../plugins/PluginCache"),q=require("./lib/collision/Query"),A=require("./lib/collision/Resolver"),P=require("./lib/collision/SAT"),O=require("../../scene/events"),_=require("./lib/geometry/Svg"),C=require("./lib/geometry/Vector"),x=require("./lib/geometry/Vertices"),R=require("./World"),V=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=s,this.composite=h,this.detector=u,this.grid=f,this.pair=m,this.pairs=w,this.query=q,this.resolver=A,this.sat=P,this.constraint=l,this.bodies=i,this.composites=a,this.axes=e,this.bounds=r,this.svg=_,this.vector=C,this.vertices=x,this.verts=x,this._tempVec2=C.create(),g(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),g(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),g(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),A._restingThresh=g(this.config,"restingThresh",4),A._restingThreshTangent=g(this.config,"restingThreshTangent",6),A._positionDampen=g(this.config,"positionDampen",.9),A._positionWarming=g(this.config,"positionWarming",.8),A._frictionNormalMultiplier=g(this.config,"frictionNormalMultiplier",5),t.sys.events.once(O.BOOT,this.boot,this),t.sys.events.on(O.START,this.start,this)},boot:function(){this.world=new R(this.scene,this.config),this.add=new d(this.world),this.bodyBounds=new o,this.systems.events.once(O.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new R(this.scene,this.config),this.add=new d(this.world));var t=this.systems.events;t.on(O.UPDATE,this.world.update,this.world),t.on(O.POST_UPDATE,this.world.postUpdate,this.world),t.once(O.SHUTDOWN,this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return v(y(e,"matter",{}),y(t,"matter",{}))},enableAttractorPlugin:function(){return E.register(p),E.use(B,p),this},enableWrapPlugin:function(){return E.register(T),E.use(B,T),this},enableCollisionEventsPlugin:function(){return E.register(b),E.use(B,b),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(t,e){this.world.step(t,e)},containsPoint:function(t,e,i){t=this.getMatterBodies(t);var s=C.create(e,i);return q.point(t,s).length>0},intersectPoint:function(t,e,i){i=this.getMatterBodies(i);var s=C.create(t,e),o=[];return q.point(i,s).forEach(function(t){-1===o.indexOf(t)&&o.push(t)}),o},intersectRect:function(t,e,i,s,o,r){void 0===o&&(o=!1),r=this.getMatterBodies(r);var n={min:{x:t,y:e},max:{x:t+i,y:e+s}},h=[];return q.region(r,n,o).forEach(function(t){-1===h.indexOf(t)&&h.push(t)}),h},intersectRay:function(t,e,i,s,o,r){void 0===o&&(o=1),r=this.getMatterBodies(r);for(var n=[],h=q.ray(r,C.create(t,e),C.create(i,s),o),a=0;a<h.length;a++)n.push(h[a].body);return n},intersectBody:function(t,e){e=this.getMatterBodies(e);for(var i=[],s=q.collides(t,e),o=0;o<s.length;o++){var r=s[o];r.bodyA===t?i.push(r.bodyB):i.push(r.bodyA)}return i},overlap:function(t,e,i,s,o){void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=i),Array.isArray(t)||(t=[t]),t=this.getMatterBodies(t),e=this.getMatterBodies(e);for(var r=!1,n=0;n<t.length;n++)for(var h=t[n],a=q.collides(h,e),l=0;l<a.length;l++){var u=a[l],c=u.bodyA.id===h.id?u.bodyB:u.bodyA;if(!s||s.call(o,h,c,u))if(r=!0,i)i.call(o,h,c,u);else if(!s)return!0}return r},setCollisionCategory:function(t,e){return(t=this.getMatterBodies(t)).forEach(function(t){t.collisionFilter.category=e}),this},setCollisionGroup:function(t,e){return(t=this.getMatterBodies(t)).forEach(function(t){t.collisionFilter.group=e}),this},setCollidesWith:function(t,e){t=this.getMatterBodies(t);var i=0;if(Array.isArray(e))for(var s=0;s<e.length;s++)i|=e[s];else i=e;return t.forEach(function(t){t.collisionFilter.mask=i}),this},getMatterBodies:function(t){if(!t)return this.world.getAllBodies();Array.isArray(t)||(t=[t]);for(var e=[],i=0;i<t.length;i++){var s=t[i].hasOwnProperty("body")?t[i].body:t[i];e.push(s)}return e},setVelocity:function(t,e,i){t=this.getMatterBodies(t);var o=this._tempVec2;return o.x=e,o.y=i,t.forEach(function(t){s.setVelocity(t,o)}),this},setVelocityX:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return i.x=e,t.forEach(function(t){i.y=t.velocity.y,s.setVelocity(t,i)}),this},setVelocityY:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return i.y=e,t.forEach(function(t){i.x=t.velocity.x,s.setVelocity(t,i)}),this},setAngularVelocity:function(t,e){return(t=this.getMatterBodies(t)).forEach(function(t){s.setAngularVelocity(t,e)}),this},applyForce:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return t.forEach(function(t){i.x=t.position.x,i.y=t.position.y,s.applyForce(t,i,e)}),this},applyForceFromPosition:function(t,e,i,o){t=this.getMatterBodies(t);var r=this._tempVec2;return t.forEach(function(t){void 0===o&&(o=t.angle),r.x=i*Math.cos(o),r.y=i*Math.sin(o),s.applyForce(t,e,r)}),this},applyForceFromAngle:function(t,e,i){t=this.getMatterBodies(t);var o=this._tempVec2;return t.forEach(function(t){void 0===i&&(i=t.angle),o.x=e*Math.cos(i),o.y=e*Math.sin(i),s.applyForce(t,{x:t.position.x,y:t.position.y},o)}),this},getConstraintLength:function(t){var e=t.pointA.x,i=t.pointA.y,s=t.pointB.x,o=t.pointB.y;return t.bodyA&&(e+=t.bodyA.position.x,i+=t.bodyA.position.y),t.bodyB&&(s+=t.bodyB.position.x,o+=t.bodyB.position.y),c(e,i,s,o)},alignBody:function(e,i,o,r){var n;switch(e=e.hasOwnProperty("body")?e.body:e,r){case t.TOP_LEFT:case t.LEFT_TOP:n=this.bodyBounds.getTopLeft(e,i,o);break;case t.TOP_CENTER:n=this.bodyBounds.getTopCenter(e,i,o);break;case t.TOP_RIGHT:case t.RIGHT_TOP:n=this.bodyBounds.getTopRight(e,i,o);break;case t.LEFT_CENTER:n=this.bodyBounds.getLeftCenter(e,i,o);break;case t.CENTER:n=this.bodyBounds.getCenter(e,i,o);break;case t.RIGHT_CENTER:n=this.bodyBounds.getRightCenter(e,i,o);break;case t.LEFT_BOTTOM:case t.BOTTOM_LEFT:n=this.bodyBounds.getBottomLeft(e,i,o);break;case t.BOTTOM_CENTER:n=this.bodyBounds.getBottomCenter(e,i,o);break;case t.BOTTOM_RIGHT:case t.RIGHT_BOTTOM:n=this.bodyBounds.getBottomRight(e,i,o)}return n&&s.setPosition(e,n),this},shutdown:function(){var t=this.systems.events;this.world&&(t.off(O.UPDATE,this.world.update,this.world),t.off(O.POST_UPDATE,this.world.postUpdate,this.world)),t.off(O.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(O.START,this.start,this),this.scene=null,this.systems=null}});M.register("MatterPhysics",V,"matterPhysics"),module.exports=V;
},{"../../display/align/const":"B18i","./lib/geometry/Axes":"AlFY","./lib/factory/Bodies":"bOCr","./lib/body/Body":"ZQ7a","./BodyBounds":"SEOU","./lib/geometry/Bounds":"DuOH","../../utils/Class":"JASv","./lib/body/Composite":"Tlkx","./lib/factory/Composites":"fXQ4","./lib/constraint/Constraint":"sj0G","./lib/collision/Detector":"uyPb","../../math/distance/DistanceBetween":"ovvS","./Factory":"Hxai","../../utils/object/GetFastValue":"cEup","../../utils/object/GetValue":"OqLI","./lib/collision/Grid":"U9pO","./lib/plugins/MatterAttractors":"e0jf","./lib/plugins/MatterCollisionEvents":"bJDz","./lib/core/Matter":"Ywbp","./lib/plugins/MatterWrap":"kAir","../../utils/object/Merge":"NXFV","./lib/collision/Pair":"cKvI","./lib/collision/Pairs":"OjQH","./lib/core/Plugin":"y68X","../../plugins/PluginCache":"ZrqD","./lib/collision/Query":"QGzu","./lib/collision/Resolver":"NYXY","./lib/collision/SAT":"CbDk","../../scene/events":"zvkO","./lib/geometry/Svg":"DT2I","./lib/geometry/Vector":"SoZW","./lib/geometry/Vertices":"JhJa","./World":"CDsH"}],"xgIg":[function(require,module,exports) {
module.exports={BodyBounds:require("./BodyBounds"),Factory:require("./Factory"),Image:require("./MatterImage"),Matter:require("./CustomMain"),MatterPhysics:require("./MatterPhysics"),PolyDecomp:require("./poly-decomp"),Sprite:require("./MatterSprite"),TileBody:require("./MatterTileBody"),PhysicsEditorParser:require("./PhysicsEditorParser"),PhysicsJSONParser:require("./PhysicsJSONParser"),World:require("./World")};
},{"./BodyBounds":"SEOU","./Factory":"Hxai","./MatterImage":"aH18","./CustomMain":"roH5","./MatterPhysics":"nweT","./poly-decomp":"NmAR","./MatterSprite":"pMYD","./MatterTileBody":"l6TC","./PhysicsEditorParser":"YUai","./PhysicsJSONParser":"YBla","./World":"CDsH"}],"LhbK":[function(require,module,exports) {
module.exports={Arcade:require("./arcade"),Matter:require("./matter-js")};
},{"./arcade":"Waxg","./matter-js":"xgIg"}],"YlG3":[function(require,module,exports) {
var n=require("../utils/Class"),i=new n({initialize:function(n){this.pluginManager=n,this.game=n.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});module.exports=i;
},{"../utils/Class":"JASv"}],"Fzxc":[function(require,module,exports) {
var s=require("./BasePlugin"),e=require("../utils/Class"),t=require("../scene/events"),i=new e({Extends:s,initialize:function(e,i){s.call(this,i),this.scene=e,this.systems=e.sys,e.sys.events.once(t.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});module.exports=i;
},{"./BasePlugin":"YlG3","../utils/Class":"JASv","../scene/events":"zvkO"}],"czmb":[function(require,module,exports) {
module.exports={BasePlugin:require("./BasePlugin"),DefaultPlugins:require("./DefaultPlugins"),PluginCache:require("./PluginCache"),PluginManager:require("./PluginManager"),ScenePlugin:require("./ScenePlugin")};
},{"./BasePlugin":"YlG3","./DefaultPlugins":"CApx","./PluginCache":"ZrqD","./PluginManager":"gOW3","./ScenePlugin":"Fzxc"}],"HJjY":[function(require,module,exports) {
module.exports={CanvasRenderer:require("./CanvasRenderer"),GetBlendModes:require("./utils/GetBlendModes"),SetTransform:require("./utils/SetTransform")};
},{"./CanvasRenderer":"aHN6","./utils/GetBlendModes":"UPGW","./utils/SetTransform":"yLg6"}],"FDOI":[function(require,module,exports) {
module.exports={Canvas:require("./CanvasSnapshot"),WebGL:require("./WebGLSnapshot")};
},{"./CanvasSnapshot":"dhWQ","./WebGLSnapshot":"AiRy"}],"HB1v":[function(require,module,exports) {
module.exports={BitmapMaskPipeline:require("./BitmapMaskPipeline"),ForwardDiffuseLightPipeline:require("./ForwardDiffuseLightPipeline"),TextureTintPipeline:require("./TextureTintPipeline"),TextureTintStripPipeline:require("./TextureTintStripPipeline"),ModelViewProjection:require("./components/ModelViewProjection")};
},{"./BitmapMaskPipeline":"Vf9c","./ForwardDiffuseLightPipeline":"c2nI","./TextureTintPipeline":"MqnU","./TextureTintStripPipeline":"ccBL","./components/ModelViewProjection":"Jvhu"}],"WEGR":[function(require,module,exports) {
module.exports={Utils:require("./Utils"),WebGLPipeline:require("./WebGLPipeline"),WebGLRenderer:require("./WebGLRenderer"),Pipelines:require("./pipelines"),BYTE:0,SHORT:1,UNSIGNED_BYTE:2,UNSIGNED_SHORT:3,FLOAT:4};
},{"./Utils":"ZkeT","./WebGLPipeline":"Y7WV","./WebGLRenderer":"xKuU","./pipelines":"HB1v"}],"SydA":[function(require,module,exports) {
module.exports={Canvas:require("./canvas"),Snapshot:require("./snapshot"),WebGL:require("./webgl")};
},{"./canvas":"HJjY","./snapshot":"FDOI","./webgl":"WEGR"}],"tty9":[function(require,module,exports) {
var e=require("../utils/object/Extend"),r=require("./const"),O={Center:require("./const/CENTER_CONST"),Events:require("./events"),Orientation:require("./const/ORIENTATION_CONST"),ScaleManager:require("./ScaleManager"),ScaleModes:require("./const/SCALE_MODE_CONST"),Zoom:require("./const/ZOOM_CONST")};O=e(!1,O,r.CENTER),O=e(!1,O,r.ORIENTATION),O=e(!1,O,r.SCALE_MODE),O=e(!1,O,r.ZOOM),module.exports=O;
},{"../utils/object/Extend":"SFmW","./const":"RCzX","./const/CENTER_CONST":"sKg7","./events":"A24E","./const/ORIENTATION_CONST":"Urom","./ScaleManager":"tpQr","./const/SCALE_MODE_CONST":"rpuD","./const/ZOOM_CONST":"rSAq"}],"LtdL":[function(require,module,exports) {
var t=require("../math/Clamp"),s=require("../utils/Class"),e=require("./events"),i=require("../utils/object/GetFastValue"),n=require("../plugins/PluginCache"),r=new s({initialize:function(t){this.scene=t,this.systems=t.sys,this.settings=t.sys.settings,this.key=t.sys.settings.key,this.manager=t.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,t.sys.events.once(e.BOOT,this.boot,this),t.sys.events.on(e.START,this.pluginStart,this)},boot:function(){this.systems.events.once(e.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(e.SHUTDOWN,this.shutdown,this)},start:function(t,s){return void 0===t&&(t=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",t,s),this},restart:function(t){var s=this.key;return this.manager.queueOp("stop",s),this.manager.queueOp("start",s,t),this},transition:function(t){void 0===t&&(t={});var s=i(t,"target",!1),n=this.manager.getScene(s);if(!s||!this.checkValidTransition(n))return!1;var r=i(t,"duration",1e3);this._elapsed=0,this._target=n,this._duration=r,this._willSleep=i(t,"sleep",!1),this._willRemove=i(t,"remove",!1);var h=i(t,"onUpdate",null);h&&(this._onUpdate=h,this._onUpdateScope=i(t,"onUpdateScope",this.scene));var o=i(t,"allowInput",!1);this.settings.transitionAllowInput=o;var a=n.sys.settings;return a.isTransition=!0,a.transitionFrom=this.scene,a.transitionDuration=r,a.transitionAllowInput=o,i(t,"moveAbove",!1)?this.manager.moveAbove(this.key,s):i(t,"moveBelow",!1)&&this.manager.moveBelow(this.key,s),n.sys.isSleeping()?n.sys.wake(i(t,"data")):this.manager.start(s,i(t,"data")),this.systems.events.emit(e.TRANSITION_OUT,n,r),this.systems.events.on(e.UPDATE,this.step,this),!0},checkValidTransition:function(t){return!(!t||t.sys.isActive()||t.sys.isTransitioning()||t===this.scene||this.systems.isTransitioning())},step:function(s,e){this._elapsed+=e,this.transitionProgress=t(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var t=this._target.sys,s=this._target.sys.settings;this.systems.events.off(e.UPDATE,this.step,this),t.events.emit(e.TRANSITION_COMPLETE,this.scene),s.isTransition=!1,s.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(t,s,e,i){return this.manager.add(t,s,e,i)},launch:function(t,s){return t&&t!==this.key&&this.manager.queueOp("start",t,s),this},run:function(t,s){return t&&t!==this.key&&this.manager.queueOp("run",t,s),this},pause:function(t,s){return void 0===t&&(t=this.key),this.manager.queueOp("pause",t,s),this},resume:function(t,s){return void 0===t&&(t=this.key),this.manager.queueOp("resume",t,s),this},sleep:function(t,s){return void 0===t&&(t=this.key),this.manager.queueOp("sleep",t,s),this},wake:function(t,s){return void 0===t&&(t=this.key),this.manager.queueOp("wake",t,s),this},switch:function(t){return t!==this.key&&this.manager.queueOp("switch",this.key,t),this},stop:function(t,s){return void 0===t&&(t=this.key),this.manager.queueOp("stop",t,s),this},setActive:function(t,s,e){void 0===s&&(s=this.key);var i=this.manager.getScene(s);return i&&i.sys.setActive(t,e),this},setVisible:function(t,s){void 0===s&&(s=this.key);var e=this.manager.getScene(s);return e&&e.sys.setVisible(t),this},isSleeping:function(t){return void 0===t&&(t=this.key),this.manager.isSleeping(t)},isActive:function(t){return void 0===t&&(t=this.key),this.manager.isActive(t)},isPaused:function(t){return void 0===t&&(t=this.key),this.manager.isPaused(t)},isVisible:function(t){return void 0===t&&(t=this.key),this.manager.isVisible(t)},swapPosition:function(t,s){return void 0===s&&(s=this.key),t!==s&&this.manager.swapPosition(t,s),this},moveAbove:function(t,s){return void 0===s&&(s=this.key),t!==s&&this.manager.moveAbove(t,s),this},moveBelow:function(t,s){return void 0===s&&(s=this.key),t!==s&&this.manager.moveBelow(t,s),this},remove:function(t){return void 0===t&&(t=this.key),this.manager.remove(t),this},moveUp:function(t){return void 0===t&&(t=this.key),this.manager.moveUp(t),this},moveDown:function(t){return void 0===t&&(t=this.key),this.manager.moveDown(t),this},bringToTop:function(t){return void 0===t&&(t=this.key),this.manager.bringToTop(t),this},sendToBack:function(t){return void 0===t&&(t=this.key),this.manager.sendToBack(t),this},get:function(t){return this.manager.getScene(t)},getIndex:function(t){return void 0===t&&(t=this.key),this.manager.getIndex(t)},shutdown:function(){var t=this.systems.events;t.off(e.SHUTDOWN,this.shutdown,this),t.off(e.POST_UPDATE,this.step,this),t.off(e.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(e.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});n.register("ScenePlugin",r,"scenePlugin"),module.exports=r;
},{"../math/Clamp":"eCA1","../utils/Class":"JASv","./events":"zvkO","../utils/object/GetFastValue":"cEup","../plugins/PluginCache":"ZrqD"}],"eZD7":[function(require,module,exports) {
var e=require("./const"),r=require("../utils/object/Extend"),n={Events:require("./events"),SceneManager:require("./SceneManager"),ScenePlugin:require("./ScenePlugin"),Settings:require("./Settings"),Systems:require("./Systems")};n=r(!1,n,e),module.exports=n;
},{"./const":"AD22","../utils/object/Extend":"SFmW","./events":"zvkO","./SceneManager":"Xv1C","./ScenePlugin":"LtdL","./Settings":"cFNQ","./Systems":"cAYG"}],"ACuu":[function(require,module,exports) {
module.exports={List:require("./List"),Map:require("./Map"),ProcessQueue:require("./ProcessQueue"),RTree:require("./RTree"),Set:require("./Set"),Size:require("./Size")};
},{"./List":"ZAHL","./Map":"l4f9","./ProcessQueue":"zyEQ","./RTree":"eoRJ","./Set":"qWkr","./Size":"Kwmj"}],"JzNx":[function(require,module,exports) {
var E={LINEAR:0,NEAREST:1};module.exports=E;
},{}],"t3dj":[function(require,module,exports) {
var e=require("../utils/object/Extend"),r=require("./const"),u={CanvasTexture:require("./CanvasTexture"),Events:require("./events"),FilterMode:r,Frame:require("./Frame"),Parsers:require("./parsers"),Texture:require("./Texture"),TextureManager:require("./TextureManager"),TextureSource:require("./TextureSource")};u=e(!1,u,r),module.exports=u;
},{"../utils/object/Extend":"SFmW","./const":"JzNx","./CanvasTexture":"IG0K","./events":"Gfo3","./Frame":"nGOG","./parsers":"o3TW","./Texture":"K94h","./TextureManager":"CPbt","./TextureSource":"nM6K"}],"qQvm":[function(require,module,exports) {
var t=function(t,e,r){return t>=0&&t<r.width&&e>=0&&e<r.height};module.exports=t;
},{}],"DnMi":[function(require,module,exports) {
var n=require("./IsInLayerBounds"),l=function(l,u,r,e){if(void 0===r&&(r=!1),n(l,u,e)){var a=e.data[u][l]||null;return null===a?null:-1===a.index?r?a:null:a}return null};module.exports=l;
},{"./IsInLayerBounds":"qQvm"}],"DbKU":[function(require,module,exports) {
var e=require("./GetTileAt"),c=function(c,o,t){var f=e(c,o,!0,t),a=e(c,o-1,!0,t),l=e(c,o+1,!0,t),i=e(c-1,o,!0,t),s=e(c+1,o,!0,t),r=f&&f.collides;return r&&(f.faceTop=!0,f.faceBottom=!0,f.faceLeft=!0,f.faceRight=!0),a&&a.collides&&(r&&(f.faceTop=!1),a.faceBottom=!r),l&&l.collides&&(r&&(f.faceBottom=!1),l.faceTop=!r),i&&i.collides&&(r&&(f.faceLeft=!1),i.faceRight=!r),s&&s.collides&&(r&&(f.faceRight=!1),s.faceLeft=!r),f&&!f.collides&&f.resetFaces(),f};module.exports=c;
},{"./GetTileAt":"DnMi"}],"t28q":[function(require,module,exports) {
var i=require("../../utils/object/GetFastValue"),t=function(t,e,a,n,o,h){void 0===t&&(t=0),void 0===e&&(e=0),void 0===a&&(a=h.width),void 0===n&&(n=h.height);var r=i(o,"isNotEmpty",!1),d=i(o,"isColliding",!1),s=i(o,"hasInterestingFace",!1);t<0&&(a+=t,t=0),e<0&&(n+=e,e=0),t+a>h.width&&(a=Math.max(h.width-t,0)),e+n>h.height&&(n=Math.max(h.height-e,0));for(var u=[],l=e;l<e+n;l++)for(var v=t;v<t+a;v++){var c=h.data[l][v];if(null!==c){if(r&&-1===c.index)continue;if(d&&!c.collides)continue;if(s&&!c.hasInterestingFace)continue;u.push(c)}}return u};module.exports=t;
},{"../../utils/object/GetFastValue":"cEup"}],"olYP":[function(require,module,exports) {
var e=require("./GetTileAt"),l=require("./GetTilesWithin"),i=function(i,o,t,c,r){for(var n=null,s=null,u=null,a=null,f=l(i,o,t,c,null,r),d=0;d<f.length;d++){var x=f[d];x&&(x.collides?(n=e(x.x,x.y-1,!0,r),s=e(x.x,x.y+1,!0,r),u=e(x.x-1,x.y,!0,r),a=e(x.x+1,x.y,!0,r),x.faceTop=!n||!n.collides,x.faceBottom=!s||!s.collides,x.faceLeft=!u||!u.collides,x.faceRight=!a||!a.collides):x.resetFaces())}};module.exports=i;
},{"./GetTileAt":"DnMi","./GetTilesWithin":"t28q"}],"duUg":[function(require,module,exports) {
var e=require("./GetTilesWithin"),i=require("./CalculateFacesWithin"),t=function(t,a,r,l,h,n,o,u){t<0&&(t=0),a<0&&(a=0),void 0===o&&(o=!0);for(var d=e(t,a,r,l,null,u),c=h-t,v=n-a,s=0;s<d.length;s++){var f=d[s].x+c,g=d[s].y+v;f>=0&&f<u.width&&g>=0&&g<u.height&&u.data[g][f]&&u.data[g][f].copy(d[s])}o&&i(h-1,n-1,r+2,l+2,u)};module.exports=t;
},{"./GetTilesWithin":"t28q","./CalculateFacesWithin":"olYP"}],"JaYN":[function(require,module,exports) {
var e=function(e,a,r){var l=r.baseTileWidth,c=r.tilemapLayer,o=0;return c&&(void 0===a&&(a=c.scene.cameras.main),o=c.x+a.scrollX*(1-c.scrollFactorX),l*=c.scaleX),o+e*l};module.exports=e;
},{}],"rKqK":[function(require,module,exports) {
var e=function(e,a,r){var l=r.baseTileHeight,c=r.tilemapLayer,o=0;return c&&(void 0===a&&(a=c.scene.cameras.main),o=c.y+a.scrollY*(1-c.scrollFactorY),l*=c.scaleY),o+e*l};module.exports=e;
},{}],"T6sl":[function(require,module,exports) {
var e=require("./GetTilesWithin"),i=function(i,n,r,l,t,o,u){for(var d=e(r,l,t,o,null,u),x=0;x<d.length;x++)d[x]&&d[x].index===i&&(d[x].index=n)};module.exports=i;
},{"./GetTilesWithin":"t28q"}],"xLmo":[function(require,module,exports) {
var e=require("./TileToWorldX"),r=require("./TileToWorldY"),i=require("./GetTilesWithin"),t=require("./ReplaceByIndex"),a=function(a,h,l,n,o,d){void 0===l&&(l={}),Array.isArray(a)||(a=[a]);var u=d.tilemapLayer;void 0===n&&(n=u.scene),void 0===o&&(o=n.cameras.main);var f,s=i(0,0,d.width,d.height,null,d),y=[];for(f=0;f<s.length;f++){var v=s[f];if(-1!==a.indexOf(v.index)){l.x=e(v.x,o,d),l.y=r(v.y,o,d);var g=n.make.sprite(l);y.push(g)}}if("number"==typeof h)for(f=0;f<a.length;f++)t(a[f],h,0,0,d.width,d.height,d);else if(Array.isArray(h))for(f=0;f<a.length;f++)t(a[f],h[f],0,0,d.width,d.height,d);return y};module.exports=a;
},{"./TileToWorldX":"JaYN","./TileToWorldY":"rKqK","./GetTilesWithin":"t28q","./ReplaceByIndex":"T6sl"}],"KXms":[function(require,module,exports) {
var i=require("../../math/snap/SnapFloor"),l=require("../../math/snap/SnapCeil"),a=function(a,e,r,t){void 0===r&&(r=[]),void 0===t&&(t=0),r.length=0;var o,h,d,s=a.tilemapLayer.tilemap,n=a.tilemapLayer,p=a.data,f=a.width,u=a.height,c=Math.floor(s.tileWidth*n.scaleX),m=Math.floor(s.tileHeight*n.scaleY),w=0,x=f,g=0,v=u;if(!n.skipCull&&1===n.scrollFactorX&&1===n.scrollFactorY){var M=i(e.worldView.x-n.x,c,0,!0)-n.cullPaddingX,b=l(e.worldView.right-n.x,c,0,!0)+n.cullPaddingX,y=i(e.worldView.y-n.y,m,0,!0)-n.cullPaddingY,P=l(e.worldView.bottom-n.y,m,0,!0)+n.cullPaddingY;w=Math.max(0,M),x=Math.min(f,b),g=Math.max(0,y),v=Math.min(u,P)}if(0===t)for(h=g;h<v;h++)for(o=w;p[h]&&o<x;o++)(d=p[h][o])&&-1!==d.index&&d.visible&&0!==d.alpha&&r.push(d);else if(1===t)for(h=g;h<v;h++)for(o=x;p[h]&&o>=w;o--)(d=p[h][o])&&-1!==d.index&&d.visible&&0!==d.alpha&&r.push(d);else if(2===t)for(h=v;h>=g;h--)for(o=w;p[h]&&o<x;o++)(d=p[h][o])&&-1!==d.index&&d.visible&&0!==d.alpha&&r.push(d);else if(3===t)for(h=v;h>=g;h--)for(o=x;p[h]&&o>=w;o--)(d=p[h][o])&&-1!==d.index&&d.visible&&0!==d.alpha&&r.push(d);return n.tilesDrawn=r.length,n.tilesTotal=f*u,r};module.exports=a;
},{"../../math/snap/SnapFloor":"hQtq","../../math/snap/SnapCeil":"XcEv"}],"oyad":[function(require,module,exports) {
var o=function(o,e){e?o.setCollision(!0,!0,!0,!0,!1):o.resetCollision(!1)};module.exports=o;
},{}],"YkLd":[function(require,module,exports) {
var e=require("./GetTilesWithin"),i=require("./CalculateFacesWithin"),l=require("./SetTileCollision"),n=function(n,r,t,o,u,a,d){for(var s=-1!==d.collideIndexes.indexOf(n),c=e(r,t,o,u,null,d),x=0;x<c.length;x++)c[x].index=n,l(c[x],s);a&&i(r-1,t-1,o+2,u+2,d)};module.exports=n;
},{"./GetTilesWithin":"t28q","./CalculateFacesWithin":"olYP","./SetTileCollision":"oyad"}],"hXbr":[function(require,module,exports) {
var e=require("./GetTilesWithin"),r=function(r,i,t,n,u,l,o,f){return e(t,n,u,l,o,f).filter(r,i)};module.exports=r;
},{"./GetTilesWithin":"t28q"}],"Xj8N":[function(require,module,exports) {
var i=function(i,r,e,t){void 0===r&&(r=0),void 0===e&&(e=!1);var f,d,o,n=0;if(e){for(d=t.height-1;d>=0;d--)for(f=t.width-1;f>=0;f--)if((o=t.data[d][f])&&o.index===i){if(n===r)return o;n+=1}}else for(d=0;d<t.height;d++)for(f=0;f<t.width;f++)if((o=t.data[d][f])&&o.index===i){if(n===r)return o;n+=1}return null};module.exports=i;
},{}],"zPSQ":[function(require,module,exports) {
var e=require("./GetTilesWithin"),i=function(i,n,r,t,u,l,o,d){return e(r,t,u,l,o,d).find(i,n)||null};module.exports=i;
},{"./GetTilesWithin":"t28q"}],"W9tV":[function(require,module,exports) {
var e=require("./GetTilesWithin"),i=function(i,r,o,t,n,u,a,c){e(o,t,n,u,a,c).forEach(i,r)};module.exports=i;
},{"./GetTilesWithin":"t28q"}],"qo0R":[function(require,module,exports) {
var a=function(a,e,r,o){void 0===e&&(e=!0);var l=o.baseTileWidth,c=o.tilemapLayer;return c&&(void 0===r&&(r=c.scene.cameras.main),a-=c.x+r.scrollX*(1-c.scrollFactorX),l*=c.scaleX),e?Math.floor(a/l):a/l};module.exports=a;
},{}],"AKKJ":[function(require,module,exports) {
var e=function(e,a,r,o){void 0===a&&(a=!0);var l=o.baseTileHeight,c=o.tilemapLayer;return c&&(void 0===r&&(r=c.scene.cameras.main),e-=c.y+r.scrollY*(1-c.scrollFactorY),l*=c.scaleY),a?Math.floor(e/l):e/l};module.exports=e;
},{}],"md1N":[function(require,module,exports) {
var e=require("./GetTileAt"),r=require("./WorldToTileX"),i=require("./WorldToTileY"),o=function(o,l,u,t,T){var d=r(o,!0,t,T),n=i(l,!0,t,T);return e(d,n,u,T)};module.exports=o;
},{"./GetTileAt":"DnMi","./WorldToTileX":"qo0R","./WorldToTileY":"AKKJ"}],"kvtZ":[function(require,module,exports) {
var e=require("../../geom/"),r=require("./GetTilesWithin"),i=require("../../geom/intersects/"),t=require("../../utils/NOOP"),l=require("./TileToWorldX"),a=require("./TileToWorldY"),n=require("./WorldToTileX"),o=require("./WorldToTileY"),c=function(e,r){return i.RectangleToTriangle(r,e)},u=function(u,T,g,s){if(void 0===u)return[];var h=t;u instanceof e.Circle?h=i.CircleToRectangle:u instanceof e.Rectangle?h=i.RectangleToRectangle:u instanceof e.Triangle?h=c:u instanceof e.Line&&(h=i.LineToRectangle);var f=n(u.left,!0,g,s),m=o(u.top,!0,g,s),q=Math.ceil(n(u.right,!1,g,s)),d=Math.ceil(o(u.bottom,!1,g,s)),R=Math.max(q-f,1),p=Math.max(d-m,1),v=r(f,m,R,p,T,s),W=s.tileWidth,x=s.tileHeight;s.tilemapLayer&&(W*=s.tilemapLayer.scaleX,x*=s.tilemapLayer.scaleY);for(var y=[],L=new e.Rectangle(0,0,W,x),M=0;M<v.length;M++){var X=v[M];L.x=l(X.x,g,s),L.y=a(X.y,g,s),h(u,L)&&y.push(X)}return y};module.exports=u;
},{"../../geom/":"HXAG","./GetTilesWithin":"t28q","../../geom/intersects/":"qgzk","../../utils/NOOP":"lZkB","./TileToWorldX":"JaYN","./TileToWorldY":"rKqK","./WorldToTileX":"qo0R","./WorldToTileY":"AKKJ"}],"KOoG":[function(require,module,exports) {
var e=require("./GetTilesWithin"),r=require("./WorldToTileX"),i=require("./WorldToTileY"),l=function(l,o,t,u,T,a,n){var c=r(l,!0,a,n),d=i(o,!0,a,n),h=Math.ceil(r(l+t,!1,a,n)),q=Math.ceil(i(o+u,!1,a,n));return e(c,d,h-c,q-d,T,n)};module.exports=l;
},{"./GetTilesWithin":"t28q","./WorldToTileX":"qo0R","./WorldToTileY":"AKKJ"}],"TNBX":[function(require,module,exports) {
var r=require("./IsInLayerBounds"),e=function(e,n,u){if(r(e,n,u)){var a=u.data[n][e];return null!==a&&a.index>-1}return!1};module.exports=e;
},{"./IsInLayerBounds":"qQvm"}],"fK4L":[function(require,module,exports) {
var r=require("./HasTileAt"),e=require("./WorldToTileX"),i=require("./WorldToTileY"),o=function(o,l,u,T){var t=e(o,!0,u,T),a=i(l,!0,u,T);return r(t,a,T)};module.exports=o;
},{"./HasTileAt":"TNBX","./WorldToTileX":"qo0R","./WorldToTileY":"AKKJ"}],"TqCu":[function(require,module,exports) {
var t=require("../utils/Class"),i=require("../gameobjects/components"),e=require("../geom/rectangle"),s=new t({Mixins:[i.Alpha,i.Flip,i.Visible],initialize:function(t,i,e,s,h,l,o,n){this.layer=t,this.index=i,this.x=e,this.y=s,this.width=h,this.height=l,this.baseWidth=void 0!==o?o:h,this.baseHeight=void 0!==n?n:l,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=null,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(t,i){return!(t<this.pixelX||i<this.pixelY||t>this.right||i>this.bottom)},copy:function(t){return this.index=t.index,this.alpha=t.alpha,this.properties=t.properties,this.visible=t.visible,this.setFlip(t.flipX,t.flipY),this.tint=t.tint,this.rotation=t.rotation,this.collideUp=t.collideUp,this.collideDown=t.collideDown,this.collideLeft=t.collideLeft,this.collideRight=t.collideRight,this.collisionCallback=t.collisionCallback,this.collisionCallbackContext=t.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(t){var i=this.tilemapLayer;return i?i.tileToWorldX(this.x,t):this.x*this.baseWidth},getRight:function(t){var i=this.tilemapLayer;return i?this.getLeft(t)+this.width*i.scaleX:this.getLeft(t)+this.width},getTop:function(t){var i=this.tilemapLayer;return i?i.tileToWorldY(this.y,t)-(this.height-this.baseHeight)*i.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(t){var i=this.tilemapLayer;return i?this.getTop(t)+this.height*i.scaleY:this.getTop(t)+this.height},getBounds:function(t,i){return void 0===i&&(i=new e),i.x=this.getLeft(),i.y=this.getTop(),i.width=this.getRight()-i.x,i.height=this.getBottom()-i.y,i},getCenterX:function(t){return(this.getLeft(t)+this.getRight(t))/2},getCenterY:function(t){return(this.getTop(t)+this.getBottom(t))/2},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},intersects:function(t,i,e,s){return!(e<=this.pixelX||s<=this.pixelY||t>=this.right||i>=this.bottom)},isInteresting:function(t,i){return t&&i?this.canCollide||this.hasInterestingFace:t?this.collides:!!i&&this.hasInterestingFace},resetCollision:function(t){(void 0===t&&(t=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,t)&&(this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y));return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(t,i,e,s,h){(void 0===i&&(i=t),void 0===e&&(e=t),void 0===s&&(s=t),void 0===h&&(h=!0),this.collideLeft=t,this.collideRight=i,this.collideUp=e,this.collideDown=s,this.faceLeft=t,this.faceRight=i,this.faceTop=e,this.faceBottom=s,h)&&(this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y));return this},setCollisionCallback:function(t,i){return null===t?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=t,this.collisionCallbackContext=i),this},setSize:function(t,i,e,s){return void 0!==t&&(this.width=t),void 0!==i&&(this.height=i),void 0!==e&&(this.baseWidth=e),void 0!==s&&(this.baseHeight=s),this.updatePixelXY(),this},updatePixelXY:function(){return this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight,this},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var t=this.layer.tilemapLayer;if(t){var i=t.gidMap[this.index];if(i)return i}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var t=this.tilemapLayer;return t?t.tilemap:null}}});module.exports=s;
},{"../utils/Class":"JASv","../gameobjects/components":"VjLH","../geom/rectangle":"fJix"}],"OFjj":[function(require,module,exports) {
var e=require("../Tile"),i=require("./IsInLayerBounds"),a=require("./CalculateFacesAt"),l=require("./SetTileCollision"),t=function(t,d,n,r,u){if(!i(d,n,u))return null;void 0===r&&(r=!0);var o=u.data[n][d],s=o&&o.collides;if(t instanceof e)null===u.data[n][d]&&(u.data[n][d]=new e(u,t.index,d,n,t.width,t.height)),u.data[n][d].copy(t);else{var c=t;null===u.data[n][d]?u.data[n][d]=new e(u,c,d,n,u.tileWidth,u.tileHeight):u.data[n][d].index=c}var x=u.data[n][d],f=-1!==u.collideIndexes.indexOf(x.index);return l(x,f),r&&s!==x.collides&&a(d,n,u),x};module.exports=t;
},{"../Tile":"TqCu","./IsInLayerBounds":"qQvm","./CalculateFacesAt":"DbKU","./SetTileCollision":"oyad"}],"NkOQ":[function(require,module,exports) {
var r=require("./PutTileAt"),e=require("./WorldToTileX"),i=require("./WorldToTileY"),o=function(o,u,l,t,T,d){var n=e(u,!0,T,d),q=i(l,!0,T,d);return r(o,n,q,t,d)};module.exports=o;
},{"./PutTileAt":"OFjj","./WorldToTileX":"qo0R","./WorldToTileY":"AKKJ"}],"jRCQ":[function(require,module,exports) {
var r=require("./CalculateFacesWithin"),e=require("./PutTileAt"),a=function(a,i,t,l,u){if(!Array.isArray(a))return null;void 0===l&&(l=!0),Array.isArray(a[0])||(a=[a]);for(var n=a.length,o=a[0].length,v=0;v<n;v++)for(var A=0;A<o;A++){var f=a[v][A];e(f,i+A,t+v,!1,u)}l&&r(i-1,t-1,o+2,n+2,u)};module.exports=a;
},{"./CalculateFacesWithin":"olYP","./PutTileAt":"OFjj"}],"Pl1N":[function(require,module,exports) {
var e=require("./GetTilesWithin"),i=require("../../utils/array/GetRandom"),n=function(n,r,t,d,l,o){var u,a=e(n,r,t,d,null,o);if(void 0===l)for(l=[],u=0;u<a.length;u++)-1===l.indexOf(a[u].index)&&l.push(a[u].index);for(u=0;u<a.length;u++)a[u].index=i(l)};module.exports=n;
},{"./GetTilesWithin":"t28q","../../utils/array/GetRandom":"dkei"}],"KMLL":[function(require,module,exports) {
var e=require("../Tile"),r=require("./IsInLayerBounds"),l=require("./CalculateFacesAt"),u=function(u,i,a,n,t){if(void 0===a&&(a=!1),void 0===n&&(n=!0),!r(u,i,t))return null;var d=t.data[i][u];return d?(t.data[i][u]=a?null:new e(t,-1,u,i,d.width,d.height),n&&d&&d.collides&&l(u,i,t),d):null};module.exports=u;
},{"../Tile":"TqCu","./IsInLayerBounds":"qQvm","./CalculateFacesAt":"DbKU"}],"WykN":[function(require,module,exports) {
var e=require("./RemoveTileAt"),r=require("./WorldToTileX"),o=require("./WorldToTileY"),i=function(i,l,u,T,t,d){var n=r(i,!0,t,d),q=o(l,!0,t,d);return e(n,q,u,T,d)};module.exports=i;
},{"./RemoveTileAt":"KMLL","./WorldToTileX":"qo0R","./WorldToTileY":"AKKJ"}],"N8pr":[function(require,module,exports) {
var e=require("./GetTilesWithin"),l=require("../../display/color"),i=new l(105,210,231,150),a=new l(243,134,48,200),o=new l(40,39,37,150),t=function(l,t,n){void 0===t&&(t={});var r=void 0!==t.tileColor?t.tileColor:i,c=void 0!==t.collidingTileColor?t.collidingTileColor:a,d=void 0!==t.faceColor?t.faceColor:o,f=e(0,0,n.width,n.height,null,n);l.translateCanvas(n.tilemapLayer.x,n.tilemapLayer.y),l.scaleCanvas(n.tilemapLayer.scaleX,n.tilemapLayer.scaleY);for(var h=0;h<f.length;h++){var p=f[h],s=p.width,v=p.height,w=p.pixelX,y=p.pixelY,C=p.collides?c:r;null!==C&&(l.fillStyle(C.color,C.alpha/255),l.fillRect(w,y,s,v)),w+=1,y+=1,s-=2,v-=2,null!==d&&(l.lineStyle(1,d.color,d.alpha/255),p.faceTop&&l.lineBetween(w,y,w+s,y),p.faceRight&&l.lineBetween(w+s,y,w+s,y+v),p.faceBottom&&l.lineBetween(w,y+v,w+s,y+v),p.faceLeft&&l.lineBetween(w,y,w,y+v))}};module.exports=t;
},{"./GetTilesWithin":"t28q","../../display/color":"tasG"}],"UIVl":[function(require,module,exports) {
var e=function(e,d,l){var i=l.collideIndexes.indexOf(e);d&&-1===i?l.collideIndexes.push(e):d||-1===i||l.collideIndexes.splice(i,1)};module.exports=e;
},{}],"MnEO":[function(require,module,exports) {
var i=require("./SetTileCollision"),e=require("./CalculateFacesWithin"),r=require("./SetLayerCollisionIndex"),a=function(a,o,t,d,l){void 0===o&&(o=!0),void 0===t&&(t=!0),Array.isArray(a)||(a=[a]),void 0===l&&(l=!0);for(var n=0;n<a.length;n++)r(a[n],o,d);if(l)for(var h=0;h<d.height;h++)for(var v=0;v<d.width;v++){var f=d.data[h][v];f&&-1!==a.indexOf(f.index)&&i(f,o)}t&&e(0,0,d.width,d.height,d)};module.exports=a;
},{"./SetTileCollision":"oyad","./CalculateFacesWithin":"olYP","./SetLayerCollisionIndex":"UIVl"}],"qXbp":[function(require,module,exports) {
var i=require("./SetTileCollision"),e=require("./CalculateFacesWithin"),r=require("./SetLayerCollisionIndex"),o=function(o,a,t,d,l,n){if(void 0===t&&(t=!0),void 0===d&&(d=!0),void 0===n&&(n=!0),!(o>a)){for(var v=o;v<=a;v++)r(v,t,l);if(n)for(var h=0;h<l.height;h++)for(var f=0;f<l.width;f++){var u=l.data[h][f];u&&u.index>=o&&u.index<=a&&i(u,t)}d&&e(0,0,l.width,l.height,l)}};module.exports=o;
},{"./SetTileCollision":"oyad","./CalculateFacesWithin":"olYP","./SetLayerCollisionIndex":"UIVl"}],"uMMg":[function(require,module,exports) {
var i=require("./SetTileCollision"),e=require("./CalculateFacesWithin"),r=require("./SetLayerCollisionIndex"),a=function(a,o,t,d){void 0===o&&(o=!0),void 0===t&&(t=!0),Array.isArray(a)||(a=[a]);for(var n=0;n<d.height;n++)for(var l=0;l<d.width;l++){var h=d.data[n][l];h&&-1===a.indexOf(h.index)&&(i(h,o),r(h.index,o,d))}t&&e(0,0,d.width,d.height,d)};module.exports=a;
},{"./SetTileCollision":"oyad","./CalculateFacesWithin":"olYP","./SetLayerCollisionIndex":"UIVl"}],"RvVo":[function(require,module,exports) {
var r=require("./SetTileCollision"),i=require("./CalculateFacesWithin"),e=require("../../utils/object/HasValue"),a=function(a,t,o,l){void 0===t&&(t=!0),void 0===o&&(o=!0);for(var v=0;v<l.height;v++)for(var h=0;h<l.width;h++){var s=l.data[v][h];if(s)for(var u in a)if(e(s.properties,u)){var f=a[u];Array.isArray(f)||(f=[f]);for(var d=0;d<f.length;d++)s.properties[u]===f[d]&&r(s,t)}}o&&i(0,0,l.width,l.height,l)};module.exports=a;
},{"./SetTileCollision":"oyad","./CalculateFacesWithin":"olYP","../../utils/object/HasValue":"hJUo"}],"rNv3":[function(require,module,exports) {
var i=require("./SetTileCollision"),e=require("./CalculateFacesWithin"),o=function(o,t,r){void 0===o&&(o=!0),void 0===t&&(t=!0);for(var a=0;a<r.height;a++)for(var l=0;l<r.width;l++){var h=r.data[a][l];if(h){var v=h.getCollisionGroup();v&&v.objects&&v.objects.length>0&&i(h,o)}}t&&e(0,0,r.width,r.height,r)};module.exports=o;
},{"./SetTileCollision":"oyad","./CalculateFacesWithin":"olYP"}],"kQvI":[function(require,module,exports) {
var l=function(l,a,c,e){if("number"==typeof l)e.callbacks[l]=null!==a?{callback:a,callbackContext:c}:void 0;else for(var o=0,n=l.length;o<n;o++)e.callbacks[l[o]]=null!==a?{callback:a,callbackContext:c}:void 0};module.exports=l;
},{}],"QrbA":[function(require,module,exports) {
var l=require("./GetTilesWithin"),e=function(e,i,n,o,r,t,a){for(var s=l(e,i,n,o,null,a),u=0;u<s.length;u++)s[u].setCollisionCallback(r,t)};module.exports=e;
},{"./GetTilesWithin":"t28q"}],"n8ns":[function(require,module,exports) {
var e=require("./GetTilesWithin"),r=require("../../utils/array/Shuffle"),i=function(i,n,u,t,l){var a=e(i,n,u,t,null,l),f=a.map(function(e){return e.index});r(f);for(var o=0;o<a.length;o++)a[o].index=f[o]};module.exports=i;
},{"./GetTilesWithin":"t28q","../../utils/array/Shuffle":"W8ol"}],"L6X4":[function(require,module,exports) {
var e=require("./GetTilesWithin"),i=function(i,n,r,d,l,t,x){for(var o=e(r,d,l,t,null,x),u=0;u<o.length;u++)o[u]&&(o[u].index===i?o[u].index=n:o[u].index===n&&(o[u].index=i))};module.exports=i;
},{"./GetTilesWithin":"t28q"}],"kKFw":[function(require,module,exports) {
var e=require("./TileToWorldX"),r=require("./TileToWorldY"),o=require("../../math/Vector2"),i=function(i,u,l,t,d){return void 0===l&&(l=new o(0,0)),l.x=e(i,t,d),l.y=r(u,t,d),l};module.exports=i;
},{"./TileToWorldX":"JaYN","./TileToWorldY":"rKqK","../../math/Vector2":"qKN5"}],"wG5S":[function(require,module,exports) {
var r=require("./GetTilesWithin"),e=function(e,i,t,a,n,o){if(void 0!==n){var h,l=r(e,i,t,a,null,o),f=0;for(h=0;h<n.length;h++)f+=n[h].weight;if(!(f<=0))for(h=0;h<l.length;h++){for(var d=Math.random()*f,g=0,v=-1,u=0;u<n.length;u++)if(d<=(g+=n[u].weight)){var m=n[u].index;v=Array.isArray(m)?m[Math.floor(Math.random()*m.length)]:m;break}l[h].index=v}}};module.exports=e;
},{"./GetTilesWithin":"t28q"}],"g36S":[function(require,module,exports) {
var e=require("./WorldToTileX"),r=require("./WorldToTileY"),o=require("../../math/Vector2"),i=function(i,u,l,t,d,n){return void 0===t&&(t=new o(0,0)),t.x=e(i,l,d,n),t.y=r(u,l,d,n),t};module.exports=i;
},{"./WorldToTileX":"qo0R","./WorldToTileY":"AKKJ","../../math/Vector2":"qKN5"}],"rgTA":[function(require,module,exports) {
module.exports={CalculateFacesAt:require("./CalculateFacesAt"),CalculateFacesWithin:require("./CalculateFacesWithin"),Copy:require("./Copy"),CreateFromTiles:require("./CreateFromTiles"),CullTiles:require("./CullTiles"),Fill:require("./Fill"),FilterTiles:require("./FilterTiles"),FindByIndex:require("./FindByIndex"),FindTile:require("./FindTile"),ForEachTile:require("./ForEachTile"),GetTileAt:require("./GetTileAt"),GetTileAtWorldXY:require("./GetTileAtWorldXY"),GetTilesWithin:require("./GetTilesWithin"),GetTilesWithinShape:require("./GetTilesWithinShape"),GetTilesWithinWorldXY:require("./GetTilesWithinWorldXY"),HasTileAt:require("./HasTileAt"),HasTileAtWorldXY:require("./HasTileAtWorldXY"),IsInLayerBounds:require("./IsInLayerBounds"),PutTileAt:require("./PutTileAt"),PutTileAtWorldXY:require("./PutTileAtWorldXY"),PutTilesAt:require("./PutTilesAt"),Randomize:require("./Randomize"),RemoveTileAt:require("./RemoveTileAt"),RemoveTileAtWorldXY:require("./RemoveTileAtWorldXY"),RenderDebug:require("./RenderDebug"),ReplaceByIndex:require("./ReplaceByIndex"),SetCollision:require("./SetCollision"),SetCollisionBetween:require("./SetCollisionBetween"),SetCollisionByExclusion:require("./SetCollisionByExclusion"),SetCollisionByProperty:require("./SetCollisionByProperty"),SetCollisionFromCollisionGroup:require("./SetCollisionFromCollisionGroup"),SetTileIndexCallback:require("./SetTileIndexCallback"),SetTileLocationCallback:require("./SetTileLocationCallback"),Shuffle:require("./Shuffle"),SwapByIndex:require("./SwapByIndex"),TileToWorldX:require("./TileToWorldX"),TileToWorldXY:require("./TileToWorldXY"),TileToWorldY:require("./TileToWorldY"),WeightedRandomize:require("./WeightedRandomize"),WorldToTileX:require("./WorldToTileX"),WorldToTileXY:require("./WorldToTileXY"),WorldToTileY:require("./WorldToTileY")};
},{"./CalculateFacesAt":"DbKU","./CalculateFacesWithin":"olYP","./Copy":"duUg","./CreateFromTiles":"xLmo","./CullTiles":"KXms","./Fill":"YkLd","./FilterTiles":"hXbr","./FindByIndex":"Xj8N","./FindTile":"zPSQ","./ForEachTile":"W9tV","./GetTileAt":"DnMi","./GetTileAtWorldXY":"md1N","./GetTilesWithin":"t28q","./GetTilesWithinShape":"kvtZ","./GetTilesWithinWorldXY":"KOoG","./HasTileAt":"TNBX","./HasTileAtWorldXY":"fK4L","./IsInLayerBounds":"qQvm","./PutTileAt":"OFjj","./PutTileAtWorldXY":"NkOQ","./PutTilesAt":"jRCQ","./Randomize":"Pl1N","./RemoveTileAt":"KMLL","./RemoveTileAtWorldXY":"WykN","./RenderDebug":"N8pr","./ReplaceByIndex":"T6sl","./SetCollision":"MnEO","./SetCollisionBetween":"qXbp","./SetCollisionByExclusion":"uMMg","./SetCollisionByProperty":"RvVo","./SetCollisionFromCollisionGroup":"rNv3","./SetTileIndexCallback":"kQvI","./SetTileLocationCallback":"QrbA","./Shuffle":"n8ns","./SwapByIndex":"L6X4","./TileToWorldX":"JaYN","./TileToWorldXY":"kKFw","./TileToWorldY":"rKqK","./WeightedRandomize":"wG5S","./WorldToTileX":"qo0R","./WorldToTileXY":"g36S","./WorldToTileY":"AKKJ"}],"kSFm":[function(require,module,exports) {
var i=require("../../utils/Class"),e=require("../../utils/object/GetFastValue"),t=new i({initialize:function(i){void 0===i&&(i={}),this.name=e(i,"name","layer"),this.x=e(i,"x",0),this.y=e(i,"y",0),this.width=e(i,"width",0),this.height=e(i,"height",0),this.tileWidth=e(i,"tileWidth",0),this.tileHeight=e(i,"tileHeight",0),this.baseTileWidth=e(i,"baseTileWidth",this.tileWidth),this.baseTileHeight=e(i,"baseTileHeight",this.tileHeight),this.widthInPixels=e(i,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=e(i,"heightInPixels",this.height*this.baseTileHeight),this.alpha=e(i,"alpha",1),this.visible=e(i,"visible",!0),this.properties=e(i,"properties",[]),this.indexes=e(i,"indexes",[]),this.collideIndexes=e(i,"collideIndexes",[]),this.callbacks=e(i,"callbacks",[]),this.bodies=e(i,"bodies",[]),this.data=e(i,"data",[]),this.tilemapLayer=e(i,"tilemapLayer",null)}});module.exports=t;
},{"../../utils/Class":"JASv","../../utils/object/GetFastValue":"cEup"}],"z96B":[function(require,module,exports) {
var i=require("../../utils/Class"),t=require("../../utils/object/GetFastValue"),e=new i({initialize:function(i){void 0===i&&(i={}),this.name=t(i,"name","map"),this.width=t(i,"width",0),this.height=t(i,"height",0),this.infinite=t(i,"infinite",!1),this.tileWidth=t(i,"tileWidth",0),this.tileHeight=t(i,"tileHeight",0),this.widthInPixels=t(i,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=t(i,"heightInPixels",this.height*this.tileHeight),this.format=t(i,"format",null),this.orientation=t(i,"orientation","orthogonal"),this.renderOrder=t(i,"renderOrder","right-down"),this.version=t(i,"version","1"),this.properties=t(i,"properties",{}),this.layers=t(i,"layers",[]),this.images=t(i,"images",[]),this.objects=t(i,"objects",{}),this.collision=t(i,"collision",{}),this.tilesets=t(i,"tilesets",[]),this.imageCollections=t(i,"imageCollections",[]),this.tiles=t(i,"tiles",[])}});module.exports=e;
},{"../../utils/Class":"JASv","../../utils/object/GetFastValue":"cEup"}],"NwR9":[function(require,module,exports) {
var e=require("../Formats"),t=require("../mapdata/LayerData"),i=require("../mapdata/MapData"),a=require("../Tile"),r=function(r,h,n,l,d){for(var g=new t({tileWidth:n,tileHeight:l}),s=new i({name:r,tileWidth:n,tileHeight:l,format:e.ARRAY_2D,layers:[g]}),u=[],w=h.length,o=0,m=0;m<h.length;m++){u[m]=[];for(var p=h[m],x=0;x<p.length;x++){var I=parseInt(p[x],10);isNaN(I)||-1===I?u[m][x]=d?null:new a(g,-1,x,m,n,l):u[m][x]=new a(g,I,x,m,n,l)}0===o&&(o=p.length)}return s.width=g.width=o,s.height=g.height=w,s.widthInPixels=g.widthInPixels=o*n,s.heightInPixels=g.heightInPixels=w*l,g.data=u,s};module.exports=r;
},{"../Formats":"T6CI","../mapdata/LayerData":"kSFm","../mapdata/MapData":"z96B","../Tile":"TqCu"}],"CB3P":[function(require,module,exports) {
var r=require("../Formats"),t=require("./Parse2DArray"),e=function(e,a,i,n,u){var o=a.trim().split("\n").map(function(r){return r.split(",")}),m=t(e,o,i,n,u);return m.format=r.CSV,m};module.exports=e;
},{"../Formats":"T6CI","./Parse2DArray":"NwR9"}],"Aezy":[function(require,module,exports) {
var r=function(r){for(var o=window.atob(r),e=o.length,t=new Array(e/4),a=0;a<e;a+=4)t[a/4]=(o.charCodeAt(a)|o.charCodeAt(a+1)<<8|o.charCodeAt(a+2)<<16|o.charCodeAt(a+3)<<24)>>>0;return t};module.exports=r;
},{}],"J69X":[function(require,module,exports) {
var a=2147483648,o=1073741824,t=536870912,e=function(e){var i=Boolean(e&a),l=Boolean(e&o),n=Boolean(e&t);e&=~(a|o|t);var p=0,r=!1;return i&&l&&n?(p=Math.PI/2,r=!0):i&&l&&!n?(p=Math.PI,r=!1):i&&!l&&n?(p=Math.PI/2,r=!1):!i||l||n?!i&&l&&n?(p=3*Math.PI/2,r=!1):i||!l||n?i||l||!n?i||l||n||(p=0,r=!1):(p=3*Math.PI/2,r=!0):(p=Math.PI,r=!0):(p=0,r=!0),{gid:e,flippedHorizontal:i,flippedVertical:l,flippedAntiDiagonal:n,rotation:p,flipped:r}};module.exports=e;
},{}],"oPOP":[function(require,module,exports) {
var e=require("../../../utils/object/GetFastValue"),i=function(i,t,a){if(!t)return{i:0,layers:i.layers,name:"",opacity:1,visible:!0,x:0,y:0};var r=t.x+e(t,"startx",0)*i.tilewidth+e(t,"offsetx",0),s=t.y+e(t,"starty",0)*i.tileheight+e(t,"offsety",0);return{i:0,layers:t.layers,name:a.name+t.name+"/",opacity:a.opacity*t.opacity,visible:a.visible&&t.visible,x:a.x+r,y:a.y+s}};module.exports=i;
},{"../../../utils/object/GetFastValue":"cEup"}],"MMLZ":[function(require,module,exports) {
var e=require("./Base64Decode"),i=require("../../../utils/object/GetFastValue"),t=require("../../mapdata/LayerData"),a=require("./ParseGID"),r=require("../../Tile"),l=require("./CreateGroupLayer"),h=function(h,n){for(var s=i(h,"infinite",!1),o=[],p=[],d=l(h);d.i<d.layers.length||p.length>0;)if(d.i>=d.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=p.pop()}else{var g=d.layers[d.i];if(d.i++,"tilelayer"===g.type)if(g.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+g.name+"'");else{if(g.encoding&&"base64"===g.encoding){if(g.chunks)for(var u=0;u<g.chunks.length;u++)g.chunks[u].data=e(g.chunks[u].data);g.data&&(g.data=e(g.data)),delete g.encoding}var f,y,w,c,v=[],m=0;if(s){var x=i(g,"startx",0)+g.x,b=i(g,"starty",0)+g.y;f=new t({name:d.name+g.name,x:d.x+i(g,"offsetx",0)+x*h.tilewidth,y:d.y+i(g,"offsety",0)+b*h.tileheight,width:g.width,height:g.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:d.opacity*g.opacity,visible:d.visible&&g.visible,properties:i(g,"properties",[])});for(var k=0;k<g.height;k++){v.push([null]);for(var q=0;q<g.width;q++)v[k][q]=null}for(k=0,S=g.chunks.length;k<S;k++)for(var T=g.chunks[k],D=T.x-x,G=T.y-b,L=0,P=0,H=T.data.length;P<H;P++){var I=m+D,J=L+G;(y=a(T.data[P])).gid>0?((w=new r(f,y.gid,I,J,h.tilewidth,h.tileheight)).rotation=y.rotation,w.flipX=y.flipped,v[J][I]=w):(c=n?null:new r(f,-1,I,J,h.tilewidth,h.tileheight),v[J][I]=c),++m===T.width&&(L++,m=0)}}else{f=new t({name:d.name+g.name,x:d.x+i(g,"offsetx",0)+g.x,y:d.y+i(g,"offsety",0)+g.y,width:g.width,height:g.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:d.opacity*g.opacity,visible:d.visible&&g.visible,properties:i(g,"properties",[])});for(var N=[],O=0,S=g.data.length;O<S;O++)(y=a(g.data[O])).gid>0?((w=new r(f,y.gid,m,v.length,h.tilewidth,h.tileheight)).rotation=y.rotation,w.flipX=y.flipped,N.push(w)):(c=n?null:new r(f,-1,m,v.length,h.tilewidth,h.tileheight),N.push(c)),++m===g.width&&(v.push(N),m=0,N=[])}f.data=v,o.push(f)}else if("group"===g.type){var W=l(h,g,d);p.push(d),d=W}}return o};module.exports=h;
},{"./Base64Decode":"Aezy","../../../utils/object/GetFastValue":"cEup","../../mapdata/LayerData":"kSFm","./ParseGID":"J69X","../../Tile":"TqCu","./CreateGroupLayer":"oPOP"}],"vTwh":[function(require,module,exports) {
var e=require("../../../utils/object/GetFastValue"),r=require("./CreateGroupLayer"),a=function(a){for(var i=[],t=[],l=r(a);l.i<l.layers.length||t.length>0;)if(l.i>=l.layers.length){if(t.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}l=t.pop()}else{var s=l.layers[l.i];if(l.i++,"imagelayer"===s.type){var p=e(s,"offsetx",0)+e(s,"startx",0),o=e(s,"offsety",0)+e(s,"starty",0);i.push({name:l.name+s.name,image:s.image,x:l.x+p+s.x,y:l.y+o+s.y,alpha:l.opacity*s.opacity,visible:l.visible&&s.visible,properties:e(s,"properties",{})})}else if("group"===s.type){var y=r(a,s,l);t.push(l),l=y}}return i};module.exports=a;
},{"../../../utils/object/GetFastValue":"cEup","./CreateGroupLayer":"oPOP"}],"DnWo":[function(require,module,exports) {
var i=require("../utils/Class"),t=new i({initialize:function(i,t,e,s,h,n,l,a){(void 0===e||e<=0)&&(e=32),(void 0===s||s<=0)&&(s=32),void 0===h&&(h=0),void 0===n&&(n=0),void 0===l&&(l={}),void 0===a&&(a={}),this.name=i,this.firstgid=t,this.tileWidth=e,this.tileHeight=s,this.tileMargin=h,this.tileSpacing=n,this.tileProperties=l,this.tileData=a,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(i){return this.containsTileIndex(i)?this.tileProperties[i-this.firstgid]:null},getTileData:function(i){return this.containsTileIndex(i)?this.tileData[i-this.firstgid]:null},getTileCollisionGroup:function(i){var t=this.getTileData(i);return t&&t.objectgroup?t.objectgroup:null},containsTileIndex:function(i){return i>=this.firstgid&&i<this.firstgid+this.total},getTileTextureCoordinates:function(i){return this.containsTileIndex(i)?this.texCoordinates[i-this.firstgid]:null},setImage:function(i){return this.image=i,this.glTexture=i.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(i,t){return void 0!==i&&(this.tileWidth=i),void 0!==t&&(this.tileHeight=t),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(i,t){return void 0!==i&&(this.tileMargin=i),void 0!==t&&(this.tileSpacing=t),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(i,t){var e=(t-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(i-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);e%1==0&&s%1==0||console.warn("Image tile area not tile size multiple in: "+this.name),e=Math.floor(e),s=Math.floor(s),this.rows=e,this.columns=s,this.total=e*s,this.texCoordinates.length=0;for(var h=this.tileMargin,n=this.tileMargin,l=0;l<this.rows;l++){for(var a=0;a<this.columns;a++)this.texCoordinates.push({x:h,y:n}),h+=this.tileWidth+this.tileSpacing;h=this.tileMargin,n+=this.tileHeight+this.tileSpacing}return this}});module.exports=t;
},{"../utils/Class":"JASv"}],"QIvd":[function(require,module,exports) {
var i=require("../utils/Class"),t=new i({initialize:function(i,t,s,e,a,h,g){(void 0===s||s<=0)&&(s=32),(void 0===e||e<=0)&&(e=32),void 0===a&&(a=0),void 0===h&&(h=0),this.name=i,this.firstgid=0|t,this.imageWidth=0|s,this.imageHeight=0|e,this.imageMargin=0|a,this.imageSpacing=0|h,this.properties=g||{},this.images=[],this.total=0},containsImageIndex:function(i){return i>=this.firstgid&&i<this.firstgid+this.total},addImage:function(i,t){return this.images.push({gid:i,image:t}),this.total++,this}});module.exports=t;
},{"../utils/Class":"JASv"}],"dbj1":[function(require,module,exports) {
var r=require("./HasValue"),e=function(e,a){for(var u={},n=0;n<a.length;n++){var o=a[n];r(e,o)&&(u[o]=e[o])}return u};module.exports=e;
},{"./HasValue":"hJUo"}],"GF9e":[function(require,module,exports) {
var i=require("../../../utils/object/Pick"),e=require("./ParseGID"),l=function(i){return{x:i.x,y:i.y}},p=["id","name","type","rotation","properties","visible","x","y","width","height"],t=function(t,o,n){void 0===o&&(o=0),void 0===n&&(n=0);var r=i(t,p);if(r.x+=o,r.y+=n,t.gid){var a=e(t.gid);r.gid=a.gid,r.flippedHorizontal=a.flippedHorizontal,r.flippedVertical=a.flippedVertical,r.flippedAntiDiagonal=a.flippedAntiDiagonal}else t.polyline?r.polyline=t.polyline.map(l):t.polygon?r.polygon=t.polygon.map(l):t.ellipse?r.ellipse=t.ellipse:t.text?r.text=t.text:t.point?r.point=!0:r.rectangle=!0;return r};module.exports=t;
},{"../../../utils/object/Pick":"dbj1","./ParseGID":"J69X"}],"tMbX":[function(require,module,exports) {
var e=require("../../Tileset"),t=require("../../ImageCollection"),i=require("./ParseObject"),r=function(r){for(var a,o=[],s=[],n=null,l=0;l<r.tilesets.length;l++){var p=r.tilesets[l];if(p.source)console.warn("Phaser can't load external tilesets. Use the Embed Tileset button and then export the map again.");else if(p.image){var g=new e(p.name,p.firstgid,p.tilewidth,p.tileheight,p.margin,p.spacing);if(r.version>1){if(Array.isArray(p.tiles)){for(var c={},u={},m=0;m<p.tiles.length;m++){var d=p.tiles[m];if(d.properties){var f={};d.properties.forEach(function(e){f[e.name]=e.value}),u[d.id]=f}if(d.objectgroup&&(c[d.id]={objectgroup:d.objectgroup},d.objectgroup.objects)){var h=d.objectgroup.objects.map(function(e){return i(e)});c[d.id].objectgroup.objects=h}d.animation&&(c.hasOwnProperty(d.id)?c[d.id].animation=d.animation:c[d.id]={animation:d.animation})}g.tileData=c,g.tileProperties=u}}else if(p.tileproperties&&(g.tileProperties=p.tileproperties),p.tiles)for(a in g.tileData=p.tiles,g.tileData){var b=g.tileData[a].objectgroup;if(b&&b.objects){var j=b.objects.map(function(e){return i(e)});g.tileData[a].objectgroup.objects=j}}g.updateTileData(p.imagewidth,p.imageheight),o.push(g)}else{var v=new t(p.name,p.firstgid,p.tilewidth,p.tileheight,p.margin,p.spacing,p.properties);for(a in p.tiles){var w=p.tiles[a].image,D=p.firstgid+parseInt(a,10);v.addImage(D,w)}s.push(v)}n&&(n.lastgid=p.firstgid-1),n=p}return{tilesets:o,imageCollections:s}};module.exports=r;
},{"../../Tileset":"DnWo","../../ImageCollection":"QIvd","./ParseObject":"GF9e"}],"Hhdc":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../../utils/object/GetFastValue"),i=new e({initialize:function(e){void 0===e&&(e={}),this.name=t(e,"name","object layer"),this.opacity=t(e,"opacity",1),this.properties=t(e,"properties",{}),this.propertyTypes=t(e,"propertytypes",{}),this.type=t(e,"type","objectgroup"),this.visible=t(e,"visible",!0),this.objects=t(e,"objects",[])}});module.exports=i;
},{"../../utils/Class":"JASv","../../utils/object/GetFastValue":"cEup"}],"s44V":[function(require,module,exports) {
var e=require("../../../utils/object/GetFastValue"),r=require("./ParseObject"),a=require("../../mapdata/ObjectLayer"),t=require("./CreateGroupLayer"),i=function(i){for(var s=[],l=[],o=t(i);o.i<o.layers.length||l.length>0;)if(o.i>=o.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}o=l.pop()}else{var p=o.layers[o.i];if(o.i++,p.opacity*=o.opacity,p.visible=o.visible&&p.visible,"objectgroup"===p.type){p.name=o.name+p.name;for(var u=o.x+e(p,"startx",0)+e(p,"offsetx",0),n=o.y+e(p,"starty",0)+e(p,"offsety",0),y=[],c=0;c<p.objects.length;c++){var b=r(p.objects[c],u,n);y.push(b)}var f=new a(p);f.objects=y,s.push(f)}else if("group"===p.type){var v=t(i,p,o);l.push(o),o=v}}return s};module.exports=i;
},{"../../../utils/object/GetFastValue":"cEup","./ParseObject":"GF9e","../../mapdata/ObjectLayer":"Hhdc","./CreateGroupLayer":"oPOP"}],"BBkz":[function(require,module,exports) {
var i=require("../../Tileset"),e=function(e){var t,a,l=[];for(t=0;t<e.imageCollections.length;t++)for(var g=e.imageCollections[t],r=g.images,s=0;s<r.length;s++){var n=r[s];(a=new i(n.image,n.gid,g.imageWidth,g.imageHeight,0,0)).updateTileData(g.imageWidth,g.imageHeight),e.tilesets.push(a)}for(t=0;t<e.tilesets.length;t++)for(var o=(a=e.tilesets[t]).tileMargin,h=a.tileMargin,m=0,d=0,f=0,u=a.firstgid;u<a.firstgid+a.total&&(l[u]=[o,h,t],o+=a.tileWidth+a.tileSpacing,++m!==a.total)&&(++d!==a.columns||(o=a.tileMargin,h+=a.tileHeight+a.tileSpacing,d=0,++f!==a.rows));u++);return l};module.exports=e;
},{"../../Tileset":"DnWo"}],"Y1x5":[function(require,module,exports) {
var e=require("../../../utils/object/Extend"),t=function(t){for(var i,r,l,s,d,n=0;n<t.layers.length;n++){i=t.layers[n],s=null;for(var o=0;o<i.data.length;o++){d=i.data[o];for(var a=0;a<d.length;a++)null===(r=d[a])||r.index<0||(l=t.tiles[r.index][2],s=t.tilesets[l],r.width=s.tileWidth,r.height=s.tileHeight,s.tileProperties&&s.tileProperties[r.index-s.firstgid]&&(r.properties=e(r.properties,s.tileProperties[r.index-s.firstgid])))}}};module.exports=t;
},{"../../../utils/object/Extend":"SFmW"}],"LRWD":[function(require,module,exports) {
var e=require("../../Formats"),r=require("../../mapdata/MapData"),i=require("./ParseTileLayers"),t=require("./ParseImageLayers"),s=require("./ParseTilesets"),a=require("./ParseObjectLayers"),o=require("./BuildTilesetIndex"),n=require("./AssignTileProperties"),l=function(l,h,u){if("orthogonal"!==h.orientation)return console.warn("Only orthogonal map types are supported in this version of Phaser"),null;var d=new r({width:h.width,height:h.height,name:l,tileWidth:h.tilewidth,tileHeight:h.tileheight,orientation:h.orientation,format:e.TILED_JSON,version:h.version,properties:h.properties,renderOrder:h.renderorder,infinite:h.infinite});d.layers=i(h,u),d.images=t(h);var p=s(h);return d.tilesets=p.tilesets,d.imageCollections=p.imageCollections,d.objects=a(h),d.tiles=o(d),n(d),d};module.exports=l;
},{"../../Formats":"T6CI","../../mapdata/MapData":"z96B","./ParseTileLayers":"MMLZ","./ParseImageLayers":"vTwh","./ParseTilesets":"tMbX","./ParseObjectLayers":"s44V","./BuildTilesetIndex":"BBkz","./AssignTileProperties":"Y1x5"}],"Y0G5":[function(require,module,exports) {
var e=require("../../mapdata/LayerData"),i=require("../../Tile"),t=function(t,a){for(var l=[],r=0;r<t.layer.length;r++){for(var h=t.layer[r],n=new e({name:h.name,width:h.width,height:h.height,tileWidth:h.tilesize,tileHeight:h.tilesize,visible:1===h.visible}),s=[],d=[],u=0;u<h.data.length;u++){for(var v=0;v<h.data[u].length;v++){var g,o=h.data[u][v]-1;g=o>-1?new i(n,o,v,u,h.tilesize,h.tilesize):a?null:new i(n,-1,v,u,h.tilesize,h.tilesize),s.push(g)}d.push(s),s=[]}n.data=d,l.push(n)}return l};module.exports=t;
},{"../../mapdata/LayerData":"kSFm","../../Tile":"TqCu"}],"smtc":[function(require,module,exports) {
var e=require("../../Tileset"),r=function(r){for(var i=[],t=[],l=0;l<r.layer.length;l++){var s=r.layer[l],a=s.tilesetName;""!==a&&-1===t.indexOf(a)&&(t.push(a),i.push(new e(a,0,s.tilesize,s.tilesize,0,0)))}return i};module.exports=r;
},{"../../Tileset":"DnWo"}],"EGEt":[function(require,module,exports) {
var e=require("../../Formats"),r=require("../../mapdata/MapData"),t=require("./ParseTileLayers"),a=require("./ParseTilesets"),i=function(i,l,s){if(0===l.layer.length)return console.warn("No layers found in the Weltmeister map: "+i),null;for(var h=0,n=0,y=0;y<l.layer.length;y++)l.layer[y].width>h&&(h=l.layer[y].width),l.layer[y].height>n&&(n=l.layer[y].height);var o=new r({width:h,height:n,name:i,tileWidth:l.layer[0].tilesize,tileHeight:l.layer[0].tilesize,format:e.WELTMEISTER});return o.layers=t(l,s),o.tilesets=a(l),o};module.exports=i;
},{"../../Formats":"T6CI","../../mapdata/MapData":"z96B","./ParseTileLayers":"Y0G5","./ParseTilesets":"smtc"}],"kThX":[function(require,module,exports) {
var e=require("../Formats"),r=require("./Parse2DArray"),a=require("./ParseCSV"),i=require("./tiled/ParseJSONTiled"),s=require("./impact/ParseWeltmeister"),t=function(t,u,c,l,n,o){var d;switch(u){case e.ARRAY_2D:d=r(t,c,l,n,o);break;case e.CSV:d=a(t,c,l,n,o);break;case e.TILED_JSON:d=i(t,c,o);break;case e.WELTMEISTER:d=s(t,c,o);break;default:console.warn("Unrecognized tilemap data format: "+u),d=null}return d};module.exports=t;
},{"../Formats":"T6CI","./Parse2DArray":"NwR9","./ParseCSV":"CB3P","./tiled/ParseJSONTiled":"LRWD","./impact/ParseWeltmeister":"EGEt"}],"COZg":[function(require,module,exports) {
module.exports={ParseTileLayers:require("./ParseTileLayers"),ParseTilesets:require("./ParseTilesets"),ParseWeltmeister:require("./ParseWeltmeister")};
},{"./ParseTileLayers":"Y0G5","./ParseTilesets":"smtc","./ParseWeltmeister":"EGEt"}],"yZsX":[function(require,module,exports) {
module.exports={AssignTileProperties:require("./AssignTileProperties"),Base64Decode:require("./Base64Decode"),BuildTilesetIndex:require("./BuildTilesetIndex"),ParseGID:require("./ParseGID"),ParseImageLayers:require("./ParseImageLayers"),ParseJSONTiled:require("./ParseJSONTiled"),ParseObject:require("./ParseObject"),ParseObjectLayers:require("./ParseObjectLayers"),ParseTileLayers:require("./ParseTileLayers"),ParseTilesets:require("./ParseTilesets")};
},{"./AssignTileProperties":"Y1x5","./Base64Decode":"Aezy","./BuildTilesetIndex":"BBkz","./ParseGID":"J69X","./ParseImageLayers":"vTwh","./ParseJSONTiled":"LRWD","./ParseObject":"GF9e","./ParseObjectLayers":"s44V","./ParseTileLayers":"MMLZ","./ParseTilesets":"tMbX"}],"SMBj":[function(require,module,exports) {
module.exports={Parse:require("./Parse"),Parse2DArray:require("./Parse2DArray"),ParseCSV:require("./ParseCSV"),Impact:require("./impact/"),Tiled:require("./tiled/")};
},{"./Parse":"kThX","./Parse2DArray":"NwR9","./ParseCSV":"CB3P","./impact/":"COZg","./tiled/":"yZsX"}],"i8Go":[function(require,module,exports) {
var e=require("../../renderer/webgl/Utils"),l=function(l,i,t,a){i.cull(a);var r=i.culledTiles,h=r.length,n=a.alpha*i.alpha;if(!(0===h||n<=0))for(var p=i.gidMap,o=i.pipeline,d=e.getTintAppendFloatAlphaAndSwap,g=i.scrollFactorX,c=i.scrollFactorY,u=i.x,x=i.y,s=i.scaleX,f=i.scaleY,v=i.tileset,w=0;w<v.length;w++)for(var T=v[w],X=T.glTexture,Y=0;Y<h;Y++){var A=r[Y],F=p[A.index];if(F===T){var b=F.getTileTextureCoordinates(A.index);if(null!==b){var y=A.width,m=A.height,q=b.x,C=b.y,M=.5*A.width,S=.5*A.height,U=d(A.tint,n*A.alpha);o.batchTexture(i,X,X.width,X.height,u+(M+A.pixelX)*s,x+(S+A.pixelY)*f,A.width,A.height,s,f,A.rotation,A.flipX,A.flipY,g,c,M,S,q,C,y,m,U,U,U,U,!1,0,0,a,null,!0)}}}};module.exports=l;
},{"../../renderer/webgl/Utils":"ZkeT"}],"aKVD":[function(require,module,exports) {
var a=function(a,l,t,e,r){l.cull(e);var o=l.culledTiles,i=o.length;if(0!==i){var c=a._tempMatrix1,s=a._tempMatrix2,p=a._tempMatrix3;s.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),c.copyFrom(e.matrix);var n=a.currentContext,h=l.gidMap;n.save(),r?(c.multiplyWithOffset(r,-e.scrollX*l.scrollFactorX,-e.scrollY*l.scrollFactorY),s.e=l.x,s.f=l.y,c.multiply(s,p),p.copyToContext(n)):(s.e-=e.scrollX*l.scrollFactorX,s.f-=e.scrollY*l.scrollFactorY,s.copyToContext(n));var x=e.alpha*l.alpha;(!a.antialias||l.scaleX>1||l.scaleY>1)&&(n.imageSmoothingEnabled=!1);for(var f=0;f<i;f++){var g=o[f],m=h[g.index];if(m){var d=m.image.getSourceImage(),v=m.getTileTextureCoordinates(g.index);if(v){var u=g.width/2,y=g.height/2;n.save(),n.translate(g.pixelX+u,g.pixelY+y),0!==g.rotation&&n.rotate(g.rotation),(g.flipX||g.flipY)&&n.scale(g.flipX?-1:1,g.flipY?-1:1),n.globalAlpha=x*g.alpha,n.drawImage(d,v.x,v.y,g.width,g.height,-u,-y,g.width,g.height),n.restore()}}}n.restore()}};module.exports=a;
},{}],"vB00":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./DynamicTilemapLayerWebGLRenderer"),r=require("./DynamicTilemapLayerCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"lZkB","./DynamicTilemapLayerWebGLRenderer":"i8Go","./DynamicTilemapLayerCanvasRenderer":"aKVD"}],"BEpr":[function(require,module,exports) {
var i=require("../../utils/Class"),t=require("../../gameobjects/components"),e=require("./DynamicTilemapLayerRender"),l=require("../../gameobjects/GameObject"),r=require("../components"),n=new i({Extends:l,Mixins:[t.Alpha,t.BlendMode,t.ComputedSize,t.Depth,t.Flip,t.GetBounds,t.Origin,t.Pipeline,t.Transform,t.Visible,t.ScrollFactor,e],initialize:function(i,t,e,n,s,o){l.call(this,i,"DynamicTilemapLayer"),this.isTilemap=!0,this.tilemap=t,this.layerIndex=e,this.layer=t.layers[e],this.layer.tilemapLayer=this,this.tileset=[],this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.CullTiles,this._renderOrder=0,this.gidMap=[],this.setTilesets(n),this.setAlpha(this.layer.alpha),this.setPosition(s,o),this.setOrigin(),this.setSize(t.tileWidth*this.layer.width,t.tileHeight*this.layer.height),this.initPipeline("TextureTintPipeline")},setTilesets:function(i){var t=[],e=[],l=this.tilemap;Array.isArray(i)||(i=[i]);for(var r=0;r<i.length;r++){var n=i[r];if("string"==typeof n&&(n=l.getTileset(n)),n){e.push(n);for(var s=n.firstgid,o=0;o<n.total;o++)t[s+o]=n}}this.gidMap=t,this.tileset=e},setRenderOrder:function(i){return"string"==typeof i&&(i=["right-down","left-down","right-up","left-up"].indexOf(i)),i>=0&&i<4&&(this._renderOrder=i),this},calculateFacesAt:function(i,t){return r.CalculateFacesAt(i,t,this.layer),this},calculateFacesWithin:function(i,t,e,l){return r.CalculateFacesWithin(i,t,e,l,this.layer),this},createFromTiles:function(i,t,e,l,n){return r.CreateFromTiles(i,t,e,l,n,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles,this._renderOrder)},copy:function(i,t,e,l,n,s,o){return r.Copy(i,t,e,l,n,s,o,this.layer),this},destroy:function(i){void 0===i&&(i=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),i&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],l.prototype.destroy.call(this))},fill:function(i,t,e,l,n,s){return r.Fill(i,t,e,l,n,s,this.layer),this},filterTiles:function(i,t,e,l,n,s,o){return r.FilterTiles(i,t,e,l,n,s,o,this.layer)},findByIndex:function(i,t,e){return r.FindByIndex(i,t,e,this.layer)},findTile:function(i,t,e,l,n,s,o){return r.FindTile(i,t,e,l,n,s,o,this.layer)},forEachTile:function(i,t,e,l,n,s,o){return r.ForEachTile(i,t,e,l,n,s,o,this.layer),this},getTileAt:function(i,t,e){return r.GetTileAt(i,t,e,this.layer)},getTileAtWorldXY:function(i,t,e,l){return r.GetTileAtWorldXY(i,t,e,l,this.layer)},getTilesWithin:function(i,t,e,l,n){return r.GetTilesWithin(i,t,e,l,n,this.layer)},getTilesWithinShape:function(i,t,e){return r.GetTilesWithinShape(i,t,e,this.layer)},getTilesWithinWorldXY:function(i,t,e,l,n,s){return r.GetTilesWithinWorldXY(i,t,e,l,n,s,this.layer)},hasTileAt:function(i,t){return r.HasTileAt(i,t,this.layer)},hasTileAtWorldXY:function(i,t,e){return r.HasTileAtWorldXY(i,t,e,this.layer)},putTileAt:function(i,t,e,l){return r.PutTileAt(i,t,e,l,this.layer)},putTileAtWorldXY:function(i,t,e,l,n){return r.PutTileAtWorldXY(i,t,e,l,n,this.layer)},putTilesAt:function(i,t,e,l){return r.PutTilesAt(i,t,e,l,this.layer),this},randomize:function(i,t,e,l,n){return r.Randomize(i,t,e,l,n,this.layer),this},removeTileAt:function(i,t,e,l){return r.RemoveTileAt(i,t,e,l,this.layer)},removeTileAtWorldXY:function(i,t,e,l,n){return r.RemoveTileAtWorldXY(i,t,e,l,n,this.layer)},renderDebug:function(i,t){return r.RenderDebug(i,t,this.layer),this},replaceByIndex:function(i,t,e,l,n,s){return r.ReplaceByIndex(i,t,e,l,n,s,this.layer),this},setSkipCull:function(i){return void 0===i&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,t){return void 0===i&&(i=1),void 0===t&&(t=1),this.cullPaddingX=i,this.cullPaddingY=t,this},setCollision:function(i,t,e,l){return r.SetCollision(i,t,e,this.layer,l),this},setCollisionBetween:function(i,t,e,l){return r.SetCollisionBetween(i,t,e,l,this.layer),this},setCollisionByProperty:function(i,t,e){return r.SetCollisionByProperty(i,t,e,this.layer),this},setCollisionByExclusion:function(i,t,e){return r.SetCollisionByExclusion(i,t,e,this.layer),this},setCollisionFromCollisionGroup:function(i,t){return r.SetCollisionFromCollisionGroup(i,t,this.layer),this},setTileIndexCallback:function(i,t,e){return r.SetTileIndexCallback(i,t,e,this.layer),this},setTileLocationCallback:function(i,t,e,l,n,s){return r.SetTileLocationCallback(i,t,e,l,n,s,this.layer),this},shuffle:function(i,t,e,l){return r.Shuffle(i,t,e,l,this.layer),this},swapByIndex:function(i,t,e,l,n,s){return r.SwapByIndex(i,t,e,l,n,s,this.layer),this},tileToWorldX:function(i,t){return r.TileToWorldX(i,t,this.layer)},tileToWorldY:function(i,t){return r.TileToWorldY(i,t,this.layer)},tileToWorldXY:function(i,t,e,l){return r.TileToWorldXY(i,t,e,l,this.layer)},weightedRandomize:function(i,t,e,l,n){return r.WeightedRandomize(i,t,e,l,n,this.layer),this},worldToTileX:function(i,t,e){return r.WorldToTileX(i,t,e,this.layer)},worldToTileY:function(i,t,e){return r.WorldToTileY(i,t,e,this.layer)},worldToTileXY:function(i,t,e,l,n){return r.WorldToTileXY(i,t,e,l,n,this.layer)}});module.exports=n;
},{"../../utils/Class":"JASv","../../gameobjects/components":"VjLH","./DynamicTilemapLayerRender":"vB00","../../gameobjects/GameObject":"AetT","../components":"rgTA"}],"FqMn":[function(require,module,exports) {
var e=function(e,r,t,l){var o=r.tileset,i=r.pipeline,n=i.vertexBuffer;e.setPipeline(i),i.modelIdentity(),i.modelTranslate(r.x-l.scrollX*r.scrollFactorX,r.y-l.scrollY*r.scrollFactorY,0),i.modelScale(r.scaleX,r.scaleY,1),i.viewLoad2D(l.matrix.matrix);for(var a=0;a<o.length;a++)r.upload(l,a),r.vertexCount[a]>0&&(e.currentPipeline&&e.currentPipeline.vertexCount>0&&e.flush(),i.vertexBuffer=r.vertexBuffer[a],e.setPipeline(i),e.setTexture2D(o[a].glTexture,0),e.gl.drawArrays(i.topology,0,r.vertexCount[a]));i.vertexBuffer=n,i.viewIdentity(),i.modelIdentity()};module.exports=e;
},{}],"u6jP":[function(require,module,exports) {
var l=function(l,a,e,t,r){a.cull(t);var o=a.culledTiles,i=o.length;if(0!==i){var c=l._tempMatrix1,s=l._tempMatrix2,p=l._tempMatrix3;s.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),c.copyFrom(t.matrix);var n=l.currentContext,x=a.gidMap;n.save(),r?(c.multiplyWithOffset(r,-t.scrollX*a.scrollFactorX,-t.scrollY*a.scrollFactorY),s.e=a.x,s.f=a.y,c.multiply(s,p),p.copyToContext(n)):(s.e-=t.scrollX*a.scrollFactorX,s.f-=t.scrollY*a.scrollFactorY,s.copyToContext(n));var f=t.alpha*a.alpha;(!l.antialias||a.scaleX>1||a.scaleY>1)&&(n.imageSmoothingEnabled=!1);for(var m=0;m<i;m++){var g=o[m],v=x[g.index];if(v){var d=v.image.getSourceImage(),h=v.getTileTextureCoordinates(g.index);if(h){var u=v.tileWidth,y=v.tileHeight,X=u/2,Y=y/2;n.save(),n.translate(g.pixelX+X,g.pixelY+Y),0!==g.rotation&&n.rotate(g.rotation),(g.flipX||g.flipY)&&n.scale(g.flipX?-1:1,g.flipY?-1:1),n.globalAlpha=f*g.alpha,n.drawImage(d,h.x,h.y,u,y,-X,-Y,u,y),n.restore()}}}n.restore()}};module.exports=l;
},{}],"CNNT":[function(require,module,exports) {
var e=require("../../utils/NOOP"),r=require("../../utils/NOOP");e=require("./StaticTilemapLayerWebGLRenderer"),r=require("./StaticTilemapLayerCanvasRenderer"),module.exports={renderWebGL:e,renderCanvas:r};
},{"../../utils/NOOP":"lZkB","./StaticTilemapLayerWebGLRenderer":"FqMn","./StaticTilemapLayerCanvasRenderer":"u6jP"}],"K49R":[function(require,module,exports) {
var e=require("../../utils/Class"),t=require("../../gameobjects/components"),i=require("../../core/events"),r=require("../../gameobjects/GameObject"),l=require("./StaticTilemapLayerRender"),s=require("../components"),n=require("../../gameobjects/components/TransformMatrix"),h=require("../../renderer/webgl/Utils"),a=new e({Extends:r,Mixins:[t.Alpha,t.BlendMode,t.ComputedSize,t.Depth,t.Flip,t.GetBounds,t.Origin,t.Pipeline,t.Transform,t.Visible,t.ScrollFactor,l],initialize:function(e,t,l,h,a,o){r.call(this,e,"StaticTilemapLayer"),this.isTilemap=!0,this.tilemap=t,this.layerIndex=l,this.layer=t.layers[l],this.layer.tilemapLayer=this,this.tileset=[],this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=s.CullTiles,this.renderer=e.sys.game.renderer,this.vertexBuffer=[],this.bufferData=[],this.vertexViewF32=[],this.vertexViewU32=[],this.dirty=[],this.vertexCount=[],this._renderOrder=0,this._tempMatrix=new n,this.gidMap=[],this.setTilesets(h),this.setAlpha(this.layer.alpha),this.setPosition(a,o),this.setOrigin(),this.setSize(t.tileWidth*this.layer.width,t.tileHeight*this.layer.height),this.updateVBOData(),this.initPipeline("TextureTintPipeline"),e.sys.game.events.on(i.CONTEXT_RESTORED,function(){this.updateVBOData()},this)},setTilesets:function(e){var t=[],i=[],r=this.tilemap;Array.isArray(e)||(e=[e]);for(var l=0;l<e.length;l++){var s=e[l];if("string"==typeof s&&(s=r.getTileset(s)),s){i.push(s);for(var n=s.firstgid,h=0;h<s.total;h++)t[n+h]=s}}this.gidMap=t,this.tileset=i},updateVBOData:function(){for(var e=0;e<this.tileset.length;e++)this.dirty[e]=!0,this.vertexCount[e]=0,this.vertexBuffer[e]=null,this.bufferData[e]=null,this.vertexViewF32[e]=null,this.vertexViewU32[e]=null;return this},upload:function(e,t){var i=this.renderer,r=i.gl,l=i.pipelines.TextureTintPipeline;if(this.dirty[t]){var s,n,h,a=this.tileset[t],o=this.layer.width,u=this.layer.height,d=a.image.source[0].width,f=a.image.source[0].height,c=this.layer.data,y=this._renderOrder,T=a.firstgid,p=a.firstgid+a.total,g=this.vertexBuffer[t],x=this.bufferData[t],v=-1,C=o*u*l.vertexSize*6;if(this.vertexCount[t]=0,null===x&&(x=new ArrayBuffer(C),this.bufferData[t]=x,this.vertexViewF32[t]=new Float32Array(x),this.vertexViewU32[t]=new Uint32Array(x)),0===y)for(n=0;n<u;n++)for(h=0;h<o;h++)!(s=c[n][h])||s.index<T||s.index>p||!s.visible||(v=this.batchTile(v,s,a,d,f,e,t));else if(1===y)for(n=0;n<u;n++)for(h=o-1;h>=0;h--)!(s=c[n][h])||s.index<T||s.index>p||!s.visible||(v=this.batchTile(v,s,a,d,f,e,t));else if(2===y)for(n=u-1;n>=0;n--)for(h=0;h<o;h++)!(s=c[n][h])||s.index<T||s.index>p||!s.visible||(v=this.batchTile(v,s,a,d,f,e,t));else if(3===y)for(n=u-1;n>=0;n--)for(h=o-1;h>=0;h--)!(s=c[n][h])||s.index<T||s.index>p||!s.visible||(v=this.batchTile(v,s,a,d,f,e,t));this.dirty[t]=!1,null===g?(g=i.createVertexBuffer(x,r.STATIC_DRAW),this.vertexBuffer[t]=g):(i.setVertexBuffer(g),r.bufferSubData(r.ARRAY_BUFFER,0,x))}return this},batchTile:function(e,t,i,r,l,s,n){var a=i.getTileTextureCoordinates(t.index);if(!a)return e;var o=i.tileWidth,u=i.tileHeight,d=o/2,f=u/2,c=a.x/r,y=a.y/l,T=(a.x+o)/r,p=(a.y+u)/l,g=this._tempMatrix,x=-d,v=-f;t.flipX&&(o*=-1,x+=i.tileWidth),t.flipY&&(u*=-1,v+=i.tileHeight);var C=x+o,m=v+u;g.applyITRS(d+t.pixelX,f+t.pixelY,t.rotation,1,1);var b=h.getTintAppendFloatAlpha(16777215,s.alpha*this.alpha*t.alpha),w=g.getX(x,v),W=g.getY(x,v),A=g.getX(x,m),F=g.getY(x,m),X=g.getX(C,m),Y=g.getY(C,m),B=g.getX(C,v),S=g.getY(C,v);s.roundPixels&&(w=Math.round(w),W=Math.round(W),A=Math.round(A),F=Math.round(F),X=Math.round(X),Y=Math.round(Y),B=Math.round(B),S=Math.round(S));var M=this.vertexViewF32[n],V=this.vertexViewU32[n];return M[++e]=w,M[++e]=W,M[++e]=c,M[++e]=y,M[++e]=0,V[++e]=b,M[++e]=A,M[++e]=F,M[++e]=c,M[++e]=p,M[++e]=0,V[++e]=b,M[++e]=X,M[++e]=Y,M[++e]=T,M[++e]=p,M[++e]=0,V[++e]=b,M[++e]=w,M[++e]=W,M[++e]=c,M[++e]=y,M[++e]=0,V[++e]=b,M[++e]=X,M[++e]=Y,M[++e]=T,M[++e]=p,M[++e]=0,V[++e]=b,M[++e]=B,M[++e]=S,M[++e]=T,M[++e]=y,M[++e]=0,V[++e]=b,this.vertexCount[n]+=6,e},setRenderOrder:function(e){if("string"==typeof e&&(e=["right-down","left-down","right-up","left-up"].indexOf(e)),e>=0&&e<4){this._renderOrder=e;for(var t=0;t<this.tileset.length;t++)this.dirty[t]=!0}return this},calculateFacesAt:function(e,t){return s.CalculateFacesAt(e,t,this.layer),this},calculateFacesWithin:function(e,t,i,r){return s.CalculateFacesWithin(e,t,i,r,this.layer),this},createFromTiles:function(e,t,i,r,l){return s.CreateFromTiles(e,t,i,r,l,this.layer)},cull:function(e){return this.cullCallback(this.layer,e,this.culledTiles)},setSkipCull:function(e){return void 0===e&&(e=!0),this.skipCull=e,this},setCullPadding:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=1),this.cullPaddingX=e,this.cullPaddingY=t,this},findByIndex:function(e,t,i){return s.FindByIndex(e,t,i,this.layer)},findTile:function(e,t,i,r,l,n,h){return s.FindTile(e,t,i,r,l,n,h,this.layer)},filterTiles:function(e,t,i,r,l,n,h){return s.FilterTiles(e,t,i,r,l,n,h,this.layer)},forEachTile:function(e,t,i,r,l,n,h){return s.ForEachTile(e,t,i,r,l,n,h,this.layer),this},getTileAt:function(e,t,i){return s.GetTileAt(e,t,i,this.layer)},getTileAtWorldXY:function(e,t,i,r){return s.GetTileAtWorldXY(e,t,i,r,this.layer)},getTilesWithin:function(e,t,i,r,l){return s.GetTilesWithin(e,t,i,r,l,this.layer)},getTilesWithinWorldXY:function(e,t,i,r,l,n){return s.GetTilesWithinWorldXY(e,t,i,r,l,n,this.layer)},getTilesWithinShape:function(e,t,i){return s.GetTilesWithinShape(e,t,i,this.layer)},hasTileAt:function(e,t){return s.HasTileAt(e,t,this.layer)},hasTileAtWorldXY:function(e,t,i){return s.HasTileAtWorldXY(e,t,i,this.layer)},renderDebug:function(e,t){return s.RenderDebug(e,t,this.layer),this},setCollision:function(e,t,i,r){return s.SetCollision(e,t,i,this.layer,r),this},setCollisionBetween:function(e,t,i,r){return s.SetCollisionBetween(e,t,i,r,this.layer),this},setCollisionByProperty:function(e,t,i){return s.SetCollisionByProperty(e,t,i,this.layer),this},setCollisionByExclusion:function(e,t,i){return s.SetCollisionByExclusion(e,t,i,this.layer),this},setTileIndexCallback:function(e,t,i){return s.SetTileIndexCallback(e,t,i,this.layer),this},setCollisionFromCollisionGroup:function(e,t){return s.SetCollisionFromCollisionGroup(e,t,this.layer),this},setTileLocationCallback:function(e,t,i,r,l,n){return s.SetTileLocationCallback(e,t,i,r,l,n,this.layer),this},tileToWorldX:function(e,t){return s.TileToWorldX(e,t,this.layer)},tileToWorldY:function(e,t){return s.TileToWorldY(e,t,this.layer)},tileToWorldXY:function(e,t,i,r){return s.TileToWorldXY(e,t,i,r,this.layer)},worldToTileX:function(e,t,i){return s.WorldToTileX(e,t,i,this.layer)},worldToTileY:function(e,t,i){return s.WorldToTileY(e,t,i,this.layer)},worldToTileXY:function(e,t,i,r,l){return s.WorldToTileXY(e,t,i,r,l,this.layer)},destroy:function(e){if(void 0===e&&(e=!0),this.tilemap){this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),e&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null;for(var t=0;t<this.tileset.length;t++)this.dirty[t]=!0,this.vertexCount[t]=0,this.vertexBuffer[t]=null,this.bufferData[t]=null,this.vertexViewF32[t]=null,this.vertexViewU32[t]=null;this.gidMap=[],this.tileset=[],r.prototype.destroy.call(this)}}});module.exports=a;
},{"../../utils/Class":"JASv","../../gameobjects/components":"VjLH","../../core/events":"Dc0S","../../gameobjects/GameObject":"AetT","./StaticTilemapLayerRender":"CNNT","../components":"rgTA","../../gameobjects/components/TransformMatrix":"s0s4","../../renderer/webgl/Utils":"ZkeT"}],"FXJX":[function(require,module,exports) {
var e=require("../utils/Class"),t=require("../math/DegToRad"),i=require("./dynamiclayer/DynamicTilemapLayer"),n=require("../utils/object/Extend"),r=require("./Formats"),l=require("./mapdata/LayerData"),s=require("../math/Rotate"),a=require("../utils/array/SpliceOne"),u=require("./staticlayer/StaticTilemapLayer"),o=require("./Tile"),h=require("./components"),y=require("./Tileset"),d=new e({initialize:function(e,t){this.scene=e,this.tileWidth=t.tileWidth,this.tileHeight=t.tileHeight,this.width=t.width,this.height=t.height,this.orientation=t.orientation,this.renderOrder=t.renderOrder,this.format=t.format,this.version=t.version,this.properties=t.properties,this.widthInPixels=t.widthInPixels,this.heightInPixels=t.heightInPixels,this.imageCollections=t.imageCollections,this.images=t.images,this.layers=t.layers,this.tilesets=t.tilesets,this.objects=t.objects,this.currentLayerIndex=0},setRenderOrder:function(e){var t=["right-down","left-down","right-up","left-up"];return"number"==typeof e&&(e=t[e]),t.indexOf(e)>-1&&(this.renderOrder=e),this},addTilesetImage:function(e,t,i,n,l,s,a){if(void 0===e)return null;if(null==t&&(t=e),!this.scene.sys.textures.exists(t))return console.warn("Invalid Tileset Image: "+t),null;var u=this.scene.sys.textures.get(t),o=this.getTilesetIndex(e);if(null===o&&this.format===r.TILED_JSON)return console.warn("No data found for Tileset: "+e),null;var h=this.tilesets[o];return h?(h.setTileSize(i,n),h.setSpacing(l,s),h.setImage(u),h):(void 0===i&&(i=this.tileWidth),void 0===n&&(n=this.tileHeight),void 0===l&&(l=0),void 0===s&&(s=0),void 0===a&&(a=0),(h=new y(e,a,i,n,l,s)).setImage(u),this.tilesets.push(h),h)},convertLayerToStatic:function(e){if(null===(e=this.getLayer(e)))return null;var t=e.tilemapLayer;if(!(t&&t instanceof i))return null;var n=new u(t.scene,t.tilemap,t.layerIndex,t.tileset,t.x,t.y);return this.scene.sys.displayList.add(n),t.destroy(),n},copy:function(e,t,i,n,r,l,s,a){return a=this.getLayer(a),this._isStaticCall(a,"copy")?this:null!==a?(h.Copy(e,t,i,n,r,l,s,a),this):null},createBlankDynamicLayer:function(e,t,n,r,s,a,u,h){if(void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=this.width),void 0===a&&(a=this.height),void 0===u&&(u=this.tileWidth),void 0===h&&(h=this.tileHeight),null!==this.getLayerIndex(e))return console.warn("Invalid Tilemap Layer ID: "+e),null;for(var y,d=new l({name:e,tileWidth:u,tileHeight:h,width:s,height:a}),c=0;c<a;c++){y=[];for(var f=0;f<s;f++)y.push(new o(d,-1,f,c,u,h,this.tileWidth,this.tileHeight));d.data.push(y)}this.layers.push(d),this.currentLayerIndex=this.layers.length-1;var g=new i(this.scene,this,this.currentLayerIndex,t,n,r);return g.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(g),g},createDynamicLayer:function(e,t,n,r){var l=this.getLayerIndex(e);if(null===l)return console.warn("Invalid Tilemap Layer ID: "+e),"string"==typeof e&&console.warn("Valid tilelayer names:\n\t"+this.getTileLayerNames().join(",\n\t")),null;var s=this.layers[l];if(s.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+e),null;this.currentLayerIndex=l,void 0===n&&(n=s.x),void 0===r&&(r=s.y);var a=new i(this.scene,this,l,t,n,r);return a.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(a),a},createFromObjects:function(e,i,r,l){void 0===r&&(r={}),void 0===l&&(l=this.scene);var a=this.getObjectLayer(e);if(!a)return console.warn("Cannot create from object. Invalid objectgroup name given: "+e),"string"==typeof layerID&&console.warn("Valid objectgroup names:\n\t"+this.getObjectLayerNames().join(",\n\t")),null;for(var u=a.objects,o=[],h=0;h<u.length;h++){var y=!1,d=u[h];if((void 0!==d.gid&&"number"==typeof i&&d.gid===i||void 0!==d.id&&"number"==typeof i&&d.id===i||void 0!==d.name&&"string"==typeof i&&d.name===i)&&(y=!0),y){var c=n({},r,d.properties);c.x=d.x,c.y=d.y;var f=l.make.sprite(c);f.name=d.name,d.width&&(f.displayWidth=d.width),d.height&&(f.displayHeight=d.height);var g={x:f.originX*d.width,y:(f.originY-1)*d.height};if(d.rotation){var L=t(d.rotation);s(g,L),f.rotation=L}for(var m in f.x+=g.x,f.y+=g.y,void 0===d.flippedHorizontal&&void 0===d.flippedVertical||f.setFlip(d.flippedHorizontal,d.flippedVertical),d.visible||(f.visible=!1),d.properties)f.hasOwnProperty(m)||f.setData(m,d.properties[m]);o.push(f)}}return o},createFromTiles:function(e,t,i,n,r,l){return null===(l=this.getLayer(l))?null:h.CreateFromTiles(e,t,i,n,r,l)},createStaticLayer:function(e,t,i,n){var r=this.getLayerIndex(e);if(null===r)return console.warn("Invalid Tilemap Layer ID: "+e),"string"==typeof e&&console.warn("Valid tilelayer names:\n\t"+this.getTileLayerNames().join(",\n\t")),null;if(this.layers[r].tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+e),null;this.currentLayerIndex=r,void 0===i&&this.layers[r].x&&(i=this.layers[r].x),void 0===n&&this.layers[r].y&&(n=this.layers[r].y);var l=new u(this.scene,this,r,t,i,n);return l.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(l),l},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=void 0},fill:function(e,t,i,n,r,l,s){return null===(s=this.getLayer(s))?null:this._isStaticCall(s,"fill")?this:(h.Fill(e,t,i,n,r,l,s),this)},filterObjects:function(e,t,i){if("string"==typeof e){var n=e;if(!(e=this.getObjectLayer(e)))return console.warn("No object layer found with the name: "+n),null}return e.objects.filter(t,i)},filterTiles:function(e,t,i,n,r,l,s,a){return null===(a=this.getLayer(a))?null:h.FilterTiles(e,t,i,n,r,l,s,a)},findByIndex:function(e,t,i,n){return null===(n=this.getLayer(n))?null:h.FindByIndex(e,t,i,n)},findObject:function(e,t,i){if("string"==typeof e){var n=e;if(!(e=this.getObjectLayer(e)))return console.warn("No object layer found with the name: "+n),null}return e.objects.find(t,i)||null},findTile:function(e,t,i,n,r,l,s,a){return null===(a=this.getLayer(a))?null:h.FindTile(e,t,i,n,r,l,s,a)},forEachTile:function(e,t,i,n,r,l,s,a){return null===(a=this.getLayer(a))?null:(h.ForEachTile(e,t,i,n,r,l,s,a),this)},getImageIndex:function(e){return this.getIndex(this.images,e)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map(function(e){return e.name}):[]},getIndex:function(e,t){for(var i=0;i<e.length;i++)if(e[i].name===t)return i;return null},getLayer:function(e){var t=this.getLayerIndex(e);return null!==t?this.layers[t]:null},getObjectLayer:function(e){var t=this.getIndex(this.objects,e);return null!==t?this.objects[t]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map(function(e){return e.name}):[]},getLayerIndex:function(e){return void 0===e?this.currentLayerIndex:"string"==typeof e?this.getLayerIndexByName(e):"number"==typeof e&&e<this.layers.length?e:e instanceof u||e instanceof i?e.layerIndex:null},getLayerIndexByName:function(e){return this.getIndex(this.layers,e)},getTileAt:function(e,t,i,n){return null===(n=this.getLayer(n))?null:h.GetTileAt(e,t,i,n)},getTileAtWorldXY:function(e,t,i,n,r){return null===(r=this.getLayer(r))?null:h.GetTileAtWorldXY(e,t,i,n,r)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map(function(e){return e.name}):[]},getTilesWithin:function(e,t,i,n,r,l){return null===(l=this.getLayer(l))?null:h.GetTilesWithin(e,t,i,n,r,l)},getTilesWithinShape:function(e,t,i,n){return null===(n=this.getLayer(n))?null:h.GetTilesWithinShape(e,t,i,n)},getTilesWithinWorldXY:function(e,t,i,n,r,l,s){return null===(s=this.getLayer(s))?null:h.GetTilesWithinWorldXY(e,t,i,n,r,l,s)},getTileset:function(e){var t=this.getIndex(this.tilesets,e);return null!==t?this.tilesets[t]:null},getTilesetIndex:function(e){return this.getIndex(this.tilesets,e)},hasTileAt:function(e,t,i){return null===(i=this.getLayer(i))?null:h.HasTileAt(e,t,i)},hasTileAtWorldXY:function(e,t,i,n){return null===(n=this.getLayer(n))?null:h.HasTileAtWorldXY(e,t,i,n)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(e){this.setLayer(e)}},putTileAt:function(e,t,i,n,r){return r=this.getLayer(r),this._isStaticCall(r,"putTileAt")?null:null===r?null:h.PutTileAt(e,t,i,n,r)},putTileAtWorldXY:function(e,t,i,n,r,l){return l=this.getLayer(l),this._isStaticCall(l,"putTileAtWorldXY")?null:null===l?null:h.PutTileAtWorldXY(e,t,i,n,r,l)},putTilesAt:function(e,t,i,n,r){return r=this.getLayer(r),this._isStaticCall(r,"putTilesAt")?this:null===r?null:(h.PutTilesAt(e,t,i,n,r),this)},randomize:function(e,t,i,n,r,l){return l=this.getLayer(l),this._isStaticCall(l,"randomize")?this:null===l?null:(h.Randomize(e,t,i,n,r,l),this)},calculateFacesAt:function(e,t,i){return null===(i=this.getLayer(i))?null:(h.CalculateFacesAt(e,t,i),this)},calculateFacesWithin:function(e,t,i,n,r){return null===(r=this.getLayer(r))?null:(h.CalculateFacesWithin(e,t,i,n,r),this)},removeLayer:function(e){var t=this.getLayerIndex(e);if(null!==t){a(this.layers,t);for(var i=t;i<this.layers.length;i++)this.layers[i].tilemapLayer&&this.layers[i].tilemapLayer.layerIndex--;return this.currentLayerIndex===t&&(this.currentLayerIndex=0),this}return null},destroyLayer:function(e){var t=this.getLayerIndex(e);return null!==t?((e=this.layers[t]).destroy(),a(this.layers,t),this.currentLayerIndex===t&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var e=this.layers,t=0;t<e.length;t++)e[t].tilemapLayer&&e[t].tilemapLayer.destroy(!1);return e.length=0,this.currentLayerIndex=0,this},removeTile:function(e,t,i){void 0===t&&(t=-1),void 0===i&&(i=!0);var n=[];Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var l=e[r];n.push(this.removeTileAt(l.x,l.y,!0,i,l.tilemapLayer)),t>-1&&this.putTileAt(t,l.x,l.y,i,l.tilemapLayer)}return n},removeTileAt:function(e,t,i,n,r){return r=this.getLayer(r),this._isStaticCall(r,"removeTileAt")?null:null===r?null:h.RemoveTileAt(e,t,i,n,r)},removeTileAtWorldXY:function(e,t,i,n,r,l){return l=this.getLayer(l),this._isStaticCall(l,"removeTileAtWorldXY")?null:null===l?null:h.RemoveTileAtWorldXY(e,t,i,n,r,l)},renderDebug:function(e,t,i){return null===(i=this.getLayer(i))?null:(h.RenderDebug(e,t,i),this)},renderDebugFull:function(e,t){for(var i=this.layers,n=0;n<i.length;n++)h.RenderDebug(e,t,i[n]);return this},replaceByIndex:function(e,t,i,n,r,l,s){return s=this.getLayer(s),this._isStaticCall(s,"replaceByIndex")?this:null===s?null:(h.ReplaceByIndex(e,t,i,n,r,l,s),this)},setCollision:function(e,t,i,n,r){return null===(n=this.getLayer(n))?null:(h.SetCollision(e,t,i,n,r),this)},setCollisionBetween:function(e,t,i,n,r){return null===(r=this.getLayer(r))?null:(h.SetCollisionBetween(e,t,i,n,r),this)},setCollisionByProperty:function(e,t,i,n){return null===(n=this.getLayer(n))?null:(h.SetCollisionByProperty(e,t,i,n),this)},setCollisionByExclusion:function(e,t,i,n){return null===(n=this.getLayer(n))?null:(h.SetCollisionByExclusion(e,t,i,n),this)},setCollisionFromCollisionGroup:function(e,t,i){return null===(i=this.getLayer(i))?null:(h.SetCollisionFromCollisionGroup(e,t,i),this)},setTileIndexCallback:function(e,t,i,n){return null===(n=this.getLayer(n))?null:(h.SetTileIndexCallback(e,t,i,n),this)},setTileLocationCallback:function(e,t,i,n,r,l,s){return null===(s=this.getLayer(s))?null:(h.SetTileLocationCallback(e,t,i,n,r,l,s),this)},setLayer:function(e){var t=this.getLayerIndex(e);return null!==t&&(this.currentLayerIndex=t),this},setBaseTileSize:function(e,t){this.tileWidth=e,this.tileHeight=t,this.widthInPixels=this.width*e,this.heightInPixels=this.height*t;for(var i=0;i<this.layers.length;i++){this.layers[i].baseTileWidth=e,this.layers[i].baseTileHeight=t;for(var n=this.layers[i].data,r=this.layers[i].width,l=this.layers[i].height,s=0;s<l;s++)for(var a=0;a<r;a++){var u=n[s][a];null!==u&&u.setSize(void 0,void 0,e,t)}}return this},setLayerTileSize:function(e,t,i){if(null===(i=this.getLayer(i)))return this;i.tileWidth=e,i.tileHeight=t;for(var n=i.data,r=i.width,l=i.height,s=0;s<l;s++)for(var a=0;a<r;a++){var u=n[s][a];null!==u&&u.setSize(e,t)}return this},shuffle:function(e,t,i,n,r){return r=this.getLayer(r),this._isStaticCall(r,"shuffle")?this:null===r?null:(h.Shuffle(e,t,i,n,r),this)},swapByIndex:function(e,t,i,n,r,l,s){return s=this.getLayer(s),this._isStaticCall(s,"swapByIndex")?this:null===s?null:(h.SwapByIndex(e,t,i,n,r,l,s),this)},tileToWorldX:function(e,t,i){return null===(i=this.getLayer(i))?null:h.TileToWorldX(e,t,i)},tileToWorldY:function(e,t,i){return null===(i=this.getLayer(i))?null:h.TileToWorldY(e,t,i)},tileToWorldXY:function(e,t,i,n,r){return null===(r=this.getLayer(r))?null:h.TileToWorldXY(e,t,i,n,r)},weightedRandomize:function(e,t,i,n,r,l){return l=this.getLayer(l),this._isStaticCall(l,"weightedRandomize")?this:null===l?null:(h.WeightedRandomize(e,t,i,n,r,l),this)},worldToTileX:function(e,t,i,n){return null===(n=this.getLayer(n))?null:h.WorldToTileX(e,t,i,n)},worldToTileY:function(e,t,i,n){return null===(n=this.getLayer(n))?null:h.WorldToTileY(e,t,i,n)},worldToTileXY:function(e,t,i,n,r,l){return null===(l=this.getLayer(l))?null:h.WorldToTileXY(e,t,i,n,r,l)},_isStaticCall:function(e,t){return e.tilemapLayer instanceof u&&(console.warn(t+": You cannot change the tiles in a static tilemap layer"),!0)}});module.exports=d;
},{"../utils/Class":"JASv","../math/DegToRad":"VYZO","./dynamiclayer/DynamicTilemapLayer":"BEpr","../utils/object/Extend":"SFmW","./Formats":"T6CI","./mapdata/LayerData":"kSFm","../math/Rotate":"nTmU","../utils/array/SpliceOne":"R1sC","./staticlayer/StaticTilemapLayer":"K49R","./Tile":"TqCu","./components":"rgTA","./Tileset":"DnWo"}],"HPHy":[function(require,module,exports) {
var e=require("./Formats"),a=require("./mapdata/MapData"),r=require("./parsers/Parse"),i=require("./Tilemap"),o=function(o,t,d,l,n,u,v,m){void 0===d&&(d=32),void 0===l&&(l=32),void 0===n&&(n=10),void 0===u&&(u=10),void 0===m&&(m=!1);var p=null;if(Array.isArray(v))p=r(void 0!==t?t:"map",e.ARRAY_2D,v,d,l,m);else if(void 0!==t){var s=o.cache.tilemap.get(t);s?p=r(t,s.format,s.data,d,l,m):console.warn("No map data found for key "+t)}return null===p&&(p=new a({tileWidth:d,tileHeight:l,width:n,height:u})),new i(o,p)};module.exports=o;
},{"./Formats":"T6CI","./mapdata/MapData":"z96B","./parsers/Parse":"kThX","./Tilemap":"FXJX"}],"Nsd3":[function(require,module,exports) {
var e=require("../gameobjects/GameObjectCreator"),t=require("./ParseToTilemap");e.register("tilemap",function(e){var i=void 0!==e?e:{};return t(this.scene,i.key,i.tileWidth,i.tileHeight,i.width,i.height,i.data,i.insertNull)});
},{"../gameobjects/GameObjectCreator":"vSy1","./ParseToTilemap":"HPHy"}],"AH9b":[function(require,module,exports) {
var e=require("../gameobjects/GameObjectFactory"),i=require("./ParseToTilemap");e.register("tilemap",function(e,l,r,n,o,u,t){return null===e&&(e=void 0),null===l&&(l=void 0),null===r&&(r=void 0),null===n&&(n=void 0),null===o&&(o=void 0),i(this.scene,e,l,r,n,o,u,t)});
},{"../gameobjects/GameObjectFactory":"QDoc","./ParseToTilemap":"HPHy"}],"iPWZ":[function(require,module,exports) {
module.exports={Components:require("./components"),Parsers:require("./parsers"),Formats:require("./Formats"),ImageCollection:require("./ImageCollection"),ParseToTilemap:require("./ParseToTilemap"),Tile:require("./Tile"),Tilemap:require("./Tilemap"),TilemapCreator:require("./TilemapCreator"),TilemapFactory:require("./TilemapFactory"),Tileset:require("./Tileset"),LayerData:require("./mapdata/LayerData"),MapData:require("./mapdata/MapData"),ObjectLayer:require("./mapdata/ObjectLayer"),DynamicTilemapLayer:require("./dynamiclayer/DynamicTilemapLayer"),StaticTilemapLayer:require("./staticlayer/StaticTilemapLayer")};
},{"./components":"rgTA","./parsers":"SMBj","./Formats":"T6CI","./ImageCollection":"QIvd","./ParseToTilemap":"HPHy","./Tile":"TqCu","./Tilemap":"FXJX","./TilemapCreator":"Nsd3","./TilemapFactory":"AH9b","./Tileset":"DnWo","./mapdata/LayerData":"kSFm","./mapdata/MapData":"z96B","./mapdata/ObjectLayer":"Hhdc","./dynamiclayer/DynamicTilemapLayer":"BEpr","./staticlayer/StaticTilemapLayer":"K49R"}],"PiuC":[function(require,module,exports) {
var t=require("../utils/Class"),e=require("../utils/object/GetFastValue"),s=new t({initialize:function(t){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(t)},reset:function(t){return this.delay=e(t,"delay",0),this.repeat=e(t,"repeat",0),this.loop=e(t,"loop",!1),this.callback=e(t,"callback",void 0),this.callbackScope=e(t,"callbackScope",this.callback),this.args=e(t,"args",[]),this.timeScale=e(t,"timeScale",1),this.startAt=e(t,"startAt",0),this.paused=e(t,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var t=this.delay+this.delay*this.repeat;return(this.elapsed+this.delay*(this.repeat-this.repeatCount))/t}return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},remove:function(t){void 0===t&&(t=!1),this.elapsed=this.delay,this.hasDispatched=!t,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});module.exports=s;
},{"../utils/Class":"JASv","../utils/object/GetFastValue":"cEup"}],"aDRu":[function(require,module,exports) {
var e=require("../utils/Class"),t=require("../plugins/PluginCache"),s=require("../scene/events"),i=require("./TimerEvent"),n=new e({initialize:function(e){this.scene=e,this.systems=e.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],e.sys.events.once(s.BOOT,this.boot,this),e.sys.events.on(s.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(s.PRE_UPDATE,this.preUpdate,this),e.on(s.UPDATE,this.update,this),e.once(s.SHUTDOWN,this.shutdown,this)},addEvent:function(e){var t=new i(e);return this._pendingInsertion.push(t),t},delayedCall:function(e,t,s,i){return this.addEvent({delay:e,callback:t,args:s,callbackScope:i})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var e=this._pendingRemoval.length,t=this._pendingInsertion.length;if(0!==e||0!==t){var s,i;for(s=0;s<e;s++){i=this._pendingRemoval[s];var n=this._active.indexOf(i);n>-1&&this._active.splice(n,1),i.destroy()}for(s=0;s<t;s++)i=this._pendingInsertion[s],this._active.push(i);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(e,t){if(this.now=e,!this.paused){t*=this.timeScale;for(var s=0;s<this._active.length;s++){var i=this._active[s];if(!i.paused&&(i.elapsed+=t*i.timeScale,i.elapsed>=i.delay)){var n=i.elapsed-i.delay;i.elapsed=i.delay,!i.hasDispatched&&i.callback&&(i.hasDispatched=!0,i.callback.apply(i.callbackScope,i.args)),i.repeatCount>0?(i.repeatCount--,i.elapsed=n,i.hasDispatched=!1):this._pendingRemoval.push(i)}}}},shutdown:function(){var e;for(e=0;e<this._pendingInsertion.length;e++)this._pendingInsertion[e].destroy();for(e=0;e<this._active.length;e++)this._active[e].destroy();for(e=0;e<this._pendingRemoval.length;e++)this._pendingRemoval[e].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var t=this.systems.events;t.off(s.PRE_UPDATE,this.preUpdate,this),t.off(s.UPDATE,this.update,this),t.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});t.register("Clock",n,"time"),module.exports=n;
},{"../utils/Class":"JASv","../plugins/PluginCache":"ZrqD","../scene/events":"zvkO","./TimerEvent":"PiuC"}],"IIfW":[function(require,module,exports) {
module.exports={Clock:require("./Clock"),TimerEvent:require("./TimerEvent")};
},{"./Clock":"aDRu","./TimerEvent":"PiuC"}],"yBRw":[function(require,module,exports) {
var n=function(n,t,r){var o;n.hasOwnProperty(t)?o="function"===typeof n[t]?function(r,o,u,e,f,c){return n[t](r,o,u,e,f,c)}:function(){return n[t]}:o="function"==typeof r?r:function(){return r};return o};module.exports=n;
},{}],"ghHh":[function(require,module,exports) {
module.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"];
},{}],"xC3s":[function(require,module,exports) {
var e=require("../tween/ReservedProps"),r=function(r){var s,p=[];if(r.hasOwnProperty("props"))for(s in r.props)"_"!==s.substr(0,1)&&p.push({key:s,value:r.props[s]});else for(s in r)-1===e.indexOf(s)&&"_"!==s.substr(0,1)&&p.push({key:s,value:r[s]});return p};module.exports=r;
},{"../tween/ReservedProps":"ghHh"}],"EvvG":[function(require,module,exports) {
var r=require("../../utils/object/GetValue"),e=function(e){var t=r(e,"targets",null);return null===t?t:("function"==typeof t&&(t=t.call()),Array.isArray(t)||(t=[t]),t)};module.exports=e;
},{"../../utils/object/GetValue":"OqLI"}],"uObR":[function(require,module,exports) {
var e=require("../../utils/object/GetValue"),r=function(r){var l=e(r,"tweens",null);return null===l?[]:("function"==typeof l&&(l=l.call()),Array.isArray(l)||(l=[l]),l)};module.exports=r;
},{"../../utils/object/GetValue":"OqLI"}],"fO0F":[function(require,module,exports) {
function t(t){return!!t.getActive&&"function"==typeof t.getActive}function e(t){return!!t.getStart&&"function"==typeof t.getStart}function n(t){return!!t.getEnd&&"function"==typeof t.getEnd}function r(r){return e(r)||n(r)||t(r)}var u=function(o,f){var i,a=function(t,e,n){return n},c=function(t,e,n){return n},s=null,g=typeof f;if("number"===g)a=function(){return f};else if("string"===g){var l=f[0],v=parseFloat(f.substr(2));switch(l){case"+":a=function(t,e,n){return n+v};break;case"-":a=function(t,e,n){return n-v};break;case"*":a=function(t,e,n){return n*v};break;case"/":a=function(t,e,n){return n/v};break;default:a=function(){return parseFloat(f)}}}else if("function"===g)a=f;else if("object"===g)if(r(f))t(f)&&(s=f.getActive),n(f)&&(a=f.getEnd),e(f)&&(c=f.getStart);else if(f.hasOwnProperty("value"))i=u(o,f.value);else{var p=f.hasOwnProperty("to"),d=f.hasOwnProperty("from"),y=f.hasOwnProperty("start");if(p&&(d||y)){if(i=u(o,f.to),y){var b=u(o,f.start);i.getActive=b.getEnd}if(d){var E=u(o,f.from);i.getStart=E.getEnd}}}return i||(i={getActive:s,getEnd:a,getStart:c}),i};module.exports=u;
},{}],"eOzg":[function(require,module,exports) {
var e={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1};module.exports=e;
},{}],"wGem":[function(require,module,exports) {
module.exports="active";
},{}],"B0ut":[function(require,module,exports) {
module.exports="yoyo";
},{}],"hKal":[function(require,module,exports) {
module.exports={TIMELINE_COMPLETE:require("./TIMELINE_COMPLETE_EVENT"),TIMELINE_LOOP:require("./TIMELINE_LOOP_EVENT"),TIMELINE_PAUSE:require("./TIMELINE_PAUSE_EVENT"),TIMELINE_RESUME:require("./TIMELINE_RESUME_EVENT"),TIMELINE_START:require("./TIMELINE_START_EVENT"),TIMELINE_UPDATE:require("./TIMELINE_UPDATE_EVENT"),TWEEN_ACTIVE:require("./TWEEN_ACTIVE_EVENT"),TWEEN_COMPLETE:require("./TWEEN_COMPLETE_EVENT"),TWEEN_LOOP:require("./TWEEN_LOOP_EVENT"),TWEEN_REPEAT:require("./TWEEN_REPEAT_EVENT"),TWEEN_START:require("./TWEEN_START_EVENT"),TWEEN_UPDATE:require("./TWEEN_UPDATE_EVENT"),TWEEN_YOYO:require("./TWEEN_YOYO_EVENT")};
},{"./TIMELINE_COMPLETE_EVENT":"edEl","./TIMELINE_LOOP_EVENT":"xnkS","./TIMELINE_PAUSE_EVENT":"XFXR","./TIMELINE_RESUME_EVENT":"swsX","./TIMELINE_START_EVENT":"xnJO","./TIMELINE_UPDATE_EVENT":"CqoN","./TWEEN_ACTIVE_EVENT":"wGem","./TWEEN_COMPLETE_EVENT":"edEl","./TWEEN_LOOP_EVENT":"xnkS","./TWEEN_REPEAT_EVENT":"s011","./TWEEN_START_EVENT":"xnJO","./TWEEN_UPDATE_EVENT":"CqoN","./TWEEN_YOYO_EVENT":"B0ut"}],"derK":[function(require,module,exports) {
var t=require("../../utils/Class"),e=require("eventemitter3"),s=require("../events"),a=require("../../gameobjects/GameObjectCreator"),i=require("../../gameobjects/GameObjectFactory"),r=require("./const"),n=require("../../math/const"),h=new t({Extends:e,initialize:function(t,s,a){e.call(this),this.parent=t,this.parentIsTimeline=t.hasOwnProperty("isTimeline"),this.data=s,this.totalData=s.length,this.targets=a,this.totalTargets=a.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=r.PENDING_ADD,this._pausedState=r.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(t){return void 0===t&&(t=0),this.data[t].current},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===r.ACTIVE},isPaused:function(){return this.state===r.PAUSED},hasTarget:function(t){return-1!==this.targets.indexOf(t)},updateTo:function(t,e,s){void 0===s&&(s=!1);for(var a=0;a<this.totalData;a++){var i=this.data[a];i.key===t&&(i.end=e,s&&(i.start=i.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===r.ACTIVE?this.seek(0):this.state===r.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===r.PENDING_ADD?this:this.play()},calcDuration:function(){for(var t=0,e=n.MAX_SAFE_INTEGER,s=this.data,a=0;a<this.totalData;a++){var i=s[a];i.t1=i.duration+i.hold,i.yoyo&&(i.t1+=i.duration),i.t2=i.t1+i.repeatDelay,i.totalDuration=i.delay+i.t1,-1===i.repeat?i.totalDuration+=999999999999*i.t2:i.repeat>0&&(i.totalDuration+=i.t2*i.repeat),i.totalDuration>t&&(t=i.totalDuration),i.delay<e&&(e=i.delay)}this.duration=Math.max(t,.001),this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=e},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=r.PENDING_ADD,this._pausedState=r.INIT,!1;for(var t=this.data,e=this.totalTargets,s=0;s<this.totalData;s++){var a=t[s],i=a.target,n=a.gen,h=a.key,o=a.index;a.delay=n.delay(i,h,0,o,e,this),a.duration=Math.max(n.duration(i,h,0,o,e,this),.001),a.hold=n.hold(i,h,0,o,e,this),a.repeat=n.repeat(i,h,0,o,e,this),a.repeatDelay=n.repeatDelay(i,h,0,o,e,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=r.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(s.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=r.LOOP_DELAY):(this.state=r.ACTIVE,this.dispatchTweenEvent(s.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=r.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=r.PENDING_REMOVE,this.dispatchTweenEvent(s.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===r.PAUSED?this:(this.paused=!0,this._pausedState=this.state,this.state=r.PAUSED,this)},play:function(t){void 0===t&&(t=!1);var e=this.state;return e!==r.INIT||this.parentIsTimeline?e===r.ACTIVE||e===r.PENDING_ADD&&this._pausedState===r.PENDING_ADD?this:this.parentIsTimeline||e!==r.PENDING_REMOVE&&e!==r.REMOVED?(this.parentIsTimeline?(this.resetTweenData(t),0===this.calculatedOffset?this.state=r.ACTIVE:(this.countdown=this.calculatedOffset,this.state=r.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(t),this.state=r.ACTIVE,this.makeActive()),this):(this.seek(0),this.parent.makeActive(this),this):(this.resetTweenData(!1),this.state=r.ACTIVE,this)},resetTweenData:function(t){for(var e=this.data,s=this.totalData,a=this.totalTargets,i=0;i<s;i++){var n=e[i],h=n.target,o=n.key,l=n.index;n.progress=0,n.elapsed=0,n.repeatCounter=-1===n.repeat?999999999999:n.repeat,t?(n.start=n.getStartValue(h,o,n.start,l,a,this),n.end=n.getEndValue(h,o,n.end,l,a,this),n.current=n.start,n.state=r.PLAYING_FORWARD):n.state=r.PENDING_RENDER,n.delay>0&&(n.elapsed=n.delay,n.state=r.DELAY),n.getActiveValue&&(h[o]=n.getActiveValue(n.target,n.key,n.start))}},resume:function(){return this.state===r.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(t,e){if(void 0===e&&(e=16.6),this.totalDuration>=36e5)return console.warn("Tween.seek duration too long"),this;this.state===r.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var s=this.data,a=this.totalTargets,i=0;i<this.totalData;i++){var n=s[i],h=n.target,o=n.gen,l=n.key,p=n.index;n.progress=0,n.elapsed=0,n.repeatCounter=-1===n.repeat?999999999999:n.repeat,n.delay=o.delay(h,l,0,p,a,this),n.duration=Math.max(o.duration(h,l,0,p,a,this),.001),n.hold=o.hold(h,l,0,p,a,this),n.repeat=o.repeat(h,l,0,p,a,this),n.repeatDelay=o.repeatDelay(h,l,0,p,a,this),n.current=n.start,n.state=r.PLAYING_FORWARD,this.updateTweenData(this,n,0,p,a),n.delay>0&&(n.elapsed=n.delay,n.state=r.DELAY)}this.calcDuration();var u=!1;this.state===r.PAUSED&&(u=!0,this.state=r.ACTIVE),this.isSeeking=!0;do{this.update(0,e)}while(this.totalProgress<t);return this.isSeeking=!1,u&&(this.state=r.PAUSED),this},setCallback:function(t,e,s,a){return this.callbacks[t]={func:e,scope:a,params:s},this},complete:function(t){return void 0===t&&(t=0),t?(this.state=r.COMPLETE_DELAY,this.countdown=t):(this.state=r.PENDING_REMOVE,this.dispatchTweenEvent(s.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(t){return this.state===r.ACTIVE&&void 0!==t&&this.seek(t),this.state!==r.REMOVED&&(this.state!==r.PAUSED&&this.state!==r.PENDING_ADD||(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.removeAllListeners(),this.state=r.PENDING_REMOVE),this},update:function(t,e){if(this.state===r.PAUSED)return!1;switch(this.useFrames&&(e=1*this.parent.timeScale),e*=this.timeScale,this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case r.ACTIVE:this.hasStarted||this.isSeeking||(this.startDelay-=e,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(s.TWEEN_START,this.callbacks.onStart)));for(var a=!1,i=0;i<this.totalData;i++){var n=this.data[i];this.updateTweenData(this,n,e)&&(a=!0)}a||this.nextState();break;case r.LOOP_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=r.ACTIVE,this.dispatchTweenEvent(s.TWEEN_LOOP,this.callbacks.onLoop));break;case r.OFFSET_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=r.ACTIVE);break;case r.COMPLETE_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=r.PENDING_REMOVE,this.dispatchTweenEvent(s.TWEEN_COMPLETE,this.callbacks.onComplete))}return this.state===r.PENDING_REMOVE},dispatchTweenDataEvent:function(t,e,s){this.isSeeking||(this.emit(t,this,s.key,s.target,s.current,s.previous),e&&(e.params[1]=s.target,e.func.apply(e.scope,e.params)))},dispatchTweenEvent:function(t,e){this.isSeeking||(this.emit(t,this,this.targets),e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)))},setStateFromEnd:function(t,e,a){return e.yoyo?(e.elapsed=a,e.progress=a/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY(),this.dispatchTweenDataEvent(s.TWEEN_YOYO,t.callbacks.onYoyo,e),e.start=e.getStartValue(e.target,e.key,e.start,e.index,t.totalTargets,t),r.PLAYING_BACKWARD):e.repeatCounter>0?(e.repeatCounter--,e.elapsed=a,e.progress=a/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY(),e.start=e.getStartValue(e.target,e.key,e.start,e.index,t.totalTargets,t),e.end=e.getEndValue(e.target,e.key,e.start,e.index,t.totalTargets,t),e.repeatDelay>0?(e.elapsed=e.repeatDelay-a,e.current=e.start,e.target[e.key]=e.current,r.REPEAT_DELAY):(this.dispatchTweenDataEvent(s.TWEEN_REPEAT,t.callbacks.onRepeat,e),r.PLAYING_FORWARD)):r.COMPLETE},setStateFromStart:function(t,e,a){return e.repeatCounter>0?(e.repeatCounter--,e.elapsed=a,e.progress=a/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY(),e.end=e.getEndValue(e.target,e.key,e.start,e.index,t.totalTargets,t),e.repeatDelay>0?(e.elapsed=e.repeatDelay-a,e.current=e.start,e.target[e.key]=e.current,r.REPEAT_DELAY):(this.dispatchTweenDataEvent(s.TWEEN_REPEAT,t.callbacks.onRepeat,e),r.PLAYING_FORWARD)):r.COMPLETE},updateTweenData:function(t,e,a){var i=e.target;switch(e.state){case r.PLAYING_FORWARD:case r.PLAYING_BACKWARD:if(!i){e.state=r.COMPLETE;break}var n=e.elapsed,h=e.duration,o=0;(n+=a)>h&&(o=n-h,n=h);var l=e.state===r.PLAYING_FORWARD,p=n/h;if(e.elapsed=n,e.progress=p,e.previous=e.current,1===p)l?(e.current=e.end,i[e.key]=e.end,e.hold>0?(e.elapsed=e.hold-o,e.state=r.HOLD_DELAY):e.state=this.setStateFromEnd(t,e,o)):(e.current=e.start,i[e.key]=e.start,e.state=this.setStateFromStart(t,e,o));else{var u=l?e.ease(p):e.ease(1-p);e.current=e.start+(e.end-e.start)*u,i[e.key]=e.current}this.dispatchTweenDataEvent(s.TWEEN_UPDATE,t.callbacks.onUpdate,e);break;case r.DELAY:e.elapsed-=a,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=r.PENDING_RENDER);break;case r.REPEAT_DELAY:e.elapsed-=a,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=r.PLAYING_FORWARD,this.dispatchTweenDataEvent(s.TWEEN_REPEAT,t.callbacks.onRepeat,e));break;case r.HOLD_DELAY:e.elapsed-=a,e.elapsed<=0&&(e.state=this.setStateFromEnd(t,e,Math.abs(e.elapsed)));break;case r.PENDING_RENDER:i?(e.start=e.getStartValue(i,e.key,i[e.key],e.index,t.totalTargets,t),e.end=e.getEndValue(i,e.key,e.start,e.index,t.totalTargets,t),e.current=e.start,i[e.key]=e.start,e.state=r.PLAYING_FORWARD):e.state=r.COMPLETE}return e.state!==r.COMPLETE}});h.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onUpdate","onYoyo"],i.register("tween",function(t){return this.scene.sys.tweens.add(t)}),a.register("tween",function(t){return this.scene.sys.tweens.create(t)}),module.exports=h;
},{"../../utils/Class":"JASv","eventemitter3":"JJlS","../events":"hKal","../../gameobjects/GameObjectCreator":"vSy1","../../gameobjects/GameObjectFactory":"QDoc","./const":"lmb7","../../math/const":"HC1y"}],"LMHi":[function(require,module,exports) {
var e=function(e,t,a,r,l,o,n,u,d,p,i,s,y,g,c){return{target:e,index:t,key:a,getActiveValue:o,getEndValue:r,getStartValue:l,ease:n,duration:0,totalDuration:0,delay:0,yoyo:p,hold:0,repeat:0,repeatDelay:0,flipX:g,flipY:c,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:u,duration:d,hold:i,repeat:s,repeatDelay:y},state:0}};module.exports=e;
},{}],"KBMM":[function(require,module,exports) {
var e=require("../tween/Defaults"),a=require("../../utils/object/GetAdvancedValue"),r=require("./GetBoolean"),t=require("./GetEaseFunction"),o=require("./GetNewValue"),l=require("../../utils/object/GetValue"),u=require("./GetValueOp"),n=require("../tween/Tween"),s=require("../tween/TweenData"),i=function(i,p,c){void 0===c&&(c=e);var d=l(p,"from",0),v=l(p,"to",1),y=[{value:d}],f=o(p,"delay",c.delay),m=o(p,"duration",c.duration),q=l(p,"easeParams",c.easeParams),D=t(l(p,"ease",c.ease),q),w=o(p,"hold",c.hold),h=o(p,"repeat",c.repeat),G=o(p,"repeatDelay",c.repeatDelay),b=r(p,"yoyo",c.yoyo),g=[],P=u("value",v),S=s(y[0],0,"value",P.getEnd,P.getStart,P.getActive,D,f,m,b,w,h,G,!1,!1);S.start=d,S.current=d,S.to=v,g.push(S);var V=new n(i,g,y);V.offset=a(p,"offset",null),V.completeDelay=a(p,"completeDelay",0),V.loop=Math.round(a(p,"loop",0)),V.loopDelay=Math.round(a(p,"loopDelay",0)),V.paused=r(p,"paused",!1),V.useFrames=r(p,"useFrames",!1);for(var E=l(p,"callbackScope",V),F=[V,null],T=n.TYPES,j=0;j<T.length;j++){var k=T[j],A=l(p,k,!1);if(A){var M=l(p,k+"Scope",E),x=l(p,k+"Params",[]);V.setCallback(k,A,F.concat(x),M)}}return V};module.exports=i;
},{"../tween/Defaults":"eOzg","../../utils/object/GetAdvancedValue":"vpak","./GetBoolean":"zHgc","./GetEaseFunction":"riN9","./GetNewValue":"yBRw","../../utils/object/GetValue":"OqLI","./GetValueOp":"fO0F","../tween/Tween":"derK","../tween/TweenData":"LMHi"}],"ulhq":[function(require,module,exports) {
var r=require("./GetEaseFunction"),a=require("../../utils/object/GetValue"),t=require("../../math/const"),e=function(e,o){void 0===o&&(o={});var n=a(o,"start",0),u=a(o,"ease",null),l=a(o,"grid",null),s=a(o,"from",0),i="first"===s,f="center"===s,v="last"===s,c="number"==typeof s,h=Array.isArray(e),M=h?parseFloat(e[0]):parseFloat(e),m=h?parseFloat(e[1]):0,p=Math.max(M,m);if(h&&(n+=M),l){var F=l[0],b=l[1],q=0,E=0,d=0,y=0,A=[];v?(q=F-1,E=b-1):c?(q=s%F,E=Math.floor(s/F)):f&&(q=(F-1)/2,E=(b-1)/2);for(var G=t.MIN_SAFE_INTEGER,x=0;x<b;x++){A[x]=[];for(var I=0;I<F;I++){d=q-I,y=E-x;var N=Math.sqrt(d*d+y*y);N>G&&(G=N),A[x][I]=N}}}var _=u?r(u):null;return l?function(r,a,t,e){var o,u=0,l=e%F,s=Math.floor(e/F);if(l>=0&&l<F&&s>=0&&s<b&&(u=A[s][l]),h){var i=m-M;o=_?u/G*i*_(u/G):u/G*i}else o=_?u*M*_(u/G):u*M;return o+n}:function(r,a,t,e,o){var u,l,F;(o--,i?u=e:f?u=Math.abs(o/2-e):v?u=o-e:c&&(u=Math.abs(s-e)),h)?(F=f?(m-M)/o*(2*u):(m-M)/o*u,l=_?F*_(u/o):F):l=_?o*p*_(u/o):u*M;return l+n}};module.exports=e;
},{"./GetEaseFunction":"riN9","../../utils/object/GetValue":"OqLI","../../math/const":"HC1y"}],"JVFO":[function(require,module,exports) {
var e=require("../tween/Defaults"),a=require("../../utils/object/GetAdvancedValue"),r=require("./GetBoolean"),t=require("./GetEaseFunction"),l=require("./GetNewValue"),o=require("./GetProps"),u=require("./GetTargets"),i=require("../../utils/object/GetValue"),s=require("./GetValueOp"),p=require("../tween/Tween"),n=require("../tween/TweenData"),d=function(d,y,f){void 0===f&&(f=e);for(var c=f.targets?f.targets:u(y),v=o(y),q=l(y,"delay",f.delay),g=l(y,"duration",f.duration),h=i(y,"easeParams",f.easeParams),D=t(i(y,"ease",f.ease),h),m=l(y,"hold",f.hold),G=l(y,"repeat",f.repeat),w=l(y,"repeatDelay",f.repeatDelay),P=r(y,"yoyo",f.yoyo),b=r(y,"flipX",f.flipX),S=r(y,"flipY",f.flipY),T=[],V=0;V<v.length;V++)for(var Y=v[V].key,k=v[V].value,E=0;E<c.length;E++){var F=s(Y,k),X=n(c[E],E,Y,F.getEnd,F.getStart,F.getActive,t(i(k,"ease",D),h),l(k,"delay",q),l(k,"duration",g),r(k,"yoyo",P),l(k,"hold",m),l(k,"repeat",G),l(k,"repeatDelay",w),r(k,"flipX",b),r(k,"flipY",S));T.push(X)}var j=new p(d,T,c);j.offset=a(y,"offset",null),j.completeDelay=a(y,"completeDelay",0),j.loop=Math.round(a(y,"loop",0)),j.loopDelay=Math.round(a(y,"loopDelay",0)),j.paused=r(y,"paused",!1),j.useFrames=r(y,"useFrames",!1);for(var A=i(y,"callbackScope",j),M=[j,null],x=p.TYPES,B=0;B<x.length;B++){var C=x[B],N=i(y,C,!1);if(N){var O=i(y,C+"Scope",A),z=i(y,C+"Params",[]);j.setCallback(C,N,M.concat(z),O)}}return j};module.exports=d;
},{"../tween/Defaults":"eOzg","../../utils/object/GetAdvancedValue":"vpak","./GetBoolean":"zHgc","./GetEaseFunction":"riN9","./GetNewValue":"yBRw","./GetProps":"xC3s","./GetTargets":"EvvG","../../utils/object/GetValue":"OqLI","./GetValueOp":"fO0F","../tween/Tween":"derK","../tween/TweenData":"LMHi"}],"euOp":[function(require,module,exports) {
var t=require("../utils/Class"),s=require("eventemitter3"),e=require("./events"),i=require("./builders/TweenBuilder"),a=require("./tween/const"),o=new t({Extends:s,initialize:function(t){s.call(this),this.manager=t,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING_ADD,this._pausedState=a.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(t,s){this.emit(t,this),s&&s.func.apply(s.scope,s.params)},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===a.ACTIVE},add:function(t){return this.queue(i(this,t))},queue:function(t){return this.isPlaying()||(t.parent=this,t.parentIsTimeline=!0,this.data.push(t),this.totalData=this.data.length),this},hasOffset:function(t){return null!==t.offset},isOffsetAbsolute:function(t){return"number"==typeof t},isOffsetRelative:function(t){if("string"===typeof t){var s=t[0];if("-"===s||"+"===s)return!0}return!1},getRelativeOffset:function(t,s){var e=t[0],i=parseFloat(t.substr(2)),a=s;switch(e){case"+":a+=i;break;case"-":a-=i}return Math.max(0,a)},calcDuration:function(){for(var t=0,s=0,e=0,i=0;i<this.totalData;i++){var a=this.data[i];a.init(),this.hasOffset(a)?this.isOffsetAbsolute(a.offset)?(a.calculatedOffset=a.offset,0===a.offset&&(e=0)):this.isOffsetRelative(a.offset)&&(a.calculatedOffset=this.getRelativeOffset(a.offset,t)):a.calculatedOffset=e,t=a.totalDuration+a.calculatedOffset,s+=a.totalDuration,e+=a.totalDuration}this.duration=s,this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,!this.paused||(this.state=a.PAUSED,!1)},resetTweens:function(t){for(var s=0;s<this.totalData;s++){this.data[s].play(t)}},setCallback:function(t,s,e,i){return-1!==o.TYPES.indexOf(t)&&(this.callbacks[t]={func:s,scope:i,params:e}),this},makeActive:function(t){return this.manager.makeActive(t)},play:function(){if(this.state!==a.ACTIVE){if(this.paused)return this.paused=!1,void this.manager.makeActive(this);this.resetTweens(!1),this.state=a.ACTIVE,this.dispatchTimelineEvent(e.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=a.LOOP_DELAY):(this.state=a.ACTIVE,this.dispatchTimelineEvent(e.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=a.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=a.PENDING_REMOVE,this.dispatchTimelineEvent(e.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(t,s){if(this.state!==a.PAUSED){switch(this.useFrames&&(s=1*this.manager.timeScale),s*=this.timeScale,this.elapsed+=s,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=s,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case a.ACTIVE:for(var i=this.totalData,o=0;o<this.totalData;o++){this.data[o].update(t,s)&&i--}this.dispatchTimelineEvent(e.TIMELINE_UPDATE,this.callbacks.onUpdate),0===i&&this.nextState();break;case a.LOOP_DELAY:this.countdown-=s,this.countdown<=0&&(this.state=a.ACTIVE,this.dispatchTimelineEvent(e.TIMELINE_LOOP,this.callbacks.onLoop));break;case a.COMPLETE_DELAY:this.countdown-=s,this.countdown<=0&&(this.state=a.PENDING_REMOVE,this.dispatchTimelineEvent(e.TIMELINE_COMPLETE,this.callbacks.onComplete))}return this.state===a.PENDING_REMOVE}},stop:function(){this.state=a.PENDING_REMOVE},pause:function(){if(this.state!==a.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=a.PAUSED,this.emit(e.TIMELINE_PAUSE,this),this},resume:function(){return this.state===a.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(e.TIMELINE_RESUME,this)),this},hasTarget:function(t){for(var s=0;s<this.data.length;s++)if(this.data[s].hasTarget(t))return!0;return!1},destroy:function(){for(var t=0;t<this.data.length;t++)this.data[t].stop()}});o.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],module.exports=o;
},{"../utils/Class":"JASv","eventemitter3":"JJlS","./events":"hKal","./builders/TweenBuilder":"JVFO","./tween/const":"lmb7"}],"yMXP":[function(require,module,exports) {
var e=require("../../utils/object/Clone"),a=require("../tween/Defaults"),o=require("../../utils/object/GetAdvancedValue"),r=require("./GetBoolean"),t=require("./GetEaseFunction"),l=require("./GetNewValue"),n=require("./GetTargets"),p=require("./GetTweens"),u=require("../../utils/object/GetValue"),s=require("../Timeline"),i=require("./TweenBuilder"),c=function(c,d){var y=new s(c),m=p(d);if(0===m.length)return y.paused=!0,y;var f=e(a);f.targets=n(d);var v=o(d,"totalDuration",0);f.duration=v>0?Math.floor(v/m.length):l(d,"duration",f.duration),f.delay=l(d,"delay",f.delay),f.easeParams=u(d,"easeParams",f.easeParams),f.ease=t(u(d,"ease",f.ease),f.easeParams),f.hold=l(d,"hold",f.hold),f.repeat=l(d,"repeat",f.repeat),f.repeatDelay=l(d,"repeatDelay",f.repeatDelay),f.yoyo=r(d,"yoyo",f.yoyo),f.flipX=r(d,"flipX",f.flipX),f.flipY=r(d,"flipY",f.flipY);for(var q=0;q<m.length;q++)y.queue(i(y,m[q],f));y.completeDelay=o(d,"completeDelay",0),y.loop=Math.round(o(d,"loop",0)),y.loopDelay=Math.round(o(d,"loopDelay",0)),y.paused=r(d,"paused",!1),y.useFrames=r(d,"useFrames",!1);var C=u(d,"callbackScope",y),S=[y],b=u(d,"onStart",!1);if(b){var h=u(d,"onStartScope",C),D=u(d,"onStartParams",[]);y.setCallback("onStart",b,S.concat(D),h)}var P=u(d,"onUpdate",!1);if(P){var G=u(d,"onUpdateScope",C),Y=u(d,"onUpdateParams",[]);y.setCallback("onUpdate",P,S.concat(Y),G)}var k=u(d,"onLoop",!1);if(k){var g=u(d,"onLoopScope",C),w=u(d,"onLoopParams",[]);y.setCallback("onLoop",k,S.concat(w),g)}var L=u(d,"onYoyo",!1);if(L){var T=u(d,"onYoyoScope",C),U=u(d,"onYoyoParams",[]);y.setCallback("onYoyo",L,S.concat(null,U),T)}var j=u(d,"onComplete",!1);if(j){var F=u(d,"onCompleteScope",C),M=u(d,"onCompleteParams",[]);y.setCallback("onComplete",j,S.concat(M),F)}return y};module.exports=c;
},{"../../utils/object/Clone":"eHkv","../tween/Defaults":"eOzg","../../utils/object/GetAdvancedValue":"vpak","./GetBoolean":"zHgc","./GetEaseFunction":"riN9","./GetNewValue":"yBRw","./GetTargets":"EvvG","./GetTweens":"uObR","../../utils/object/GetValue":"OqLI","../Timeline":"euOp","./TweenBuilder":"JVFO"}],"lybb":[function(require,module,exports) {
module.exports={GetBoolean:require("./GetBoolean"),GetEaseFunction:require("./GetEaseFunction"),GetNewValue:require("./GetNewValue"),GetProps:require("./GetProps"),GetTargets:require("./GetTargets"),GetTweens:require("./GetTweens"),GetValueOp:require("./GetValueOp"),NumberTweenBuilder:require("./NumberTweenBuilder"),StaggerBuilder:require("./StaggerBuilder"),TimelineBuilder:require("./TimelineBuilder"),TweenBuilder:require("./TweenBuilder")};
},{"./GetBoolean":"zHgc","./GetEaseFunction":"riN9","./GetNewValue":"yBRw","./GetProps":"xC3s","./GetTargets":"EvvG","./GetTweens":"uObR","./GetValueOp":"fO0F","./NumberTweenBuilder":"KBMM","./StaggerBuilder":"ulhq","./TimelineBuilder":"yMXP","./TweenBuilder":"JVFO"}],"mo2f":[function(require,module,exports) {
var t=require("../utils/array/Remove"),e=require("../utils/Class"),s=require("./builders/NumberTweenBuilder"),i=require("../plugins/PluginCache"),n=require("../scene/events"),r=require("./builders/StaggerBuilder"),h=require("./builders/TimelineBuilder"),u=require("./tween/const"),a=require("./builders/TweenBuilder"),o=new e({initialize:function(t){this.scene=t,this.systems=t.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,t.sys.events.once(n.BOOT,this.boot,this),t.sys.events.on(n.START,this.start,this)},boot:function(){this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){var t=this.systems.events;t.on(n.PRE_UPDATE,this.preUpdate,this),t.on(n.UPDATE,this.update,this),t.once(n.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(t){return h(this,t)},timeline:function(t){var e=h(this,t);return e.paused||(this._add.push(e),this._toProcess++),e},create:function(t){return a(this,t)},add:function(t){var e=a(this,t);return this._add.push(e),this._toProcess++,e},existing:function(t){return this._add.push(t),this._toProcess++,this},addCounter:function(t){var e=s(this,t);return this._add.push(e),this._toProcess++,e},stagger:function(t,e){return r(t,e)},preUpdate:function(){if(0!==this._toProcess){var t,e,s=this._destroy,i=this._active,n=this._pending;for(t=0;t<s.length;t++){e=s[t];var r=i.indexOf(e);-1===r?(r=n.indexOf(e))>-1&&(e.state=u.REMOVED,n.splice(r,1)):(e.state=u.REMOVED,i.splice(r,1))}for(s.length=0,s=this._add,t=0;t<s.length;t++)(e=s[t]).state===u.PENDING_ADD&&(e.init()?(e.play(),this._active.push(e)):this._pending.push(e));s.length=0,this._toProcess=0}},update:function(t,e){var s,i=this._active;e*=this.timeScale;for(var n=0;n<i.length;n++)(s=i[n]).update(t,e)&&(this._destroy.push(s),this._toProcess++)},remove:function(e){return t(this._add,e),t(this._pending,e),t(this._active,e),t(this._destroy,e),e.state=u.REMOVED,this},makeActive:function(t){if(-1!==this._add.indexOf(t)||-1!==this._active.indexOf(t))return this;var e=this._pending.indexOf(t);return-1!==e&&this._pending.splice(e,1),this._add.push(t),t.state=u.PENDING_ADD,this._toProcess++,this},each:function(t,e){for(var s=[null],i=1;i<arguments.length;i++)s.push(arguments[i]);for(var n in this.list)s[0]=this.list[n],t.apply(e,s)},getAllTweens:function(){for(var t=this._active,e=[],s=0;s<t.length;s++)e.push(t[s]);return e},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(t){var e,s,i=this._active,n=[];if(Array.isArray(t))for(s=0;s<i.length;s++){e=i[s];for(var r=0;r<t.length;r++)e.hasTarget(t[r])&&n.push(e)}else for(s=0;s<i.length;s++)(e=i[s]).hasTarget(t)&&n.push(e);return n},isTweening:function(t){for(var e,s=this._active,i=0;i<s.length;i++)if((e=s[i]).hasTarget(t)&&e.isPlaying())return!0;return!1},killAll:function(){for(var t=this.getAllTweens(),e=0;e<t.length;e++)t[e].stop();return this},killTweensOf:function(t){for(var e=this.getTweensOf(t),s=0;s<e.length;s++)e[s].stop();return this},pauseAll:function(){for(var t=this._active,e=0;e<t.length;e++)t[e].pause();return this},resumeAll:function(){for(var t=this._active,e=0;e<t.length;e++)t[e].resume();return this},setGlobalTimeScale:function(t){return this.timeScale=t,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var t=this.systems.events;t.off(n.PRE_UPDATE,this.preUpdate,this),t.off(n.UPDATE,this.update,this),t.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(n.START,this.start,this),this.scene=null,this.systems=null}});i.register("TweenManager",o,"tweens"),module.exports=o;
},{"../utils/array/Remove":"sXlU","../utils/Class":"JASv","./builders/NumberTweenBuilder":"KBMM","../plugins/PluginCache":"ZrqD","../scene/events":"zvkO","./builders/StaggerBuilder":"ulhq","./builders/TimelineBuilder":"yMXP","./tween/const":"lmb7","./builders/TweenBuilder":"JVFO"}],"bIAx":[function(require,module,exports) {
var e=require("./tween/const"),r=require("../utils/object/Extend"),n={Builders:require("./builders"),Events:require("./events"),TweenManager:require("./TweenManager"),Tween:require("./tween/Tween"),TweenData:require("./tween/TweenData"),Timeline:require("./Timeline")};n=r(!1,n,e),module.exports=n;
},{"./tween/const":"lmb7","../utils/object/Extend":"SFmW","./builders":"lybb","./events":"hKal","./TweenManager":"mo2f","./tween/Tween":"derK","./tween/TweenData":"LMHi","./Timeline":"euOp"}],"Ausw":[function(require,module,exports) {
var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=function(r,t){for(var e=new Uint8Array(r),a=e.length,s=t?"data:"+t+";base64,":"",g=0;g<a;g+=3)s+=n[e[g]>>2],s+=n[(3&e[g])<<4|e[g+1]>>4],s+=n[(15&e[g+1])<<2|e[g+2]>>6],s+=n[63&e[g+2]];return a%3==2?s=s.substring(0,s.length-1)+"=":a%3==1&&(s=s.substring(0,s.length-2)+"=="),s};module.exports=r;
},{}],"TMnL":[function(require,module,exports) {
module.exports={ArrayBufferToBase64:require("./ArrayBufferToBase64"),Base64ToArrayBuffer:require("./Base64ToArrayBuffer")};
},{"./ArrayBufferToBase64":"Ausw","./Base64ToArrayBuffer":"q9By"}],"Xc2f":[function(require,module,exports) {
var e=require("./GetValue"),r=require("../../math/Clamp"),u=function(u,a,t,i,o){void 0===o&&(o=t);var l=e(u,a,o);return r(l,t,i)};module.exports=u;
},{"./GetValue":"OqLI","../../math/Clamp":"eCA1"}],"X7Gt":[function(require,module,exports) {
var r=function(r,e){for(var n=0;n<e.length;n++)if(!r.hasOwnProperty(e[n]))return!1;return!0};module.exports=r;
},{}],"sWUb":[function(require,module,exports) {
var r=require("./Clone"),e=function(e,n){var o=r(e);for(var a in n)o.hasOwnProperty(a)&&(o[a]=n[a]);return o};module.exports=e;
},{"./Clone":"eHkv"}],"a8Pj":[function(require,module,exports) {
module.exports={Clone:require("./Clone"),Extend:require("./Extend"),GetAdvancedValue:require("./GetAdvancedValue"),GetFastValue:require("./GetFastValue"),GetMinMaxValue:require("./GetMinMaxValue"),GetValue:require("./GetValue"),HasAll:require("./HasAll"),HasAny:require("./HasAny"),HasValue:require("./HasValue"),IsPlainObject:require("./IsPlainObject"),Merge:require("./Merge"),MergeRight:require("./MergeRight"),Pick:require("./Pick"),SetValue:require("./SetValue")};
},{"./Clone":"eHkv","./Extend":"SFmW","./GetAdvancedValue":"vpak","./GetFastValue":"cEup","./GetMinMaxValue":"Xc2f","./GetValue":"OqLI","./HasAll":"X7Gt","./HasAny":"Pq0A","./HasValue":"hJUo","./IsPlainObject":"erhr","./Merge":"NXFV","./MergeRight":"sWUb","./Pick":"dbj1","./SetValue":"XSgj"}],"mkGR":[function(require,module,exports) {
var r=function(r,e){return r.replace(/%([0-9]+)/g,function(r,n){return e[Number(n)-1]})};module.exports=r;
},{}],"chiG":[function(require,module,exports) {
var e=function(e){return e.split("").reverse().join("")};module.exports=e;
},{}],"x0z6":[function(require,module,exports) {
module.exports={Format:require("./Format"),Pad:require("./Pad"),Reverse:require("./Reverse"),UppercaseFirst:require("./UppercaseFirst"),UUID:require("./UUID")};
},{"./Format":"mkGR","./Pad":"e5Qb","./Reverse":"chiG","./UppercaseFirst":"L06t","./UUID":"MJ3o"}],"XrGF":[function(require,module,exports) {
module.exports={Array:require("./array/"),Base64:require("./base64/"),Objects:require("./object/"),String:require("./string/")};
},{"./array/":"b1Xs","./base64/":"TMnL","./object/":"a8Pj","./string/":"x0z6"}],"LyI7":[function(require,module,exports) {
module.exports={SoundManagerCreator:require("./SoundManagerCreator"),Events:require("./events"),BaseSound:require("./BaseSound"),BaseSoundManager:require("./BaseSoundManager"),WebAudioSound:require("./webaudio/WebAudioSound"),WebAudioSoundManager:require("./webaudio/WebAudioSoundManager"),HTML5AudioSound:require("./html5/HTML5AudioSound"),HTML5AudioSoundManager:require("./html5/HTML5AudioSoundManager"),NoAudioSound:require("./noaudio/NoAudioSound"),NoAudioSoundManager:require("./noaudio/NoAudioSoundManager")};
},{"./SoundManagerCreator":"WaAP","./events":"E7sY","./BaseSound":"oCiG","./BaseSoundManager":"jANy","./webaudio/WebAudioSound":"D0Xr","./webaudio/WebAudioSoundManager":"XEGk","./html5/HTML5AudioSound":"Zr4H","./html5/HTML5AudioSoundManager":"Q7aQ","./noaudio/NoAudioSound":"Ks9M","./noaudio/NoAudioSoundManager":"koBk"}],"BKkC":[function(require,module,exports) {
var i=require("../../../../src/utils/Class"),t=require("../../../../src/gameobjects/GameObject"),e=require("../../../../src/gameobjects/sprite/Sprite"),s=require("../../../../src/math/Vector2"),n=require("../../../../src/math/Vector4"),c=new i({Extends:t,initialize:function(i,c,h,o,r,a){t.call(this,i,"Sprite3D"),this.gameObject=new e(i,0,0,r,a),this.position=new n(c,h,o),this.size=new s(this.gameObject.width,this.gameObject.height),this.scale=new s(1,1),this.adjustScaleX=!0,this.adjustScaleY=!0,this._visible=!0},project:function(i){var t=this.position,e=this.gameObject;i.project(t,e),i.getPointSize(t,this.size,this.scale),this.scale.x<=0||this.scale.y<=0?e.setVisible(!1):(e.visible||e.setVisible(!0),this.adjustScaleX&&(e.scaleX=this.scale.x),this.adjustScaleY&&(e.scaleY=this.scale.y),e.setDepth(-1*e.z))},setVisible:function(i){return this.visible=i,this},visible:{get:function(){return this._visible},set:function(i){this._visible=i,this.gameObject.visible=i}},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},z:{get:function(){return this.position.z},set:function(i){this.position.z=i}}});module.exports=c;
},{"../../../../src/utils/Class":"JASv","../../../../src/gameobjects/GameObject":"AetT","../../../../src/gameobjects/sprite/Sprite":"ZUCM","../../../../src/math/Vector2":"qKN5","../../../../src/math/Vector4":"LgFg"}],"zBUj":[function(require,module,exports) {
var t=require("../../../src/utils/Class"),i=require("../../../src/math/Matrix4"),e=require("../../../src/math/RandomXYZ"),r=require("../../../src/math/RandomXYZW"),s=require("../../../src/math/RotateVec3"),n=require("../../../src/structs/Set"),o=require("./sprite3d/Sprite3D"),h=require("../../../src/math/Vector2"),a=require("../../../src/math/Vector3"),u=require("../../../src/math/Vector4"),c=new a,d=new u,p=new a,l=new a,f=new i,v=new t({initialize:function(t){this.scene=t,this.displayList=t.sys.displayList,this.updateList=t.sys.updateList,this.name="",this.direction=new a(0,0,-1),this.up=new a(0,1,0),this.position=new a,this.pixelScale=128,this.projection=new i,this.view=new i,this.combined=new i,this.invProjectionView=new i,this.near=1,this.far=100,this.ray={origin:new a,direction:new a},this.viewportWidth=0,this.viewportHeight=0,this.billboardMatrixDirty=!0,this.children=new n},setPosition:function(t,i,e){return this.position.set(t,i,e),this.update()},setScene:function(t){return this.scene=t,this},setPixelScale:function(t){return this.pixelScale=t,this.update()},add:function(t){return this.children.set(t),this.displayList.add(t.gameObject),this.updateList.add(t.gameObject),this.updateChildren(),t},remove:function(t){return this.displayList.remove(t.gameObject),this.updateList.remove(t.gameObject),this.children.delete(t),this},clear:function(){for(var t=this.getChildren(),i=0;i<t.length;i++)this.remove(t[i]);return this},getChildren:function(){return this.children.entries},create:function(t,i,e,r,s,n){void 0===n&&(n=!0);var h=new o(this.scene,t,i,e,r,s);return this.displayList.add(h.gameObject),this.updateList.add(h.gameObject),h.visible=n,this.children.set(h),this.updateChildren(),h},createMultiple:function(t,i,e,r){void 0===r&&(r=!0);for(var s=[],n=0;n<t;n++){var h=new o(this.scene,0,0,0,i,e);this.displayList.add(h.gameObject),this.updateList.add(h.gameObject),h.visible=r,this.children.set(h),s.push(h)}return s},createRect:function(t,i,e,r){"number"==typeof t&&(t={x:t,y:t,z:t}),"number"==typeof i&&(i={x:i,y:i,z:i});for(var s=t.x*t.y*t.z,n=this.createMultiple(s,e,r),o=0,h=.5-t.z/2;h<t.z/2;h++)for(var a=.5-t.y/2;a<t.y/2;a++)for(var u=.5-t.x/2;u<t.x/2;u++){var c=u*i.x,d=a*i.y,p=h*i.z;n[o].position.set(c,d,p),o++}return this.update(),n},randomSphere:function(t,i){void 0===i&&(i=this.getChildren());for(var r=0;r<i.length;r++)e(i[r].position,t);return this.update()},randomCube:function(t,i){void 0===i&&(i=this.getChildren());for(var e=0;e<i.length;e++)r(i[e].position,t);return this.update()},translateChildren:function(t,i){void 0===i&&(i=this.getChildren());for(var e=0;e<i.length;e++)i[e].position.add(t);return this.update()},transformChildren:function(t,i){void 0===i&&(i=this.getChildren());for(var e=0;e<i.length;e++)i[e].position.transformMat4(t);return this.update()},setViewport:function(t,i){return this.viewportWidth=t,this.viewportHeight=i,this.update()},translate:function(t,i,e){return"object"==typeof t?(this.position.x+=t.x||0,this.position.y+=t.y||0,this.position.z+=t.z||0):(this.position.x+=t||0,this.position.y+=i||0,this.position.z+=e||0),this.update()},lookAt:function(t,i,e){var r=this.direction,s=this.up;return"object"==typeof t?r.copy(t):r.set(t,i,e),r.subtract(this.position).normalize(),c.copy(r).cross(s).normalize(),s.copy(c).cross(r).normalize(),this.update()},rotate:function(t,i){return s(this.direction,i,t),s(this.up,i,t),this.update()},rotateAround:function(t,i,e){return c.copy(t).subtract(this.position),this.translate(c),this.rotate(i,e),this.translate(c.negate()),this.update()},project:function(t,i){void 0===i&&(i=new u);var e=this.viewportWidth,r=this.viewportHeight,s=v.NEAR_RANGE,n=v.FAR_RANGE;return d.set(t.x,t.y,t.z,1),d.transformMat4(this.combined),0===d.w&&(d.w=1),d.x=d.x/d.w,d.y=d.y/d.w,d.z=d.z/d.w,i.x=e/2*d.x+(0+e/2),i.y=r/2*d.y+(0+r/2),i.z=(n-s)/2*d.z+(n+s)/2,(0===i.w||i.w)&&(i.w=1/d.w),i},unproject:function(t,i){void 0===i&&(i=new a);var e=d.set(0,0,this.viewportWidth,this.viewportHeight);return i.copy(t).unproject(e,this.invProjectionView)},getPickRay:function(t,i){var e=this.ray.origin.set(t,i,0),r=this.ray.direction.set(t,i,1),s=d.set(0,0,this.viewportWidth,this.viewportHeight),n=this.invProjectionView;return e.unproject(s,n),r.unproject(s,n),r.subtract(e).normalize(),this.ray},updateChildren:function(){for(var t=this.children.entries,i=0;i<t.length;i++)t[i].project(this);return this},update:function(){return this.updateChildren()},updateBillboardMatrix:function(){var t=p.set(this.direction).negate(),i=l.set(this.up).cross(t).normalize(),e=c.set(t).cross(i).normalize(),r=f.val;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=0,r[4]=e.x,r[5]=e.y,r[6]=e.z,r[7]=0,r[8]=t.x,r[9]=t.y,r[10]=t.z,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this.billboardMatrixDirty=!1},getPointSize:function(t,i,e){void 0===e&&(e=new h),this.billboardMatrixDirty&&this.updateBillboardMatrix();var r=c,s=i.x/this.pixelScale/2,n=i.y/this.pixelScale/2;r.set(-s,-n,0).transformMat4(f).add(t),this.project(r,r);var o=r.x,a=r.y;r.set(s,n,0).transformMat4(f).add(t),this.project(r,r);var u=r.x-o,d=r.y-a;return e.set(u,d)},destroy:function(){this.children.clear(),this.scene=void 0,this.children=void 0},setX:function(t){return this.position.x=t,this.update()},setY:function(t){return this.position.y=t,this.update()},setZ:function(t){return this.position.z=t,this.update()},x:{get:function(){return this.position.x},set:function(t){this.position.x=t,this.update()}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t,this.update()}},z:{get:function(){return this.position.z},set:function(t){this.position.z=t,this.update()}}});v.FAR_RANGE=1,v.NEAR_RANGE=0,module.exports=v;
},{"../../../src/utils/Class":"JASv","../../../src/math/Matrix4":"COcU","../../../src/math/RandomXYZ":"foHQ","../../../src/math/RandomXYZW":"wY1S","../../../src/math/RotateVec3":"A6Hg","../../../src/structs/Set":"qWkr","./sprite3d/Sprite3D":"BKkC","../../../src/math/Vector2":"qKN5","../../../src/math/Vector3":"mpxL","../../../src/math/Vector4":"LgFg"}],"REYz":[function(require,module,exports) {
var i=require("./Camera"),t=require("../../../src/utils/Class"),o=require("../../../src/math/Vector3"),s=new o,e=new t({Extends:i,initialize:function(t,o,s){void 0===o&&(o=0),void 0===s&&(s=0),i.call(this,t),this.viewportWidth=o,this.viewportHeight=s,this._zoom=1,this.near=0,this.update()},setToOrtho:function(i,t,o){void 0===t&&(t=this.viewportWidth),void 0===o&&(o=this.viewportHeight);var s=this.zoom;return this.up.set(0,i?-1:1,0),this.direction.set(0,0,i?1:-1),this.position.set(s*t/2,s*o/2,0),this.viewportWidth=t,this.viewportHeight=o,this.update()},update:function(){var i=this.viewportWidth,t=this.viewportHeight,o=Math.abs(this.near),e=Math.abs(this.far),h=this.zoom;return 0===i||0===t?this:(this.projection.ortho(h*-i/2,h*i/2,h*-t/2,h*t/2,o,e),s.copy(this.position).add(this.direction),this.view.lookAt(this.position,s,this.up),this.combined.copy(this.projection).multiply(this.view),this.invProjectionView.copy(this.combined).invert(),this.billboardMatrixDirty=!0,this.updateChildren(),this)},zoom:{get:function(){return this._zoom},set:function(i){this._zoom=i,this.update()}}});module.exports=e;
},{"./Camera":"zBUj","../../../src/utils/Class":"JASv","../../../src/math/Vector3":"mpxL"}],"sKe1":[function(require,module,exports) {
var i=require("./Camera"),t=require("../../../src/utils/Class"),e=require("../../../src/math/Vector3"),s=new e,h=new t({Extends:i,initialize:function(t,e,s,h){void 0===e&&(e=80),void 0===s&&(s=0),void 0===h&&(h=0),i.call(this,t),this.viewportWidth=s,this.viewportHeight=h,this.fieldOfView=e*Math.PI/180,this.update()},setFOV:function(i){return this.fieldOfView=i*Math.PI/180,this},update:function(){var i=this.viewportWidth/this.viewportHeight;return this.projection.perspective(this.fieldOfView,i,Math.abs(this.near),Math.abs(this.far)),s.copy(this.position).add(this.direction),this.view.lookAt(this.position,s,this.up),this.combined.copy(this.projection).multiply(this.view),this.invProjectionView.copy(this.combined).invert(),this.billboardMatrixDirty=!0,this.updateChildren(),this}});module.exports=h;
},{"./Camera":"zBUj","../../../src/utils/Class":"JASv","../../../src/math/Vector3":"mpxL"}],"nJmw":[function(require,module,exports) {
var s=require("../../../src/utils/Class"),t=require("./OrthographicCamera"),e=require("./PerspectiveCamera"),i=require("../../../src/plugins/PluginCache"),r=new s({initialize:function(s){this.scene=s,this.systems=s.sys,this.cameras=[],s.sys.events.once("boot",this.boot,this),s.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var s=this.systems.events;s.on("update",this.update,this),s.once("shutdown",this.shutdown,this)},add:function(s,t,e){return this.addPerspectiveCamera(s,t,e)},addOrthographicCamera:function(s,e){var i=this.scene.sys.game.config;void 0===s&&(s=i.width),void 0===e&&(e=i.height);var r=new t(this.scene,s,e);return this.cameras.push(r),r},addPerspectiveCamera:function(s,t,i){var r=this.scene.sys.game.config;void 0===s&&(s=80),void 0===t&&(t=r.width),void 0===i&&(i=r.height);var a=new e(this.scene,s,t,i);return this.cameras.push(a),a},getCamera:function(s){for(var t=0;t<this.cameras.length;t++)if(this.cameras[t].name===s)return this.cameras[t];return null},removeCamera:function(s){var t=this.cameras.indexOf(s);-1!==t&&this.cameras.splice(t,1)},removeAll:function(){for(;this.cameras.length>0;){this.cameras.pop().destroy()}return this.main},update:function(s,t){for(var e=0,i=this.cameras.length;e<i;++e)this.cameras[e].update(s,t)},shutdown:function(){var s=this.systems.events;s.off("update",this.update,this),s.off("shutdown",this.shutdown,this),this.removeAll()},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});i.register("CameraManager3D",r,"cameras3d"),module.exports=r;
},{"../../../src/utils/Class":"JASv","./OrthographicCamera":"REYz","./PerspectiveCamera":"sKe1","../../../src/plugins/PluginCache":"ZrqD"}],"xkyT":[function(require,module,exports) {
module.exports={Camera:require("./Camera"),CameraManager:require("./CameraManager"),OrthographicCamera:require("./OrthographicCamera"),PerspectiveCamera:require("./PerspectiveCamera")};
},{"./Camera":"zBUj","./CameraManager":"nJmw","./OrthographicCamera":"REYz","./PerspectiveCamera":"sKe1"}],"bknR":[function(require,module,exports) {
var e=require("./Sprite3D"),t=require("../../../../src/gameobjects/GameObjectFactory");t.register("sprite3D",function(t,r,i,a,s){var c=new e(this.scene,t,r,i,a,s);return this.displayList.add(c.gameObject),this.updateList.add(c.gameObject),c});
},{"./Sprite3D":"BKkC","../../../../src/gameobjects/GameObjectFactory":"QDoc"}],"Qll3":[function(require,module,exports) {
var e=require("../../../../src/gameobjects/BuildGameObject"),r=require("../../../../src/gameobjects/BuildGameObjectAnimation"),i=require("../../../../src/gameobjects/GameObjectCreator"),t=require("../../../../src/utils/object/GetAdvancedValue"),c=require("./Sprite3D");i.register("sprite3D",function(i,a){void 0===i&&(i={});var s=t(i,"key",null),u=t(i,"frame",null),n=new c(this.scene,0,0,s,u);return void 0!==a&&(i.add=a),e(this.scene,n,i),r(n,i),n});
},{"../../../../src/gameobjects/BuildGameObject":"BMFz","../../../../src/gameobjects/BuildGameObjectAnimation":"LH68","../../../../src/gameobjects/GameObjectCreator":"vSy1","../../../../src/utils/object/GetAdvancedValue":"vpak","./Sprite3D":"BKkC"}],"g7IM":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];require("./polyfills");var r=require("./const"),i=require("./utils/object/Extend"),s={Actions:require("./actions"),Animations:require("./animations"),BlendModes:require("./renderer/BlendModes"),Cache:require("./cache"),Cameras:require("./cameras"),Core:require("./core"),Class:require("./utils/Class"),Create:require("./create"),Curves:require("./curves"),Data:require("./data"),Display:require("./display"),DOM:require("./dom"),Events:require("./events"),Game:require("./core/Game"),GameObjects:require("./gameobjects"),Geom:require("./geom"),Input:require("./input"),Loader:require("./loader"),Math:require("./math"),Physics:require("./physics"),Plugins:require("./plugins"),Renderer:require("./renderer"),Scale:require("./scale"),ScaleModes:require("./renderer/ScaleModes"),Scene:require("./scene/Scene"),Scenes:require("./scene"),Structs:require("./structs"),Textures:require("./textures"),Tilemaps:require("./tilemaps"),Time:require("./time"),Tweens:require("./tweens"),Utils:require("./utils")};s.Sound=require("./sound"),s.Cameras.Sprite3D=require("../plugins/camera3d/src"),s.GameObjects.Sprite3D=require("../plugins/camera3d/src/sprite3d/Sprite3D"),s.GameObjects.Factories.Sprite3D=require("../plugins/camera3d/src/sprite3d/Sprite3DFactory"),s.GameObjects.Creators.Sprite3D=require("../plugins/camera3d/src/sprite3d/Sprite3DCreator"),s.FacebookInstantGamesPlugin=require("../plugins/fbinstant/src/FacebookInstantGamesPlugin"),s=i(!1,s,r),module.exports=s,e.Phaser=s;
},{"./polyfills":"GUoX","./const":"BLd6","./utils/object/Extend":"SFmW","./actions":"qHcr","./animations":"l5Gc","./renderer/BlendModes":"PaIu","./cache":"kCvn","./cameras":"icNy","./core":"WTFh","./utils/Class":"JASv","./create":"IFpz","./curves":"FoZ4","./data":"Zvsc","./display":"S2HQ","./dom":"UpAE","./events":"YPtB","./core/Game":"pS21","./gameobjects":"TTaA","./geom":"HXAG","./input":"hCMr","./loader":"e9Dy","./math":"nIfb","./physics":"LhbK","./plugins":"czmb","./renderer":"SydA","./scale":"tty9","./renderer/ScaleModes":"RtU1","./scene/Scene":"ocpX","./scene":"eZD7","./structs":"ACuu","./textures":"t3dj","./tilemaps":"iPWZ","./time":"IIfW","./tweens":"bIAx","./utils":"XrGF","./sound":"LyI7","../plugins/camera3d/src":"xkyT","../plugins/camera3d/src/sprite3d/Sprite3D":"BKkC","../plugins/camera3d/src/sprite3d/Sprite3DFactory":"bknR","../plugins/camera3d/src/sprite3d/Sprite3DCreator":"Qll3","../plugins/fbinstant/src/FacebookInstantGamesPlugin":"c43s"}],"B1iE":[function(require,module,exports) {
var global = arguments[3];
var Buffer = require("buffer").Buffer;
var define;
var n,t=arguments[3],r=require("buffer").Buffer;(function(){var r,e=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",o="__lodash_hash_undefined__",f=500,a="__lodash_placeholder__",c=1,l=2,s=4,h=1,p=2,v=1,_=2,g=4,y=8,d=16,b=32,w=64,m=128,x=256,j=512,A=30,k="...",O=800,I=16,R=1,E=2,z=1/0,S=9007199254740991,L=1.7976931348623157e308,W=NaN,C=4294967295,B=C-1,U=C>>>1,T=[["ary",m],["bind",v],["bindKey",_],["curry",y],["curryRight",d],["flip",j],["partial",b],["partialRight",w],["rearg",x]],$="[object Arguments]",D="[object Array]",M="[object AsyncFunction]",F="[object Boolean]",N="[object Date]",P="[object DOMException]",q="[object Error]",Z="[object Function]",K="[object GeneratorFunction]",V="[object Map]",G="[object Number]",H="[object Null]",J="[object Object]",Y="[object Proxy]",Q="[object RegExp]",X="[object Set]",nn="[object String]",tn="[object Symbol]",rn="[object Undefined]",en="[object WeakMap]",un="[object WeakSet]",on="[object ArrayBuffer]",fn="[object DataView]",an="[object Float32Array]",cn="[object Float64Array]",ln="[object Int8Array]",sn="[object Int16Array]",hn="[object Int32Array]",pn="[object Uint8Array]",vn="[object Uint8ClampedArray]",_n="[object Uint16Array]",gn="[object Uint32Array]",yn=/\b__p \+= '';/g,dn=/\b(__p \+=) '' \+/g,bn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wn=/&(?:amp|lt|gt|quot|#39);/g,mn=/[&<>"']/g,xn=RegExp(wn.source),jn=RegExp(mn.source),An=/<%-([\s\S]+?)%>/g,kn=/<%([\s\S]+?)%>/g,On=/<%=([\s\S]+?)%>/g,In=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rn=/^\w*$/,En=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zn=/[\\^$.*+?()[\]{}|]/g,Sn=RegExp(zn.source),Ln=/^\s+|\s+$/g,Wn=/^\s+/,Cn=/\s+$/,Bn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Un=/\{\n\/\* \[wrapped with (.+)\] \*/,Tn=/,? & /,$n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dn=/\\(\\)?/g,Mn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Fn=/\w*$/,Nn=/^[-+]0x[0-9a-f]+$/i,Pn=/^0b[01]+$/i,qn=/^\[object .+?Constructor\]$/,Zn=/^0o[0-7]+$/i,Kn=/^(?:0|[1-9]\d*)$/,Vn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Gn=/($^)/,Hn=/['\n\r\u2028\u2029\\]/g,Jn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Yn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qn="[\\ud800-\\udfff]",Xn="["+Yn+"]",nt="["+Jn+"]",tt="\\d+",rt="[\\u2700-\\u27bf]",et="[a-z\\xdf-\\xf6\\xf8-\\xff]",ut="[^\\ud800-\\udfff"+Yn+tt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",it="\\ud83c[\\udffb-\\udfff]",ot="[^\\ud800-\\udfff]",ft="(?:\\ud83c[\\udde6-\\uddff]){2}",at="[\\ud800-\\udbff][\\udc00-\\udfff]",ct="[A-Z\\xc0-\\xd6\\xd8-\\xde]",lt="(?:"+et+"|"+ut+")",st="(?:"+ct+"|"+ut+")",ht="(?:"+nt+"|"+it+")"+"?",pt="[\\ufe0e\\ufe0f]?"+ht+("(?:\\u200d(?:"+[ot,ft,at].join("|")+")[\\ufe0e\\ufe0f]?"+ht+")*"),vt="(?:"+[rt,ft,at].join("|")+")"+pt,_t="(?:"+[ot+nt+"?",nt,ft,at,Qn].join("|")+")",gt=RegExp("[']","g"),yt=RegExp(nt,"g"),dt=RegExp(it+"(?="+it+")|"+_t+pt,"g"),bt=RegExp([ct+"?"+et+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[Xn,ct,"$"].join("|")+")",st+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[Xn,ct+lt,"$"].join("|")+")",ct+"?"+lt+"+(?:['](?:d|ll|m|re|s|t|ve))?",ct+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",tt,vt].join("|"),"g"),wt=RegExp("[\\u200d\\ud800-\\udfff"+Jn+"\\ufe0e\\ufe0f]"),mt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jt=-1,At={};At[an]=At[cn]=At[ln]=At[sn]=At[hn]=At[pn]=At[vn]=At[_n]=At[gn]=!0,At[$]=At[D]=At[on]=At[F]=At[fn]=At[N]=At[q]=At[Z]=At[V]=At[G]=At[J]=At[Q]=At[X]=At[nn]=At[en]=!1;var kt={};kt[$]=kt[D]=kt[on]=kt[fn]=kt[F]=kt[N]=kt[an]=kt[cn]=kt[ln]=kt[sn]=kt[hn]=kt[V]=kt[G]=kt[J]=kt[Q]=kt[X]=kt[nn]=kt[tn]=kt[pn]=kt[vn]=kt[_n]=kt[gn]=!0,kt[q]=kt[Z]=kt[en]=!1;var Ot={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},It=parseFloat,Rt=parseInt,Et="object"==typeof t&&t&&t.Object===Object&&t,zt="object"==typeof self&&self&&self.Object===Object&&self,St=Et||zt||Function("return this")(),Lt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Wt=Lt&&"object"==typeof module&&module&&!module.nodeType&&module,Ct=Wt&&Wt.exports===Lt,Bt=Ct&&Et.process,Ut=function(){try{var n=Wt&&Wt.require&&Wt.require("util").types;return n||Bt&&Bt.binding&&Bt.binding("util")}catch(t){}}(),Tt=Ut&&Ut.isArrayBuffer,$t=Ut&&Ut.isDate,Dt=Ut&&Ut.isMap,Mt=Ut&&Ut.isRegExp,Ft=Ut&&Ut.isSet,Nt=Ut&&Ut.isTypedArray;function Pt(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function qt(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function Zt(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&!1!==t(n[r],r,n););return n}function Kt(n,t){for(var r=null==n?0:n.length;r--&&!1!==t(n[r],r,n););return n}function Vt(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function Gt(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function Ht(n,t){return!!(null==n?0:n.length)&&ir(n,t,0)>-1}function Jt(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function Yt(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function Qt(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function Xt(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function nr(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function tr(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}var rr=cr("length");function er(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function ur(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function ir(n,t,r){return t==t?function(n,t,r){var e=r-1,u=n.length;for(;++e<u;)if(n[e]===t)return e;return-1}(n,t,r):ur(n,fr,r)}function or(n,t,r,e){for(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return-1}function fr(n){return n!=n}function ar(n,t){var r=null==n?0:n.length;return r?hr(n,t)/r:W}function cr(n){return function(t){return null==t?r:t[n]}}function lr(n){return function(t){return null==n?r:n[t]}}function sr(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function hr(n,t){for(var e,u=-1,i=n.length;++u<i;){var o=t(n[u]);o!==r&&(e=e===r?o:e+o)}return e}function pr(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function vr(n){return function(t){return n(t)}}function _r(n,t){return Yt(t,function(t){return n[t]})}function gr(n,t){return n.has(t)}function yr(n,t){for(var r=-1,e=n.length;++r<e&&ir(t,n[r],0)>-1;);return r}function dr(n,t){for(var r=n.length;r--&&ir(t,n[r],0)>-1;);return r}var br=lr({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),wr=lr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function mr(n){return"\\"+Ot[n]}function xr(n){return wt.test(n)}function jr(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function Ar(n,t){return function(r){return n(t(r))}}function kr(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&o!==a||(n[r]=a,i[u++]=r)}return i}function Or(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function Ir(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function Rr(n){return xr(n)?function(n){var t=dt.lastIndex=0;for(;dt.test(n);)++t;return t}(n):rr(n)}function Er(n){return xr(n)?function(n){return n.match(dt)||[]}(n):function(n){return n.split("")}(n)}var zr=lr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Sr=function n(t){var Jn,Yn=(t=null==t?St:Sr.defaults(St.Object(),t,Sr.pick(St,xt))).Array,Qn=t.Date,Xn=t.Error,nt=t.Function,tt=t.Math,rt=t.Object,et=t.RegExp,ut=t.String,it=t.TypeError,ot=Yn.prototype,ft=nt.prototype,at=rt.prototype,ct=t["__core-js_shared__"],lt=ft.toString,st=at.hasOwnProperty,ht=0,pt=(Jn=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||""))?"Symbol(src)_1."+Jn:"",vt=at.toString,_t=lt.call(rt),dt=St._,wt=et("^"+lt.call(st).replace(zn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ot=Ct?t.Buffer:r,Et=t.Symbol,zt=t.Uint8Array,Lt=Ot?Ot.allocUnsafe:r,Wt=Ar(rt.getPrototypeOf,rt),Bt=rt.create,Ut=at.propertyIsEnumerable,rr=ot.splice,lr=Et?Et.isConcatSpreadable:r,Lr=Et?Et.iterator:r,Wr=Et?Et.toStringTag:r,Cr=function(){try{var n=$i(rt,"defineProperty");return n({},"",{}),n}catch(t){}}(),Br=t.clearTimeout!==St.clearTimeout&&t.clearTimeout,Ur=Qn&&Qn.now!==St.Date.now&&Qn.now,Tr=t.setTimeout!==St.setTimeout&&t.setTimeout,$r=tt.ceil,Dr=tt.floor,Mr=rt.getOwnPropertySymbols,Fr=Ot?Ot.isBuffer:r,Nr=t.isFinite,Pr=ot.join,qr=Ar(rt.keys,rt),Zr=tt.max,Kr=tt.min,Vr=Qn.now,Gr=t.parseInt,Hr=tt.random,Jr=ot.reverse,Yr=$i(t,"DataView"),Qr=$i(t,"Map"),Xr=$i(t,"Promise"),ne=$i(t,"Set"),te=$i(t,"WeakMap"),re=$i(rt,"create"),ee=te&&new te,ue={},ie=lo(Yr),oe=lo(Qr),fe=lo(Xr),ae=lo(ne),ce=lo(te),le=Et?Et.prototype:r,se=le?le.valueOf:r,he=le?le.toString:r;function pe(n){if(Ef(n)&&!df(n)&&!(n instanceof ye)){if(n instanceof ge)return n;if(st.call(n,"__wrapped__"))return so(n)}return new ge(n)}var ve=function(){function n(){}return function(t){if(!Rf(t))return{};if(Bt)return Bt(t);n.prototype=t;var e=new n;return n.prototype=r,e}}();function _e(){}function ge(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function ye(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=C,this.__views__=[]}function de(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function be(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function we(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function me(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new we;++t<r;)this.add(n[t])}function xe(n){var t=this.__data__=new be(n);this.size=t.size}function je(n,t){var r=df(n),e=!r&&yf(n),u=!r&&!e&&xf(n),i=!r&&!e&&!u&&Tf(n),o=r||e||u||i,f=o?pr(n.length,ut):[],a=f.length;for(var c in n)!t&&!st.call(n,c)||o&&("length"==c||u&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Zi(c,a))||f.push(c);return f}function Ae(n){var t=n.length;return t?n[mu(0,t-1)]:r}function ke(n,t){return fo(ri(n),Ce(t,0,n.length))}function Oe(n){return fo(ri(n))}function Ie(n,t,e){(e===r||vf(n[t],e))&&(e!==r||t in n)||Le(n,t,e)}function Re(n,t,e){var u=n[t];st.call(n,t)&&vf(u,e)&&(e!==r||t in n)||Le(n,t,e)}function Ee(n,t){for(var r=n.length;r--;)if(vf(n[r][0],t))return r;return-1}function ze(n,t,r,e){return De(n,function(n,u,i){t(e,n,r(n),i)}),e}function Se(n,t){return n&&ei(t,ia(t),n)}function Le(n,t,r){"__proto__"==t&&Cr?Cr(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function We(n,t){for(var e=-1,u=t.length,i=Yn(u),o=null==n;++e<u;)i[e]=o?r:na(n,t[e]);return i}function Ce(n,t,e){return n==n&&(e!==r&&(n=n<=e?n:e),t!==r&&(n=n>=t?n:t)),n}function Be(n,t,e,u,i,o){var f,a=t&c,h=t&l,p=t&s;if(e&&(f=i?e(n,u,i,o):e(n)),f!==r)return f;if(!Rf(n))return n;var v=df(n);if(v){if(f=function(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&st.call(n,"index")&&(r.index=n.index,r.input=n.input),r}(n),!a)return ri(n,f)}else{var _=Fi(n),g=_==Z||_==K;if(xf(n))return Ju(n,a);if(_==J||_==$||g&&!i){if(f=h||g?{}:Pi(n),!a)return h?function(n,t){return ei(n,Mi(n),t)}(n,function(n,t){return n&&ei(t,oa(t),n)}(f,n)):function(n,t){return ei(n,Di(n),t)}(n,Se(f,n))}else{if(!kt[_])return i?n:{};f=function(n,t,r){var e,u,i,o=n.constructor;switch(t){case on:return Yu(n);case F:case N:return new o(+n);case fn:return function(n,t){var r=t?Yu(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}(n,r);case an:case cn:case ln:case sn:case hn:case pn:case vn:case _n:case gn:return Qu(n,r);case V:return new o;case G:case nn:return new o(n);case Q:return(i=new(u=n).constructor(u.source,Fn.exec(u))).lastIndex=u.lastIndex,i;case X:return new o;case tn:return e=n,se?rt(se.call(e)):{}}}(n,_,a)}}o||(o=new xe);var y=o.get(n);if(y)return y;o.set(n,f),Cf(n)?n.forEach(function(r){f.add(Be(r,t,e,r,n,o))}):zf(n)&&n.forEach(function(r,u){f.set(u,Be(r,t,e,u,n,o))});var d=v?r:(p?h?Si:zi:h?oa:ia)(n);return Zt(d||n,function(r,u){d&&(r=n[u=r]),Re(f,u,Be(r,t,e,u,n,o))}),f}function Ue(n,t,e){var u=e.length;if(null==n)return!u;for(n=rt(n);u--;){var i=e[u],o=t[i],f=n[i];if(f===r&&!(i in n)||!o(f))return!1}return!0}function Te(n,t,e){if("function"!=typeof n)throw new it(i);return eo(function(){n.apply(r,e)},t)}function $e(n,t,r,u){var i=-1,o=Ht,f=!0,a=n.length,c=[],l=t.length;if(!a)return c;r&&(t=Yt(t,vr(r))),u?(o=Jt,f=!1):t.length>=e&&(o=gr,f=!1,t=new me(t));n:for(;++i<a;){var s=n[i],h=null==r?s:r(s);if(s=u||0!==s?s:0,f&&h==h){for(var p=l;p--;)if(t[p]===h)continue n;c.push(s)}else o(t,h,u)||c.push(s)}return c}pe.templateSettings={escape:An,evaluate:kn,interpolate:On,variable:"",imports:{_:pe}},pe.prototype=_e.prototype,pe.prototype.constructor=pe,ge.prototype=ve(_e.prototype),ge.prototype.constructor=ge,ye.prototype=ve(_e.prototype),ye.prototype.constructor=ye,de.prototype.clear=function(){this.__data__=re?re(null):{},this.size=0},de.prototype.delete=function(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},de.prototype.get=function(n){var t=this.__data__;if(re){var e=t[n];return e===o?r:e}return st.call(t,n)?t[n]:r},de.prototype.has=function(n){var t=this.__data__;return re?t[n]!==r:st.call(t,n)},de.prototype.set=function(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=re&&t===r?o:t,this},be.prototype.clear=function(){this.__data__=[],this.size=0},be.prototype.delete=function(n){var t=this.__data__,r=Ee(t,n);return!(r<0||(r==t.length-1?t.pop():rr.call(t,r,1),--this.size,0))},be.prototype.get=function(n){var t=this.__data__,e=Ee(t,n);return e<0?r:t[e][1]},be.prototype.has=function(n){return Ee(this.__data__,n)>-1},be.prototype.set=function(n,t){var r=this.__data__,e=Ee(r,n);return e<0?(++this.size,r.push([n,t])):r[e][1]=t,this},we.prototype.clear=function(){this.size=0,this.__data__={hash:new de,map:new(Qr||be),string:new de}},we.prototype.delete=function(n){var t=Ui(this,n).delete(n);return this.size-=t?1:0,t},we.prototype.get=function(n){return Ui(this,n).get(n)},we.prototype.has=function(n){return Ui(this,n).has(n)},we.prototype.set=function(n,t){var r=Ui(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this},me.prototype.add=me.prototype.push=function(n){return this.__data__.set(n,o),this},me.prototype.has=function(n){return this.__data__.has(n)},xe.prototype.clear=function(){this.__data__=new be,this.size=0},xe.prototype.delete=function(n){var t=this.__data__,r=t.delete(n);return this.size=t.size,r},xe.prototype.get=function(n){return this.__data__.get(n)},xe.prototype.has=function(n){return this.__data__.has(n)},xe.prototype.set=function(n,t){var r=this.__data__;if(r instanceof be){var u=r.__data__;if(!Qr||u.length<e-1)return u.push([n,t]),this.size=++r.size,this;r=this.__data__=new we(u)}return r.set(n,t),this.size=r.size,this};var De=oi(Ve),Me=oi(Ge,!0);function Fe(n,t){var r=!0;return De(n,function(n,e,u){return r=!!t(n,e,u)}),r}function Ne(n,t,e){for(var u=-1,i=n.length;++u<i;){var o=n[u],f=t(o);if(null!=f&&(a===r?f==f&&!Uf(f):e(f,a)))var a=f,c=o}return c}function Pe(n,t){var r=[];return De(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function qe(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=qi),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?qe(f,t-1,r,e,u):Qt(u,f):e||(u[u.length]=f)}return u}var Ze=fi(),Ke=fi(!0);function Ve(n,t){return n&&Ze(n,t,ia)}function Ge(n,t){return n&&Ke(n,t,ia)}function He(n,t){return Gt(t,function(t){return kf(n[t])})}function Je(n,t){for(var e=0,u=(t=Ku(t,n)).length;null!=n&&e<u;)n=n[co(t[e++])];return e&&e==u?n:r}function Ye(n,t,r){var e=t(n);return df(n)?e:Qt(e,r(n))}function Qe(n){return null==n?n===r?rn:H:Wr&&Wr in rt(n)?function(n){var t=st.call(n,Wr),e=n[Wr];try{n[Wr]=r;var u=!0}catch(o){}var i=vt.call(n);return u&&(t?n[Wr]=e:delete n[Wr]),i}(n):function(n){return vt.call(n)}(n)}function Xe(n,t){return n>t}function nu(n,t){return null!=n&&st.call(n,t)}function tu(n,t){return null!=n&&t in rt(n)}function ru(n,t,e){for(var u=e?Jt:Ht,i=n[0].length,o=n.length,f=o,a=Yn(o),c=1/0,l=[];f--;){var s=n[f];f&&t&&(s=Yt(s,vr(t))),c=Kr(s.length,c),a[f]=!e&&(t||i>=120&&s.length>=120)?new me(f&&s):r}s=n[0];var h=-1,p=a[0];n:for(;++h<i&&l.length<c;){var v=s[h],_=t?t(v):v;if(v=e||0!==v?v:0,!(p?gr(p,_):u(l,_,e))){for(f=o;--f;){var g=a[f];if(!(g?gr(g,_):u(n[f],_,e)))continue n}p&&p.push(_),l.push(v)}}return l}function eu(n,t,e){var u=null==(n=no(n,t=Ku(t,n)))?n:n[co(jo(t))];return null==u?r:Pt(u,n,e)}function uu(n){return Ef(n)&&Qe(n)==$}function iu(n,t,e,u,i){return n===t||(null==n||null==t||!Ef(n)&&!Ef(t)?n!=n&&t!=t:function(n,t,e,u,i,o){var f=df(n),a=df(t),c=f?D:Fi(n),l=a?D:Fi(t),s=(c=c==$?J:c)==J,v=(l=l==$?J:l)==J,_=c==l;if(_&&xf(n)){if(!xf(t))return!1;f=!0,s=!1}if(_&&!s)return o||(o=new xe),f||Tf(n)?Ri(n,t,e,u,i,o):function(n,t,r,e,u,i,o){switch(r){case fn:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case on:return!(n.byteLength!=t.byteLength||!i(new zt(n),new zt(t)));case F:case N:case G:return vf(+n,+t);case q:return n.name==t.name&&n.message==t.message;case Q:case nn:return n==t+"";case V:var f=jr;case X:var a=e&h;if(f||(f=Or),n.size!=t.size&&!a)return!1;var c=o.get(n);if(c)return c==t;e|=p,o.set(n,t);var l=Ri(f(n),f(t),e,u,i,o);return o.delete(n),l;case tn:if(se)return se.call(n)==se.call(t)}return!1}(n,t,c,e,u,i,o);if(!(e&h)){var g=s&&st.call(n,"__wrapped__"),y=v&&st.call(t,"__wrapped__");if(g||y){var d=g?n.value():n,b=y?t.value():t;return o||(o=new xe),i(d,b,e,u,o)}}return!!_&&(o||(o=new xe),function(n,t,e,u,i,o){var f=e&h,a=zi(n),c=a.length,l=zi(t).length;if(c!=l&&!f)return!1;for(var s=c;s--;){var p=a[s];if(!(f?p in t:st.call(t,p)))return!1}var v=o.get(n),_=o.get(t);if(v&&_)return v==t&&_==n;var g=!0;o.set(n,t),o.set(t,n);for(var y=f;++s<c;){p=a[s];var d=n[p],b=t[p];if(u)var w=f?u(b,d,p,t,n,o):u(d,b,p,n,t,o);if(!(w===r?d===b||i(d,b,e,u,o):w)){g=!1;break}y||(y="constructor"==p)}if(g&&!y){var m=n.constructor,x=t.constructor;m!=x&&"constructor"in n&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof x&&x instanceof x)&&(g=!1)}return o.delete(n),o.delete(t),g}(n,t,e,u,i,o))}(n,t,e,u,iu,i))}function ou(n,t,e,u){var i=e.length,o=i,f=!u;if(null==n)return!o;for(n=rt(n);i--;){var a=e[i];if(f&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++i<o;){var c=(a=e[i])[0],l=n[c],s=a[1];if(f&&a[2]){if(l===r&&!(c in n))return!1}else{var v=new xe;if(u)var _=u(l,s,c,n,t,v);if(!(_===r?iu(s,l,h|p,u,v):_))return!1}}return!0}function fu(n){return!(!Rf(n)||(t=n,pt&&pt in t))&&(kf(n)?wt:qn).test(lo(n));var t}function au(n){return"function"==typeof n?n:null==n?Sa:"object"==typeof n?df(n)?vu(n[0],n[1]):pu(n):Ma(n)}function cu(n){if(!Ji(n))return qr(n);var t=[];for(var r in rt(n))st.call(n,r)&&"constructor"!=r&&t.push(r);return t}function lu(n){if(!Rf(n))return function(n){var t=[];if(null!=n)for(var r in rt(n))t.push(r);return t}(n);var t=Ji(n),r=[];for(var e in n)("constructor"!=e||!t&&st.call(n,e))&&r.push(e);return r}function su(n,t){return n<t}function hu(n,t){var r=-1,e=wf(n)?Yn(n.length):[];return De(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function pu(n){var t=Ti(n);return 1==t.length&&t[0][2]?Qi(t[0][0],t[0][1]):function(r){return r===n||ou(r,n,t)}}function vu(n,t){return Vi(n)&&Yi(t)?Qi(co(n),t):function(e){var u=na(e,n);return u===r&&u===t?ta(e,n):iu(t,u,h|p)}}function _u(n,t,e,u,i){n!==t&&Ze(t,function(o,f){if(i||(i=new xe),Rf(o))!function(n,t,e,u,i,o,f){var a=to(n,e),c=to(t,e),l=f.get(c);if(l)Ie(n,e,l);else{var s=o?o(a,c,e+"",n,t,f):r,h=s===r;if(h){var p=df(c),v=!p&&xf(c),_=!p&&!v&&Tf(c);s=c,p||v||_?df(a)?s=a:mf(a)?s=ri(a):v?(h=!1,s=Ju(c,!0)):_?(h=!1,s=Qu(c,!0)):s=[]:Lf(c)||yf(c)?(s=a,yf(a)?s=Zf(a):Rf(a)&&!kf(a)||(s=Pi(c))):h=!1}h&&(f.set(c,s),i(s,c,u,o,f),f.delete(c)),Ie(n,e,s)}}(n,t,f,e,_u,u,i);else{var a=u?u(to(n,f),o,f+"",n,t,i):r;a===r&&(a=o),Ie(n,f,a)}},oa)}function gu(n,t){var e=n.length;if(e)return Zi(t+=t<0?e:0,e)?n[t]:r}function yu(n,t,r){t=t.length?Yt(t,function(n){return df(n)?function(t){return Je(t,1===n.length?n[0]:n)}:n}):[Sa];var e=-1;return t=Yt(t,vr(Bi())),function(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}(hu(n,function(n,r,u){return{criteria:Yt(t,function(t){return t(n)}),index:++e,value:n}}),function(n,t){return function(n,t,r){for(var e=-1,u=n.criteria,i=t.criteria,o=u.length,f=r.length;++e<o;){var a=Xu(u[e],i[e]);if(a){if(e>=f)return a;var c=r[e];return a*("desc"==c?-1:1)}}return n.index-t.index}(n,t,r)})}function du(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=Je(n,o);r(f,o)&&Ou(i,Ku(o,n),f)}return i}function bu(n,t,r,e){var u=e?or:ir,i=-1,o=t.length,f=n;for(n===t&&(t=ri(t)),r&&(f=Yt(n,vr(r)));++i<o;)for(var a=0,c=t[i],l=r?r(c):c;(a=u(f,l,a,e))>-1;)f!==n&&rr.call(f,a,1),rr.call(n,a,1);return n}function wu(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;Zi(u)?rr.call(n,u,1):$u(n,u)}}return n}function mu(n,t){return n+Dr(Hr()*(t-n+1))}function xu(n,t){var r="";if(!n||t<1||t>S)return r;do{t%2&&(r+=n),(t=Dr(t/2))&&(n+=n)}while(t);return r}function ju(n,t){return uo(Xi(n,t,Sa),n+"")}function Au(n){return Ae(va(n))}function ku(n,t){var r=va(n);return fo(r,Ce(t,0,r.length))}function Ou(n,t,e,u){if(!Rf(n))return n;for(var i=-1,o=(t=Ku(t,n)).length,f=o-1,a=n;null!=a&&++i<o;){var c=co(t[i]),l=e;if("__proto__"===c||"constructor"===c||"prototype"===c)return n;if(i!=f){var s=a[c];(l=u?u(s,c,a):r)===r&&(l=Rf(s)?s:Zi(t[i+1])?[]:{})}Re(a,c,l),a=a[c]}return n}var Iu=ee?function(n,t){return ee.set(n,t),n}:Sa,Ru=Cr?function(n,t){return Cr(n,"toString",{configurable:!0,enumerable:!1,value:Ra(t),writable:!0})}:Sa;function Eu(n){return fo(va(n))}function zu(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),(r=r>u?u:r)<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=Yn(u);++e<u;)i[e]=n[e+t];return i}function Su(n,t){var r;return De(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function Lu(n,t,r){var e=0,u=null==n?e:n.length;if("number"==typeof t&&t==t&&u<=U){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!Uf(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return Wu(n,t,Sa,r)}function Wu(n,t,e,u){var i=0,o=null==n?0:n.length;if(0===o)return 0;for(var f=(t=e(t))!=t,a=null===t,c=Uf(t),l=t===r;i<o;){var s=Dr((i+o)/2),h=e(n[s]),p=h!==r,v=null===h,_=h==h,g=Uf(h);if(f)var y=u||_;else y=l?_&&(u||p):a?_&&p&&(u||!v):c?_&&p&&!v&&(u||!g):!v&&!g&&(u?h<=t:h<t);y?i=s+1:o=s}return Kr(o,B)}function Cu(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r],f=t?t(o):o;if(!r||!vf(f,a)){var a=f;i[u++]=0===o?0:o}}return i}function Bu(n){return"number"==typeof n?n:Uf(n)?W:+n}function Uu(n){if("string"==typeof n)return n;if(df(n))return Yt(n,Uu)+"";if(Uf(n))return he?he.call(n):"";var t=n+"";return"0"==t&&1/n==-z?"-0":t}function Tu(n,t,r){var u=-1,i=Ht,o=n.length,f=!0,a=[],c=a;if(r)f=!1,i=Jt;else if(o>=e){var l=t?null:xi(n);if(l)return Or(l);f=!1,i=gr,c=new me}else c=t?[]:a;n:for(;++u<o;){var s=n[u],h=t?t(s):s;if(s=r||0!==s?s:0,f&&h==h){for(var p=c.length;p--;)if(c[p]===h)continue n;t&&c.push(h),a.push(s)}else i(c,h,r)||(c!==a&&c.push(h),a.push(s))}return a}function $u(n,t){return null==(n=no(n,t=Ku(t,n)))||delete n[co(jo(t))]}function Du(n,t,r,e){return Ou(n,t,r(Je(n,t)),e)}function Mu(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?zu(n,e?0:i,e?i+1:u):zu(n,e?i+1:0,e?u:i)}function Fu(n,t){var r=n;return r instanceof ye&&(r=r.value()),Xt(t,function(n,t){return t.func.apply(t.thisArg,Qt([n],t.args))},r)}function Nu(n,t,r){var e=n.length;if(e<2)return e?Tu(n[0]):[];for(var u=-1,i=Yn(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=$e(i[u]||o,n[f],t,r));return Tu(qe(i,1),t,r)}function Pu(n,t,e){for(var u=-1,i=n.length,o=t.length,f={};++u<i;){var a=u<o?t[u]:r;e(f,n[u],a)}return f}function qu(n){return mf(n)?n:[]}function Zu(n){return"function"==typeof n?n:Sa}function Ku(n,t){return df(n)?n:Vi(n,t)?[n]:ao(Kf(n))}var Vu=ju;function Gu(n,t,e){var u=n.length;return e=e===r?u:e,!t&&e>=u?n:zu(n,t,e)}var Hu=Br||function(n){return St.clearTimeout(n)};function Ju(n,t){if(t)return n.slice();var r=n.length,e=Lt?Lt(r):new n.constructor(r);return n.copy(e),e}function Yu(n){var t=new n.constructor(n.byteLength);return new zt(t).set(new zt(n)),t}function Qu(n,t){var r=t?Yu(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}function Xu(n,t){if(n!==t){var e=n!==r,u=null===n,i=n==n,o=Uf(n),f=t!==r,a=null===t,c=t==t,l=Uf(t);if(!a&&!l&&!o&&n>t||o&&f&&c&&!a&&!l||u&&f&&c||!e&&c||!i)return 1;if(!u&&!o&&!l&&n<t||l&&e&&i&&!u&&!o||a&&e&&i||!f&&i||!c)return-1}return 0}function ni(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,a=t.length,c=Zr(i-o,0),l=Yn(a+c),s=!e;++f<a;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;c--;)l[f++]=n[u++];return l}function ti(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,a=-1,c=t.length,l=Zr(i-f,0),s=Yn(l+c),h=!e;++u<l;)s[u]=n[u];for(var p=u;++a<c;)s[p+a]=t[a];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function ri(n,t){var r=-1,e=n.length;for(t||(t=Yn(e));++r<e;)t[r]=n[r];return t}function ei(n,t,e,u){var i=!e;e||(e={});for(var o=-1,f=t.length;++o<f;){var a=t[o],c=u?u(e[a],n[a],a,e,n):r;c===r&&(c=n[a]),i?Le(e,a,c):Re(e,a,c)}return e}function ui(n,t){return function(r,e){var u=df(r)?qt:ze,i=t?t():{};return u(r,n,Bi(e,2),i)}}function ii(n){return ju(function(t,e){var u=-1,i=e.length,o=i>1?e[i-1]:r,f=i>2?e[2]:r;for(o=n.length>3&&"function"==typeof o?(i--,o):r,f&&Ki(e[0],e[1],f)&&(o=i<3?r:o,i=1),t=rt(t);++u<i;){var a=e[u];a&&n(t,a,u,o)}return t})}function oi(n,t){return function(r,e){if(null==r)return r;if(!wf(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=rt(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function fi(n){return function(t,r,e){for(var u=-1,i=rt(t),o=e(t),f=o.length;f--;){var a=o[n?f:++u];if(!1===r(i[a],a,i))break}return t}}function ai(n){return function(t){var e=xr(t=Kf(t))?Er(t):r,u=e?e[0]:t.charAt(0),i=e?Gu(e,1).join(""):t.slice(1);return u[n]()+i}}function ci(n){return function(t){return Xt(ka(ya(t).replace(gt,"")),n,"")}}function li(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=ve(n.prototype),e=n.apply(r,t);return Rf(e)?e:r}}function si(n){return function(t,e,u){var i=rt(t);if(!wf(t)){var o=Bi(e,3);t=ia(t),e=function(n){return o(i[n],n,i)}}var f=n(t,e,u);return f>-1?i[o?t[f]:f]:r}}function hi(n){return Ei(function(t){var e=t.length,u=e,o=ge.prototype.thru;for(n&&t.reverse();u--;){var f=t[u];if("function"!=typeof f)throw new it(i);if(o&&!a&&"wrapper"==Wi(f))var a=new ge([],!0)}for(u=a?u:e;++u<e;){var c=Wi(f=t[u]),l="wrapper"==c?Li(f):r;a=l&&Gi(l[0])&&l[1]==(m|y|b|x)&&!l[4].length&&1==l[9]?a[Wi(l[0])].apply(a,l[3]):1==f.length&&Gi(f)?a[c]():a.thru(f)}return function(){var n=arguments,r=n[0];if(a&&1==n.length&&df(r))return a.plant(r).value();for(var u=0,i=e?t[u].apply(this,n):r;++u<e;)i=t[u].call(this,i);return i}})}function pi(n,t,e,u,i,o,f,a,c,l){var s=t&m,h=t&v,p=t&_,g=t&(y|d),b=t&j,w=p?r:li(n);return function v(){for(var _=arguments.length,y=Yn(_),d=_;d--;)y[d]=arguments[d];if(g)var m=Ci(v),x=function(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&++e;return e}(y,m);if(u&&(y=ni(y,u,i,g)),o&&(y=ti(y,o,f,g)),_-=x,g&&_<l){var j=kr(y,m);return wi(n,t,pi,v.placeholder,e,y,j,a,c,l-_)}var A=h?e:this,k=p?A[n]:n;return _=y.length,a?y=function(n,t){for(var e=n.length,u=Kr(t.length,e),i=ri(n);u--;){var o=t[u];n[u]=Zi(o,e)?i[o]:r}return n}(y,a):b&&_>1&&y.reverse(),s&&c<_&&(y.length=c),this&&this!==St&&this instanceof v&&(k=w||li(k)),k.apply(A,y)}}function vi(n,t){return function(r,e){return function(n,t,r,e){return Ve(n,function(n,u,i){t(e,r(n),u,i)}),e}(r,n,t(e),{})}}function _i(n,t){return function(e,u){var i;if(e===r&&u===r)return t;if(e!==r&&(i=e),u!==r){if(i===r)return u;"string"==typeof e||"string"==typeof u?(e=Uu(e),u=Uu(u)):(e=Bu(e),u=Bu(u)),i=n(e,u)}return i}}function gi(n){return Ei(function(t){return t=Yt(t,vr(Bi())),ju(function(r){var e=this;return n(t,function(n){return Pt(n,e,r)})})})}function yi(n,t){var e=(t=t===r?" ":Uu(t)).length;if(e<2)return e?xu(t,n):t;var u=xu(t,$r(n/Rr(t)));return xr(t)?Gu(Er(u),0,n).join(""):u.slice(0,n)}function di(n){return function(t,e,u){return u&&"number"!=typeof u&&Ki(t,e,u)&&(e=u=r),t=Ff(t),e===r?(e=t,t=0):e=Ff(e),function(n,t,r,e){for(var u=-1,i=Zr($r((t-n)/(r||1)),0),o=Yn(i);i--;)o[e?i:++u]=n,n+=r;return o}(t,e,u=u===r?t<e?1:-1:Ff(u),n)}}function bi(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=qf(t),r=qf(r)),n(t,r)}}function wi(n,t,e,u,i,o,f,a,c,l){var s=t&y;t|=s?b:w,(t&=~(s?w:b))&g||(t&=~(v|_));var h=[n,t,i,s?o:r,s?f:r,s?r:o,s?r:f,a,c,l],p=e.apply(r,h);return Gi(n)&&ro(p,h),p.placeholder=u,io(p,n,t)}function mi(n){var t=tt[n];return function(n,r){if(n=qf(n),(r=null==r?0:Kr(Nf(r),292))&&Nr(n)){var e=(Kf(n)+"e").split("e");return+((e=(Kf(t(e[0]+"e"+(+e[1]+r)))+"e").split("e"))[0]+"e"+(+e[1]-r))}return t(n)}}var xi=ne&&1/Or(new ne([,-0]))[1]==z?function(n){return new ne(n)}:Ua;function ji(n){return function(t){var r=Fi(t);return r==V?jr(t):r==X?Ir(t):function(n,t){return Yt(t,function(t){return[t,n[t]]})}(t,n(t))}}function Ai(n,t,e,u,o,f,c,l){var s=t&_;if(!s&&"function"!=typeof n)throw new it(i);var h=u?u.length:0;if(h||(t&=~(b|w),u=o=r),c=c===r?c:Zr(Nf(c),0),l=l===r?l:Nf(l),h-=o?o.length:0,t&w){var p=u,j=o;u=o=r}var A=s?r:Li(n),k=[n,t,e,u,o,p,j,f,c,l];if(A&&function(n,t){var r=n[1],e=t[1],u=r|e,i=u<(v|_|m),o=e==m&&r==y||e==m&&r==x&&n[7].length<=t[8]||e==(m|x)&&t[7].length<=t[8]&&r==y;if(!i&&!o)return n;e&v&&(n[2]=t[2],u|=r&v?0:g);var f=t[3];if(f){var c=n[3];n[3]=c?ni(c,f,t[4]):f,n[4]=c?kr(n[3],a):t[4]}(f=t[5])&&(c=n[5],n[5]=c?ti(c,f,t[6]):f,n[6]=c?kr(n[5],a):t[6]),(f=t[7])&&(n[7]=f),e&m&&(n[8]=null==n[8]?t[8]:Kr(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u}(k,A),n=k[0],t=k[1],e=k[2],u=k[3],o=k[4],!(l=k[9]=k[9]===r?s?0:n.length:Zr(k[9]-h,0))&&t&(y|d)&&(t&=~(y|d)),t&&t!=v)O=t==y||t==d?function(n,t,e){var u=li(n);return function i(){for(var o=arguments.length,f=Yn(o),a=o,c=Ci(i);a--;)f[a]=arguments[a];var l=o<3&&f[0]!==c&&f[o-1]!==c?[]:kr(f,c);return(o-=l.length)<e?wi(n,t,pi,i.placeholder,r,f,l,r,r,e-o):Pt(this&&this!==St&&this instanceof i?u:n,this,f)}}(n,t,l):t!=b&&t!=(v|b)||o.length?pi.apply(r,k):function(n,t,r,e){var u=t&v,i=li(n);return function t(){for(var o=-1,f=arguments.length,a=-1,c=e.length,l=Yn(c+f),s=this&&this!==St&&this instanceof t?i:n;++a<c;)l[a]=e[a];for(;f--;)l[a++]=arguments[++o];return Pt(s,u?r:this,l)}}(n,t,e,u);else var O=function(n,t,r){var e=t&v,u=li(n);return function t(){return(this&&this!==St&&this instanceof t?u:n).apply(e?r:this,arguments)}}(n,t,e);return io((A?Iu:ro)(O,k),n,t)}function ki(n,t,e,u){return n===r||vf(n,at[e])&&!st.call(u,e)?t:n}function Oi(n,t,e,u,i,o){return Rf(n)&&Rf(t)&&(o.set(t,n),_u(n,t,r,Oi,o),o.delete(t)),n}function Ii(n){return Lf(n)?r:n}function Ri(n,t,e,u,i,o){var f=e&h,a=n.length,c=t.length;if(a!=c&&!(f&&c>a))return!1;var l=o.get(n),s=o.get(t);if(l&&s)return l==t&&s==n;var v=-1,_=!0,g=e&p?new me:r;for(o.set(n,t),o.set(t,n);++v<a;){var y=n[v],d=t[v];if(u)var b=f?u(d,y,v,t,n,o):u(y,d,v,n,t,o);if(b!==r){if(b)continue;_=!1;break}if(g){if(!tr(t,function(n,t){if(!gr(g,t)&&(y===n||i(y,n,e,u,o)))return g.push(t)})){_=!1;break}}else if(y!==d&&!i(y,d,e,u,o)){_=!1;break}}return o.delete(n),o.delete(t),_}function Ei(n){return uo(Xi(n,r,yo),n+"")}function zi(n){return Ye(n,ia,Di)}function Si(n){return Ye(n,oa,Mi)}var Li=ee?function(n){return ee.get(n)}:Ua;function Wi(n){for(var t=n.name+"",r=ue[t],e=st.call(ue,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function Ci(n){return(st.call(pe,"placeholder")?pe:n).placeholder}function Bi(){var n=pe.iteratee||La;return n=n===La?au:n,arguments.length?n(arguments[0],arguments[1]):n}function Ui(n,t){var r,e,u=n.__data__;return("string"==(e=typeof(r=t))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==r:null===r)?u["string"==typeof t?"string":"hash"]:u.map}function Ti(n){for(var t=ia(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,Yi(u)]}return t}function $i(n,t){var e=function(n,t){return null==n?r:n[t]}(n,t);return fu(e)?e:r}var Di=Mr?function(n){return null==n?[]:(n=rt(n),Gt(Mr(n),function(t){return Ut.call(n,t)}))}:Pa,Mi=Mr?function(n){for(var t=[];n;)Qt(t,Di(n)),n=Wt(n);return t}:Pa,Fi=Qe;function Ni(n,t,r){for(var e=-1,u=(t=Ku(t,n)).length,i=!1;++e<u;){var o=co(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:!!(u=null==n?0:n.length)&&If(u)&&Zi(o,u)&&(df(n)||yf(n))}function Pi(n){return"function"!=typeof n.constructor||Ji(n)?{}:ve(Wt(n))}function qi(n){return df(n)||yf(n)||!!(lr&&n&&n[lr])}function Zi(n,t){var r=typeof n;return!!(t=null==t?S:t)&&("number"==r||"symbol"!=r&&Kn.test(n))&&n>-1&&n%1==0&&n<t}function Ki(n,t,r){if(!Rf(r))return!1;var e=typeof t;return!!("number"==e?wf(r)&&Zi(t,r.length):"string"==e&&t in r)&&vf(r[t],n)}function Vi(n,t){if(df(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!Uf(n))||Rn.test(n)||!In.test(n)||null!=t&&n in rt(t)}function Gi(n){var t=Wi(n),r=pe[t];if("function"!=typeof r||!(t in ye.prototype))return!1;if(n===r)return!0;var e=Li(r);return!!e&&n===e[0]}(Yr&&Fi(new Yr(new ArrayBuffer(1)))!=fn||Qr&&Fi(new Qr)!=V||Xr&&"[object Promise]"!=Fi(Xr.resolve())||ne&&Fi(new ne)!=X||te&&Fi(new te)!=en)&&(Fi=function(n){var t=Qe(n),e=t==J?n.constructor:r,u=e?lo(e):"";if(u)switch(u){case ie:return fn;case oe:return V;case fe:return"[object Promise]";case ae:return X;case ce:return en}return t});var Hi=ct?kf:qa;function Ji(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||at)}function Yi(n){return n==n&&!Rf(n)}function Qi(n,t){return function(e){return null!=e&&e[n]===t&&(t!==r||n in rt(e))}}function Xi(n,t,e){return t=Zr(t===r?n.length-1:t,0),function(){for(var r=arguments,u=-1,i=Zr(r.length-t,0),o=Yn(i);++u<i;)o[u]=r[t+u];u=-1;for(var f=Yn(t+1);++u<t;)f[u]=r[u];return f[t]=e(o),Pt(n,this,f)}}function no(n,t){return t.length<2?n:Je(n,zu(t,0,-1))}function to(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]}var ro=oo(Iu),eo=Tr||function(n,t){return St.setTimeout(n,t)},uo=oo(Ru);function io(n,t,r){var e=t+"";return uo(n,function(n,t){var r=t.length;if(!r)return n;var e=r-1;return t[e]=(r>1?"& ":"")+t[e],t=t.join(r>2?", ":" "),n.replace(Bn,"{\n/* [wrapped with "+t+"] */\n")}(e,function(n,t){return Zt(T,function(r){var e="_."+r[0];t&r[1]&&!Ht(n,e)&&n.push(e)}),n.sort()}(function(n){var t=n.match(Un);return t?t[1].split(Tn):[]}(e),r)))}function oo(n){var t=0,e=0;return function(){var u=Vr(),i=I-(u-e);if(e=u,i>0){if(++t>=O)return arguments[0]}else t=0;return n.apply(r,arguments)}}function fo(n,t){var e=-1,u=n.length,i=u-1;for(t=t===r?u:t;++e<t;){var o=mu(e,i),f=n[o];n[o]=n[e],n[e]=f}return n.length=t,n}var ao=function(n){var t=af(n,function(n){return r.size===f&&r.clear(),n}),r=t.cache;return t}(function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(En,function(n,r,e,u){t.push(e?u.replace(Dn,"$1"):r||n)}),t});function co(n){if("string"==typeof n||Uf(n))return n;var t=n+"";return"0"==t&&1/n==-z?"-0":t}function lo(n){if(null!=n){try{return lt.call(n)}catch(t){}try{return n+""}catch(t){}}return""}function so(n){if(n instanceof ye)return n.clone();var t=new ge(n.__wrapped__,n.__chain__);return t.__actions__=ri(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}var ho=ju(function(n,t){return mf(n)?$e(n,qe(t,1,mf,!0)):[]}),po=ju(function(n,t){var e=jo(t);return mf(e)&&(e=r),mf(n)?$e(n,qe(t,1,mf,!0),Bi(e,2)):[]}),vo=ju(function(n,t){var e=jo(t);return mf(e)&&(e=r),mf(n)?$e(n,qe(t,1,mf,!0),r,e):[]});function _o(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:Nf(r);return u<0&&(u=Zr(e+u,0)),ur(n,Bi(t,3),u)}function go(n,t,e){var u=null==n?0:n.length;if(!u)return-1;var i=u-1;return e!==r&&(i=Nf(e),i=e<0?Zr(u+i,0):Kr(i,u-1)),ur(n,Bi(t,3),i,!0)}function yo(n){return null!=n&&n.length?qe(n,1):[]}function bo(n){return n&&n.length?n[0]:r}var wo=ju(function(n){var t=Yt(n,qu);return t.length&&t[0]===n[0]?ru(t):[]}),mo=ju(function(n){var t=jo(n),e=Yt(n,qu);return t===jo(e)?t=r:e.pop(),e.length&&e[0]===n[0]?ru(e,Bi(t,2)):[]}),xo=ju(function(n){var t=jo(n),e=Yt(n,qu);return(t="function"==typeof t?t:r)&&e.pop(),e.length&&e[0]===n[0]?ru(e,r,t):[]});function jo(n){var t=null==n?0:n.length;return t?n[t-1]:r}var Ao=ju(ko);function ko(n,t){return n&&n.length&&t&&t.length?bu(n,t):n}var Oo=Ei(function(n,t){var r=null==n?0:n.length,e=We(n,t);return wu(n,Yt(t,function(n){return Zi(n,r)?+n:n}).sort(Xu)),e});function Io(n){return null==n?n:Jr.call(n)}var Ro=ju(function(n){return Tu(qe(n,1,mf,!0))}),Eo=ju(function(n){var t=jo(n);return mf(t)&&(t=r),Tu(qe(n,1,mf,!0),Bi(t,2))}),zo=ju(function(n){var t=jo(n);return t="function"==typeof t?t:r,Tu(qe(n,1,mf,!0),r,t)});function So(n){if(!n||!n.length)return[];var t=0;return n=Gt(n,function(n){if(mf(n))return t=Zr(n.length,t),!0}),pr(t,function(t){return Yt(n,cr(t))})}function Lo(n,t){if(!n||!n.length)return[];var e=So(n);return null==t?e:Yt(e,function(n){return Pt(t,r,n)})}var Wo=ju(function(n,t){return mf(n)?$e(n,t):[]}),Co=ju(function(n){return Nu(Gt(n,mf))}),Bo=ju(function(n){var t=jo(n);return mf(t)&&(t=r),Nu(Gt(n,mf),Bi(t,2))}),Uo=ju(function(n){var t=jo(n);return t="function"==typeof t?t:r,Nu(Gt(n,mf),r,t)}),To=ju(So);var $o=ju(function(n){var t=n.length,e=t>1?n[t-1]:r;return e="function"==typeof e?(n.pop(),e):r,Lo(n,e)});function Do(n){var t=pe(n);return t.__chain__=!0,t}function Mo(n,t){return t(n)}var Fo=Ei(function(n){var t=n.length,e=t?n[0]:0,u=this.__wrapped__,i=function(t){return We(t,n)};return!(t>1||this.__actions__.length)&&u instanceof ye&&Zi(e)?((u=u.slice(e,+e+(t?1:0))).__actions__.push({func:Mo,args:[i],thisArg:r}),new ge(u,this.__chain__).thru(function(n){return t&&!n.length&&n.push(r),n})):this.thru(i)});var No=ui(function(n,t,r){st.call(n,r)?++n[r]:Le(n,r,1)});var Po=si(_o),qo=si(go);function Zo(n,t){return(df(n)?Zt:De)(n,Bi(t,3))}function Ko(n,t){return(df(n)?Kt:Me)(n,Bi(t,3))}var Vo=ui(function(n,t,r){st.call(n,r)?n[r].push(t):Le(n,r,[t])});var Go=ju(function(n,t,r){var e=-1,u="function"==typeof t,i=wf(n)?Yn(n.length):[];return De(n,function(n){i[++e]=u?Pt(t,n,r):eu(n,t,r)}),i}),Ho=ui(function(n,t,r){Le(n,r,t)});function Jo(n,t){return(df(n)?Yt:hu)(n,Bi(t,3))}var Yo=ui(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]});var Qo=ju(function(n,t){if(null==n)return[];var r=t.length;return r>1&&Ki(n,t[0],t[1])?t=[]:r>2&&Ki(t[0],t[1],t[2])&&(t=[t[0]]),yu(n,qe(t,1),[])}),Xo=Ur||function(){return St.Date.now()};function nf(n,t,e){return t=e?r:t,t=n&&null==t?n.length:t,Ai(n,m,r,r,r,r,t)}function tf(n,t){var e;if("function"!=typeof t)throw new it(i);return n=Nf(n),function(){return--n>0&&(e=t.apply(this,arguments)),n<=1&&(t=r),e}}var rf=ju(function(n,t,r){var e=v;if(r.length){var u=kr(r,Ci(rf));e|=b}return Ai(n,e,t,r,u)}),ef=ju(function(n,t,r){var e=v|_;if(r.length){var u=kr(r,Ci(ef));e|=b}return Ai(t,e,n,r,u)});function uf(n,t,e){var u,o,f,a,c,l,s=0,h=!1,p=!1,v=!0;if("function"!=typeof n)throw new it(i);function _(t){var e=u,i=o;return u=o=r,s=t,a=n.apply(i,e)}function g(n){var e=n-l;return l===r||e>=t||e<0||p&&n-s>=f}function y(){var n=Xo();if(g(n))return d(n);c=eo(y,function(n){var r=t-(n-l);return p?Kr(r,f-(n-s)):r}(n))}function d(n){return c=r,v&&u?_(n):(u=o=r,a)}function b(){var n=Xo(),e=g(n);if(u=arguments,o=this,l=n,e){if(c===r)return function(n){return s=n,c=eo(y,t),h?_(n):a}(l);if(p)return Hu(c),c=eo(y,t),_(l)}return c===r&&(c=eo(y,t)),a}return t=qf(t)||0,Rf(e)&&(h=!!e.leading,f=(p="maxWait"in e)?Zr(qf(e.maxWait)||0,t):f,v="trailing"in e?!!e.trailing:v),b.cancel=function(){c!==r&&Hu(c),s=0,u=l=o=c=r},b.flush=function(){return c===r?a:d(Xo())},b}var of=ju(function(n,t){return Te(n,1,t)}),ff=ju(function(n,t,r){return Te(n,qf(t)||0,r)});function af(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new it(i);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o)||i,o};return r.cache=new(af.Cache||we),r}function cf(n){if("function"!=typeof n)throw new it(i);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}af.Cache=we;var lf=Vu(function(n,t){var r=(t=1==t.length&&df(t[0])?Yt(t[0],vr(Bi())):Yt(qe(t,1),vr(Bi()))).length;return ju(function(e){for(var u=-1,i=Kr(e.length,r);++u<i;)e[u]=t[u].call(this,e[u]);return Pt(n,this,e)})}),sf=ju(function(n,t){var e=kr(t,Ci(sf));return Ai(n,b,r,t,e)}),hf=ju(function(n,t){var e=kr(t,Ci(hf));return Ai(n,w,r,t,e)}),pf=Ei(function(n,t){return Ai(n,x,r,r,r,t)});function vf(n,t){return n===t||n!=n&&t!=t}var _f=bi(Xe),gf=bi(function(n,t){return n>=t}),yf=uu(function(){return arguments}())?uu:function(n){return Ef(n)&&st.call(n,"callee")&&!Ut.call(n,"callee")},df=Yn.isArray,bf=Tt?vr(Tt):function(n){return Ef(n)&&Qe(n)==on};function wf(n){return null!=n&&If(n.length)&&!kf(n)}function mf(n){return Ef(n)&&wf(n)}var xf=Fr||qa,jf=$t?vr($t):function(n){return Ef(n)&&Qe(n)==N};function Af(n){if(!Ef(n))return!1;var t=Qe(n);return t==q||t==P||"string"==typeof n.message&&"string"==typeof n.name&&!Lf(n)}function kf(n){if(!Rf(n))return!1;var t=Qe(n);return t==Z||t==K||t==M||t==Y}function Of(n){return"number"==typeof n&&n==Nf(n)}function If(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=S}function Rf(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function Ef(n){return null!=n&&"object"==typeof n}var zf=Dt?vr(Dt):function(n){return Ef(n)&&Fi(n)==V};function Sf(n){return"number"==typeof n||Ef(n)&&Qe(n)==G}function Lf(n){if(!Ef(n)||Qe(n)!=J)return!1;var t=Wt(n);if(null===t)return!0;var r=st.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&lt.call(r)==_t}var Wf=Mt?vr(Mt):function(n){return Ef(n)&&Qe(n)==Q};var Cf=Ft?vr(Ft):function(n){return Ef(n)&&Fi(n)==X};function Bf(n){return"string"==typeof n||!df(n)&&Ef(n)&&Qe(n)==nn}function Uf(n){return"symbol"==typeof n||Ef(n)&&Qe(n)==tn}var Tf=Nt?vr(Nt):function(n){return Ef(n)&&If(n.length)&&!!At[Qe(n)]};var $f=bi(su),Df=bi(function(n,t){return n<=t});function Mf(n){if(!n)return[];if(wf(n))return Bf(n)?Er(n):ri(n);if(Lr&&n[Lr])return function(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}(n[Lr]());var t=Fi(n);return(t==V?jr:t==X?Or:va)(n)}function Ff(n){return n?(n=qf(n))===z||n===-z?(n<0?-1:1)*L:n==n?n:0:0===n?n:0}function Nf(n){var t=Ff(n),r=t%1;return t==t?r?t-r:t:0}function Pf(n){return n?Ce(Nf(n),0,C):0}function qf(n){if("number"==typeof n)return n;if(Uf(n))return W;if(Rf(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=Rf(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(Ln,"");var r=Pn.test(n);return r||Zn.test(n)?Rt(n.slice(2),r?2:8):Nn.test(n)?W:+n}function Zf(n){return ei(n,oa(n))}function Kf(n){return null==n?"":Uu(n)}var Vf=ii(function(n,t){if(Ji(t)||wf(t))ei(t,ia(t),n);else for(var r in t)st.call(t,r)&&Re(n,r,t[r])}),Gf=ii(function(n,t){ei(t,oa(t),n)}),Hf=ii(function(n,t,r,e){ei(t,oa(t),n,e)}),Jf=ii(function(n,t,r,e){ei(t,ia(t),n,e)}),Yf=Ei(We);var Qf=ju(function(n,t){n=rt(n);var e=-1,u=t.length,i=u>2?t[2]:r;for(i&&Ki(t[0],t[1],i)&&(u=1);++e<u;)for(var o=t[e],f=oa(o),a=-1,c=f.length;++a<c;){var l=f[a],s=n[l];(s===r||vf(s,at[l])&&!st.call(n,l))&&(n[l]=o[l])}return n}),Xf=ju(function(n){return n.push(r,Oi),Pt(aa,r,n)});function na(n,t,e){var u=null==n?r:Je(n,t);return u===r?e:u}function ta(n,t){return null!=n&&Ni(n,t,tu)}var ra=vi(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=vt.call(t)),n[t]=r},Ra(Sa)),ea=vi(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=vt.call(t)),st.call(n,t)?n[t].push(r):n[t]=[r]},Bi),ua=ju(eu);function ia(n){return wf(n)?je(n):cu(n)}function oa(n){return wf(n)?je(n,!0):lu(n)}var fa=ii(function(n,t,r){_u(n,t,r)}),aa=ii(function(n,t,r,e){_u(n,t,r,e)}),ca=Ei(function(n,t){var r={};if(null==n)return r;var e=!1;t=Yt(t,function(t){return t=Ku(t,n),e||(e=t.length>1),t}),ei(n,Si(n),r),e&&(r=Be(r,c|l|s,Ii));for(var u=t.length;u--;)$u(r,t[u]);return r});var la=Ei(function(n,t){return null==n?{}:function(n,t){return du(n,t,function(t,r){return ta(n,r)})}(n,t)});function sa(n,t){if(null==n)return{};var r=Yt(Si(n),function(n){return[n]});return t=Bi(t),du(n,r,function(n,r){return t(n,r[0])})}var ha=ji(ia),pa=ji(oa);function va(n){return null==n?[]:_r(n,ia(n))}var _a=ci(function(n,t,r){return t=t.toLowerCase(),n+(r?ga(t):t)});function ga(n){return Aa(Kf(n).toLowerCase())}function ya(n){return(n=Kf(n))&&n.replace(Vn,br).replace(yt,"")}var da=ci(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),ba=ci(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),wa=ai("toLowerCase");var ma=ci(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()});var xa=ci(function(n,t,r){return n+(r?" ":"")+Aa(t)});var ja=ci(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),Aa=ai("toUpperCase");function ka(n,t,e){return n=Kf(n),(t=e?r:t)===r?function(n){return mt.test(n)}(n)?function(n){return n.match(bt)||[]}(n):function(n){return n.match($n)||[]}(n):n.match(t)||[]}var Oa=ju(function(n,t){try{return Pt(n,r,t)}catch(e){return Af(e)?e:new Xn(e)}}),Ia=Ei(function(n,t){return Zt(t,function(t){t=co(t),Le(n,t,rf(n[t],n))}),n});function Ra(n){return function(){return n}}var Ea=hi(),za=hi(!0);function Sa(n){return n}function La(n){return au("function"==typeof n?n:Be(n,c))}var Wa=ju(function(n,t){return function(r){return eu(r,n,t)}}),Ca=ju(function(n,t){return function(r){return eu(n,r,t)}});function Ba(n,t,r){var e=ia(t),u=He(t,e);null!=r||Rf(t)&&(u.length||!e.length)||(r=t,t=n,n=this,u=He(t,ia(t)));var i=!(Rf(r)&&"chain"in r&&!r.chain),o=kf(n);return Zt(u,function(r){var e=t[r];n[r]=e,o&&(n.prototype[r]=function(){var t=this.__chain__;if(i||t){var r=n(this.__wrapped__);return(r.__actions__=ri(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,Qt([this.value()],arguments))})}),n}function Ua(){}var Ta=gi(Yt),$a=gi(Vt),Da=gi(tr);function Ma(n){return Vi(n)?cr(co(n)):function(n){return function(t){return Je(t,n)}}(n)}var Fa=di(),Na=di(!0);function Pa(){return[]}function qa(){return!1}var Za=_i(function(n,t){return n+t},0),Ka=mi("ceil"),Va=_i(function(n,t){return n/t},1),Ga=mi("floor");var Ha,Ja=_i(function(n,t){return n*t},1),Ya=mi("round"),Qa=_i(function(n,t){return n-t},0);return pe.after=function(n,t){if("function"!=typeof t)throw new it(i);return n=Nf(n),function(){if(--n<1)return t.apply(this,arguments)}},pe.ary=nf,pe.assign=Vf,pe.assignIn=Gf,pe.assignInWith=Hf,pe.assignWith=Jf,pe.at=Yf,pe.before=tf,pe.bind=rf,pe.bindAll=Ia,pe.bindKey=ef,pe.castArray=function(){if(!arguments.length)return[];var n=arguments[0];return df(n)?n:[n]},pe.chain=Do,pe.chunk=function(n,t,e){t=(e?Ki(n,t,e):t===r)?1:Zr(Nf(t),0);var u=null==n?0:n.length;if(!u||t<1)return[];for(var i=0,o=0,f=Yn($r(u/t));i<u;)f[o++]=zu(n,i,i+=t);return f},pe.compact=function(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u},pe.concat=function(){var n=arguments.length;if(!n)return[];for(var t=Yn(n-1),r=arguments[0],e=n;e--;)t[e-1]=arguments[e];return Qt(df(r)?ri(r):[r],qe(t,1))},pe.cond=function(n){var t=null==n?0:n.length,r=Bi();return n=t?Yt(n,function(n){if("function"!=typeof n[1])throw new it(i);return[r(n[0]),n[1]]}):[],ju(function(r){for(var e=-1;++e<t;){var u=n[e];if(Pt(u[0],this,r))return Pt(u[1],this,r)}})},pe.conforms=function(n){return function(n){var t=ia(n);return function(r){return Ue(r,n,t)}}(Be(n,c))},pe.constant=Ra,pe.countBy=No,pe.create=function(n,t){var r=ve(n);return null==t?r:Se(r,t)},pe.curry=function n(t,e,u){var i=Ai(t,y,r,r,r,r,r,e=u?r:e);return i.placeholder=n.placeholder,i},pe.curryRight=function n(t,e,u){var i=Ai(t,d,r,r,r,r,r,e=u?r:e);return i.placeholder=n.placeholder,i},pe.debounce=uf,pe.defaults=Qf,pe.defaultsDeep=Xf,pe.defer=of,pe.delay=ff,pe.difference=ho,pe.differenceBy=po,pe.differenceWith=vo,pe.drop=function(n,t,e){var u=null==n?0:n.length;return u?zu(n,(t=e||t===r?1:Nf(t))<0?0:t,u):[]},pe.dropRight=function(n,t,e){var u=null==n?0:n.length;return u?zu(n,0,(t=u-(t=e||t===r?1:Nf(t)))<0?0:t):[]},pe.dropRightWhile=function(n,t){return n&&n.length?Mu(n,Bi(t,3),!0,!0):[]},pe.dropWhile=function(n,t){return n&&n.length?Mu(n,Bi(t,3),!0):[]},pe.fill=function(n,t,e,u){var i=null==n?0:n.length;return i?(e&&"number"!=typeof e&&Ki(n,t,e)&&(e=0,u=i),function(n,t,e,u){var i=n.length;for((e=Nf(e))<0&&(e=-e>i?0:i+e),(u=u===r||u>i?i:Nf(u))<0&&(u+=i),u=e>u?0:Pf(u);e<u;)n[e++]=t;return n}(n,t,e,u)):[]},pe.filter=function(n,t){return(df(n)?Gt:Pe)(n,Bi(t,3))},pe.flatMap=function(n,t){return qe(Jo(n,t),1)},pe.flatMapDeep=function(n,t){return qe(Jo(n,t),z)},pe.flatMapDepth=function(n,t,e){return e=e===r?1:Nf(e),qe(Jo(n,t),e)},pe.flatten=yo,pe.flattenDeep=function(n){return null!=n&&n.length?qe(n,z):[]},pe.flattenDepth=function(n,t){return null!=n&&n.length?qe(n,t=t===r?1:Nf(t)):[]},pe.flip=function(n){return Ai(n,j)},pe.flow=Ea,pe.flowRight=za,pe.fromPairs=function(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e},pe.functions=function(n){return null==n?[]:He(n,ia(n))},pe.functionsIn=function(n){return null==n?[]:He(n,oa(n))},pe.groupBy=Vo,pe.initial=function(n){return null!=n&&n.length?zu(n,0,-1):[]},pe.intersection=wo,pe.intersectionBy=mo,pe.intersectionWith=xo,pe.invert=ra,pe.invertBy=ea,pe.invokeMap=Go,pe.iteratee=La,pe.keyBy=Ho,pe.keys=ia,pe.keysIn=oa,pe.map=Jo,pe.mapKeys=function(n,t){var r={};return t=Bi(t,3),Ve(n,function(n,e,u){Le(r,t(n,e,u),n)}),r},pe.mapValues=function(n,t){var r={};return t=Bi(t,3),Ve(n,function(n,e,u){Le(r,e,t(n,e,u))}),r},pe.matches=function(n){return pu(Be(n,c))},pe.matchesProperty=function(n,t){return vu(n,Be(t,c))},pe.memoize=af,pe.merge=fa,pe.mergeWith=aa,pe.method=Wa,pe.methodOf=Ca,pe.mixin=Ba,pe.negate=cf,pe.nthArg=function(n){return n=Nf(n),ju(function(t){return gu(t,n)})},pe.omit=ca,pe.omitBy=function(n,t){return sa(n,cf(Bi(t)))},pe.once=function(n){return tf(2,n)},pe.orderBy=function(n,t,e,u){return null==n?[]:(df(t)||(t=null==t?[]:[t]),df(e=u?r:e)||(e=null==e?[]:[e]),yu(n,t,e))},pe.over=Ta,pe.overArgs=lf,pe.overEvery=$a,pe.overSome=Da,pe.partial=sf,pe.partialRight=hf,pe.partition=Yo,pe.pick=la,pe.pickBy=sa,pe.property=Ma,pe.propertyOf=function(n){return function(t){return null==n?r:Je(n,t)}},pe.pull=Ao,pe.pullAll=ko,pe.pullAllBy=function(n,t,r){return n&&n.length&&t&&t.length?bu(n,t,Bi(r,2)):n},pe.pullAllWith=function(n,t,e){return n&&n.length&&t&&t.length?bu(n,t,r,e):n},pe.pullAt=Oo,pe.range=Fa,pe.rangeRight=Na,pe.rearg=pf,pe.reject=function(n,t){return(df(n)?Gt:Pe)(n,cf(Bi(t,3)))},pe.remove=function(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=Bi(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return wu(n,u),r},pe.rest=function(n,t){if("function"!=typeof n)throw new it(i);return ju(n,t=t===r?t:Nf(t))},pe.reverse=Io,pe.sampleSize=function(n,t,e){return t=(e?Ki(n,t,e):t===r)?1:Nf(t),(df(n)?ke:ku)(n,t)},pe.set=function(n,t,r){return null==n?n:Ou(n,t,r)},pe.setWith=function(n,t,e,u){return u="function"==typeof u?u:r,null==n?n:Ou(n,t,e,u)},pe.shuffle=function(n){return(df(n)?Oe:Eu)(n)},pe.slice=function(n,t,e){var u=null==n?0:n.length;return u?(e&&"number"!=typeof e&&Ki(n,t,e)?(t=0,e=u):(t=null==t?0:Nf(t),e=e===r?u:Nf(e)),zu(n,t,e)):[]},pe.sortBy=Qo,pe.sortedUniq=function(n){return n&&n.length?Cu(n):[]},pe.sortedUniqBy=function(n,t){return n&&n.length?Cu(n,Bi(t,2)):[]},pe.split=function(n,t,e){return e&&"number"!=typeof e&&Ki(n,t,e)&&(t=e=r),(e=e===r?C:e>>>0)?(n=Kf(n))&&("string"==typeof t||null!=t&&!Wf(t))&&!(t=Uu(t))&&xr(n)?Gu(Er(n),0,e):n.split(t,e):[]},pe.spread=function(n,t){if("function"!=typeof n)throw new it(i);return t=null==t?0:Zr(Nf(t),0),ju(function(r){var e=r[t],u=Gu(r,0,t);return e&&Qt(u,e),Pt(n,this,u)})},pe.tail=function(n){var t=null==n?0:n.length;return t?zu(n,1,t):[]},pe.take=function(n,t,e){return n&&n.length?zu(n,0,(t=e||t===r?1:Nf(t))<0?0:t):[]},pe.takeRight=function(n,t,e){var u=null==n?0:n.length;return u?zu(n,(t=u-(t=e||t===r?1:Nf(t)))<0?0:t,u):[]},pe.takeRightWhile=function(n,t){return n&&n.length?Mu(n,Bi(t,3),!1,!0):[]},pe.takeWhile=function(n,t){return n&&n.length?Mu(n,Bi(t,3)):[]},pe.tap=function(n,t){return t(n),n},pe.throttle=function(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new it(i);return Rf(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),uf(n,t,{leading:e,maxWait:t,trailing:u})},pe.thru=Mo,pe.toArray=Mf,pe.toPairs=ha,pe.toPairsIn=pa,pe.toPath=function(n){return df(n)?Yt(n,co):Uf(n)?[n]:ri(ao(Kf(n)))},pe.toPlainObject=Zf,pe.transform=function(n,t,r){var e=df(n),u=e||xf(n)||Tf(n);if(t=Bi(t,4),null==r){var i=n&&n.constructor;r=u?e?new i:[]:Rf(n)&&kf(i)?ve(Wt(n)):{}}return(u?Zt:Ve)(n,function(n,e,u){return t(r,n,e,u)}),r},pe.unary=function(n){return nf(n,1)},pe.union=Ro,pe.unionBy=Eo,pe.unionWith=zo,pe.uniq=function(n){return n&&n.length?Tu(n):[]},pe.uniqBy=function(n,t){return n&&n.length?Tu(n,Bi(t,2)):[]},pe.uniqWith=function(n,t){return t="function"==typeof t?t:r,n&&n.length?Tu(n,r,t):[]},pe.unset=function(n,t){return null==n||$u(n,t)},pe.unzip=So,pe.unzipWith=Lo,pe.update=function(n,t,r){return null==n?n:Du(n,t,Zu(r))},pe.updateWith=function(n,t,e,u){return u="function"==typeof u?u:r,null==n?n:Du(n,t,Zu(e),u)},pe.values=va,pe.valuesIn=function(n){return null==n?[]:_r(n,oa(n))},pe.without=Wo,pe.words=ka,pe.wrap=function(n,t){return sf(Zu(t),n)},pe.xor=Co,pe.xorBy=Bo,pe.xorWith=Uo,pe.zip=To,pe.zipObject=function(n,t){return Pu(n||[],t||[],Re)},pe.zipObjectDeep=function(n,t){return Pu(n||[],t||[],Ou)},pe.zipWith=$o,pe.entries=ha,pe.entriesIn=pa,pe.extend=Gf,pe.extendWith=Hf,Ba(pe,pe),pe.add=Za,pe.attempt=Oa,pe.camelCase=_a,pe.capitalize=ga,pe.ceil=Ka,pe.clamp=function(n,t,e){return e===r&&(e=t,t=r),e!==r&&(e=(e=qf(e))==e?e:0),t!==r&&(t=(t=qf(t))==t?t:0),Ce(qf(n),t,e)},pe.clone=function(n){return Be(n,s)},pe.cloneDeep=function(n){return Be(n,c|s)},pe.cloneDeepWith=function(n,t){return Be(n,c|s,t="function"==typeof t?t:r)},pe.cloneWith=function(n,t){return Be(n,s,t="function"==typeof t?t:r)},pe.conformsTo=function(n,t){return null==t||Ue(n,t,ia(t))},pe.deburr=ya,pe.defaultTo=function(n,t){return null==n||n!=n?t:n},pe.divide=Va,pe.endsWith=function(n,t,e){n=Kf(n),t=Uu(t);var u=n.length,i=e=e===r?u:Ce(Nf(e),0,u);return(e-=t.length)>=0&&n.slice(e,i)==t},pe.eq=vf,pe.escape=function(n){return(n=Kf(n))&&jn.test(n)?n.replace(mn,wr):n},pe.escapeRegExp=function(n){return(n=Kf(n))&&Sn.test(n)?n.replace(zn,"\\$&"):n},pe.every=function(n,t,e){var u=df(n)?Vt:Fe;return e&&Ki(n,t,e)&&(t=r),u(n,Bi(t,3))},pe.find=Po,pe.findIndex=_o,pe.findKey=function(n,t){return er(n,Bi(t,3),Ve)},pe.findLast=qo,pe.findLastIndex=go,pe.findLastKey=function(n,t){return er(n,Bi(t,3),Ge)},pe.floor=Ga,pe.forEach=Zo,pe.forEachRight=Ko,pe.forIn=function(n,t){return null==n?n:Ze(n,Bi(t,3),oa)},pe.forInRight=function(n,t){return null==n?n:Ke(n,Bi(t,3),oa)},pe.forOwn=function(n,t){return n&&Ve(n,Bi(t,3))},pe.forOwnRight=function(n,t){return n&&Ge(n,Bi(t,3))},pe.get=na,pe.gt=_f,pe.gte=gf,pe.has=function(n,t){return null!=n&&Ni(n,t,nu)},pe.hasIn=ta,pe.head=bo,pe.identity=Sa,pe.includes=function(n,t,r,e){n=wf(n)?n:va(n),r=r&&!e?Nf(r):0;var u=n.length;return r<0&&(r=Zr(u+r,0)),Bf(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&ir(n,t,r)>-1},pe.indexOf=function(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:Nf(r);return u<0&&(u=Zr(e+u,0)),ir(n,t,u)},pe.inRange=function(n,t,e){return t=Ff(t),e===r?(e=t,t=0):e=Ff(e),function(n,t,r){return n>=Kr(t,r)&&n<Zr(t,r)}(n=qf(n),t,e)},pe.invoke=ua,pe.isArguments=yf,pe.isArray=df,pe.isArrayBuffer=bf,pe.isArrayLike=wf,pe.isArrayLikeObject=mf,pe.isBoolean=function(n){return!0===n||!1===n||Ef(n)&&Qe(n)==F},pe.isBuffer=xf,pe.isDate=jf,pe.isElement=function(n){return Ef(n)&&1===n.nodeType&&!Lf(n)},pe.isEmpty=function(n){if(null==n)return!0;if(wf(n)&&(df(n)||"string"==typeof n||"function"==typeof n.splice||xf(n)||Tf(n)||yf(n)))return!n.length;var t=Fi(n);if(t==V||t==X)return!n.size;if(Ji(n))return!cu(n).length;for(var r in n)if(st.call(n,r))return!1;return!0},pe.isEqual=function(n,t){return iu(n,t)},pe.isEqualWith=function(n,t,e){var u=(e="function"==typeof e?e:r)?e(n,t):r;return u===r?iu(n,t,r,e):!!u},pe.isError=Af,pe.isFinite=function(n){return"number"==typeof n&&Nr(n)},pe.isFunction=kf,pe.isInteger=Of,pe.isLength=If,pe.isMap=zf,pe.isMatch=function(n,t){return n===t||ou(n,t,Ti(t))},pe.isMatchWith=function(n,t,e){return e="function"==typeof e?e:r,ou(n,t,Ti(t),e)},pe.isNaN=function(n){return Sf(n)&&n!=+n},pe.isNative=function(n){if(Hi(n))throw new Xn(u);return fu(n)},pe.isNil=function(n){return null==n},pe.isNull=function(n){return null===n},pe.isNumber=Sf,pe.isObject=Rf,pe.isObjectLike=Ef,pe.isPlainObject=Lf,pe.isRegExp=Wf,pe.isSafeInteger=function(n){return Of(n)&&n>=-S&&n<=S},pe.isSet=Cf,pe.isString=Bf,pe.isSymbol=Uf,pe.isTypedArray=Tf,pe.isUndefined=function(n){return n===r},pe.isWeakMap=function(n){return Ef(n)&&Fi(n)==en},pe.isWeakSet=function(n){return Ef(n)&&Qe(n)==un},pe.join=function(n,t){return null==n?"":Pr.call(n,t)},pe.kebabCase=da,pe.last=jo,pe.lastIndexOf=function(n,t,e){var u=null==n?0:n.length;if(!u)return-1;var i=u;return e!==r&&(i=(i=Nf(e))<0?Zr(u+i,0):Kr(i,u-1)),t==t?function(n,t,r){for(var e=r+1;e--;)if(n[e]===t)return e;return e}(n,t,i):ur(n,fr,i,!0)},pe.lowerCase=ba,pe.lowerFirst=wa,pe.lt=$f,pe.lte=Df,pe.max=function(n){return n&&n.length?Ne(n,Sa,Xe):r},pe.maxBy=function(n,t){return n&&n.length?Ne(n,Bi(t,2),Xe):r},pe.mean=function(n){return ar(n,Sa)},pe.meanBy=function(n,t){return ar(n,Bi(t,2))},pe.min=function(n){return n&&n.length?Ne(n,Sa,su):r},pe.minBy=function(n,t){return n&&n.length?Ne(n,Bi(t,2),su):r},pe.stubArray=Pa,pe.stubFalse=qa,pe.stubObject=function(){return{}},pe.stubString=function(){return""},pe.stubTrue=function(){return!0},pe.multiply=Ja,pe.nth=function(n,t){return n&&n.length?gu(n,Nf(t)):r},pe.noConflict=function(){return St._===this&&(St._=dt),this},pe.noop=Ua,pe.now=Xo,pe.pad=function(n,t,r){n=Kf(n);var e=(t=Nf(t))?Rr(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return yi(Dr(u),r)+n+yi($r(u),r)},pe.padEnd=function(n,t,r){n=Kf(n);var e=(t=Nf(t))?Rr(n):0;return t&&e<t?n+yi(t-e,r):n},pe.padStart=function(n,t,r){n=Kf(n);var e=(t=Nf(t))?Rr(n):0;return t&&e<t?yi(t-e,r)+n:n},pe.parseInt=function(n,t,r){return r||null==t?t=0:t&&(t=+t),Gr(Kf(n).replace(Wn,""),t||0)},pe.random=function(n,t,e){if(e&&"boolean"!=typeof e&&Ki(n,t,e)&&(t=e=r),e===r&&("boolean"==typeof t?(e=t,t=r):"boolean"==typeof n&&(e=n,n=r)),n===r&&t===r?(n=0,t=1):(n=Ff(n),t===r?(t=n,n=0):t=Ff(t)),n>t){var u=n;n=t,t=u}if(e||n%1||t%1){var i=Hr();return Kr(n+i*(t-n+It("1e-"+((i+"").length-1))),t)}return mu(n,t)},pe.reduce=function(n,t,r){var e=df(n)?Xt:sr,u=arguments.length<3;return e(n,Bi(t,4),r,u,De)},pe.reduceRight=function(n,t,r){var e=df(n)?nr:sr,u=arguments.length<3;return e(n,Bi(t,4),r,u,Me)},pe.repeat=function(n,t,e){return t=(e?Ki(n,t,e):t===r)?1:Nf(t),xu(Kf(n),t)},pe.replace=function(){var n=arguments,t=Kf(n[0]);return n.length<3?t:t.replace(n[1],n[2])},pe.result=function(n,t,e){var u=-1,i=(t=Ku(t,n)).length;for(i||(i=1,n=r);++u<i;){var o=null==n?r:n[co(t[u])];o===r&&(u=i,o=e),n=kf(o)?o.call(n):o}return n},pe.round=Ya,pe.runInContext=n,pe.sample=function(n){return(df(n)?Ae:Au)(n)},pe.size=function(n){if(null==n)return 0;if(wf(n))return Bf(n)?Rr(n):n.length;var t=Fi(n);return t==V||t==X?n.size:cu(n).length},pe.snakeCase=ma,pe.some=function(n,t,e){var u=df(n)?tr:Su;return e&&Ki(n,t,e)&&(t=r),u(n,Bi(t,3))},pe.sortedIndex=function(n,t){return Lu(n,t)},pe.sortedIndexBy=function(n,t,r){return Wu(n,t,Bi(r,2))},pe.sortedIndexOf=function(n,t){var r=null==n?0:n.length;if(r){var e=Lu(n,t);if(e<r&&vf(n[e],t))return e}return-1},pe.sortedLastIndex=function(n,t){return Lu(n,t,!0)},pe.sortedLastIndexBy=function(n,t,r){return Wu(n,t,Bi(r,2),!0)},pe.sortedLastIndexOf=function(n,t){if(null!=n&&n.length){var r=Lu(n,t,!0)-1;if(vf(n[r],t))return r}return-1},pe.startCase=xa,pe.startsWith=function(n,t,r){return n=Kf(n),r=null==r?0:Ce(Nf(r),0,n.length),t=Uu(t),n.slice(r,r+t.length)==t},pe.subtract=Qa,pe.sum=function(n){return n&&n.length?hr(n,Sa):0},pe.sumBy=function(n,t){return n&&n.length?hr(n,Bi(t,2)):0},pe.template=function(n,t,e){var u=pe.templateSettings;e&&Ki(n,t,e)&&(t=r),n=Kf(n),t=Hf({},t,u,ki);var i,o,f=Hf({},t.imports,u.imports,ki),a=ia(f),c=_r(f,a),l=0,s=t.interpolate||Gn,h="__p += '",p=et((t.escape||Gn).source+"|"+s.source+"|"+(s===On?Mn:Gn).source+"|"+(t.evaluate||Gn).source+"|$","g"),v="//# sourceURL="+(st.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jt+"]")+"\n";n.replace(p,function(t,r,e,u,f,a){return e||(e=u),h+=n.slice(l,a).replace(Hn,mr),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),f&&(o=!0,h+="';\n"+f+";\n__p += '"),e&&(h+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=a+t.length,t}),h+="';\n";var _=st.call(t,"variable")&&t.variable;_||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(yn,""):h).replace(dn,"$1").replace(bn,"$1;"),h="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Oa(function(){return nt(a,v+"return "+h).apply(r,c)});if(g.source=h,Af(g))throw g;return g},pe.times=function(n,t){if((n=Nf(n))<1||n>S)return[];var r=C,e=Kr(n,C);t=Bi(t),n-=C;for(var u=pr(e,t);++r<n;)t(r);return u},pe.toFinite=Ff,pe.toInteger=Nf,pe.toLength=Pf,pe.toLower=function(n){return Kf(n).toLowerCase()},pe.toNumber=qf,pe.toSafeInteger=function(n){return n?Ce(Nf(n),-S,S):0===n?n:0},pe.toString=Kf,pe.toUpper=function(n){return Kf(n).toUpperCase()},pe.trim=function(n,t,e){if((n=Kf(n))&&(e||t===r))return n.replace(Ln,"");if(!n||!(t=Uu(t)))return n;var u=Er(n),i=Er(t);return Gu(u,yr(u,i),dr(u,i)+1).join("")},pe.trimEnd=function(n,t,e){if((n=Kf(n))&&(e||t===r))return n.replace(Cn,"");if(!n||!(t=Uu(t)))return n;var u=Er(n);return Gu(u,0,dr(u,Er(t))+1).join("")},pe.trimStart=function(n,t,e){if((n=Kf(n))&&(e||t===r))return n.replace(Wn,"");if(!n||!(t=Uu(t)))return n;var u=Er(n);return Gu(u,yr(u,Er(t))).join("")},pe.truncate=function(n,t){var e=A,u=k;if(Rf(t)){var i="separator"in t?t.separator:i;e="length"in t?Nf(t.length):e,u="omission"in t?Uu(t.omission):u}var o=(n=Kf(n)).length;if(xr(n)){var f=Er(n);o=f.length}if(e>=o)return n;var a=e-Rr(u);if(a<1)return u;var c=f?Gu(f,0,a).join(""):n.slice(0,a);if(i===r)return c+u;if(f&&(a+=c.length-a),Wf(i)){if(n.slice(a).search(i)){var l,s=c;for(i.global||(i=et(i.source,Kf(Fn.exec(i))+"g")),i.lastIndex=0;l=i.exec(s);)var h=l.index;c=c.slice(0,h===r?a:h)}}else if(n.indexOf(Uu(i),a)!=a){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+u},pe.unescape=function(n){return(n=Kf(n))&&xn.test(n)?n.replace(wn,zr):n},pe.uniqueId=function(n){var t=++ht;return Kf(n)+t},pe.upperCase=ja,pe.upperFirst=Aa,pe.each=Zo,pe.eachRight=Ko,pe.first=bo,Ba(pe,(Ha={},Ve(pe,function(n,t){st.call(pe.prototype,t)||(Ha[t]=n)}),Ha),{chain:!1}),pe.VERSION="4.17.19",Zt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){pe[n].placeholder=pe}),Zt(["drop","take"],function(n,t){ye.prototype[n]=function(e){e=e===r?1:Zr(Nf(e),0);var u=this.__filtered__&&!t?new ye(this):this.clone();return u.__filtered__?u.__takeCount__=Kr(e,u.__takeCount__):u.__views__.push({size:Kr(e,C),type:n+(u.__dir__<0?"Right":"")}),u},ye.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),Zt(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r==R||3==r;ye.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:Bi(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),Zt(["head","last"],function(n,t){var r="take"+(t?"Right":"");ye.prototype[n]=function(){return this[r](1).value()[0]}}),Zt(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");ye.prototype[n]=function(){return this.__filtered__?new ye(this):this[r](1)}}),ye.prototype.compact=function(){return this.filter(Sa)},ye.prototype.find=function(n){return this.filter(n).head()},ye.prototype.findLast=function(n){return this.reverse().find(n)},ye.prototype.invokeMap=ju(function(n,t){return"function"==typeof n?new ye(this):this.map(function(r){return eu(r,n,t)})}),ye.prototype.reject=function(n){return this.filter(cf(Bi(n)))},ye.prototype.slice=function(n,t){n=Nf(n);var e=this;return e.__filtered__&&(n>0||t<0)?new ye(e):(n<0?e=e.takeRight(-n):n&&(e=e.drop(n)),t!==r&&(e=(t=Nf(t))<0?e.dropRight(-t):e.take(t-n)),e)},ye.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},ye.prototype.toArray=function(){return this.take(C)},Ve(ye.prototype,function(n,t){var e=/^(?:filter|find|map|reject)|While$/.test(t),u=/^(?:head|last)$/.test(t),i=pe[u?"take"+("last"==t?"Right":""):t],o=u||/^find/.test(t);i&&(pe.prototype[t]=function(){var t=this.__wrapped__,f=u?[1]:arguments,a=t instanceof ye,c=f[0],l=a||df(t),s=function(n){var t=i.apply(pe,Qt([n],f));return u&&h?t[0]:t};l&&e&&"function"==typeof c&&1!=c.length&&(a=l=!1);var h=this.__chain__,p=!!this.__actions__.length,v=o&&!h,_=a&&!p;if(!o&&l){t=_?t:new ye(this);var g=n.apply(t,f);return g.__actions__.push({func:Mo,args:[s],thisArg:r}),new ge(g,h)}return v&&_?n.apply(this,f):(g=this.thru(s),v?u?g.value()[0]:g.value():g)})}),Zt(["pop","push","shift","sort","splice","unshift"],function(n){var t=ot[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);pe.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(df(u)?u:[],n)}return this[r](function(r){return t.apply(df(r)?r:[],n)})}}),Ve(ye.prototype,function(n,t){var r=pe[t];if(r){var e=r.name+"";st.call(ue,e)||(ue[e]=[]),ue[e].push({name:t,func:r})}}),ue[pi(r,_).name]=[{name:"wrapper",func:r}],ye.prototype.clone=function(){var n=new ye(this.__wrapped__);return n.__actions__=ri(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=ri(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=ri(this.__views__),n},ye.prototype.reverse=function(){if(this.__filtered__){var n=new ye(this);n.__dir__=-1,n.__filtered__=!0}else(n=this.clone()).__dir__*=-1;return n},ye.prototype.value=function(){var n=this.__wrapped__.value(),t=this.__dir__,r=df(n),e=t<0,u=r?n.length:0,i=function(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Kr(t,n+o);break;case"takeRight":n=Zr(n,t-o)}}return{start:n,end:t}}(0,u,this.__views__),o=i.start,f=i.end,a=f-o,c=e?f:o-1,l=this.__iteratees__,s=l.length,h=0,p=Kr(a,this.__takeCount__);if(!r||!e&&u==a&&p==a)return Fu(n,this.__actions__);var v=[];n:for(;a--&&h<p;){for(var _=-1,g=n[c+=t];++_<s;){var y=l[_],d=y.iteratee,b=y.type,w=d(g);if(b==E)g=w;else if(!w){if(b==R)continue n;break n}}v[h++]=g}return v},pe.prototype.at=Fo,pe.prototype.chain=function(){return Do(this)},pe.prototype.commit=function(){return new ge(this.value(),this.__chain__)},pe.prototype.next=function(){this.__values__===r&&(this.__values__=Mf(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?r:this.__values__[this.__index__++]}},pe.prototype.plant=function(n){for(var t,e=this;e instanceof _e;){var u=so(e);u.__index__=0,u.__values__=r,t?i.__wrapped__=u:t=u;var i=u;e=e.__wrapped__}return i.__wrapped__=n,t},pe.prototype.reverse=function(){var n=this.__wrapped__;if(n instanceof ye){var t=n;return this.__actions__.length&&(t=new ye(this)),(t=t.reverse()).__actions__.push({func:Mo,args:[Io],thisArg:r}),new ge(t,this.__chain__)}return this.thru(Io)},pe.prototype.toJSON=pe.prototype.valueOf=pe.prototype.value=function(){return Fu(this.__wrapped__,this.__actions__)},pe.prototype.first=pe.prototype.head,Lr&&(pe.prototype[Lr]=function(){return this}),pe}();"function"==typeof n&&"object"==typeof n.amd&&n.amd?(St._=Sr,n(function(){return Sr})):Wt?((Wt.exports=Sr)._=Sr,Lt._=Sr):St._=Sr}).call(this);
},{"buffer":"dskh"}],"SJlc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PortalWorldEntity=void 0;var e=require("tslib"),t=e.__importDefault(require("phaser")),o=require("lodash"),r=require("~/Store"),n=function(n){function a(e,a,i,l,d){var s=n.call(this,e,a+l/2,i+d/2)||this;return s.key="Portal",s.update=function(){},s.drawIndicator=function(){s.indicator.lineStyle(1,6724095,.4),s.indicator.strokeRectShape(s.zoneShape)},s.handleOverlap=function(){for(var e,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];(null===(e=s.model)||void 0===e?void 0:e.target)&&s.teleportActor()},s.teleportActor=o.debounce(function(){var e=s.model.target;e&&(s.scene.cameras.main.fadeOut(300,0,0,0),s.scene.cameras.main.once(t.default.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,function(t,o){var n,a,i,l,d,s,c=e.x+e.width/2,u=e.y+e.height/2;null===(a=null===(n=r.Store.player)||void 0===n?void 0:n.character)||void 0===a||a.setDepth(e.depth),null===(l=null===(i=r.Store.player)||void 0===i?void 0:i.character)||void 0===l||l.setPosition(c,u),null===(s=null===(d=r.Store.player)||void 0===d?void 0:d.character)||void 0===s||s.setZone(e.fromZone)}))},500,{leading:!0,trailing:!1}),s.setSize(l||4,d||4),s.zoneShape=new t.default.Geom.Rectangle(-l/2,-d/2,l,d),s.indicator=new t.default.GameObjects.Graphics(e),s.add([s.indicator]),e.physics.world.enable(s),s.body.setAllowGravity(!1),s.body.moves=!1,e.add.existing(s),s.on("overlap",s.handleOverlap),e.events.on("update",s.update,s),e.events.once("shutdown",s.destroy,s),s}return e.__extends(a,n),a.prototype.destroy=function(){this.scene&&this.scene.events.off("update",this.update,this),n.prototype.destroy.call(this)},a}(t.default.GameObjects.Container);exports.PortalWorldEntity=n;
},{"tslib":"vCxL","phaser":"g7IM","lodash":"B1iE","~/Store":"Y0nv"}],"cELD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PortalReference=void 0;var e=require("mobx-keystone"),o=require("./PortalEntityModel");exports.PortalReference=e.rootRef(o.PORTALENTITY_MODEL_KEY,{onResolvedValueChange:function(o,r,t){t&&!r&&e.detach(o)}});
},{"mobx-keystone":"bpa9","./PortalEntityModel":"eBj4"}],"tsgn":[function(require,module,exports) {
"use strict";function t(t,e){return t>e?t-e:e-t}function e(t,e){return Phaser.Math.Distance.BetweenPoints(t,e)}function n(t,n,i){return e(n,i)<t}function i(t){return{x:t.x,y:t.y}}function o(t,e){return 100*Phaser.Math.Angle.Between(t.x,t.y,e.x,e.y)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.directionTo=exports.position=exports.isWithin=exports.getDistance=exports.diff=void 0,exports.diff=t,exports.getDistance=e,exports.isWithin=n,exports.position=i,exports.directionTo=o;
},{}],"Y4uc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WorldEntity=exports.WORLDENTITY_MODEL_KEY=exports.Entity=exports.ENTITY_MODEL_KEY=void 0;var t=require("tslib"),e=require("mobx-keystone"),o=require("mobx"),r=require("~/Core/distance");exports.ENTITY_MODEL_KEY="Entity";var n=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return t.__extends(r,o),r=t.__decorate([e.model(exports.ENTITY_MODEL_KEY)],r)}(e.Model({type:e.prop(),name:e.prop(),modifiers:e.prop(function(){return[]}),durability:e.prop(function(){return 100})}));exports.Entity=n,exports.WORLDENTITY_MODEL_KEY="WorldEntity";var i=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}var p;return t.__extends(i,n),i.prototype.setDepth=function(t){this.depth=t},i.prototype.setPosition=function(t,e){this.x=t,this.y=e},Object.defineProperty(i.prototype,"position",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),t.__decorate([e.modelAction,t.__metadata("design:type",Function),t.__metadata("design:paramtypes",[Number]),t.__metadata("design:returntype",void 0)],i.prototype,"setDepth",null),t.__decorate([e.modelAction,t.__metadata("design:type",Function),t.__metadata("design:paramtypes",[Number,Number]),t.__metadata("design:returntype",void 0)],i.prototype,"setPosition",null),t.__decorate([o.computed,t.__metadata("design:type","function"==typeof(p=void 0!==r.IPosition&&r.IPosition)?p:Object),t.__metadata("design:paramtypes",[])],i.prototype,"position",null),i=t.__decorate([e.model(exports.WORLDENTITY_MODEL_KEY)],i)}(e.ExtendedModel(n,{x:e.prop(function(){return 0}),y:e.prop(function(){return 0}),depth:e.prop(function(){return 0}),width:e.prop(function(){return 0}),height:e.prop(function(){return 0})}));exports.WorldEntity=i;
},{"tslib":"vCxL","mobx-keystone":"bpa9","mobx":"uYi1","~/Core/distance":"tsgn"}],"eBj4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Portal=exports.PORTALENTITY_MODEL_KEY=void 0;var e=require("tslib"),t=require("mobx-keystone"),o=require("mobx"),r=require("~/Store/Zone/ZoneModel"),n=require("~/Store/Zone/ZoneReference"),i=require("~/Store/Game/GameModel"),a=require("~/Objects/PortalWorldEntity"),p=require("./PortalEntityReference"),s=require("./EntityModel");exports.PORTALENTITY_MODEL_KEY="PortalEntity";var u=function(s){function u(){return null!==s&&s.apply(this,arguments)||this}var d;return e.__extends(u,s),u.prototype.setZone=function(e){this.zone=n.ZoneReference(e)},u.prototype.setLinksTo=function(e){this.linksTo=p.PortalReference(e)},Object.defineProperty(u.prototype,"fromZone",{get:function(){var e;return(null===(e=this.zone)||void 0===e?void 0:e.current)?this.zone.current:void 0},enumerable:!1,configurable:!0}),u.prototype.getRootStore=function(){return t.findParent(this,function(e){return e instanceof i.Game})},u.prototype.getTargetZone=function(){var e=this,t=this.getRootStore();if(t)return t.zones.find(function(t){return t.name==e.toZone})},u.prototype.getTargetPortal=function(){var e=this,t=this.getTargetZone();if(t)return t.portals.find(function(t){return t.name==e.toPortal})},Object.defineProperty(u.prototype,"target",{get:function(){return this.getTargetPortal()},enumerable:!1,configurable:!0}),u.prototype.createGameObject=function(e){var t=new a.PortalWorldEntity(e,this.x,this.y,this.width,this.height);return t.setDepth(this.depth),t.model=this,t},u.type="Portal",u.GameObjectClass=a.PortalWorldEntity,e.__decorate([t.modelAction,e.__metadata("design:type",Function),e.__metadata("design:paramtypes",["function"==typeof(d=void 0!==r.Zone&&r.Zone)?d:Object]),e.__metadata("design:returntype",void 0)],u.prototype,"setZone",null),e.__decorate([t.modelAction,e.__metadata("design:type",Function),e.__metadata("design:paramtypes",[u]),e.__metadata("design:returntype",void 0)],u.prototype,"setLinksTo",null),e.__decorate([o.computed,e.__metadata("design:type",Object),e.__metadata("design:paramtypes",[])],u.prototype,"target",null),u=e.__decorate([t.model(exports.PORTALENTITY_MODEL_KEY)],u)}(t.ExtendedModel(s.WorldEntity,{zone:t.prop(),toPortal:t.prop(),toZone:t.prop(),linksTo:t.prop()}));exports.Portal=u;
},{"tslib":"vCxL","mobx-keystone":"bpa9","mobx":"uYi1","~/Store/Zone/ZoneModel":"R8ou","~/Store/Zone/ZoneReference":"tUDJ","~/Store/Game/GameModel":"rvz6","~/Objects/PortalWorldEntity":"SJlc","./PortalEntityReference":"cELD","./EntityModel":"Y4uc"}],"MJb8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Item=exports.ITEM_MODEL_KEY=void 0;var e=require("tslib"),t=require("mobx-keystone"),r=require("./EntityModel");exports.ITEM_MODEL_KEY="Item";var o=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return e.__extends(o,r),o.type="Item",o=e.__decorate([t.model(exports.ITEM_MODEL_KEY)],o)}(t.ExtendedModel(r.WorldEntity,{value:t.prop(),icon:t.prop()}));exports.Item=o;
},{"tslib":"vCxL","mobx-keystone":"bpa9","./EntityModel":"Y4uc"}],"cz9y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LootChestBehaviour=void 0,exports.LootChestBehaviour="\nroot {\n    selector {\n\n        repeat while(isPlayerTouchingMe) {\n            selector {\n                sequence {\n                    condition [playerHasOpenedMe]\n                    action [open]\n                }\n\n                sequence {\n                    condition [playerHasClosedMe]\n                    action [close]\n                }\n            }\n        }\n\n        repeat until(isPlayerTouchingMe) {\n            sequence {\n                wait [1000, 2500]\n            }\n        }\n    }\n}";
},{}],"lW38":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OutlinePipeline=void 0;var e=require("tslib"),t=e.__importDefault(require("phaser")),n=function(t){function n(e){return t.call(this,{game:e,renderer:e.renderer,fragShader:"\n      precision mediump float;\n\n      uniform sampler2D uMainSampler;\n      uniform vec2 uTextureSize;\n\n      varying vec2 outTexCoord;\n      varying float outTintEffect;\n      varying vec4 outTint;\n\n      void main(void)\n      {\n        vec4 texture = texture2D(uMainSampler, outTexCoord);\n        vec4 texel = vec4(outTint.rgb * outTint.a, outTint.a);\n        vec4 color = texture;\n\n        if (outTintEffect == 0.0)\n        {\n          color = texture * texel;\n        }\n        else if (outTintEffect == 1.0)\n        {\n          color.rgb = mix(texture.rgb, outTint.rgb * outTint.a, texture.a);\n          color.a = texture.a * texel.a;\n        }\n        else if (outTintEffect == 2.0)\n        {\n          color = texel;\n        }\n\n        vec2 onePixel = vec2(1.0, 1.0) / uTextureSize;\n        float upAlpha = texture2D(uMainSampler, outTexCoord + vec2(0.0, onePixel.y)).a;\n        float leftAlpha = texture2D(uMainSampler, outTexCoord + vec2(-onePixel.x, 0.0)).a;\n        float downAlpha = texture2D(uMainSampler, outTexCoord + vec2(0.0, -onePixel.y)).a;\n        float rightAlpha = texture2D(uMainSampler, outTexCoord + vec2(onePixel.x, 0.0)).a;\n\n        if (texture.a == 0.0 && max(max(upAlpha, downAlpha), max(leftAlpha, rightAlpha)) == 1.0)\n        {\n          color = vec4(1.0, 1.0, 1.0, 1.0);\n        }\n\n        gl_FragColor = color;\n      }\n    "})||this}return e.__extends(n,t),n.KEY="Outline",n}(t.default.Renderer.WebGL.Pipelines.TextureTintPipeline);exports.OutlinePipeline=n;
},{"tslib":"vCxL","phaser":"g7IM"}],"yt8o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DisplayableEntity=void 0;var t=require("tslib"),e=require("~/Shaders/OutlinePipeline"),i=require("~/Objects/WorldEntity"),n=require("~/Core/Logger"),r=n.Logger(module.id),s=function(){function r(t,e,i,n,r){var s=this;this.entity=t,this.scene=e,this.width=i,this.height=n,this.animations=r,this.sprite=this.createSprite(),this.shadow=this.createShadowSprite(),t.add([this.shadow,this.sprite]),this.scene.add.existing(this.sprite),this.entity.hasOwnProperty("action")&&this.scene.events.on("update",function(){s.animateAction(s.entity.action)})}var s,o;return Object.defineProperty(r.prototype,"orientation",{get:function(){return this.entity.orientation},enumerable:!1,configurable:!0}),r.prototype.outlineSprite=function(t){t.setPipeline(e.OutlinePipeline.KEY),t.pipeline.setFloat2("uTextureSize",t.texture.getSourceImage().width,t.texture.getSourceImage().height)},r.prototype.createSprite=function(){var t=this.getAnimation("idle",this.orientation),e=(t||{}).anim,i=(void 0===e?{}:e).sheet,n=void 0===i?"":i,r=(t||{}).anim,s=(void 0===r?{}:r).frames,o=(void 0===s?[]:s)[0],a=new Phaser.GameObjects.Sprite(this.scene,0,0,n,o);return a.setTexture(n),a.setFrame(o),a.setSize(this.width,this.height),a.setOrigin(.5,1),a},r.prototype.createShadowSprite=function(t){void 0===t&&(t=0);var e=new Phaser.GameObjects.Graphics(this.scene);return e.fillStyle(t,.4),e.fillEllipse(0,0,this.width/1.6,4),e},r.prototype.animate=function(t){var e,i;if(t&&this.sprite&&this.sprite.anims&&(null===(e=this.sprite.anims.currentAnim)||void 0===e?void 0:e.key)!==(null===(i=t.anim)||void 0===i?void 0:i.key)){var n=t.flip,r=t.anim;if(void 0!==n&&this.sprite.setFlip(n,!1),r){var s=r.key;this.sprite.play(s,!0,0)}}},r.prototype.getAnimation=function(t,e){if(void 0===e&&(e="default"),t)try{var i=this.animations,n=i[t]||i.default;return n[e]||n.default}catch(r){return}},r.prototype.animateAction=function(t){var e=this.entity.orientation,i=this.getAnimation(t,e);this.animate(i)},r=t.__decorate([n.Logs,t.__metadata("design:paramtypes",["function"==typeof(s=void 0!==i.WorldEntity&&i.WorldEntity)?s:Object,"function"==typeof(o="undefined"!=typeof Phaser&&Phaser.Scene)?o:Object,Number,Number,Object])],r)}();exports.DisplayableEntity=s;
},{"tslib":"vCxL","~/Shaders/OutlinePipeline":"lW38","~/Objects/WorldEntity":"KylB","~/Core/Logger":"FMRX"}],"KylB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WorldEntity=void 0;var t=require("tslib"),i=require("~/Mixins/Displayable"),e=require("~/Core/Logger"),s=function(s){function n(){var t=null!==s&&s.apply(this,arguments)||this;return t.spriteWidth=16,t.spriteHeight=16,t.footprintWidth=12,t.footprintHeight=8,t.action="idle",t}return t.__extends(n,s),n.prototype.init=function(){this.setSize(this.footprintWidth,this.footprintHeight),this.actions=Object.keys(this.animations),this.renderer=new i.DisplayableEntity(this,this.scene,this.spriteWidth,this.spriteHeight,this.animations),this.scene.add.existing(this)},n.prototype.setController=function(t){this.controller=t},n.prototype.setOrientation=function(t){this.orientation=t},n.prototype.setAction=function(t){this.action=this.actions.includes(t)?t:"default"},n=t.__decorate([e.Logs],n)}(Phaser.GameObjects.Container);exports.WorldEntity=s;
},{"tslib":"vCxL","~/Mixins/Displayable":"yt8o","~/Core/Logger":"FMRX"}],"If7L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Container=void 0;var e=require("tslib"),t=require("../WorldEntity"),r=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e.__extends(r,t),r}(t.WorldEntity);exports.Container=r;
},{"tslib":"vCxL","../WorldEntity":"KylB"}],"S7z1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContainerChest=void 0;var t=require("tslib"),o=require("~/Config/constants"),e=require("~/Behaviours/LootChestBehaviour"),n=require("./Container"),i=function(n){function i(t,i,s){var a=n.call(this,t,i,s)||this;return a.key="ContainerChest",a.footprintWidth=16,a.footprintHeight=6,a.width=16,a.height=16,a.speed=0,a.isInvincible=!0,a.isOpen=!1,a.contents=!0,a.loot=[{from:"/loot/currency",luck:1,stack:"5-100"},{from:"/loot/gems",luck:.05,stack:"1-2"},{from:"/loot/jewellry",luck:.05,stack:1},{from:"/loot/artifacts",luck:1,stack:1},{from:"/loot/armour",luck:.01,stack:1},{from:"/loot/weapons/swords",luck:1,depth:1/0,stack:1},{from:"/loot/weapons/spears",luck:1,depth:1/0,stack:1},{from:"/loot/weapons/bows",luck:1,depth:1/0,stack:1}],a.behaviours={default:e.LootChestBehaviour},a.animations={default:{default:{anim:o.Animations.LootChestIdle}},idle:{default:{anim:o.Animations.LootChestIdle}},open:{default:{anim:o.Animations.LootChestOpenEmpty},full:{anim:o.Animations.LootChestOpenFull},empty:{anim:o.Animations.LootChestOpenEmpty}},close:{default:{anim:o.Animations.LootChestCloseEmpty},full:{anim:o.Animations.LootChestCloseFull},empty:{anim:o.Animations.LootChestCloseEmpty}}},a.init(),a}return t.__extends(i,n),i}(n.Container);exports.ContainerChest=i;
},{"tslib":"vCxL","~/Config/constants":"G6kf","~/Behaviours/LootChestBehaviour":"cz9y","./Container":"If7L"}],"bXrH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContainerChest=void 0;var e=require("./ContainerChest");Object.defineProperty(exports,"ContainerChest",{enumerable:!0,get:function(){return e.ContainerChest}});
},{"./ContainerChest":"S7z1"}],"c2Sq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Container=exports.Sizes=exports.CONTAINER_MODEL_KEY=void 0;var e,t=require("tslib"),r=require("mobx-keystone"),n=require("~/Objects/Containers"),o=require("./EntityModel");exports.CONTAINER_MODEL_KEY="Container",function(e){e[e.tiny=4]="tiny",e[e.small=8]="small",e[e.normal=16]="normal",e[e.big=32]="big",e[e.large=48]="large",e[e.huge=64]="huge",e[e.massive=96]="massive"}(e=exports.Sizes||(exports.Sizes={}));var i=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(o,e),o.prototype.createGameObject=function(e){var t=new n.ContainerChest(e,this.x+this.width/2,this.y+this.height/2);return t.setDepth(this.depth),t},o.type="Container",o.GameObjectClass=n.ContainerChest,o=t.__decorate([r.model(exports.CONTAINER_MODEL_KEY)],o)}(r.ExtendedModel(o.WorldEntity,{size:r.prop(e.normal),icon:r.prop(),items:r.prop(function(){return[]}),locked:r.prop(function(){return!1}),lockedBy:r.prop()}));exports.Container=i;
},{"tslib":"vCxL","mobx-keystone":"bpa9","~/Objects/Containers":"bXrH","./EntityModel":"Y4uc"}],"oN0O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContainerReference=void 0;var e=require("mobx-keystone"),o=require("./ContainerEntityModel");exports.ContainerReference=e.rootRef(o.CONTAINER_MODEL_KEY,{onResolvedValueChange:function(o,r,t){t&&!r&&e.detach(o)}});
},{"mobx-keystone":"bpa9","./ContainerEntityModel":"c2Sq"}],"ngo3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ItemReference=void 0;var e=require("mobx-keystone"),t=require("./ItemEntityModel");exports.ItemReference=e.rootRef(t.ITEM_MODEL_KEY,{onResolvedValueChange:function(t,o,r){r&&!o&&e.detach(t)}});
},{"mobx-keystone":"bpa9","./ItemEntityModel":"MJb8"}],"LemC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EntityReference=void 0;var e=require("mobx-keystone"),t=require("./EntityModel");exports.EntityReference=e.rootRef(t.ENTITY_MODEL_KEY,{onResolvedValueChange:function(t,o,r){r&&!o&&e.detach(t)}});
},{"mobx-keystone":"bpa9","./EntityModel":"Y4uc"}],"J76J":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.GetEntityTypeReference=exports.createWorldEntityModelInstance=exports.propertyArrayToObject=exports.WorldEntityModelMap=void 0;var t=require("tslib"),r=require("./PortalEntityModel"),n=require("./ItemEntityModel"),o=require("./ContainerEntityModel"),i=require("./PortalEntityReference"),a=require("./ContainerEntityReference"),s=require("./ItemEntityReference"),p=require("./EntityReference");function y(e){return void 0===e&&(e=[]),e.reduce(function(e,r){var n;return t.__assign(t.__assign({},e),((n={})[r.name]=r.value,n))},{})}function c(e){var r=e.type,n=e.properties,o=t.__rest(e,["type","properties"]),i=t.__assign(t.__assign({},o),y(n));return new(0,exports.WorldEntityModelMap[r])(i)}function l(e){return e instanceof r.Portal?i.PortalReference(e):e instanceof o.Container?a.ContainerReference(e):e instanceof n.Item?s.ItemReference(e):p.EntityReference(e)}exports.WorldEntityModelMap=((e={})[n.Item.type]=n.Item,e[r.Portal.type]=r.Portal,e[o.Container.type]=o.Container,e),exports.propertyArrayToObject=y,exports.createWorldEntityModelInstance=c,exports.GetEntityTypeReference=l;
},{"tslib":"vCxL","./PortalEntityModel":"eBj4","./ItemEntityModel":"MJb8","./ContainerEntityModel":"c2Sq","./PortalEntityReference":"cELD","./ContainerEntityReference":"oN0O","./ItemEntityReference":"ngo3","./EntityReference":"LemC"}],"EDTP":[function(require,module,exports) {
"use strict";module.exports=function(r,n){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return r.apply(n,t)}};
},{}],"S1cf":[function(require,module,exports) {
"use strict";var r=require("./helpers/bind"),e=Object.prototype.toString;function t(r){return"[object Array]"===e.call(r)}function n(r){return void 0===r}function o(r){return null!==r&&!n(r)&&null!==r.constructor&&!n(r.constructor)&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}function u(r){return"[object ArrayBuffer]"===e.call(r)}function f(r){return"undefined"!=typeof FormData&&r instanceof FormData}function i(r){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer&&r.buffer instanceof ArrayBuffer}function c(r){return"string"==typeof r}function a(r){return"number"==typeof r}function l(r){return null!==r&&"object"==typeof r}function s(r){return"[object Date]"===e.call(r)}function p(r){return"[object File]"===e.call(r)}function y(r){return"[object Blob]"===e.call(r)}function d(r){return"[object Function]"===e.call(r)}function b(r){return l(r)&&d(r.pipe)}function j(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}function v(r){return r.replace(/^\s*/,"").replace(/\s*$/,"")}function m(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function B(r,e){if(null!=r)if("object"!=typeof r&&(r=[r]),t(r))for(var n=0,o=r.length;n<o;n++)e.call(null,r[n],n,r);else for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&e.call(null,r[u],u,r)}function g(){var r={};function e(e,t){"object"==typeof r[t]&&"object"==typeof e?r[t]=g(r[t],e):r[t]=e}for(var t=0,n=arguments.length;t<n;t++)B(arguments[t],e);return r}function h(){var r={};function e(e,t){"object"==typeof r[t]&&"object"==typeof e?r[t]=h(r[t],e):r[t]="object"==typeof e?h({},e):e}for(var t=0,n=arguments.length;t<n;t++)B(arguments[t],e);return r}function A(e,t,n){return B(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e}module.exports={isArray:t,isArrayBuffer:u,isBuffer:o,isFormData:f,isArrayBufferView:i,isString:c,isNumber:a,isObject:l,isUndefined:n,isDate:s,isFile:p,isBlob:y,isFunction:d,isStream:b,isURLSearchParams:j,isStandardBrowserEnv:m,forEach:B,merge:g,deepMerge:h,extend:A,trim:v};
},{"./helpers/bind":"EDTP"}],"H6Qo":[function(require,module,exports) {
"use strict";var e=require("./../utils");function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}module.exports=function(i,n,t){if(!n)return i;var a;if(t)a=t(n);else if(e.isURLSearchParams(n))a=n.toString();else{var c=[];e.forEach(n,function(i,n){null!=i&&(e.isArray(i)?n+="[]":i=[i],e.forEach(i,function(i){e.isDate(i)?i=i.toISOString():e.isObject(i)&&(i=JSON.stringify(i)),c.push(r(n)+"="+r(i))}))}),a=c.join("&")}if(a){var l=i.indexOf("#");-1!==l&&(i=i.slice(0,l)),i+=(-1===i.indexOf("?")?"?":"&")+a}return i};
},{"./../utils":"S1cf"}],"rj2i":[function(require,module,exports) {
"use strict";var t=require("./../utils");function e(){this.handlers=[]}e.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},e.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},e.prototype.forEach=function(e){t.forEach(this.handlers,function(t){null!==t&&e(t)})},module.exports=e;
},{"./../utils":"S1cf"}],"woEt":[function(require,module,exports) {
"use strict";var r=require("./../utils");module.exports=function(t,u,e){return r.forEach(e,function(r){t=r(t,u)}),t};
},{"./../utils":"S1cf"}],"V30M":[function(require,module,exports) {
"use strict";module.exports=function(t){return!(!t||!t.__CANCEL__)};
},{}],"M8l6":[function(require,module,exports) {
"use strict";var e=require("../utils");module.exports=function(t,r){e.forEach(t,function(e,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=e,delete t[o])})};
},{"../utils":"S1cf"}],"YdsM":[function(require,module,exports) {
"use strict";module.exports=function(e,i,s,t,n){return e.config=i,s&&(e.code=s),e.request=t,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e};
},{}],"bIiH":[function(require,module,exports) {
"use strict";var r=require("./enhanceError");module.exports=function(e,n,o,t,u){var a=new Error(e);return r(a,n,o,t,u)};
},{"./enhanceError":"YdsM"}],"aS8y":[function(require,module,exports) {
"use strict";var t=require("./createError");module.exports=function(e,s,r){var u=r.config.validateStatus;!u||u(r.status)?e(r):s(t("Request failed with status code "+r.status,r.config,null,r.request,r))};
},{"./createError":"bIiH"}],"YZjV":[function(require,module,exports) {
"use strict";module.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)};
},{}],"a2Uu":[function(require,module,exports) {
"use strict";module.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e};
},{}],"KxkP":[function(require,module,exports) {
"use strict";var e=require("../helpers/isAbsoluteURL"),r=require("../helpers/combineURLs");module.exports=function(s,u){return s&&!e(u)?r(s,u):u};
},{"../helpers/isAbsoluteURL":"YZjV","../helpers/combineURLs":"a2Uu"}],"ZeD7":[function(require,module,exports) {
"use strict";var e=require("./../utils"),t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];module.exports=function(r){var i,o,n,s={};return r?(e.forEach(r.split("\n"),function(r){if(n=r.indexOf(":"),i=e.trim(r.substr(0,n)).toLowerCase(),o=e.trim(r.substr(n+1)),i){if(s[i]&&t.indexOf(i)>=0)return;s[i]="set-cookie"===i?(s[i]?s[i]:[]).concat([o]):s[i]?s[i]+", "+o:o}}),s):s};
},{"./../utils":"S1cf"}],"w7LF":[function(require,module,exports) {
"use strict";var t=require("./../utils");module.exports=t.isStandardBrowserEnv()?function(){var r,e=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function a(t){var r=t;return e&&(o.setAttribute("href",r),r=o.href),o.setAttribute("href",r),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return r=a(window.location.href),function(e){var o=t.isString(e)?a(e):e;return o.protocol===r.protocol&&o.host===r.host}}():function(){return!0};
},{"./../utils":"S1cf"}],"dn2M":[function(require,module,exports) {
"use strict";var e=require("./../utils");module.exports=e.isStandardBrowserEnv()?{write:function(n,t,o,r,i,u){var s=[];s.push(n+"="+encodeURIComponent(t)),e.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),e.isString(r)&&s.push("path="+r),e.isString(i)&&s.push("domain="+i),!0===u&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};
},{"./../utils":"S1cf"}],"KRuG":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./../core/settle"),t=require("./../helpers/buildURL"),s=require("../core/buildFullPath"),o=require("./../helpers/parseHeaders"),n=require("./../helpers/isURLSameOrigin"),a=require("../core/createError");module.exports=function(i){return new Promise(function(u,l){var d=i.data,p=i.headers;e.isFormData(d)&&delete p["Content-Type"];var c=new XMLHttpRequest;if(i.auth){var f=i.auth.username||"",h=i.auth.password||"";p.Authorization="Basic "+btoa(f+":"+h)}var m=s(i.baseURL,i.url);if(c.open(i.method.toUpperCase(),t(m,i.params,i.paramsSerializer),!0),c.timeout=i.timeout,c.onreadystatechange=function(){if(c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in c?o(c.getAllResponseHeaders()):null,t={data:i.responseType&&"text"!==i.responseType?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:e,config:i,request:c};r(u,l,t),c=null}},c.onabort=function(){c&&(l(a("Request aborted",i,"ECONNABORTED",c)),c=null)},c.onerror=function(){l(a("Network Error",i,null,c)),c=null},c.ontimeout=function(){var e="timeout of "+i.timeout+"ms exceeded";i.timeoutErrorMessage&&(e=i.timeoutErrorMessage),l(a(e,i,"ECONNABORTED",c)),c=null},e.isStandardBrowserEnv()){var v=require("./../helpers/cookies"),T=(i.withCredentials||n(m))&&i.xsrfCookieName?v.read(i.xsrfCookieName):void 0;T&&(p[i.xsrfHeaderName]=T)}if("setRequestHeader"in c&&e.forEach(p,function(e,r){void 0===d&&"content-type"===r.toLowerCase()?delete p[r]:c.setRequestHeader(r,e)}),e.isUndefined(i.withCredentials)||(c.withCredentials=!!i.withCredentials),i.responseType)try{c.responseType=i.responseType}catch(g){if("json"!==i.responseType)throw g}"function"==typeof i.onDownloadProgress&&c.addEventListener("progress",i.onDownloadProgress),"function"==typeof i.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",i.onUploadProgress),i.cancelToken&&i.cancelToken.promise.then(function(e){c&&(c.abort(),l(e),c=null)}),void 0===d&&(d=null),c.send(d)})};
},{"./../utils":"S1cf","./../core/settle":"aS8y","./../helpers/buildURL":"H6Qo","../core/buildFullPath":"KxkP","./../helpers/parseHeaders":"ZeD7","./../helpers/isURLSameOrigin":"w7LF","../core/createError":"bIiH","./../helpers/cookies":"dn2M"}],"BXyq":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=require("./utils"),r=require("./helpers/normalizeHeaderName"),n={"Content-Type":"application/x-www-form-urlencoded"};function a(e,r){!t.isUndefined(e)&&t.isUndefined(e["Content-Type"])&&(e["Content-Type"]=r)}function i(){var t;return"undefined"!=typeof XMLHttpRequest?t=require("./adapters/xhr"):void 0!==e&&"[object process]"===Object.prototype.toString.call(e)&&(t=require("./adapters/http")),t}var o={adapter:i(),transformRequest:[function(e,n){return r(n,"Accept"),r(n,"Content-Type"),t.isFormData(e)||t.isArrayBuffer(e)||t.isBuffer(e)||t.isStream(e)||t.isFile(e)||t.isBlob(e)?e:t.isArrayBufferView(e)?e.buffer:t.isURLSearchParams(e)?(a(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):t.isObject(e)?(a(n,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};t.forEach(["delete","get","head"],function(e){o.headers[e]={}}),t.forEach(["post","put","patch"],function(e){o.headers[e]=t.merge(n)}),module.exports=o;
},{"./utils":"S1cf","./helpers/normalizeHeaderName":"M8l6","./adapters/xhr":"KRuG","./adapters/http":"KRuG","process":"pBGv"}],"uz6X":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./transformData"),a=require("../cancel/isCancel"),t=require("../defaults");function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}module.exports=function(n){return s(n),n.headers=n.headers||{},n.data=r(n.data,n.headers,n.transformRequest),n.headers=e.merge(n.headers.common||{},n.headers[n.method]||{},n.headers),e.forEach(["delete","get","head","post","put","patch","common"],function(e){delete n.headers[e]}),(n.adapter||t.adapter)(n).then(function(e){return s(n),e.data=r(e.data,e.headers,n.transformResponse),e},function(e){return a(e)||(s(n),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,n.transformResponse))),Promise.reject(e)})};
},{"./../utils":"S1cf","./transformData":"woEt","../cancel/isCancel":"V30M","../defaults":"BXyq"}],"OHvn":[function(require,module,exports) {
"use strict";var e=require("../utils");module.exports=function(t,r){r=r||{};var o={},a=["url","method","params","data"],n=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];e.forEach(a,function(e){void 0!==r[e]&&(o[e]=r[e])}),e.forEach(n,function(a){e.isObject(r[a])?o[a]=e.deepMerge(t[a],r[a]):void 0!==r[a]?o[a]=r[a]:e.isObject(t[a])?o[a]=e.deepMerge(t[a]):void 0!==t[a]&&(o[a]=t[a])}),e.forEach(s,function(e){void 0!==r[e]?o[e]=r[e]:void 0!==t[e]&&(o[e]=t[e])});var i=a.concat(n).concat(s),c=Object.keys(r).filter(function(e){return-1===i.indexOf(e)});return e.forEach(c,function(e){void 0!==r[e]?o[e]=r[e]:void 0!==t[e]&&(o[e]=t[e])}),o};
},{"../utils":"S1cf"}],"OvAf":[function(require,module,exports) {
"use strict";var e=require("./../utils"),t=require("../helpers/buildURL"),r=require("./InterceptorManager"),o=require("./dispatchRequest"),s=require("./mergeConfig");function i(e){this.defaults=e,this.interceptors={request:new r,response:new r}}i.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},i.prototype.getUri=function(e){return e=s(this.defaults,e),t(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},e.forEach(["delete","get","head","options"],function(t){i.prototype[t]=function(r,o){return this.request(e.merge(o||{},{method:t,url:r}))}}),e.forEach(["post","put","patch"],function(t){i.prototype[t]=function(r,o,s){return this.request(e.merge(s||{},{method:t,url:r,data:o}))}}),module.exports=i;
},{"./../utils":"S1cf","../helpers/buildURL":"H6Qo","./InterceptorManager":"rj2i","./dispatchRequest":"uz6X","./mergeConfig":"OHvn"}],"mIKj":[function(require,module,exports) {
"use strict";function t(t){this.message=t}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,module.exports=t;
},{}],"tsWd":[function(require,module,exports) {
"use strict";var e=require("./Cancel");function n(n){if("function"!=typeof n)throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(e){o=e});var r=this;n(function(n){r.reason||(r.reason=new e(n),o(r.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(n){e=n}),cancel:e}},module.exports=n;
},{"./Cancel":"mIKj"}],"X8jb":[function(require,module,exports) {
"use strict";module.exports=function(n){return function(t){return n.apply(null,t)}};
},{}],"nUiQ":[function(require,module,exports) {
"use strict";var e=require("./utils"),r=require("./helpers/bind"),n=require("./core/Axios"),u=require("./core/mergeConfig"),t=require("./defaults");function i(u){var t=new n(u),i=r(n.prototype.request,t);return e.extend(i,n.prototype,t),e.extend(i,t),i}var l=i(t);l.Axios=n,l.create=function(e){return i(u(l.defaults,e))},l.Cancel=require("./cancel/Cancel"),l.CancelToken=require("./cancel/CancelToken"),l.isCancel=require("./cancel/isCancel"),l.all=function(e){return Promise.all(e)},l.spread=require("./helpers/spread"),module.exports=l,module.exports.default=l;
},{"./utils":"S1cf","./helpers/bind":"EDTP","./core/Axios":"OvAf","./core/mergeConfig":"OHvn","./defaults":"BXyq","./cancel/Cancel":"mIKj","./cancel/CancelToken":"tsWd","./cancel/isCancel":"V30M","./helpers/spread":"X8jb"}],"dZBD":[function(require,module,exports) {
module.exports=require("./lib/axios");
},{"./lib/axios":"nUiQ"}],"Akea":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPathFromLocation=void 0;var e=require("tslib");function r(r){var t=r.split("/"),o=t.pop();return o&&!o.includes(".")?e.__spreadArrays(t,[o]).join("/"):t.join("/")}exports.getPathFromLocation=r;
},{"tslib":"vCxL"}],"x8A0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ApiClient=exports.NetworkClient=void 0;var t=require("tslib"),e=t.__importDefault(require("axios")),r=require("~/Core/loader"),o=function(){function o(o){var n=this;this.configure=function(e){void 0===e&&(e={}),n.client.defaults=t.__assign(t.__assign({baseURL:r.getPathFromLocation(window.location.pathname)},n.client.defaults),e)},e.default.defaults.xsrfCookieName="csrftoken",e.default.defaults.xsrfHeaderName="X-CSRFTOKEN",this.client=e.default.create(),this.configure(o),((null==o?void 0:o.requestInterceptors)||(null==o?void 0:o.responseInterceptors))&&this.setupInterceptors(o)}return o.prototype.setupInterceptors=function(t){var e=this,r=t.requestInterceptors,o=void 0===r?[]:r,n=t.responseInterceptors,i=void 0===n?[]:n;o.forEach(function(t){e.client.interceptors.request.use(t.success,t.error)}),i.forEach(function(t){e.client.interceptors.response.use(t.success,t.error)})},o.prototype.getUri=function(t){return this.client.getUri(t)},o.prototype.request=function(t){return this.client.request(t)},o.prototype.get=function(t,e){return this.client.get(t,e)},o.prototype.delete=function(t,e){return this.client.delete(t,e)},o.prototype.head=function(t,e){return this.client.head(t,e)},o.prototype.post=function(t,e,r){return this.client.post(t,e,r)},o.prototype.put=function(t,e,r){return this.client.put(t,e,r)},o.prototype.patch=function(t,e,r){return this.client.patch(t,e,r)},o.prototype.success=function(t){return t.data},o.prototype.error=function(t){throw t},o}();exports.NetworkClient=o,exports.ApiClient=new o;
},{"tslib":"vCxL","axios":"dZBD","~/Core/loader":"Akea"}],"KClC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MapdataRequestError=exports.NoMapError=exports.UnknownMapError=void 0;var r=require("tslib"),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(Error);exports.UnknownMapError=t;var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(Error);exports.NoMapError=e;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(Error);exports.MapdataRequestError=n;
},{"tslib":"vCxL"}],"KryF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GetLevelData=void 0;var e=require("~/Core/api"),t=require("./Exceptions");function r(r){return e.ApiClient.get(r).then(function(e){return e.data}).catch(function(e){throw new t.MapdataRequestError(e)})}exports.GetLevelData=r;
},{"~/Core/api":"x8A0","./Exceptions":"KClC"}],"sb28":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MapLayer=exports.MAPLAYER_MODEL_KEY=void 0;var e=require("tslib"),t=require("mobx-keystone"),r=require("~/Store/Entity/Factory");exports.MAPLAYER_MODEL_KEY="MapLayer";var n=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}var p;return e.__extends(o,n),o.prototype.addEntityReference=function(e){var t=r.GetEntityTypeReference(e);this.entities.push(t)},e.__decorate([t.modelAction,e.__metadata("design:type",Function),e.__metadata("design:paramtypes",["function"==typeof(p=void 0!==r.TypeOfEntity&&r.TypeOfEntity)?p:Object]),e.__metadata("design:returntype",void 0)],o.prototype,"addEntityReference",null),o=e.__decorate([t.model(exports.MAPLAYER_MODEL_KEY)],o)}(t.Model({name:t.prop(),depth:t.prop(),type:t.prop(),entities:t.prop(function(){return[]})}));exports.MapLayer=n;
},{"tslib":"vCxL","mobx-keystone":"bpa9","~/Store/Entity/Factory":"J76J"}],"vYEc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CreateMapModelFromLevelData=void 0;var e=require("tslib"),r=require("./MapLayerModel");function a(a){var t=a.properties,s=(void 0===t?[]:t).reduce(function(r,a){var t,s=a.name,n=a.value;return e.__assign(e.__assign({},r),((t={})[s]=n,t))},{});return new r.MapLayer(e.__assign(e.__assign({},s),{name:a.name}))}exports.CreateMapModelFromLevelData=a;
},{"tslib":"vCxL","./MapLayerModel":"sb28"}],"Q8mw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Map=exports.MAP_MODEL_KEY=void 0;var e=require("tslib"),t=require("mobx-keystone"),r=require("~/Core/Logger"),o=require("./MapLayerModel"),p=r.Logger(module.id);exports.MAP_MODEL_KEY="Map";var a=function(r){function a(){return null!==r&&r.apply(this,arguments)||this}var n;return e.__extends(a,r),a.prototype.onInit=function(){p("onInit")},a.prototype.addLayer=function(e){this.layers.push(e)},e.__decorate([t.modelAction,e.__metadata("design:type",Function),e.__metadata("design:paramtypes",["function"==typeof(n=void 0!==o.MapLayer&&o.MapLayer)?n:Object]),e.__metadata("design:returntype",void 0)],a.prototype,"addLayer",null),a=e.__decorate([t.model(exports.MAP_MODEL_KEY)],a)}(t.Model({key:t.prop(),tileset:t.prop(),tileimage:t.prop(),layers:t.prop(function(){return[]})}));exports.Map=a;
},{"tslib":"vCxL","mobx-keystone":"bpa9","~/Core/Logger":"FMRX","./MapLayerModel":"sb28"}],"R8ou":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Zone=exports.ZoneTypes=exports.ZONE_MODEL_KEY=void 0;var e,t=require("tslib"),o=require("mobx-keystone"),n=require("../Entity/PortalEntityModel"),r=require("../Entity/Factory"),a=require("../Map/MapApi"),i=require("../Map/Factory"),p=require("../Entity/ItemEntityModel"),d=require("../Entity/ContainerEntityModel"),s=require("~/Core/Logger"),u=require("~/Store/Map/MapModel"),l=require("~/Store/Entity/EntityModel"),y=s.Logger("ZoneModel");exports.ZONE_MODEL_KEY="Zone",function(e){e.Dungeon="dungeon",e.Town="town",e.Shop="shop",e.World="world"}(e=exports.ZoneTypes||(exports.ZoneTypes={}));var c=function(e){function s(){return null!==e&&e.apply(this,arguments)||this}var l,c;return t.__extends(s,e),Object.defineProperty(s.prototype,"isStart",{get:function(){return!(!this.portals||!this.portals.length)&&this.portals.some(function(e){return"PlayerStart"===e.name})},enumerable:!1,configurable:!0}),s.prototype.addMapFromLevelData=function(e){var o=this,n=e.tileset,p=e.key,d=e.tileimage,s=e.url,l=new u.Map({tileimage:d,tileset:n,key:p});a.GetLevelData(s).then(function(e){e.layers.forEach(function(e){var n=e.objects,a=void 0===n?[]:n,p=t.__rest(e,["objects"]);y("CreateMapModelFromLevelData.data",p),y("CreateMapModelFromLevelData.object",a);var d=i.CreateMapModelFromLevelData(p);a.filter(function(e){return e.type in r.WorldEntityModelMap}).forEach(function(e){var t=r.createWorldEntityModelInstance(e);d.depth&&t.setDepth(d.depth),o.addEntity(t),d.addEntityReference(t)}),l.addLayer(d)},{}),o.addMap(l)})},s.prototype.getPortalByName=function(e){return this.portals.find(function(t){return t.name===e})},s.prototype.addMap=function(e){this.map=e},s.prototype.addEntity=function(e){e instanceof n.Portal?(e.setZone(this),this.portals.push(e)):e instanceof d.Container?this.containers.push(e):e instanceof p.Item&&this.items.push(e)},t.__decorate([o.modelAction,t.__metadata("design:type",Function),t.__metadata("design:paramtypes",["function"==typeof(l=void 0!==u.Map&&u.Map)?l:Object]),t.__metadata("design:returntype",void 0)],s.prototype,"addMap",null),t.__decorate([o.modelAction,t.__metadata("design:type",Function),t.__metadata("design:paramtypes",["function"==typeof(c=void 0!==r.TypeOfEntity&&r.TypeOfEntity)?c:Object]),t.__metadata("design:returntype",void 0)],s.prototype,"addEntity",null),s=t.__decorate([o.model(exports.ZONE_MODEL_KEY)],s)}(o.ExtendedModel(l.Entity,{map:o.prop(),portals:o.prop(function(){return[]}),items:o.prop(function(){return[]}),containers:o.prop(function(){return[]})}));exports.Zone=c;
},{"tslib":"vCxL","mobx-keystone":"bpa9","../Entity/PortalEntityModel":"eBj4","../Entity/Factory":"J76J","../Map/MapApi":"KryF","../Map/Factory":"vYEc","../Entity/ItemEntityModel":"MJb8","../Entity/ContainerEntityModel":"c2Sq","~/Core/Logger":"FMRX","~/Store/Map/MapModel":"Q8mw","~/Store/Entity/EntityModel":"Y4uc"}],"tUDJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ZoneReference=void 0;var e=require("mobx-keystone"),o=require("./ZoneModel");exports.ZoneReference=e.rootRef(o.ZONE_MODEL_KEY,{onResolvedValueChange:function(o,r,n){n&&!r&&e.detach(o)}});
},{"mobx-keystone":"bpa9","./ZoneModel":"R8ou"}],"GkA6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ZoneNotFoundError=exports.NoZoneMapError=exports.UnknownZone=void 0;var r=require("tslib"),n=function(n){function o(r){var o=n.call(this,"UnknownZone"+r.$modelId)||this;return o.name="UnknownZone",Error.captureStackTrace(o),o}return r.__extends(o,n),o}(Error);exports.UnknownZone=n;var o=function(n){function o(){var r=null!==n&&n.apply(this,arguments)||this;return r.name="NoZoneMapError",r}return r.__extends(o,n),o}(Error);exports.NoZoneMapError=o;var e=function(n){function o(r){var o=n.call(this,"UnknownZone")||this;return o.name="ZoneNotFoundError",o.message=r?Object.keys(r).map(function(n){return n+" = "+r[n]}).join(" "):"",Error.captureStackTrace(o),o}return r.__extends(o,n),o}(Error);exports.ZoneNotFoundError=e;
},{"tslib":"vCxL"}],"nFvS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoWorldEntityError=void 0;var r=require("tslib"),t=function(t){function e(){var r=null!==t&&t.apply(this,arguments)||this;return r.name="NoWorldEntityError",r}return r.__extends(e,t),e}(Error);exports.NoWorldEntityError=t;
},{"tslib":"vCxL"}],"dlid":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Moveable=void 0;var e=require("tslib"),t=require("lodash"),i=require("~/Objects/WorldEntity"),o=require("~/Objects/Exceptions"),s=require("~/Core/Logger"),n=function(){function n(e,i,s){var n=this;if(void 0===s&&(s=45),this.entity=e,this.scene=i,this.speed=s,this.prevVelocity={x:0,y:0},this.isIdle=!1,this.update=function(e,i){n.beforeMove();var o=t.get(n.entity,"moving");n.isMoving?(n.entity.setAction("moving"),o.Down?n.body.setVelocityY(n.speed):o.Up&&n.body.setVelocityY(-n.speed),o.Left?n.body.setVelocityX(-n.speed):o.Right&&n.body.setVelocityX(n.speed)):n.entity.setAction("idle"),n.afterMove()},!e)throw new o.NoWorldEntityError;this.scene.physics.add.existing(e),this.scene.physics.world.enable(e),this.body=e.body,this.scene.events.on("update",this.update)}var r,c;return Object.defineProperty(n.prototype,"isMoving",{get:function(){var e=t.get(this.entity,"moving");return e&&Object.keys(e).some(function(t){return!!e[t]})},enumerable:!1,configurable:!0}),n.prototype.beforeMove=function(){this.prevVelocity=this.body.velocity.clone(),this.body.setVelocity(0)},n.prototype.afterMove=function(){var e=this.prevVelocity,t=e.x,i=e.y;this.isIdle=0===i&&0===t,this.isIdle||this.body.velocity.normalize().scale(this.speed)},n=e.__decorate([s.Logs,e.__metadata("design:paramtypes",["function"==typeof(r=void 0!==i.WorldEntity&&i.WorldEntity)?r:Object,"function"==typeof(c="undefined"!=typeof Phaser&&Phaser.Scene)?c:Object,Object])],n)}();exports.Moveable=n;
},{"tslib":"vCxL","lodash":"B1iE","~/Objects/WorldEntity":"KylB","~/Objects/Exceptions":"nFvS","~/Core/Logger":"FMRX"}],"Nzqz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Character=void 0;var e=require("tslib"),t=require("../WorldEntity"),r=require("~/Mixins/Moveable"),i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=45,e}return e.__extends(i,t),i.prototype.init=function(){t.prototype.init.call(this),this.movement=new r.Moveable(this,this.scene,this.speed)},i}(t.WorldEntity);exports.Character=i;
},{"tslib":"vCxL","../WorldEntity":"KylB","~/Mixins/Moveable":"dlid"}],"MS93":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Goblin=void 0;var i=require("tslib"),n=require("~/Config/constants"),o=require("./Character"),t=function(o){function t(i,t,e){var a=o.call(this,i,t,e)||this;return a.key="Goblin",a.animations={default:{default:{anim:n.Animations.GoblinIdle}},idle:{default:{anim:n.Animations.GoblinIdle}},moving:{default:{anim:n.Animations.GoblinMove},Down:{anim:n.Animations.GoblinMove},LeftDown:{flip:!0,anim:n.Animations.GoblinMove},Left:{flip:!0,anim:n.Animations.GoblinMove},LeftUp:{flip:!0,anim:n.Animations.GoblinMove},Up:{anim:n.Animations.GoblinMove},RightUp:{flip:!1,anim:n.Animations.GoblinMove},Right:{flip:!1,anim:n.Animations.GoblinMove},RightDown:{flip:!1,anim:n.Animations.GoblinMove}}},a.init(),a}return i.__extends(t,o),t.prototype.init=function(){o.prototype.init.call(this)},t}(o.Character);exports.Goblin=t;
},{"tslib":"vCxL","~/Config/constants":"G6kf","./Character":"Nzqz"}],"eTYZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoSpawnPositionError=exports.NoGameError=void 0;var r=require("tslib"),o=function(o){function e(){var r=null!==o&&o.apply(this,arguments)||this;return r.name="NoGameError",r}return r.__extends(e,o),e}(Error);exports.NoGameError=o;var e=function(o){function e(){var r=null!==o&&o.apply(this,arguments)||this;return r.name="NoSpawnPositionError",r}return r.__extends(e,o),e}(Error);exports.NoSpawnPositionError=e;
},{"tslib":"vCxL"}],"yK9Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Character=exports.CHARACTER_MODEL_KEY=void 0;var e=require("tslib"),t=require("mobx-keystone"),o=require("mobx"),r=require("../Entity/EntityModel"),n=require("../Zone/ZoneModel"),i=require("../Zone/Exceptions"),a=require("../Zone/ZoneReference"),p=require("../Game/Exceptions"),s=require("../Entity/Factory");exports.CHARACTER_MODEL_KEY="Character";var d=function(r){function d(){return null!==r&&r.apply(this,arguments)||this}var c,u;return e.__extends(d,r),Object.defineProperty(d.prototype,"currentZone",{get:function(){return this.zone?this.zone.current:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"classMeta",{get:function(){return this.class&&this.class?this.class.current:void 0},enumerable:!1,configurable:!0}),d.prototype.teleportTo=function(e,t){this.setZone(e),this.setPosition(t.x,t.y),this.setDepth(t.depth+1)},d.prototype.setZone=function(e){var o=t.getRootStore(this);if(!o)throw new p.NoGameError;if(e&&!o.zones.includes(e))throw new i.UnknownZone(e);this.zone=e?a.ZoneReference(e):void 0},e.__decorate([o.computed,e.__metadata("design:type",Object),e.__metadata("design:paramtypes",[])],d.prototype,"currentZone",null),e.__decorate([o.computed,e.__metadata("design:type",Object),e.__metadata("design:paramtypes",[])],d.prototype,"classMeta",null),e.__decorate([t.modelAction,e.__metadata("design:type",Function),e.__metadata("design:paramtypes",["function"==typeof(c=void 0!==n.Zone&&n.Zone)?c:Object,"function"==typeof(u=void 0!==s.TypeOfWorldEntity&&s.TypeOfWorldEntity)?u:Object]),e.__metadata("design:returntype",void 0)],d.prototype,"teleportTo",null),e.__decorate([t.modelAction,e.__metadata("design:type",Function),e.__metadata("design:paramtypes",[Object]),e.__metadata("design:returntype",void 0)],d.prototype,"setZone",null),d=e.__decorate([t.model(exports.CHARACTER_MODEL_KEY)],d)}(t.ExtendedModel(r.WorldEntity,{icon:t.prop(),hp:t.prop(),zone:t.prop(),class:t.prop(),inventory:t.prop()}));exports.Character=d;
},{"tslib":"vCxL","mobx-keystone":"bpa9","mobx":"uYi1","../Entity/EntityModel":"Y4uc","../Zone/ZoneModel":"R8ou","../Zone/Exceptions":"GkA6","../Zone/ZoneReference":"tUDJ","../Game/Exceptions":"eTYZ","../Entity/Factory":"J76J"}],"cwHE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CharacterGoblin=exports.CHARACTERGOBLIN_MODEL_KEY=void 0;var e=require("tslib"),t=require("mobx-keystone"),r=require("~/Objects/Characters/CharacterGoblin"),o=require("./CharacterModel");exports.CHARACTERGOBLIN_MODEL_KEY="CharacterGoblin";var i=function(o){function i(){return null!==o&&o.apply(this,arguments)||this}return e.__extends(i,o),i.prototype.createGameObject=function(e){var t=new r.Goblin(e,this.x,this.y);return t.setPosition(this.x,this.y),t.setDepth(this.depth+1),t},i=e.__decorate([t.model(exports.CHARACTERGOBLIN_MODEL_KEY)],i)}(t.ExtendedModel(o.Character,{}));exports.CharacterGoblin=i;
},{"tslib":"vCxL","mobx-keystone":"bpa9","~/Objects/Characters/CharacterGoblin":"MS93","./CharacterModel":"yK9Z"}],"d7BG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Warrior=void 0;var i=require("tslib"),r=require("~/Config/constants"),n=require("./Character"),a=function(n){function a(i,a,o){var t=n.call(this,i,a,o)||this;return t.key="Warrior",t.speed=55,t.spriteWidth=16,t.spriteHeight=32,t.footprintWidth=12,t.footprintHeight=8,t.usageDistance=30,t.animations={default:{default:{anim:r.Animations.WarriorIdle}},idle:{default:{anim:r.Animations.WarriorIdle}},moving:{default:{anim:r.Animations.WarriorMove},LeftDown:{flip:!0,anim:r.Animations.WarriorMove},Left:{flip:!0,anim:r.Animations.WarriorMove},LeftUp:{flip:!0,anim:r.Animations.WarriorMove},Up:{anim:r.Animations.WarriorMove},RightUp:{flip:!1,anim:r.Animations.WarriorMove},Right:{flip:!1,anim:r.Animations.WarriorMove},RightDown:{flip:!1,anim:r.Animations.WarriorMove},Down:{anim:r.Animations.WarriorMove}}},t.init(),t}return i.__extends(a,n),a}(n.Character);exports.Warrior=a;
},{"tslib":"vCxL","~/Config/constants":"G6kf","./Character":"Nzqz"}],"Da7S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CharacterWarrior=exports.CHARACTERWARRIOR_MODEL_KEY=void 0;var r=require("tslib"),e=require("mobx-keystone"),t=require("~/Objects/Characters/CharacterWarrior"),a=require("./CharacterModel");exports.CHARACTERWARRIOR_MODEL_KEY="CharacterWarrior";var o=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return r.__extends(o,a),o.prototype.createGameObject=function(r){var e=new t.Warrior(r,this.x,this.y);return e.setPosition(this.x,this.y),e.setDepth(this.depth+1),e},o=r.__decorate([e.model(exports.CHARACTERWARRIOR_MODEL_KEY)],o)}(e.ExtendedModel(a.Character,{}));exports.CharacterWarrior=o;
},{"tslib":"vCxL","mobx-keystone":"bpa9","~/Objects/Characters/CharacterWarrior":"d7BG","./CharacterModel":"yK9Z"}],"nSMx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CharacterClassReference=void 0;var e=require("mobx-keystone"),r=require("./CharacterClassModel");exports.CharacterClassReference=e.rootRef(r.CHARACTERCLASS_MODEL_KEY,{onResolvedValueChange:function(r,a,o){o&&!a&&e.detach(r)}});
},{"mobx-keystone":"bpa9","./CharacterClassModel":"zFwB"}],"zFwB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CharacterClass=exports.CHARACTERCLASS_MODEL_KEY=exports.CHARACTER_CLASSES=void 0;var e=require("tslib"),r=require("mobx-keystone"),t=require("./CharacterGoblinModel"),a=require("./CharacterWarriorModel"),C=require("./CharacterClassReference");exports.CHARACTER_CLASSES={goblin:t.CharacterGoblin,warrior:a.CharacterWarrior},exports.CHARACTERCLASS_MODEL_KEY="CharacterClass";var s=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return e.__extends(a,t),a.prototype.createCharacter=function(){return new(0,exports.CHARACTER_CLASSES[this.name])({type:this.name,class:C.CharacterClassReference(this)})},a=e.__decorate([r.model(exports.CHARACTERCLASS_MODEL_KEY)],a)}(r.Model({name:r.prop()}));exports.CharacterClass=s;
},{"tslib":"vCxL","mobx-keystone":"bpa9","./CharacterGoblinModel":"cwHE","./CharacterWarriorModel":"Da7S","./CharacterClassReference":"nSMx"}],"IpTQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CharacterReference=void 0;var e=require("mobx-keystone"),r=require("./CharacterModel");exports.CharacterReference=e.rootRef(r.CHARACTER_MODEL_KEY,{onResolvedValueChange:function(r,o,t){t&&!o&&e.detach(r)}});
},{"mobx-keystone":"bpa9","./CharacterModel":"yK9Z"}],"aC8X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoPlayerError=exports.NoCharactersError=exports.NoCharacterError=void 0;var r=require("tslib"),e=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.name="NoCharacterError",r}return r.__extends(t,e),t}(Error);exports.NoCharacterError=e;var t=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.name="NoCharactersError",r}return r.__extends(t,e),t}(Error);exports.NoCharactersError=t;var o=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.name="NoPlayerError",r}return r.__extends(t,e),t}(Error);exports.NoPlayerError=o;
},{"tslib":"vCxL"}],"lKbB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Player=exports.PLAYER_MODEL_KEY=void 0;var e=require("tslib"),r=require("mobx-keystone"),t=require("../Character/CharacterClassModel"),a=require("~/Store/Character/CharacterReference"),c=require("~/Store/Character/CharacterModel"),o=require("~/Store/Player/Exceptions");exports.PLAYER_MODEL_KEY="Player";var i=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}var s,h,d;return e.__extends(n,i),n.prototype.startCharacter=function(e){e&&!this.characters.includes(e)&&this.addCharacter(e),this.setCharacter(e)},n.prototype.createCharacterFromClass=function(e){var r=e.createCharacter();if(!r)throw new o.NoCharacterError(e.$modelType+" didn't result in a character model");return this.addCharacter(r),r},n.prototype.addCharacter=function(e){this.characters.push(e)},n.prototype.setCharacter=function(e){var r=this.characters;if(!r)throw new o.NoCharactersError;if(e&&!r.includes(e))throw new o.NoCharacterError;this.activeCharacter=e?a.CharacterReference(e):void 0},Object.defineProperty(n.prototype,"character",{get:function(){if(!this.characters||!this.characters.length)throw new o.NoCharactersError;if(!this.activeCharacter)throw new o.NoCharacterError;return this.activeCharacter?this.activeCharacter.current:void 0},enumerable:!1,configurable:!0}),e.__decorate([r.modelAction,e.__metadata("design:type",Function),e.__metadata("design:paramtypes",["function"==typeof(s=void 0!==t.CharacterClass&&t.CharacterClass)?s:Object]),e.__metadata("design:returntype","function"==typeof(h=void 0!==c.Character&&c.Character)?h:Object)],n.prototype,"createCharacterFromClass",null),e.__decorate([r.modelAction,e.__metadata("design:type",Function),e.__metadata("design:paramtypes",["function"==typeof(d=void 0!==c.Character&&c.Character)?d:Object]),e.__metadata("design:returntype",void 0)],n.prototype,"addCharacter",null),e.__decorate([r.modelAction,e.__metadata("design:type",Function),e.__metadata("design:paramtypes",[Object]),e.__metadata("design:returntype",void 0)],n.prototype,"setCharacter",null),n=e.__decorate([r.model(exports.PLAYER_MODEL_KEY)],n)}(r.Model({characters:r.prop(function(){return[]}),activeCharacter:r.prop()}));exports.Player=i;
},{"tslib":"vCxL","mobx-keystone":"bpa9","../Character/CharacterClassModel":"zFwB","~/Store/Character/CharacterReference":"IpTQ","~/Store/Character/CharacterModel":"yK9Z","~/Store/Player/Exceptions":"aC8X"}],"k35x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Library=exports.LIBRARY_MODEL_KEY=void 0;var e=require("tslib"),r=require("mobx-keystone"),t=require("../Character/CharacterClassModel");exports.LIBRARY_MODEL_KEY="Library";var s=function(s){function o(){return null!==s&&s.apply(this,arguments)||this}return e.__extends(o,s),o.prototype.onInit=function(){this.classes=Object.keys(t.CHARACTER_CLASSES).map(function(e){return new t.CharacterClass({name:e})})},o=e.__decorate([r.model(exports.LIBRARY_MODEL_KEY)],o)}(r.Model({classes:r.prop(function(){return[]})}));exports.Library=s;
},{"tslib":"vCxL","mobx-keystone":"bpa9","../Character/CharacterClassModel":"zFwB"}],"rvz6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Game=exports.GAME_MODEL_KEY=void 0;var e=require("tslib"),t=require("mobx-keystone"),o=require("mobx"),n=require("../Zone/ZoneReference"),r=require("../Zone/Exceptions"),a=require("../Zone/ZoneModel"),i=require("../Player/PlayerModel"),p=require("../Player/Exceptions"),d=require("~/Config/constants"),s=require("./LibraryModel"),c=require("./Exceptions");exports.GAME_MODEL_KEY="Game";var u=function(u){function y(){return null!==u&&u.apply(this,arguments)||this}var l,_,m,f,Z;return e.__extends(y,u),y.prototype.onInit=function(){this.library=new s.Library({classes:[]}),this.addZones(this.createZone("LevelOne",a.ZoneTypes.Dungeon),this.createZone("LevelTwo",a.ZoneTypes.Dungeon),this.createZone("LevelThree",a.ZoneTypes.Dungeon))},y.prototype.createZone=function(e,t){var o=new a.Zone({name:e,type:t});return o.addMapFromLevelData(d.TiledTileMaps[e]),o},y.prototype.startPlayer=function(e){var t,o=e.getPortalByName("PlayerStart");if(!o)throw new c.NoSpawnPositionError;if(!(null===(t=this.player)||void 0===t?void 0:t.character))throw new p.NoCharacterError;this.player.character.teleportTo(e,o)},y.prototype.createPlayer=function(e){return void 0===e&&(e=new i.Player({})),this.player=e,e},y.prototype.addZone=function(e){this.zones.push(e)},y.prototype.addZones=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.zones=this.zones.concat(e)},y.prototype.getStartZone=function(){return this.zones.find(function(e){return e.isStart})||this.zones[0]},Object.defineProperty(y.prototype,"currentZone",{get:function(){return this.zone?this.zone.current:void 0},enumerable:!1,configurable:!0}),y.prototype.setZone=function(e){var t=this.zones;if(e&&!t.includes(e))throw new r.UnknownZone(e);this.zone=e?n.ZoneReference(e):void 0},e.__decorate([t.modelAction,e.__metadata("design:type",Function),e.__metadata("design:paramtypes",["function"==typeof(l=void 0!==a.Zone&&a.Zone)?l:Object]),e.__metadata("design:returntype",void 0)],y.prototype,"startPlayer",null),e.__decorate([t.modelAction,e.__metadata("design:type",Function),e.__metadata("design:paramtypes",["function"==typeof(_=void 0!==i.Player&&i.Player)?_:Object]),e.__metadata("design:returntype","function"==typeof(m=void 0!==i.Player&&i.Player)?m:Object)],y.prototype,"createPlayer",null),e.__decorate([t.modelAction,e.__metadata("design:type",Function),e.__metadata("design:paramtypes",["function"==typeof(f=void 0!==a.Zone&&a.Zone)?f:Object]),e.__metadata("design:returntype",void 0)],y.prototype,"addZone",null),e.__decorate([t.modelAction,e.__metadata("design:type",Function),e.__metadata("design:paramtypes",["function"==typeof(Z=void 0!==a.Zone&&a.Zone)?Z:Object]),e.__metadata("design:returntype",void 0)],y.prototype,"addZones",null),e.__decorate([o.computed,e.__metadata("design:type",Object),e.__metadata("design:paramtypes",[])],y.prototype,"currentZone",null),e.__decorate([t.modelAction,e.__metadata("design:type",Function),e.__metadata("design:paramtypes",[Object]),e.__metadata("design:returntype",void 0)],y.prototype,"setZone",null),y=e.__decorate([t.model(exports.GAME_MODEL_KEY)],y)}(t.Model({player:t.prop(),library:t.prop(),zone:t.prop(),zones:t.prop(function(){return[]})}));exports.Game=u;
},{"tslib":"vCxL","mobx-keystone":"bpa9","mobx":"uYi1","../Zone/ZoneReference":"tUDJ","../Zone/Exceptions":"GkA6","../Zone/ZoneModel":"R8ou","../Player/PlayerModel":"lKbB","../Player/Exceptions":"aC8X","~/Config/constants":"G6kf","./LibraryModel":"k35x","./Exceptions":"eTYZ"}],"Z6w2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Store=void 0;var e=require("~/Store/Game/GameModel");exports.Store=new e.Game({});
},{"~/Store/Game/GameModel":"rvz6"}],"Y0nv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Store=void 0;var e=require("tslib"),r=require("mobx-keystone"),t=e.__importDefault(require("localforage")),o=require("mobx-keystone-persist"),i=require("~/Config/constants"),s=require("~/Core/Logger"),u=require("./store");Object.defineProperty(exports,"Store",{enumerable:!0,get:function(){return u.Store}});var n=s.Logger(module.id);r.registerRootStore(u.Store),o.persist(i.APP_ID,u.Store,{storage:t.default,jsonify:!1}).then(function(){return n("someStore has been hydrated")});
},{"tslib":"vCxL","mobx-keystone":"bpa9","localforage":"EM1A","mobx-keystone-persist":"lPMX","~/Config/constants":"G6kf","~/Core/Logger":"FMRX","./store":"Z6w2"}],"oC4k":[function(require,module,exports) {
var define;
var t;!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof t&&t.amd?t(["phaser"],e):"object"==typeof exports?exports.PhaserNavMeshPlugin=e(require("phaser")):n.PhaserNavMeshPlugin=e(n.Phaser)}(window,function(t){return function(t){var n={};function e(s){if(n[s])return n[s].exports;var i=n[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,s){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(s,i,function(n){return t[n]}.bind(null,i));return s},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=2)}([function(t,n,e){var s,i,o;!function(n){"object"==typeof t.exports?t.exports=n():(i=[],void 0===(o="function"==typeof(s=n)?s.apply(void 0,i):s)||(t.exports=o))}(function(){function t(t){for(var n=t,e=[];n.parent;)e.unshift(n),n=n.parent;return e}var n={search:function(e,s,o,r){e.cleanDirty();var h=(r=r||{}).heuristic||n.heuristics.manhattan,a=r.closest||!1,c=new i(function(t){return t.f}),u=s;for(s.h=h(s,o),e.markDirty(s),c.push(s);c.size()>0;){var l=c.pop();if(l===o)return t(l);l.closed=!0;for(var p=e.neighbors(l),d=0,g=p.length;d<g;++d){var y=p[d];if(!y.closed&&!y.isWall()){var f=l.g+y.getCost(l),b=y.visited;(!b||f<y.g)&&(y.visited=!0,y.parent=l,y.h=y.h||h(y,o),y.g=f,y.f=y.g+y.h,e.markDirty(y),a&&(y.h<u.h||y.h===u.h&&y.g<u.g)&&(u=y),b?c.rescoreElement(y):c.push(y))}}}return a?t(u):[]},heuristics:{manhattan:function(t,n){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},diagonal:function(t,n){var e=Math.sqrt(2),s=Math.abs(n.x-t.x),i=Math.abs(n.y-t.y);return 1*(s+i)+(e-2)*Math.min(s,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function e(t,n){n=n||{},this.nodes=[],this.diagonal=!!n.diagonal,this.grid=[];for(var e=0;e<t.length;e++){this.grid[e]=[];for(var i=0,o=t[e];i<o.length;i++){var r=new s(e,i,o[i]);this.grid[e][i]=r,this.nodes.push(r)}}this.init()}function s(t,n,e){this.x=t,this.y=n,this.weight=e}function i(t){this.content=[],this.scoreFunction=t}return e.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)n.cleanNode(this.nodes[t])},e.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)n.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},e.prototype.markDirty=function(t){this.dirtyNodes.push(t)},e.prototype.neighbors=function(t){var n=[],e=t.x,s=t.y,i=this.grid;return i[e-1]&&i[e-1][s]&&n.push(i[e-1][s]),i[e+1]&&i[e+1][s]&&n.push(i[e+1][s]),i[e]&&i[e][s-1]&&n.push(i[e][s-1]),i[e]&&i[e][s+1]&&n.push(i[e][s+1]),this.diagonal&&(i[e-1]&&i[e-1][s-1]&&n.push(i[e-1][s-1]),i[e+1]&&i[e+1][s-1]&&n.push(i[e+1][s-1]),i[e-1]&&i[e-1][s+1]&&n.push(i[e-1][s+1]),i[e+1]&&i[e+1][s+1]&&n.push(i[e+1][s+1])),n},e.prototype.toString=function(){for(var t=[],n=this.grid,e=0;e<n.length;e++){for(var s=[],i=n[e],o=0;o<i.length;o++)s.push(i[o].weight);t.push(s.join(" "))}return t.join("\n")},s.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},s.prototype.getCost=function(t){return t&&t.x!=this.x&&t.y!=this.y?1.41421*this.weight:this.weight},s.prototype.isWall=function(){return 0===this.weight},i.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],n=this.content.pop();return this.content.length>0&&(this.content[0]=n,this.bubbleUp(0)),t},remove:function(t){var n=this.content.indexOf(t),e=this.content.pop();n!==this.content.length-1&&(this.content[n]=e,this.scoreFunction(e)<this.scoreFunction(t)?this.sinkDown(n):this.bubbleUp(n))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var n=this.content[t];t>0;){var e=(t+1>>1)-1,s=this.content[e];if(!(this.scoreFunction(n)<this.scoreFunction(s)))break;this.content[e]=n,this.content[t]=s,t=e}},bubbleUp:function(t){for(var n=this.content.length,e=this.content[t],s=this.scoreFunction(e);;){var i,o=t+1<<1,r=o-1,h=null;if(r<n){var a=this.content[r];(i=this.scoreFunction(a))<s&&(h=r)}if(o<n){var c=this.content[o];this.scoreFunction(c)<(null===h?s:i)&&(h=o)}if(null===h)break;this.content[t]=this.content[h],this.content[h]=e,t=h}}},{astar:n,Graph:e}})},function(n,e){n.exports=t},function(t,n,e){"use strict";e.r(n);var s=e(1),i=e.n(s),o=e(0),r=e.n(o);class h{constructor(t,n){this.x=t||0,this.y=n||0}equals(t){return this.x===t.x&&this.y===t.y}angle(t){return Math.atan2(t.y-this.y,t.x-this.x)}distance(t){const n=t.x-this.x,e=t.y-this.y;return Math.sqrt(n*n+e*e)}add(t){this.x+=t.x,this.y+=t.y}subtract(t){this.x-=t.x,this.y-=t.y}clone(){return new h(this.x,this.y)}}class a{constructor(t,n){this.id=t,this.polygon=n,this.edges=n.edges,this.neighbors=[],this.portals=[],this.centroid=this.calculateCentroid(),this.boundingRadius=this.calculateRadius(),this.weight=1}getPoints(){return this.polygon.points}contains(t){return this.polygon.contains(t.x,t.y)||this.isPointOnEdge(t)}calculateCentroid(){const t=new h(0,0),n=this.polygon.points.length;return this.polygon.points.forEach(n=>t.add(n)),t.x/=n,t.y/=n,t}calculateRadius(){let t=0;for(const n of this.polygon.points){const e=this.centroid.distance(n);e>t&&(t=e)}return t}isPointOnEdge({x:t,y:n}){for(const e of this.edges)if(e.pointOnSegment(t,n))return!0;return!1}destroy(){this.neighbors=[],this.portals=[]}toString(){return`NavPoly(id: ${this.id} at: ${this.centroid})`}isWall(){return 0===this.weight}centroidDistance(t){return this.centroid.distance(t.centroid)}getCost(t){return this.centroidDistance(t)}}class c{constructor(t){this.nodes=t,this.init()}neighbors(t){return t.neighbors}navHeuristic(t,n){return t.centroidDistance(n)}destroy(){this.cleanDirty(),this.nodes=[]}}c.prototype.init=r.a.Graph.prototype.init,c.prototype.cleanDirty=r.a.Graph.prototype.cleanDirty,c.prototype.markDirty=r.a.Graph.prototype.markDirty;var u=c;function l(t,n,e){const s=n.x-t.x,i=n.y-t.y;return(e.x-t.x)*i-s*(e.y-t.y)}function p(t,n,e=1e-4){return Math.abs(t-n)<=e}function d(t,n){let e=t-n;const s=e+Math.PI,i=2*Math.PI;return(e=s-Math.floor(s/i)*i)-Math.PI}function g(t,n,e=1e-4){const s=l(t.start,t.end,n.start),i=l(t.start,t.end,n.end);return!(!p(s,0,e)||!p(i,0,e))}var y=class{constructor(){this.portals=[]}push(t,n=null){null===n&&(n=t),this.portals.push({left:t,right:n})}stringPull(){var t,n,e,s=this.portals,i=[],o=0,r=0,h=0;t=s[0].left,n=s[0].left,e=s[0].right,i.push(t);for(var a=1;a<s.length;a++){var c=s[a].left,u=s[a].right;if(l(t,e,u)<=0){if(!(t.equals(e)||l(t,n,u)>0)){i.push(n),n=t=n,e=t,r=o=r,h=o,a=o;continue}e=u,h=a}if(l(t,n,c)>=0){if(!(t.equals(n)||l(t,e,c)<0)){i.push(e),n=t=e,e=t,r=o=h,h=o,a=o;continue}n=c,r=a}}return 0!==i.length&&i[i.length-1].equals(s[s.length-1].left)||i.push(s[s.length-1].left),this.path=i,i}};class f{constructor(t,n,e,s){this.start=new h(t,n),this.end=new h(e,s),this.left=Math.min(t,e),this.right=Math.max(t,e),this.top=Math.min(n,s),this.bottom=Math.max(n,s)}pointOnSegment(t,n){return t>=this.left&&t<=this.right&&n>=this.top&&n<=this.bottom&&this.pointOnLine(t,n)}pointOnLine(t,n){return(t-this.left)*(this.bottom-this.top)==(this.right-this.left)*(n-this.top)}}class b{constructor(t,n=!0){this.points=t,this.edges=[];for(let e=1;e<t.length;e++){const n=t[e-1],s=t[e];this.edges.push(new f(n.x,n.y,s.x,s.y))}if(n){const n=t[0],e=t[t.length-1];this.edges.push(new f(n.x,n.y,e.x,e.y))}}contains(t,n){let e=!1;for(let s=-1,i=this.points.length-1;++s<this.points.length;i=s){const o=this.points[s].x,r=this.points[s].y,h=this.points[i].x,a=this.points[i].y;(r<=n&&n<a||a<=n&&n<r)&&t<(h-o)*(n-r)/(a-r)+o&&(e=!e)}return e}}var v=class{constructor(t,n=0){this._meshShrinkAmount=n;const e=t.map(t=>{const n=t.map(t=>new h(t.x,t.y));return new b(n)});this._navPolygons=e.map((t,n)=>new a(n,t)),this._calculateNeighbors(),this._graph=new u(this._navPolygons)}getPolygons(){return this._navPolygons}destroy(){this._graph.destroy();for(const t of this._navPolygons)t.destroy();this._navPolygons=[]}findPath(t,n){let e,s,i=null,o=null,a=Number.MAX_VALUE,c=Number.MAX_VALUE;const u=new h(t.x,t.y),l=new h(n.x,n.y);for(const r of this._navPolygons)s=r.boundingRadius,(e=r.centroid.distance(u))<=a&&e<=s&&r.contains(u)&&(i=r,a=e),(e=r.centroid.distance(l))<=c&&e<=s&&r.contains(l)&&(o=r,c=e);if(!i&&this._meshShrinkAmount>0)for(const r of this._navPolygons)if(s=r.boundingRadius+this._meshShrinkAmount,(e=r.centroid.distance(u))<=s){const{distance:t}=this._projectPointToPolygon(u,r);t<=this._meshShrinkAmount&&t<a&&(i=r,a=t)}if(!o&&this._meshShrinkAmount>0)for(const r of this._navPolygons)if(s=r.boundingRadius+this._meshShrinkAmount,(e=r.centroid.distance(l))<=s){const{distance:t}=this._projectPointToPolygon(l,r);t<=this._meshShrinkAmount&&t<c&&(o=r,c=t)}if(!i||!o)return null;if(i===o)return[u,l];const p=r.a.astar.search(this._graph,i,o,{heuristic:this._graph.navHeuristic});if(0===p.length)return null;p.unshift(i);const d=new y;d.push(u);for(let r=0;r<p.length-1;r++){const t=p[r],n=p[r+1];let e=null;for(let s=0;s<t.neighbors.length;s++)t.neighbors[s].id===n.id&&(e=t.portals[s]);d.push(e.start,e.end)}d.push(l),d.stringPull();let g=null;const f=[];for(const r of d.path){const t=r.clone();g&&t.equals(g)||f.push(t),g=t}return f}_calculateNeighbors(){for(let t=0;t<this._navPolygons.length;t++){const n=this._navPolygons[t];for(let e=t+1;e<this._navPolygons.length;e++){const t=this._navPolygons[e];if(!(n.centroid.distance(t.centroid)>n.boundingRadius+t.boundingRadius))for(const e of n.edges)for(const s of t.edges){if(!g(e,s))continue;const i=this._getSegmentOverlap(e,s);if(!i)continue;n.neighbors.push(t),t.neighbors.push(n);const[o,r]=i;let h=n.centroid.angle(e.start),a=n.centroid.angle(i[0]),c=n.centroid.angle(i[1]),u=d(h,a),l=d(h,c);u<l?n.portals.push(new f(o.x,o.y,r.x,r.y)):n.portals.push(new f(r.x,r.y,o.x,o.y)),h=t.centroid.angle(s.start),a=t.centroid.angle(i[0]),c=t.centroid.angle(i[1]),(u=d(h,a))<(l=d(h,c))?t.portals.push(new f(o.x,o.y,r.x,r.y)):t.portals.push(new f(r.x,r.y,o.x,o.y))}}}}_getSegmentOverlap(t,n){const e=[{line:t,point:t.start},{line:t,point:t.end},{line:n,point:n.start},{line:n,point:n.end}];e.sort(function(t,n){return t.point.x<n.point.x?-1:t.point.x>n.point.x?1:t.point.y<n.point.y?-1:t.point.y>n.point.y?1:0});const s=e[0].line===e[1].line,i=e[1].point.equals(e[2].point);return s||i?null:[e[1].point,e[2].point]}_projectPointToPolygon(t,n){let e=null,s=Number.MAX_VALUE;for(const i of n.edges){const n=this._projectPointToEdge(t,i),o=t.distance(n);(null===e||o<s)&&(s=o,e=n)}return{point:e,distance:s}}_distanceSquared(t,n){const e=n.x-t.x,s=n.y-t.y;return e*e+s*s}_projectPointToEdge(t,n){const e=n.start,s=n.end,i=this._distanceSquared(e,s);let o=((t.x-e.x)*(s.x-e.x)+(t.y-e.y)*(s.y-e.y))/i;return o=function(t,n,e){return t<0&&(t=0),t>1&&(t=1),t}(o),new h(e.x+o*(s.x-e.x),e.y+o*(s.y-e.y))}};class x{constructor(t,n,e,s=0){this.key=n,this.plugin=t,this.scene=t.scene,this.debugGraphics=null,this.navMesh=new v(e,s)}findPath(t,n,e=i.a.Geom.Point){const s=this.navMesh.findPath(t,n);return s?s.map(({x:t,y:n})=>new e(t,n)):s}enableDebug(t){return t||this.debugGraphics?t&&(this.debugGraphics&&this.debugGraphics.destroy(),this.debugGraphics=t):this.debugGraphics=this.scene.add.graphics(),this.debugGraphics.visible=!0,this.debugGraphics}disableDebug(){this.debugGraphics&&(this.debugGraphics.visible=!1)}isDebugEnabled(){return this.debugGraphics&&this.debugGraphics.visible}debugDrawClear(){this.debugGraphics&&this.debugGraphics.clear()}debugDrawMesh({drawCentroid:t=!0,drawBounds:n=!1,drawNeighbors:e=!0,drawPortals:s=!0,palette:i=[41136,6965820,13382463,15427649,15583569]}={}){this.debugGraphics&&this.navMesh.getPolygons().forEach(o=>{const r=i[o.id%i.length];this.debugGraphics.fillStyle(r),this.debugGraphics.fillPoints(o.getPoints(),!0),t&&(this.debugGraphics.fillStyle(0),this.debugGraphics.fillCircle(o.centroid.x,o.centroid.y,4)),n&&(this.debugGraphics.lineStyle(1,16777215),this.debugGraphics.strokeCircle(o.centroid.x,o.centroid.y,o.boundingRadius)),e&&(this.debugGraphics.lineStyle(2,0),o.neighbors.forEach(t=>{this.debugGraphics.lineBetween(o.centroid.x,o.centroid.y,t.centroid.x,t.centroid.y)})),s&&(this.debugGraphics.lineStyle(10,0),o.portals.forEach(t=>this.debugGraphics.lineBetween(t.start.x,t.start.y,t.end.x,t.end.y)))})}debugDrawPath(t,n=65280,e=10,s=1){if(this.debugGraphics&&t&&t.length){this.debugGraphics.lineStyle(e,n,s),this.debugGraphics.strokePoints(t),this.debugGraphics.fillStyle(n,s);const i=1.2*e;if(this.debugGraphics.fillCircle(t[0].x,t[0].y,i,i),t.length>1){const n=t[t.length-1];this.debugGraphics.fillCircle(n.x,n.y,i,i)}}}destroy(){this.navMesh&&this.navMesh.destroy(),this.debugGraphics&&this.debugGraphics.destroy(),this.plugin.removeMesh(this.key),this.navMesh=void 0,this.debugGraphics=void 0,this.plugin=void 0,this.scene=void 0}}e.d(n,"PhaserNavMesh",function(){return x}),n.default=class extends i.a.Plugins.ScenePlugin{constructor(t,n){super(t,n),this.phaserNavMeshes={},this.scene=t,this.systems=t.sys,t.sys.settings.isBooted||this.systems.events.once("boot",this.boot,this)}boot(){this.systems.events.once("destroy",this.destroy,this)}init(){}start(){}destroy(){this.systems.events.off("boot",this.boot,this);const t=Object.values(this.phaserNavMeshes);this.phaserNavMeshes={},t.forEach(t=>t.destroy()),this.scene=void 0,this.systems=void 0}removeMesh(t){this.phaserNavMeshes[t]&&(this.phaserNavMeshes[t]=void 0)}buildMeshFromTiled(t,n,e=0){if(this.phaserNavMeshes[t])return console.warn(`NavMeshPlugin: a navmesh already exists with the given key: ${t}`),this.phaserNavMeshes[t];n&&0!==n.length||console.warn(`NavMeshPlugin: The given tilemap object layer is empty or undefined: ${n}`);const s=(n?n.objects:[]).map(t=>{const n=t.y,e=t.y+t.height,s=t.x,i=t.x+t.width;return[{x:s,y:n},{x:s,y:e},{x:i,y:e},{x:i,y:n}]}),i=new x(this,t,s,e);return this.phaserNavMeshes[t]=i,i}}}]).default});
},{"phaser":"g7IM"}],"VOMc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PARENT_DIV_TAG=void 0;var e=require("tslib"),a=e.__importDefault(require("phaser")),r=e.__importDefault(require("phaser-navmesh")),t=require("~/Core/loader");exports.PARENT_DIV_TAG="phaser-game",exports.default={title:"Maintainable Game",type:a.default.AUTO,backgroundColor:"#000",parent:exports.PARENT_DIV_TAG,width:window.innerWidth,height:window.innerHeight,plugins:{scene:[{key:"NavMeshPlugin",plugin:r.default,mapping:"navMeshPlugin",start:!0}]},render:{antialiasGL:!1,pixelArt:!0},physics:{default:"arcade",arcade:{debug:!0,gravity:{y:0}}},loader:{baseURL:t.getPathFromLocation(window.location.pathname)}};
},{"tslib":"vCxL","phaser":"g7IM","phaser-navmesh":"oC4k","~/Core/loader":"Akea"}],"Osg6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=Phaser.Utils.Objects.GetValue;class i{constructor(t,i,e,r,s){this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,i,e,r,s)}setTo(t,i,e,r,s){return this.setPosition(t,i),this.setRadius(s),this.setSize(e,r),this}setPosition(t,i){return void 0===t&&(t=0),void 0===i&&(i=t),this.x=t,this.y=i,this}setRadius(i){var r,s;void 0===i&&(i=0),"number"==typeof i?(r=i,s=i):(r=t(i,"x",0),s=t(i,"y",0));var h=this.cornerRadius;return h.tl=e(t(i,"tl",void 0),r,s),h.tr=e(t(i,"tr",void 0),r,s),h.bl=e(t(i,"bl",void 0),r,s),h.br=e(t(i,"br",void 0),r,s),this}setSize(t,i){return this.width=t,this.height=i,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){null==t&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){null==t&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}}var e=function(t,i,e){return void 0===t?{x:i,y:e}:"number"==typeof t?{x:t,y:t}:t},r=i;exports.default=r;
},{}],"Ozfv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,r,t){var u=t.length;if(u>=2){var o=t[u-2],s=t[u-1];if(e===o&&r===s)return t}return t.push(e,r),t},r=e;exports.default=r;
},{}],"YBky":[function(require,module,exports) {
const t=Math.PI/180;var n=function(n){return n*t};module.exports=n;
},{}],"Rhf2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./LineTo.js")),t=r(require("../../../utils/math/DegToRad.js"));function r(e){return e&&e.__esModule?e:{default:e}}var u=function(r,u,a,o,s,d,f,i,l){var n,v,c;f&&(d+=360),s=(0,t.default)(s);for(var p=((d=(0,t.default)(d))-s)/i,M=0;M<=i;M++)c=s+p*M,n=r+a*Math.cos(c),v=u+o*Math.sin(c),(0,e.default)(n,v,l);return l},a=u;exports.default=a;
},{"./LineTo.js":"Ozfv","../../../utils/math/DegToRad.js":"YBky"}],"qwm8":[function(require,module,exports) {
var e=Phaser.Renderer.WebGL.Utils,t=function(t,a,l,r,n,g){for(var p=e.getTintAppendFloatAlphaAndSwap(l.fillColor,l.fillAlpha*r),h=l.pathData,i=l.pathIndexes,o=0;o<i.length;o+=3){var f=2*i[o],d=2*i[o+1],s=2*i[o+2],A=h[f+0]-n,c=h[f+1]-g,u=h[d+0]-n,v=h[d+1]-g,x=h[s+0]-n,T=h[s+1]-g,X=a.getX(A,c),Y=a.getY(A,c),b=a.getX(u,v),D=a.getY(u,v),m=a.getX(x,T),w=a.getY(x,T);t.setTexture2D(),t.batchTri(X,Y,b,D,m,w,0,0,1,1,p,p,p,t.tintEffect)}};module.exports=t;
},{}],"iEOh":[function(require,module,exports) {
var e=Phaser.Renderer.WebGL.Utils,t=function(t,a,r,o,l){var n=t.strokeTint,h=e.getTintAppendFloatAlphaAndSwap(a.strokeColor,a.strokeAlpha*r);n.TL=h,n.TR=h,n.BL=h,n.BR=h;var s=a.pathData,i=s.length-1,p=a.lineWidth,d=p/2,v=s[0]-o,T=s[1]-l;a.closePath||(i-=2);for(var c=2;c<i;c+=2){var A=s[c]-o,L=s[c+1]-l;t.setTexture2D(),t.batchLine(v,T,A,L,d,d,p,c-2,!!a.closePath&&c===i-1),v=A,T=L}};module.exports=t;
},{}],"BN8U":[function(require,module,exports) {
var l=require("../../utils/FillPathWebGL"),r=require("../../utils/StrokePathWebGL"),i=function(i,t,e,a,o){var s=this.pipeline,c=s._tempMatrix1,p=s._tempMatrix2,m=s._tempMatrix3;i.setPipeline(s),p.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),c.copyFrom(a.matrix),o?(c.multiplyWithOffset(o,-a.scrollX*t.scrollFactorX,-a.scrollY*t.scrollFactorY),p.e=t.x,p.f=t.y):(p.e-=a.scrollX*t.scrollFactorX,p.f-=a.scrollY*t.scrollFactorY),c.multiply(p,m);var u=t._displayOriginX,y=t._displayOriginY,n=a.alpha*t.alpha;t.isFilled&&l(s,m,t,n,u,y),t.isStroked&&r(s,t,n,u,y)};module.exports=i;
},{"../../utils/FillPathWebGL":"qwm8","../../utils/StrokePathWebGL":"iEOh"}],"BDCR":[function(require,module,exports) {
var e=require("../../utils/FillStyleCanvas"),r=require("../../utils/LineStyleCanvas"),a=Phaser.Renderer.Canvas.SetTransform,i=function(i,t,l,s,n){var o=i.currentContext;if(a(i,o,t,s,n)){var v=t._displayOriginX,u=t._displayOriginY,d=t.pathData,h=d.length-1,f=d[0]-v,c=d[1]-u;o.beginPath(),o.moveTo(f,c),t.closePath||(h-=2);for(var g=2;g<h;g+=2){var p=d[g]-v,y=d[g+1]-u;o.lineTo(p,y)}o.closePath(),t.isFilled&&(e(o,t),o.fill()),t.isStroked&&(r(o,t),o.stroke()),o.restore()}};module.exports=i;
},{"../../utils/FillStyleCanvas":"jn8E","../../utils/LineStyleCanvas":"WRxg"}],"Ufmz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./WebGLRenderer.js")),r=t(require("./CanvasRenderer.js"));function t(e){return e&&e.__esModule?e:{default:e}}var d={renderWebGL:e.default,renderCanvas:r.default};exports.default=d;
},{"./WebGLRenderer.js":"BN8U","./CanvasRenderer.js":"BDCR"}],"SdKO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("./geom/RoundRectangle.js")),e=a(require("../utils/LineTo.js")),i=a(require("../utils/ArcTo.js")),s=a(require("../../../utils/geom/polygon/Earcut.js")),r=a(require("./render/Render.js"));function a(t){return t&&t.__esModule?t:{default:t}}const h=Phaser.Utils.Objects.GetValue;class u extends Phaser.GameObjects.Shape{constructor(e,i,s,r,a,u,d,o){void 0===i&&(i=0),void 0===s&&(s=0);var n=h(u,"iteration",void 0);u=h(u,"radius",u),super(e,"RoundRectangle",new t.default(0,0,r,a,u)),this.setIteration(n),this.setPosition(i,s),void 0!==d&&this.setFillStyle(d,o),this.updateDisplayOrigin(),this.updateData()}updateData(){var t=this.geom,r=this.pathData;r.length=0;var a,h=t.cornerRadius,u=this.iteration+1;if(a=h.br,d(a)){var o=t.width-a.x,n=t.height-a.y;(0,i.default)(o,n,a.x,a.y,0,90,!1,u,r)}else(0,e.default)(t.width,t.height,r);if(a=h.bl,d(a)){o=a.x,n=t.height-a.y;(0,i.default)(o,n,a.x,a.y,90,180,!1,u,r)}else(0,e.default)(0,t.height,r);if(a=h.tl,d(a)){o=a.x,n=a.y;(0,i.default)(o,n,a.x,a.y,180,270,!1,u,r)}else(0,e.default)(0,0,r);if(a=h.tr,d(a)){o=t.width-a.x,n=a.y;(0,i.default)(o,n,a.x,a.y,270,360,!1,u,r)}else(0,e.default)(t.width,0,r);return r.push(r[0],r[1]),this.pathIndexes=(0,s.default)(r),this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}resize(t,e){if(void 0===e&&(e=t),this.geom.width===t&&this.geom.height===e)return this;this.geom.height=e,this.geom.width=t,this.updateDisplayOrigin(),this.updateData();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=t,i.hitArea.height=e),this}get iteration(){return this._iteration}set iteration(t){void 0!==this._iteration?this._iteration!==t&&(this._iteration=t,this.updateData()):this._iteration=t}setIteration(t){return void 0===t&&(t=6),this.iteration=t,this}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.updateData()}setRadius(t){return void 0===t&&(t=0),this.radius=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}}var d=function(t){return 0!==t.x&&0!==t.y};Object.assign(u.prototype,r.default);var o=u;exports.default=o;
},{"./geom/RoundRectangle.js":"Osg6","../utils/LineTo.js":"Ozfv","../utils/ArcTo.js":"Rhf2","../../../utils/geom/polygon/Earcut.js":"k71t","./render/Render.js":"Ufmz"}],"nLrG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/gameobjects/shape/roundrectangle/RoundRectangle.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=e.default;exports.default=r;
},{"../../../plugins/gameobjects/shape/roundrectangle/RoundRectangle.js":"SdKO"}],"DaSm":[function(require,module,exports) {
var t=Phaser.Renderer.WebGL.Utils,a=function(a,i,l,e,h){if(0!==i.width&&0!==i.height){var p=i.frame,r=p.width,n=p.height,s=t.getTintAppendFloatAlpha;this.pipeline.batchTexture(i,p.glTexture,r,n,i.x,i.y,r/i.style.resolution,n/i.style.resolution,i.scaleX,i.scaleY,i.rotation,i.flipX,i.flipY,i.scrollFactorX,i.scrollFactorY,i.displayOriginX,i.displayOriginY,0,0,r,n,s(i._tintTL,e.alpha*i._alphaTL),s(i._tintTR,e.alpha*i._alphaTR),s(i._tintBL,e.alpha*i._alphaBL),s(i._tintBR,e.alpha*i._alphaBR),i._isTinted&&i.tintFill,0,0,e,h)}};module.exports=a;
},{}],"Qe8y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./WebGLRenderer.js")),r=t(require("./CanvasRenderer.js"));function t(e){return e&&e.__esModule?e:{default:e}}var d={renderWebGL:e.default,renderCanvas:r.default};exports.default=d;
},{"./WebGLRenderer.js":"DaSm","./CanvasRenderer.js":"lOKn"}],"NcLA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=Phaser.Display.Canvas.CanvasPool;var t=function(t){var a=e.create(this),n=a.getContext("2d");t.syncFont(a,n);var r=Math.ceil(n.measureText(t.testString).width*t.baselineX),s=r,i=2*s;s=s*t.baselineY|0,a.width=r,a.height=i,n.fillStyle="#f00",n.fillRect(0,0,r,i),n.font=t._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(t.testString,0,s);var f={ascent:0,descent:0,fontSize:0};if(!n.getImageData(0,0,r,i))return f.ascent=s,f.descent=s+6,f.fontSize=f.ascent+f.descent,e.remove(a),f;var o,l,c=n.getImageData(0,0,r,i).data,d=c.length,v=4*r,g=0,h=!1;for(o=0;o<s;o++){for(l=0;l<v;l+=4)if(255!==c[g+l]){h=!0;break}if(h)break;g+=v}for(f.ascent=s-o,g=d-v,h=!1,o=i;o>s;o--){for(l=0;l<v;l+=4)if(255!==c[g+l]){h=!0;break}if(h)break;g-=v}return f.descent=o-s,f.fontSize=f.ascent+f.descent,e.remove(a),f},a=t;exports.default=a;
},{}],"mtXG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,SPLITREGEXP:/(?:\r\n|\r|\n)/},r=e;exports.default=r;
},{}],"H210":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("./MeasureText.js")),e=s(require("../const.js"));function s(t){return t&&t.__esModule?t:{default:t}}const i=Phaser.Utils.Objects.GetAdvancedValue,o=Phaser.Utils.Objects.GetValue;var r={backgroundColor:["backgroundColor",null],fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],underlineColor:["underline.color","#000"],underlineThickness:["underline.thickness",0],underlineOffset:["underline.offset",0],halign:["halign","left"],valign:["valign","top"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],lineSpacing:["lineSpacing",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wrapMode:["wrap.mode",1],wrapWidth:["wrap.width",0]};class n{constructor(e,s){this.parent=e,this.backgroundColor,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.lineSpacing,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(s,!1);var i=o(s,"metrics",!1);this.metrics=i?{ascent:o(i,"ascent",0),descent:o(i,"descent",0),fontSize:o(i,"fontSize",0)}:(0,t.default)(this)}setStyle(t,e){if(void 0===e&&(e=!0),t&&t.hasOwnProperty("wrap")){var s=t.wrap;if(s.hasOwnProperty("mode")){var n=s.mode;"string"==typeof n&&(s.mode=d[n])}else s.hasOwnProperty("width")&&(s.mode=1)}for(var h in t&&t.hasOwnProperty("fontSize")&&"number"==typeof t.fontSize&&(t.fontSize=t.fontSize.toString()+"px"),r)this[h]="wrapCallback"===h||"wrapCallbackScope"===h?o(t,r[h][0],r[h][1]):i(t,r[h][0],r[h][1]);var a=o(t,"font",null);this._font=null===a?this.fontStyle+" "+this.fontSize+" "+this.fontFamily:a;var l=o(t,"fill",null);return null!==l&&(this.color=l),e?this.update(!0):this.parent}syncFont(t,e){e.font=this._font}syncStyle(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"}syncShadow(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(e){return e&&(this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily,this.metrics=(0,t.default)(this)),this.parent.updateText(e)}buildFont(){var t=this.fontStyle+" "+this.fontSize+" "+this.fontFamily;return t!==this._font&&(this._font=t),this}setFont(t){return"string"==typeof t?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=o(t,"fontFamily","Courier"),this.fontSize=o(t,"fontSize","16px"),this.fontStyle=o(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return"number"==typeof t&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(!1)}setResolution(t){return this.resolution=t,this.update(!1)}setLineSpacing(t){return this.lineSpacing=t,this.update(!1)}setBackgroundColor(t){return this.backgroundColor=t,this.update(!1)}setFill(t){return this.color=t,this.update(!1)}setColor(t){return this.color=t,this.update(!1)}setStroke(t,e){return void 0===t?this.strokeThickness=0:(void 0===e&&(e=this.strokeThickness),this.stroke=t,this.strokeThickness=e),this.update(!0)}setShadow(t,e,s,i,o,r){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===s&&(s="#000"),void 0===i&&(i=0),void 0===o&&(o=!1),void 0===r&&(r=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=s,this.shadowBlur=i,this.shadowStroke=o,this.shadowFill=r,this.update(!1)}setShadowOffset(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)}setShadowColor(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)}setShadowBlur(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,e,s){return void 0===t&&(t="#000"),void 0===e&&(e=0),void 0===s&&(s=0),this.underlineColor=t,this.underlineThickness=e,this.underlineOffset=s,this.update(!1)}setUnderlineColor(t){return void 0===t&&(t="#000"),this.underlineColor=t,this.update(!1)}setUnderlineThickness(t){return void 0===t&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return void 0===t&&(t=0),this.underlineOffset=t,this.update(!1)}setWrapMode(t){return"string"==typeof t&&(t=d[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,e){return void 0===t&&(t="left"),void 0===e&&(e="top"),this.halign=t,this.valign=e,this.update(!1)}setHAlign(t){return void 0===t&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return void 0===t&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}get lineHeight(){return this.metrics.fontSize+this.strokeThickness+this.lineSpacing}toJSON(){var t={};for(var e in r)t[e]=this[e];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}}const h={left:e.default.hleft,center:e.default.hcenter,right:e.default.hright},a={top:e.default.vtop,center:e.default.vcenter,bottom:e.default.vbottom},d={none:e.default.NO_WRAP,word:e.default.WORD_WRAP,char:e.default.CHAR_WRAP,character:e.default.CHAR_WRAP};var l=n;exports.default=l;
},{"./MeasureText.js":"NcLA","../const.js":"mtXG"}],"D2cY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={draw(t,e,a,r){var i=this.penManager;this.hitAreaManager.clear();var n=this.context;n.save(),this.drawBackground(this.defatultStyle.backgroundColor);var s=this.defatultStyle;t+=this.startXOffset,e+=this.startYOffset;var h,o,d,l,c,u,g=s.halign,f=s.valign,v=s.lineHeight,w=i.lines,x=w.length,p=s.maxLines;p>0&&x>p?(o=p,d="center"===f?Math.floor((x-o)/2):"bottom"===f?x-o:0):(o=x,d=0),l=d+o,u="center"===f?Math.max((r-o*v)/2,0):"bottom"===f?Math.max(r-o*v-2,0):0,u+=e;for(var y=d;y<l;y++)if(0!==(h=i.getLineWidth(y))){c="center"===g?(a-h)/2:"right"===g?a-h:0,c+=t;for(var M=w[y],m=0,k=M.length;m<k;m++)this.drawPen(M[m],c,u)}n.restore()},drawPen(t,e,a){e+=t.x,a+=t.y;var r=this.canvas,i=this.context;i.save();var n=this.parser.propToContextStyle(this.defatultStyle,t.prop);n.buildFont(),n.syncFont(r,i),n.syncStyle(r,i),n.underlineThickness>0&&t.width>0&&this.drawUnderline(e,a,t.width,n),t.isTextPen&&this.drawText(e,a,t.text,n),t.isImagePen&&this.drawImage(e,a,t.prop.img,n),i.restore(),t.hasAreaMarker&&t.width>0&&this.hitAreaManager.add(t.prop.area,e,a-this.startYOffset,t.width,this.defatultStyle.lineHeight)},clear(){var t=this.canvas;this.context.clearRect(0,0,t.width,t.height)},drawBackground(t){null!==t&&(this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.canvas.height))},drawUnderline(t,e,a,r){e+=r.underlineOffset-r.underlineThickness/2,this.autoRound&&(t=Math.round(t),e=Math.round(e));var i=this.context,n=i.lineCap;i.lineCap="butt",i.beginPath(),i.strokeStyle=r.underlineColor,i.lineWidth=r.underlineThickness,i.moveTo(t,e),i.lineTo(t+a,e),i.stroke(),i.lineCap=n},drawText(t,e,a,r){this.autoRound&&(t=Math.round(t),e=Math.round(e));var i=this.context;r.strokeThickness&&(r.syncShadow(i,r.shadowStroke),i.strokeText(a,t,e)),r.color&&"none"!==r.color&&(r.syncShadow(i,r.shadowFill),i.fillText(a,t,e))},drawImage(t,e,a,r){var i=this.parent.imageManager,n=i.get(a),s=i.getFrame(a);t+=n.left,e+=-this.startYOffset+n.y,this.autoRound&&(t=Math.round(t),e=Math.round(e)),this.context.drawImage(s.source.image,s.cutX,s.cutY,s.cutWidth,s.cutHeight,t,e,n.width,n.height)}};exports.default=t;
},{}],"me2F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class t{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}var s=t;exports.default=s;
},{}],"o0vU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./utils/struct/Stack.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=e.default;exports.default=r;
},{"./utils/struct/Stack.js":"me2F"}],"uMYF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../const.js"));function e(t){return t&&t.__esModule?t:{default:t}}const r=Phaser.Utils.Objects.GetValue,s=t.default.NO_NEWLINE,i=t.default.RAW_NEWLINE;class n{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=r(t,"text",""),this.x=r(t,"x",0),this.y=r(t,"y",0),this.width=r(t,"width",0);var e=r(t,"prop",null);null===e&&(e={}),this.prop=e,this.newLineMode=r(t,"newLineMode",0),this.startIndex=r(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===i&&(t+="\n"),t}get wrapText(){var t=this.text;return this.newLineMode!==s&&(t+="\n"),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===i&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return""!==this.text}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area}}var h=n;exports.default=h;
},{"../const.js":"mtXG"}],"jv1g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){if(Array.isArray(e))e.length=0;else for(var r in e)delete e[r]},r=e;exports.default=r;
},{}],"Vm0P":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./Clear.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=function(r,t){var a=Array.isArray(r);if(void 0===t?t=a?[]:{}:(0,e.default)(t),a){t.length=r.length;for(var u=0,l=r.length;u<l;u++)t[u]=r[u]}else for(var o in r)t[o]=r[o];return t},a=t;exports.default=a;
},{"./Clear.js":"jv1g"}],"FQUj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){},t=e;exports.default=t;
},{}],"gzP8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../../../../pool.js")),t=r(require("./Pen.js")),n=r(require("../const.js")),s=r(require("../../../../utils/object/Clone.js")),i=r(require("../../../../utils/object/NOOP.js"));function r(e){return e&&e.__esModule?e:{default:e}}const h=Phaser.Utils.Objects.GetFastValue,l=n.default.NO_NEWLINE,a=n.default.WRAPPED_NEWLINE;var o=new e.default,d=new e.default;class u{constructor(e){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.PensPool=h(e,"pensPool",o),this.LinesPool=h(e,"linesPool",d),this.tagToText=h(e,"tagToText",i.default),this.tagToTextScope=h(e,"tagToTextScope",void 0)}destroy(){this.freePens(),this.tagToText=void 0,this.tagToTextScope=void 0}freePens(){for(var e=0,t=this.lines.length;e<t;e++)this.lines[e].length=0;this.PensPool.pushMultiple(this.pens),this.LinesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(e,n,s,i,r,h){var l=this.PensPool.pop();return null==l&&(l=new t.default),p.text=e,p.x=n,p.y=s,p.width=i,p.prop=r,p.newLineMode=h,l.resetFromJSON(p),this.addPen(l),this}addImagePen(e,t,n,s){return this.addTextPen("",e,t,n,s,l),this}addNewLinePen(){var e=this.lastPen,t=e?e.lastX:0,n=e?e.y:0,i=e?(0,s.default)(e.prop):null;return this.addTextPen("",t,n,0,i,a),this}addPen(e){var t=this.lastPen;e.startIndex=null==t?0:t.endIndex,this.pens.push(e);var n=this.lastLine;null==n&&(n=this.LinesPool.pop()||[],this.lines.push(n)),n.push(e),e.newLineMode!==l&&(n=this.LinesPool.pop()||[],this.lines.push(n)),this.maxLinesWidth=void 0}clone(e){null==e&&(e=new u),e.freePens();for(var t=0,n=this.lines.length;t<n;t++)for(var i=this.lines[t],r=0,h=i.length;r<h;r++){var l=i[r];e.addPen(l.text,l.x,l.y,l.width,(0,s.default)(l.prop),l.newLineMode)}return e}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(e){if(e>=this.lines.length)return this.getLineEndIndex(e);var t=this.lines[e];return t&&t[0]?t[0].startIndex:0}getLineEndIndex(e){e>=this.lines.length&&(e=this.lines.length-1);var t,n,s=!1;for(t=e;t>=0&&!(s=null!=(n=this.lines[t])&&n.length>0);t--);return s?n[n.length-1].endIndex:0}getLineWidth(e){var t=this.lines[e];if(!t)return 0;var n=t[t.length-1];return null==n?0:n.lastX}getMaxLineWidth(){if(void 0!==this.maxLinesWidth)return this.maxLinesWidth;for(var e,t=0,n=0,s=this.lines.length;n<s;n++)(e=this.getLineWidth(n))>t&&(t=e);return this.maxLinesWidth=t,t}getLineWidths(){for(var e=[],t=0,n=this.lines.length;t<n;t++)e.push(this.getLineWidth(t));return e}get linesCount(){return this.lines.length}get plainText(){for(var e="",t=this.pens,n=0,s=t.length;n<s;n++)e+=t[n].plainText;return e}get rawTextLength(){for(var e=0,t=this.pens,n=0,s=this.pens.length;n<s;n++)e+=t[n].rawTextLength;return e}getSliceTagText(e,t,n){if(void 0===e&&(e=0),void 0===t){var s=this.lastPen;if(null==s)return"";t=s.endIndex}void 0===n&&(n=!1);for(var i,r,h,l,a,o,d="",u=0,p=this.pens.length;u<p&&((l=(i=this.pens[u]).endIndex)<=e||(i=this.pens[u],r=n?i.wrapText:i.plainText,a=i.prop,(h=i.startIndex)>=e&&l<=t||(r=r.substring(e-h,t-h)),this.tagToTextScope?d+=this.tagToText.call(this.tagToTextScope,r,a,o):d+=this.tagToText(r,a,o),o=a,!(l>=t)));u++);return d}}var p={},g=u;exports.default=g;
},{"../../../../pool.js":"o0vU","./Pen.js":"uMYF","../const.js":"mtXG","../../../../utils/object/Clone.js":"Vm0P","../../../../utils/object/NOOP.js":"FQUj"}],"kdbP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../../pool.js"));function t(e){return e&&e.__esModule?e:{default:e}}const r=Phaser.Geom.Rectangle;var s=new e.default;class a{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){return s.pushMultiple(this.hitAreas),this}add(e,t,a,i,n){var o=s.pop();return null===o?o=new r(t,a,i,n):o.setTo(t,a,i,n),o.key=e,this.hitAreas.push(o),this}getFirstHitArea(e,t){for(var r,s=this.hitAreas,a=0,i=s.length;a<i;a++)if((r=s[a]).contains(e,t))return r;return null}drawBounds(e,t,r){void 0===t&&(t=16777215),r&&e.save().scaleCanvas(r.scaleX,r.scaleY).rotateCanvas(r.rotation).translateCanvas(r.x,r.y);for(var s,a=this.hitAreas,i=0,n=a.length;i<n;i++)s=a[i],e.lineStyle(1,t).strokeRect(s.x,s.y,s.width,s.height);return r&&e.restore(),this}}var i=a;exports.default=i;
},{"../../../../pool.js":"o0vU"}],"I7iP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){this.parent.on("pointerdown",function(t,i,n,r){e.call(this,"areadown",t,i,n)},this).on("pointerup",function(t,i,n,r){e.call(this,"areaup",t,i,n)},this)},e=function(t,e,i,n){var r=this.hitAreaManager.getFirstHitArea(i,n);if(null!==r){var a=r.key;this.parent.emit(`${t}-${a}`,e,i,n),this.parent.emit(t,a,e,i,n)}},i=t;exports.default=i;
},{}],"tkeJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("../../../../pool.js")),t=n(require("../const.js"));function n(e){return e&&e.__esModule?e:{default:e}}const u=t.default.NO_NEWLINE,l=t.default.RAW_NEWLINE,r=t.default.WRAPPED_NEWLINE,i=t.default.NO_WRAP,a=t.default.WORD_WRAP,f=t.default.CHAR_WRAP,s=t.default.SPLITREGEXP;var o=[],d=function(e,t,n,f,d){f<=0&&(n=i);var h=o;if(p.pushMultiple(h),!e||!e.length)return h;for(var v,_,w,E=e.split(s),W=0,c=E.length;W<c;W++)if(v=E[W],w=W===c-1?u:l,n!==i){var N,P;if(_=0===W?f-d:f,v.length<=100)if((M=t(v))<=_){h.push(p.newline(v,M,w));continue}for(var R,A="",L="",g=0,x=0,I=(N=n===a?v.split(" "):v).length;x<I;x++)P=N[x],n===a?(A+=P,x<I-1&&(A+=" ")):A+=P,(R=t(A))>_&&(0===x?h.push(p.newline("",0,r)):(h.push(p.newline(L,g,r)),A=P,n===a&&x<I-1&&(A+=" "),R=t(A)),_=f),L=A,g=R;h.push(p.newline(L,g,w))}else{var M=t(v);h.push(p.newline(v,M,w))}return h},p=new e.default;p.newline=function(e,t,n){var u=this.pop();return null===u&&(u={}),u.text=e,u.width=t,u.newLineMode=n,u};var h=d;exports.default=h;
},{"../../../../pool.js":"o0vU","../const.js":"mtXG"}],"jGSd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=h(require("./DrawMethods.js")),t=h(require("../penmanger/PenManager.js")),a=h(require("../hitareamanager/HitAreaManager.js")),n=h(require("./SetInteractive.js")),r=h(require("../const.js")),i=h(require("./WrapText.js")),s=h(require("../../../../utils/object/Clone.js"));function h(e){return e&&e.__esModule?e:{default:e}}const l=Phaser.Utils.Objects.GetValue,g=r.default.NO_WRAP,u=r.default.NO_NEWLINE;class o{constructor(e){this.parent=e.parent,this.context=l(e,"context",null),this.canvas=this.context.canvas,this.parser=l(e,"parser",null),this.defatultStyle=l(e,"style",null),this.autoRound=!0,this.pensPool=l(e,"pensPool",null),this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new a.default;var t=this.context;this.getTextWidth=function(e){return t.measureText(e).width}}destroy(){this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defatultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0)}updatePenManager(e,t,a,n,r){if(void 0===r&&(r=this.penManager),r.freePens(),""===e)return r;for(var h,l,o,d,p,M=this.canvas,c=this.context,f=0,v=0,P=this.parser.splitText(e),x=0,T=P.length;x<T;x++)if(h=(d=this.parser.tagTextToProp(P[x],l)).plainText,(l=d.prop).img){var y=this.imageManager.getOuterWidth(l.img);a>0&&t!==g&&a<f+y&&(r.addNewLinePen(),v+=n,f=0),r.addImagePen(f,v,y,(0,s.default)(l)),f+=y}else if(""!==h){var m;this.context.save(),(o=this.parser.propToContextStyle(this.defatultStyle,l)).buildFont(),o.syncFont(M,c),o.syncStyle(M,c);for(var w=0,S=(p=(0,i.default)(h,this.getTextWidth,t,a,f)).length;w<S;w++)m=p[w],r.addTextPen(m.text,f,v,m.width,(0,s.default)(l),m.newLineMode),m.newLineMode!==u?(f=0,v+=n):f+=m.width;this.context.restore()}return r}get startXOffset(){return this.defatultStyle.strokeThickness/2}get startYOffset(){var e=this.defatultStyle;return e.strokeThickness/2+e.metrics.ascent}get lines(){return this.penManager.lines}get desplayLinesCount(){var e=this.penManager.linesCount,t=this.defatultStyle.maxLines;return t>0&&e>t&&(e=t),e}get linesWidth(){return this.penManager.getMaxLineWidth()}get linesHeight(){var e=this.desplayLinesCount,t=this.defatultStyle.lineHeight*e;return e>0&&(t-=this.defatultStyle.lineSpacing),t}get imageManager(){return this.parent.imageManager}newPenManager(){return new t.default({pensPool:this.pensPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return null===this._tmpPenManager&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(e,t,a){var n;if(null==e)n=this.penManager.plainText;else{var r=this.parser.splitText(e,1);n="";for(var i=0,s=r.length;i<s;i++)n+=r[i]}return null==t&&null==a||(null==t&&(t=0),null==a&&(a=n.length),n=n.substring(t,a)),n}getPenManager(e,t){if(void 0===e)return this.copyPenManager(t,this.penManager);void 0===t&&(t=this.newPenManager());var a=this.defatultStyle;return this.updatePenManager(e,a.wrapMode,a.wrapWidth,a.lineHeight,t),t}getText(e,t,a,n){if(null==e)return this.penManager.getSliceTagText(t,a,n);var r=this.tmpPenManager,i=this.defatultStyle;return this.updatePenManager(e,i.wrapMode,i.wrapWidth,i.lineHeight,r),r.getSliceTagText(t,a,n)}copyPenManager(e,t){return void 0===t&&(t=this.penManager),t.copy(e)}getTextWidth(e){return void 0===e&&(e=this.penManager),e.getMaxLineWidth()}getLastPen(e){return void 0===e&&(e=this.penManager),e.lastPen}}var d={setInteractive:n.default};Object.assign(o.prototype,e.default,d);var p=o;exports.default=p;
},{"./DrawMethods.js":"D2cY","../penmanger/PenManager.js":"gzP8","../hitareamanager/HitAreaManager.js":"kdbP","./SetInteractive.js":"I7iP","../const.js":"mtXG","./WrapText.js":"tkeJ","../../../../utils/object/Clone.js":"Vm0P"}],"W7EB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=Phaser.Utils.Objects.GetValue;class t{constructor(e){this.textureManager=e,this.images={}}add(e,t){if("string"==typeof e)this._add(e,t);else if(Array.isArray(e))for(var r=0,i=(s=e).length;r<i;r++)this._add(s[r]);else{var s=e;for(var e in s)this._add(e,s[e])}return this}_add(t,r){void 0===r&&(r={key:t});var i=r.key,s=r.frame,a=r.width,h=r.height;if(void 0===a||void 0===h){var d=this.textureManager.getFrame(i,s),g=d?d.cutWidth:0,o=d?d.cutHeight:0;void 0===a&&void 0===h?(a=g,h=o):void 0===a?a=g*(h/o):void 0===h&&(h=o*(a/g))}this.images[t]={key:i,frame:s,width:a,height:h,y:e(r,"y",0),left:e(r,"left",0),right:e(r,"right",0)}}remove(e){return this.images.hasOwnProperty(e)&&delete this.images[e],this}get(e){return this.images.hasOwnProperty(e)||this.textureManager.exists(e)&&this.add(e),this.images[e]}getOuterWidth(e){var t=this.get(e);return t?t.width+t.left+t.right:0}getFrame(e){var t=this.get(e);return t?this.textureManager.getFrame(t.key,t.frame):void 0}hasTexture(e){return!!this.getFrame(e)}}var r=t;exports.default=r;
},{}],"GFEB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e,r=t(require("./ImageManager.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t){return void 0===e&&(e=new r.default(t)),e}
},{"./ImageManager.js":"W7EB"}],"alup":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("./render/Render.js")),e=a(require("./textstyle/TextStyle.js")),s=a(require("./canvastext/CanvasText.js")),i=a(require("../../../pool.js")),r=a(require("./const.js")),n=a(require("./imagemanager/GetGlobImageManager.js"));function a(t){return t&&t.__esModule?t:{default:t}}const h=Phaser.DOM.AddToDOM,o=Phaser.Display.Canvas.CanvasPool,l=Phaser.GameObjects.GameObject,d=Phaser.Utils.Objects.GetValue,u=Phaser.DOM.RemoveFromDOM,g=r.default.SPLITREGEXP;var c={};class x extends l{constructor(t,r,n,a,h,l,d){if(void 0===r&&(r=0),void 0===n&&(n=0),super(t,l),this.renderer=t.sys.game.renderer,this.setPosition(r,n),this.setOrigin(0,0),this.initPipeline(),this.canvas=o.create(this),this.context=this.canvas.getContext("2d"),h){if(h.hasOwnProperty("align")){var u=h.align;delete h.align,h.halign=u}h.hasOwnProperty("stroke")&&!h.hasOwnProperty("strokeThickness")&&(h.strokeThickness=1)}this.style=new e.default(this,h),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,0===this.style.resolution&&(this.style.resolution=t.sys.game.config.resolution),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),c.hasOwnProperty(l)||(c[l]=new i.default),this.canvasText=new s.default({parent:this,context:this.context,parser:d,style:this.style,pensPool:c[l]}),h&&h.padding&&this.setPadding(h.padding),this.setText(a),t.sys.game.events.on("contextrestored",function(){this.dirty=!0},this)}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas),this.originX=1)}setText(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this._text&&(this._text=t.toString(),this.updateText()),this}setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setFixedSize(t,e){return this.style.setFixedSize(t,e)}setBackgroundColor(t){return this.style.setBackgroundColor(t)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,e){return this.style.setStroke(t,e)}setShadow(t,e,s,i,r,n){return this.style.setShadow(t,e,s,i,r,n)}setShadowOffset(t,e){return this.style.setShadowOffset(t,e)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setLineSpacing(t){return this.style.setLineSpacing(t)}setPadding(t,e,s,i){if("object"==typeof t){var r=t,n=d(r,"x",null);null!==n?(t=n,s=n):(t=d(r,"left",0),s=d(r,"right",t));var a=d(r,"y",null);null!==a?(e=a,i=a):(e=d(r,"top",0),i=d(r,"bottom",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===s&&(s=t),void 0===i&&(i=e);return this.padding.left=t,this.padding.top=e,this.padding.right=s,this.padding.bottom=i,this.updateText(!1)}setResolution(t){return this.style.setResolution(t)}setMaxLines(t){return this.style.setMaxLines(t)}updateText(t){void 0===t&&(t=!0);var e=this.canvasText,s=this.style;t&&e.updatePenManager(this._text,s.wrapMode,s.wrapWidth,s.lineHeight);var i,r,n=this.padding;0===s.fixedWidth?(this.width=e.linesWidth+n.left+n.right,i=e.linesWidth):(this.width=s.fixedWidth,(i=this.width-n.left-n.right)<e.linesWidth&&(i=e.linesWidth)),0===s.fixedHeight?(this.height=e.linesHeight+n.top+n.bottom,r=e.linesHeight):(this.height=s.fixedHeight,(r=this.height-n.top-n.bottom)<e.linesHeight&&(r=e.linesHeight));var a=this.width,h=this.height;this.updateDisplayOrigin();var o=s.resolution;a*=o,h*=o,a=Math.max(Math.ceil(a),1),h=Math.max(Math.ceil(h),1);var l=this.canvas,d=this.context;l.width!==a||l.height!==h?(l.width=a,l.height=h,this.frame.setSize(a,h)):d.clearRect(0,0,a,h),d.save(),d.scale(o,o),e.draw(n.left,n.top,i,r),d.restore(),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(l,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this}getTextMetrics(){return this.style.getTextMetrics()}toJSON(){var t=p.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t}preDestroy(){this.style.rtl&&u(this.canvas),o.remove(this.canvas),this.canvasText.destroy()}setInteractive(t,e,s){return l.prototype.setInteractive.call(this,t,e,s),this.canvasText.setInteractive(),this}getWrappedText(t,e,s){return(t=this.canvasText.getText(t,e,s,!0)).split(g)}getPlainText(t,e,s){return this.canvasText.getPlainText(t,e,s)}getText(t,e,s){return this.canvasText.getText(t,e,s,!1)}getSubString(t,e,s){return this.getText(t,e,s)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,e){return this.canvasText.getPenManager(t,e)}setSize(t,e){return this.setFixedSize(t,e)}resize(t,e){return this.setFixedSize(t,e)}set lineSpacing(t){this.setLineSpacing(t)}get lineSpacing(){return this.style.lineSpacing}get imageManager(){return(0,n.default)(this.scene.textures)}addImage(t,e){return this.imageManager.add(t,e),this}drawAreaBounds(t,e){return this.canvasText.hitAreaManager.drawBounds(t,e,this),this}}const p=Phaser.GameObjects.Components;Phaser.Class.mixin(x,[p.Alpha,p.BlendMode,p.ComputedSize,p.Crop,p.Depth,p.Flip,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.ScrollFactor,p.Tint,p.Transform,p.Visible,t.default]);var y=x;exports.default=y;
},{"./render/Render.js":"Qe8y","./textstyle/TextStyle.js":"H210","./canvastext/CanvasText.js":"jGSd","../../../pool.js":"o0vU","./const.js":"mtXG","./imagemanager/GetGlobImageManager.js":"GFEB"}],"QxMz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../textbase/textstyle/TextStyle.js"));function t(e){return e&&e.__esModule?e:{default:e}}var s={plainText:null,prevProp:null},o=new e.default,r={},i={splitText:function(e,t){for(var s,o,r=[],i=0,a=e.length,n=a;s=l.exec(e);)o=s[0],i<(n=l.lastIndex-o.length)&&r.push(e.substring(i,n)),void 0===t&&r.push(o),i=l.lastIndex;return i<a&&r.push(e.substring(i,a)),r},tagTextToProp:function(e,t){var o,r;null==t&&(t={}),t.img&&a(t,F,"img"),d.test(e)?(a(t,B,"b",!0),o=""):u.test(e)?(a(t,F,"b"),o=""):h.test(e)?(a(t,B,"i",!0),o=""):f.test(e)?(a(t,F,"i"),o=""):c.test(e)?(r=e.match(c),a(t,B,"size",r[1]+"px"),o=""):w.test(e)?(a(t,F,"size"),o=""):k.test(e)?(r=e.match(k),a(t,B,"color",r[1]),o=""):p.test(e)?(a(t,F,"color"),o=""):m.test(e)?(r=e.match(m),a(t,B,"u",!0),o=""):O.test(e)?(r=e.match(O),a(t,B,"u",r[1]),o=""):g.test(e)?(a(t,F,"u"),o=""):b.test(e)?(a(t,B,"shadow",!0),o=""):y.test(e)?(a(t,F,"shadow"),o=""):T.test(e)?(a(t,B,"stroke",!0),o=""):z.test(e)?(r=e.match(z),a(t,B,"stroke",r[1]),o=""):x.test(e)?(a(t,F,"stroke"),o=""):v.test(e)?(r=e.match(v),a(t,B,"img",r[1]),o=""):P.test(e)?(a(t,F,"img"),o=""):S.test(e)?(r=e.match(S),a(t,B,"area",r[1]),o=""):C.test(e)?(a(t,F,"area"),o=""):o=e;var i=s;return i.plainText=o,i.prop=t,i},propToContextStyle:function(e,t){var s=o;if(t.hasOwnProperty("img"))s.image=t.img;else{if(s.image=null,t.hasOwnProperty("family")?s.fontFamily=t.family:s.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var r=t.size;"number"==typeof r&&(r=r.toString()+"px"),s.fontSize=r}else s.fontSize=e.fontSize;s.fontStyle=n(t.b,t.i),t.hasOwnProperty("color")?s.color=t.color:s.color=e.color,t.hasOwnProperty("stroke")?!0===t.stroke?(s.stroke=e.stroke,s.strokeThickness=e.strokeThickness):(s.stroke=t.stroke,s.strokeThickness=e.strokeThickness):(s.stroke=e.stroke,s.strokeThickness=0)}return t.hasOwnProperty("shadow")?!0===t.shadow?(s.shadowColor=e.shadowColor,s.shadowOffsetX=e.shadowOffsetX,s.shadowOffsetY=e.shadowOffsetY,s.shadowBlur=e.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0):(s.shadowColor=t.shadow,s.shadowOffsetX=e.shadowOffsetX,s.shadowOffsetY=e.shadowOffsetY,s.shadowBlur=e.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0):(s.shadowColor="#000",s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=0,s.shadowStroke=!1,s.shadowFill=!1),t.hasOwnProperty("u")?!0===t.u?(s.underlineColor=e.underlineColor,s.underlineThickness=e.underlineThickness,s.underlineOffset=e.underlineOffset):(s.underlineColor=t.u,s.underlineThickness=e.underlineThickness,s.underlineOffset=e.underlineOffset):(s.underlineColor="#000",s.underlineThickness=0,s.underlineOffset=0),s},propToTagText:function(e,t,s){for(var o in null==s&&(s=r),s)t.hasOwnProperty(o)||(e="[/"+o+"]"+e);var i="";for(var o in t)s[o]!==t[o]&&("size"===o?i+="[size="+t[o].replace("px","")+"]":"color"===o||"stroke"===o||"img"===o?i+="["+o+"="+t[o]+"]":"u"===o?!0===t[o]?i+="[u]":i+="[u="+t[o]+"]":i+="["+o+"]");return e=i+e}},a=function(e,t,s,o){return t===B?e[s]=o:e.hasOwnProperty(s)&&delete e[s],e},n=function(e,t){return e&&t?"bold italic":e?"bold":t?"italic":""},l=/\[b\]|\[\/b\]|\[i\]|\[\/i\]|\[size=(\d+)\]|\[\/size\]|\[color=([a-z]+|#[0-9abcdef]+)\]|\[\/color\]|\[u\]|\[u=([a-z]+|#[0-9abcdef]+)\]|\[\/u\]|\[shadow\]|\[\/shadow\]|\[stroke\]|\[stroke=([a-z]+|#[0-9abcdef]+)\]|\[\/stroke\]|\[img=([^\]]+)\]|\[\/img\]|\[area=([^\]]+)\]|\[\/area\]/gi,d=/\[b\]/i,u=/\[\/b\]/i,h=/\[i\]/i,f=/\[\/i\]/i,c=/\[size=(\d+)\]/i,w=/\[\/size\]/i,k=/\[color=([a-z]+|#[0-9abcdef]+)\]/i,p=/\[\/color\]/i,m=/\[u\]/i,O=/\[u=([a-z]+|#[0-9abcdef]+)\]/i,g=/\[\/u\]/i,b=/\[shadow\]/i,y=/\[\/shadow\]/i,T=/\[stroke\]/i,z=/\[stroke=([a-z]+|#[0-9abcdef]+)\]/i,x=/\[\/stroke\]/i,v=/\[img=([^\]]+)\]/i,P=/\[\/img\]/i,S=/\[area=([^\]]+)\]/i,C=/\[\/area\]/i;const F=!1,B=!0;var X=i;exports.default=X;
},{"../textbase/textstyle/TextStyle.js":"H210"}],"aun9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../textbase/Text.js")),t=r(require("./Parser.js"));function r(e){return e&&e.__esModule?e:{default:e}}class s extends e.default{constructor(e,r,s,u,a){super(e,r,s,u,a,"rexBBCodeText",t.default)}}var u=s;exports.default=u;
},{"../textbase/Text.js":"alup","./Parser.js":"QxMz"}],"fqCE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/gameobjects/text/bbocdetext/BBCodeText.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=e.default;exports.default=r;
},{"../../../plugins/gameobjects/text/bbocdetext/BBCodeText.js":"aun9"}],"Nsg4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../textbase/textstyle/TextStyle.js"));function s(e){return e&&e.__esModule?e:{default:e}}var t={plainText:null,prevProp:null},r=new e.default,o=[];class n{constructor(e){void 0===e&&(e={}),this.tags=e}addTag(e,s){this.tags[e]=s}splitText(e,s){for(var t,r,o,n=[],l=0,a=e.length,u=a;t=i.exec(e);)r=t[0],l<(u=i.lastIndex-r.length)&&n.push(e.substring(l,u)),void 0===s?n.push(r):1===s&&(h.test(r)?(o=r.match(f),n.push(o[2])):p.test(r)&&(o=r.match(y),n.push(o[2]))),l=i.lastIndex;return l<a&&n.push(e.substring(l,a)),n}tagTextToProp(e,s){var r,o;if(h.test(e)){if(null!=(i=e.match(f))){var n=i[1],a=this.tags;(o=a.hasOwnProperty(n)?a[n]:{})._class=n,r=i[2]}}else if(p.test(e)){var i;if(null!=(i=e.match(y))){var u=i[1];(o=l(u))._style=u,r=i[2]}}null==r&&(r=e),null==o&&(o={});var w=t;return w.plainText=r,w.prop=o,w}propToContextStyle(e,s){var t=r;if(s.hasOwnProperty("img"))t.image=s.img;else{if(t.image=null,s.hasOwnProperty("family")||s.hasOwnProperty("fontFamily")||s.hasOwnProperty("font-family")){var o=s.hasOwnProperty("family")?s.family:s.hasOwnProperty("fontFamily")?s.fontFamily:s["font-family"];t.fontFamily=o}else t.fontFamily=e.fontFamily;if(s.hasOwnProperty("size")||s.hasOwnProperty("fontSize")||s.hasOwnProperty("font-size")){var n=s.hasOwnProperty("size")?s.size:s.hasOwnProperty("fontSize")?s.fontSize:s["font-size"];"number"==typeof n&&(n=n.toString()+"px"),t.fontSize=n}else t.fontSize=e.fontSize;if(s.hasOwnProperty("style")||s.hasOwnProperty("fontStyle")||s.hasOwnProperty("font-style")){var l=s.hasOwnProperty("style")?s.style:s.hasOwnProperty("fontStyle")?s.fontStyle:s["font-style"];t.fontStyle=l}else t.fontStyle=e.fontStyle;if(s.hasOwnProperty("color")||s.hasOwnProperty("font-color")){var a=s.hasOwnProperty("color")?s.color:s["font-color"];t.color=a}else t.color=e.color;if(s.hasOwnProperty("stroke")){var i=s.stroke;t.stroke=i.hasOwnProperty("color")?i.color:e.stroke,t.strokeThickness=i.hasOwnProperty("thinkness")?i.thinkness:e.strokeThickness}else t.stroke=e.stroke,t.strokeThickness=e.strokeThickness}if(s.hasOwnProperty("shadow")){var h=s.shadow;t.shadowColor=h.hasOwnProperty("color")?h.color:e.shadowColor,t.shadowOffsetX=h.hasOwnProperty("offsetX")?h.offsetX:e.shadowOffsetX,t.shadowOffsetY=h.hasOwnProperty("offsetY")?h.offsetY:e.shadowOffsetY,t.shadowBlur=h.hasOwnProperty("blur")?h.blur:e.shadowBlur,t.shadowStroke=!0,t.shadowFill=!0}else t.shadowColor=e.shadowColor,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY,t.shadowBlur=e.shadowBlur,t.shadowStroke=e.shadowStroke,t.shadowFill=e.shadowFill;if(s.hasOwnProperty("u")||s.hasOwnProperty("underline")){var f=s.hasOwnProperty("u")?s.u:s.underline;t.underlineColor=f.hasOwnProperty("color")?f.color:e.underlineColor,t.underlineThickness=f.hasOwnProperty("thinkness")?f.thinkness:e.underlineThickness,t.underlineOffset=f.hasOwnProperty("offset")?f.offset:e.underlineOffset}else t.underlineColor=e.underlineColor,t.underlineThickness=e.underlineThickness,t.underlineOffset=e.underlineOffset;return t}propToTagText(e,s,t){return s.hasOwnProperty("_class")?""===e&&this.isTextTag(s._class)?"":"<class='"+s._class+"'>"+e+"</class>":s.hasOwnProperty("_style")?"<style='"+s._style+"'>"+e+"</style>":void 0}destroy(){this.tags=void 0}isTextTag(e){var s=this.tags[e];return!!s&&null==s.img}}var l=function(e){for(var s,t,r,o={},n=0,l=(e=e.split(";")).length;n<l;n++)if(t=(s=e[n].split(":"))[0],r=s[1],!a(t)&&!a(r)){switch(t){case"stroke":var i=r.split(" ");r={},(f=i.length)>=1&&(r.color=i[0]),f>=2&&(r.thinkness=parseInt(i[1].replace("px","")));break;case"shadow":var h=r.split(" ");r={},(f=h.length)>=1&&(r.color=h[0]),f>=2&&(r.offsetX=parseInt(h[1].replace("px",""))),f>=3&&(r.offsetY=parseInt(h[2].replace("px",""))),f>=4&&(r.blur=parseInt(h[3].replace("px","")));break;case"u":case"underline":var f,p=r.split(" ");r={},(f=p.length)>=1&&(r.color=p[0]),f>=2&&(r.thinkness=parseInt(p[1].replace("px",""))),f>=3&&(r.offset=parseInt(p[2].replace("px","")))}o[t]=r}return o},a=function(e){return 0===(e=e.replace(u,"")).length},i=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,h=/<\s*class=/i,f=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,p=/<\s*style=/i,y=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,u=/^\s+|\s+$/,w=n;exports.default=w;
},{"../textbase/textstyle/TextStyle.js":"H210"}],"YlMz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../textbase/Text.js")),r=t(require("./Parser.js"));function t(e){return e&&e.__esModule?e:{default:e}}const s=Phaser.Utils.Objects.GetValue;class a extends e.default{constructor(e,t,a,d,u){var i=s(u,"tags",void 0),o=new r.default(i);super(e,t,a,d,u,"rexTagText",o),this.parser=o}addTag(e,r){return this.parser.addTag(e,r),this.updateText(!0)}addTags(e){for(var r in e)this.parser.addTag(r,e[r]);return this.updateText(!0)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}var d=a;exports.default=d;
},{"../textbase/Text.js":"alup","./Parser.js":"Nsg4"}],"jXbs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/gameobjects/text/tagtext/TagText.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=e.default;exports.default=r;
},{"../../../plugins/gameobjects/text/tagtext/TagText.js":"YlMz"}],"Nvxp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=Phaser.GameObjects.Zone,s=Phaser.Utils.Array.Add,t=Phaser.Utils.Array.Remove;class r extends e{constructor(e,s,t,r,i){void 0===r&&(r=1),void 0===i&&(i=1),super(e,s,t,r,i),this.children=[]}destroy(e){this.scene&&(this.clear(!e),super.destroy(e))}contains(e){return-1!==this.children.indexOf(e)}add(e){return s(this.children,e,0,function(e){e.on("destroy",this.remove,this)},this),this}remove(e,s){return t(this.children,e,function(e){e.off("destroy",this.remove,this),s&&e.destroy()}),this}clear(e){for(var s,t=0,r=this.children.length;t<r;t++)(s=this.children[t]).off("destroy",this.remove,this),e&&s.destroy();return this.children.length=0,this}}const i=Phaser.GameObjects.Components;Phaser.Class.mixin(r,[i.Alpha,i.Flip]);var h=r;exports.default=h;
},{}],"ogQf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GetTopmostParent=exports.GetParent=void 0;var e=function(e){var r;return e.hasOwnProperty("rexContainer")&&(r=e.rexContainer.parent),r};exports.GetParent=e;var r=function(r){for(var t=e(r);t;)r=t,t=e(t);return r};exports.GetTopmostParent=r;
},{}],"fnn1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./GetParent.js"),t={setParent(e,t){void 0===t&&(t=this);var r=this.getLocalState(e);return t?(r.parent=t,r.self=e):(r.parent=null,r.self=null),this},getParent(t){return void 0===t&&(t=this),(0,e.GetParent)(t)},getTopmostParent(t){return void 0===t&&(t=this),(0,e.GetTopmostParent)(t)}};exports.default=t;
},{"./GetParent.js":"ogQf"}],"pNw2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Base.js"));function e(t){return t&&t.__esModule?t:{default:t}}const r=t.default.prototype.add;var a=function(t){return this.setParent(t),this.resetChildState(t).updateChildVisible(t).updateChildActive(t).updateChildScrollFactor(t).updateChildMask(t),r.call(this,t),this},i={add(t){return Array.isArray(t)?this.addMultiple(t):a.call(this,t),this},addMultiple(t){for(var e=0,r=t.length;e<r;e++)a.call(this,t[e]);return this}};exports.default=i;
},{"./Base.js":"Nvxp"}],"r8Xm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./Base.js"));function t(e){return e&&e.__esModule?e:{default:e}}const r=e.default.prototype.remove,s=e.default.prototype.clear;var l={remove(e,t){return this.getParent(e)!==this?this:(this.setParent(e,null),r.call(this,e,t),this)},clear(e){for(var t=0,r=this.children.length;t<r;t++)this.setParent(this.children[t],null);return s.call(this,e),this}};exports.default=l;
},{"./Base.js":"Nvxp"}],"RTag":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={getLocalState:e=>(e.hasOwnProperty("rexContainer")||(e.rexContainer={}),e.rexContainer),resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,r=e.length;t<r;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}};exports.default=e;
},{}],"cBFy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=Phaser.Math.RotateAround;var s={worldToLocal(s){return s.x-=this.x,s.y-=this.y,t(s,0,0,-this.rotation),s.x/=this.scaleX,s.y/=this.scaleY,s.x*=this.flipX?-1:1,s.y*=this.flipY?-1:1,s},localToWorld(s){return s.x*=this.flipX?-1:1,s.y*=this.flipY?-1:1,s.x*=this.scaleX,s.y*=this.scaleY,t(s,0,0,this.rotation),s.x+=this.x,s.y+=this.y,s}};exports.default=s;
},{}],"pD2v":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t){return e===t?1:e/t},t=e;exports.default=t;
},{}],"TJKg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./Scale.js"));function i(t){return t&&t.__esModule?t:{default:t}}var e={updateChildPosition(t){t.isRexContainerLite&&(t.syncChildrenEnable=!1);var i=this.getLocalState(t);return t.x=i.x,t.y=i.y,this.localToWorld(t),t.scaleX=i.scaleX*this.scaleX,t.scaleY=i.scaleY*this.scaleY,void 0!==t.flipX&&(t.flipX=this.flipX?!i.flipX:i.flipX,t.flipY=this.flipY?!i.flipY:i.flipY),t.rotation=i.rotation+this.rotation,t.isRexContainerLite&&(t.syncChildrenEnable=!0,t.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(i){var e=this.getLocalState(i);return e.x=i.x,e.y=i.y,this.worldToLocal(e),e.scaleX=(0,t.default)(i.scaleX,this.scaleX),e.scaleY=(0,t.default)(i.scaleY,this.scaleY),void 0!==i.flipX&&(e.flipX=i.flipX,e.flipY=i.flipY),e.rotation=i.rotation-this.rotation,this},setChildPosition(t,i,e){return t.x=i,t.y=e,this.resetChildPositionState(t),this},setChildLocalPosition(t,i,e){var s=this.getLocalState(t);return s.x=i,s.y=e,this.updateChildPosition(t),this}};exports.default=e;
},{"./Scale.js":"pD2v"}],"ypwL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i={updateChildVisible(i){return i.visible=this.visible&&this.getLocalState(i).visible,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(i){return this.getLocalState(i).visible=i.visible,this},setChildVisible(i,e){return i.visible=e,this.resetChildVisibleState(i),this},setChildLocalVisible(i,e){return void 0===e&&(e=!0),this.getLocalState(i).visible=e,this.updateChildVisible(i),this}};exports.default=i;
},{}],"qw8R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("./Scale.js"));function a(t){return t&&t.__esModule?t:{default:t}}var e={updateChildAlpha(t){return t.alpha=this.alpha*this.getLocalState(t).alpha,this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(a){return this.getLocalState(a).alpha=(0,t.default)(a.alpha,this.alpha),this},setChildAlpha(t,a){return t.alpha=a,this.resetChildAlphaState(t),this._add},setChildLocalAlpha(t,a){return this.getLocalState(t).alpha=a,this.updateChildAlpha(t),this}};exports.default=e;
},{"./Scale.js":"pD2v"}],"jVv4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={updateChildActive(t){return t.active=this.active&&this.getLocalState(t).active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(t){return this.getLocalState(t).active=t.active,this},setChildActive(t,e){return t.active=e,this.resetChildActiveState(t),this},setChildLocalActive(t,e){return void 0===e&&(e=!0),this.getLocalState(t).active=e,this.updateChildActive(t),this}};exports.default=t;
},{}],"Nb0Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={updateChildScrollFactor(t){return t.setScrollFactor(this.scrollFactorX,this.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}};exports.default=t;
},{}],"tQ0N":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s={updateChildMask(s){return null==this.mask?this:((this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask)!==s&&(s.mask=this.mask),this)},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(s){return this.mask=s,this},clearMask(s){return void 0===s&&(s=!1),s&&this.mask&&this.mask.destroy(),this.mask=null,this}};exports.default=s;
},{}],"l6nJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={setDepth(t,e){if(this.depth=t,!e&&this.children)for(var h=this.getAllChildren(),r=0,i=h.length;r<i;r++)h[r].depth=t;return this},swapDepth(t){var e=this.depth,h=t.depth;return this.setDepth(h),t.setDepth(e),this},incDepth(t){if(this.depth+=t,this.children)for(var e=this.getAllChildren(),h=0,r=e.length;h<r;h++)e[h].depth+=t;return this}};exports.default=t;
},{}],"w9rZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=Phaser.Utils.Array;var t={getChildren(){return this.children},getAllChildren(e){void 0===e&&(e=[]);for(var t,r=this.children,i=0,n=r.length;i<n;i++)t=r[i],e.push(t),t.hasOwnProperty("isRexContainerLite")&&e.push(...t.getAllChildren());return e},contains(e){var t=this.getParent(e);return!!t&&(t===this||this.contains(t))},getByName(t,r){if(r){for(var i,n,h=[this];h.length;)for(var l=0,s=(i=h.shift()).children.length;l<s;l++){if((n=i.children[l]).name===t)return n;n.isRexContainerLite&&h.push(n)}return null}return e.GetFirst(this.children,"name",t)},getRandom(t,r){return e.GetRandom(this.children,t,r)},getFirst(t,r,i,n){return e.GetFirstElement(this.children,t,r,i,n)},getAll(t,r,i,n){return e.GetAll(this.children,t,r,i,n)},count(t,r,i,n){return e.CountAllMatching(this.children,t,r,i,n)},swap(t,r){return e.Swap(this.children,t,r),this},moveTo(t,r){return e.MoveTo(this.children,t,r),this},setAll(t,r,i,n){return e.SetAll(this.children,t,r,i,n),this}};exports.default=t;
},{}],"leAG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t=e;exports.default=t;
},{}],"wAdE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../utils/object/IsArray.js"));function t(e){return e&&e.__esModule?e:{default:e}}var a={tweenChild(t){var a=t.targets;(0,e.default)(a)||(a=[a]);for(var r,s,n=[],i=0,l=a.length;i<l;i++)(s=a[i]).hasOwnProperty("rexContainer")&&(r=s.scene,n.push(s.rexContainer));if(r){t.targets=n;var o=r.tweens.add(t);return o.on("update",function(e,t,a){for(var r,s,n=0,i=a.length;n<i;n++)switch(r=a.parent,s=a.self,t){case"x":case"y":case"angle":case"rotation":case"scaleX":case"scaleY":case"flipX":case"flipY":r.updateChildPosition(s);break;case"alpha":r.updateChildAlpha(s)}}),o}},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}};exports.default=a;
},{"../../utils/object/IsArray.js":"leAG"}],"Kr6G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("./Parent.js")),r=c(require("./AddChild.js")),u=c(require("./RemoveChild.js")),t=c(require("./ChildState.js")),a=c(require("./Transform.js")),i=c(require("./Position.js")),l=c(require("./Visible.js")),d=c(require("./Alpha.js")),s=c(require("./Active.js")),f=c(require("./ScrollFactor.js")),j=c(require("./Mask.js")),o=c(require("./Depth.js")),q=c(require("./Children.js")),n=c(require("./Tween.js"));function c(e){return e&&e.__esModule?e:{default:e}}var v={};Object.assign(v,e.default,r.default,u.default,t.default,a.default,i.default,l.default,d.default,s.default,f.default,j.default,o.default,q.default,n.default);var h=v;exports.default=h;
},{"./Parent.js":"fnn1","./AddChild.js":"pNw2","./RemoveChild.js":"r8Xm","./ChildState.js":"RTag","./Transform.js":"cBFy","./Position.js":"TJKg","./Visible.js":"ypwL","./Alpha.js":"qw8R","./Active.js":"jVv4","./ScrollFactor.js":"Nb0Y","./Mask.js":"tQ0N","./Depth.js":"l6nJ","./Children.js":"w9rZ","./Tween.js":"wAdE"}],"Spz8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=e(require("./Base.js")),t=e(require("./Methods.js"));function e(s){return s&&s.__esModule?s:{default:s}}class i extends s.default{constructor(s,t,e,i,r,l){super(s,t,e,i,r),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,l&&this.add(l)}destroy(s){this.scene&&(this.syncChildrenEnable=!1,super.destroy(s))}resize(s,t){return this.setSize(s,t),this}get x(){return this._x}set x(s){this._x!==s&&(this._x=s,this.syncPosition())}get y(){return this._y}set y(s){this._y!==s&&(this._y=s,this.syncPosition())}get rotation(){return super.rotation}set rotation(s){this.rotation!==s&&(super.rotation=s,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(s){this.scaleX!==s&&(super.scaleX=s,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(s){this.scaleY!==s&&(super.scaleY=s,this.syncPosition())}get flipX(){return super.flipX}set flipX(s){super.flipX!==s&&(super.flipX=s,this.syncPosition())}get flipY(){return super.flipY}set flipY(s){super.flipY!==s&&(super.flipY=s,this.syncPosition())}get visible(){return super.visible}set visible(s){super.visible!==s&&(super.visible=s,this.syncVisible())}get alpha(){return super.alpha}set alpha(s){super.alpha!==s&&(super.alpha=s,this.syncAlpha())}get active(){return this._active}set active(s){this._active!==s&&(this._active=s,this.syncActive())}get mask(){return this._mask}set mask(s){this._mask!==s&&(this._mask=s,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(s){this._scrollFactorX!==s&&(this._scrollFactorX=s,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(s){this._scrollFactorY!==s&&(this._scrollFactorY=s,this.syncScrollFactor())}get list(){return this.children}}Object.assign(i.prototype,t.default);var r=i;exports.default=r;
},{"./Base.js":"Nvxp","./Methods.js":"Kr6G"}],"maWZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/gameobjects/containerlite/ContainerLite.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=e.default;exports.default=r;
},{"../../../plugins/gameobjects/containerlite/ContainerLite.js":"Spz8"}],"g2HM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=Phaser.Renderer.WebGL.Utils;var e=function(e,i,a,l,r){if(i.dirty&&(i.updateTexture(),i.dirty=!1),0!==i.width&&0!==i.height){var p=i.frame,n=p.width,o=p.height,s=t.getTintAppendFloatAlpha;this.pipeline.batchTexture(i,p.glTexture,n,o,i.x,i.y,n/i.resolution,o/i.resolution,i.scaleX,i.scaleY,i.rotation,i.flipX,i.flipY,i.scrollFactorX,i.scrollFactorY,i.displayOriginX,i.displayOriginY,0,0,n,o,s(i._tintTL,l.alpha*i._alphaTL),s(i._tintTR,l.alpha*i._alphaTR),s(i._tintBL,l.alpha*i._alphaBL),s(i._tintBR,l.alpha*i._alphaBR),i._isTinted&&i.tintFill,0,0,l,r)}},i=e;exports.default=i;
},{}],"ykyc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t,r,i,o){0!==t.width&&0!==t.height&&e.batchSprite(t,t.frame,i,o)},t=e;exports.default=t;
},{}],"i5fw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./WebGLRenderer.js")),r=t(require("./CanvasRenderer.js"));function t(e){return e&&e.__esModule?e:{default:e}}var d={renderWebGL:e.default,renderCanvas:r.default};exports.default=d;
},{"./WebGLRenderer.js":"g2HM","./CanvasRenderer.js":"ykyc"}],"DsG9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=Phaser.Display.Color;var e={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(t){return this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},loadFromURL(t,e){var a=this,i=new Image;return i.onload=function(){a.width!==i.width||a.height!==i.height?a.resize(i.width,i.height):a.clear(),a.context.drawImage(i,0,0),a.updateTexture(),e&&e(),i.onload=null,i.src="",i.remove()},i.src=t,this},loadFromURLPromise(t){var e=this;return new Promise(function(a,i){e.loadFromURL(t,a)})},getDataURL(t,e){return this.canvas.toDataURL(t,e)},getPixel(e,a,i){void 0===i&&(i=new t);var r=this.context.getImageData(e,a,1,1);return i.setTo(r.data[0],r.data[1],r.data[2],r.data[3]),i},setPixel(t,e,a,i,r,s){if("number"!=typeof a){var h=a;a=h.red,i=h.green,r=h.blue,s=h.alpha}void 0===s&&(s=0!==a||0!==i||0!==r?255:0);var o=this.context.createImageData(1,1);return o.data[0]=a,o.data[1]=i,o.data[2]=r,o.data[3]=s,this.context.putImageData(o,t,e),this.dirty=!0,this}};exports.default=e;
},{}],"yf19":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={updateTexture(t,e){t&&(e?t.call(e,this.canvas,this.context):t(this.canvas,this.context)),this.canvas.width===this.frame.width&&this.canvas.height===this.frame.height||this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!1;var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},generateTexture(t,e,i,s,h){var r,a=this.canvas,u=this.scene.sys,c=u.game.renderer;void 0===e&&(e=0),void 0===i&&(i=0),void 0===s?s=a.width:s*=this.resolution,void 0===h?h=a.height:h*=this.resolution;var d=(r=u.textures.exists(t)?u.textures.get(t):u.textures.createCanvas(t,s,h)).getSourceImage();d.width!==s&&(d.width=s),d.height!==h&&(d.height=h);var g=d.getContext("2d");return g.clearRect(0,0,s,h),g.drawImage(a,e,i,s,h),c.gl&&r&&c.canvasToTexture(d,r.source[0].glTexture,!0,0),this},loadTexture(t,e){var i=this.scene.textures.getFrame(t,e);return i?(this.width!==i.cutWidth||this.height!==i.cutHeight?this.resize(i.cutWidth,i.cutHeight):this.clear(),this.context.drawImage(i.source.image,i.cutX,i.cutY,i.cutWidth,i.cutHeight,0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this):this}};exports.default=t;
},{}],"tJci":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./render/Render.js")),t=i(require("./CanvasMethods.js")),s=i(require("./TextureMethods.js"));function i(e){return e&&e.__esModule?e:{default:e}}const r=Phaser.Display.Canvas.CanvasPool,a=Phaser.GameObjects.GameObject;class n extends a{constructor(e,t,s,i,a){void 0===t&&(t=0),void 0===s&&(s=0),void 0===i&&(i=1),void 0===a&&(a=1),super(e,"rexCanvas"),this.renderer=e.sys.game.renderer,this.resolution=e.sys.game.config.resolution,this.canvas=r.create(this,this.resolution*i,this.resolution*a),this.context=this.canvas.getContext("2d"),this.dirty=!1,this.setPosition(t,s),this.setSize(i,a),this.setOrigin(.5,.5),this.initPipeline(),this._crop=this.resetCropObject(),this.texture=e.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0,e.sys.game.events.on("contextrestored",function(){this.dirty=!0},this)}getCanvas(e){return e||(this.dirty=!0),this.canvas}getContext(e){return e||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}preDestroy(){r.remove(this.canvas)}resize(e,t){return this.width===e&&this.height===t?this:(this.setSize(e,t).updateDisplayOrigin(),e*=this.resolution,t*=this.resolution,e=Math.max(Math.ceil(e),1),t=Math.max(Math.ceil(t),1),this.canvas.width=e,this.canvas.height=t,this.frame.setSize(e,t),this.dirty=!0,this)}}const h=Phaser.GameObjects.Components;Phaser.Class.mixin(n,[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.ScrollFactor,h.Tint,h.Transform,h.Visible,e.default,t.default,s.default]);var o=n;exports.default=o;
},{"./render/Render.js":"i5fw","./CanvasMethods.js":"DsG9","./TextureMethods.js":"yf19"}],"yZDU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/gameobjects/canvas/Canvas.js"));function t(e){return e&&e.__esModule?e:{default:e}}var a=e.default;exports.default=a;
},{"../../../plugins/gameobjects/canvas/Canvas.js":"tJci"}],"i8Ix":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,e,o){var r=Math.floor(e/2),a=Math.floor(o/2);t.arc(r,a,Math.min(r,a),0,2*Math.PI)},e=t;exports.default=e;
},{}],"dYfh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t,o){var r=Math.floor(t/2),a=Math.floor(o/2);e.ellipse(r,a,r,a,0,0,2*Math.PI)},t=e;exports.default=t;
},{}],"tUlO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../shape/roundrectangle/geom/RoundRectangle.js"));function t(e){return e&&e.__esModule?e:{default:e}}const i=Phaser.Math.DegToRad,o=i(0),l=i(90),n=i(180),h=i(270);var r=function(t,i,r,d){void 0===d&&(d=Math.min(Math.floor(i/2),Math.floor(r/2)));var s,u,x,T=new e.default(0,0,i,r,d),c=T.cornerRadius;s=c.br,u=T.width-s.x,x=T.height-s.y,a(s)?t.ellipse(u,x,s.x,s.y,0,o,l):(t.moveTo(T.width,x),t.lineTo(T.width,T.height),t.lineTo(u,T.height)),u=(s=c.bl).x,x=T.height-s.y,t.lineTo(s.x,T.height),a(s)?t.ellipse(u,x,s.x,s.y,0,l,n):(t.lineTo(0,T.height),t.lineTo(0,x)),u=(s=c.tl).x,x=s.y,t.lineTo(0,x),a(s)?t.ellipse(u,x,s.x,s.y,0,n,h):(t.lineTo(0,0),t.lineTo(u,0)),s=c.tr,u=T.width-s.x,x=s.y,t.lineTo(u,0),a(s)?t.ellipse(u,x,s.x,s.y,0,h,o):(t.lineTo(T.width,0),t.lineTo(T.width,x)),t.closePath()},a=function(e){return 0!==e.x&&0!==e.y},d=r;exports.default=d;
},{"../../shape/roundrectangle/geom/RoundRectangle.js":"Osg6"}],"MTdn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("../canvas/Canvas.js")),t=a(require("./drawmethods/DrawCircle.js")),r=a(require("./drawmethods/DrawEllipse.js")),s=a(require("./drawmethods/DrawRoundRectangle.js"));function a(e){return e&&e.__esModule?e:{default:e}}const i=Phaser.Utils.Objects.GetValue;class o extends e.default{constructor(e,t,r,s,a,i){super(e,t,r),this.type="rexCircleMaskImage",this.setTexture(s,a,i)}setTexture(e,a,o){var d,u;if("object"==typeof a&&(o=a,a=void 0),"string"==typeof o?(d=o,u=void 0):(d=i(o,"maskType",0),u=i(o,"backgroundColor",void 0)),void 0===d?d=0:"string"==typeof d&&(d=l[d]),this._textureKey=e,this._frameName=a,null===d)return this.loadTexture(e,a),this.dirty=!0,this;var n=null!=u;n||this.loadTexture(e,a);var c=this.canvas,h=this.context,v=c.width,p=c.height;switch(h.save(),h.globalCompositeOperation=n?"source-over":"destination-in",h.beginPath(),d){case 0:(0,t.default)(h,v,p);break;case 1:(0,r.default)(h,v,p);break;case 2:var f=i(o,"radius",void 0);(0,s.default)(h,v,p,f)}return n&&(h.fillStyle=u),h.fill(),h.restore(),n&&(h.save(),h.globalCompositeOperation="destination-atop",this.loadTexture(e,a),h.restore()),this.dirty=!0,this}}const l={circle:0,ellipse:1,roundRectangle:2};var d=o;exports.default=d;
},{"../canvas/Canvas.js":"tJci","./drawmethods/DrawCircle.js":"i8Ix","./drawmethods/DrawEllipse.js":"dYfh","./drawmethods/DrawRoundRectangle.js":"tUlO"}],"h70I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../../../plugins/gameobjects/circlemaskimage/CircleMaskImage.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=e.default;exports.default=t;
},{"../../../plugins/gameobjects/circlemaskimage/CircleMaskImage.js":"MTdn"}],"VX7i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){if(!window.Chart){return console.error("Can not find chartjs! Load chartjs in preload stage.\nscene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js');"),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,o(this,t)),this},o=function(t,o){void 0===o&&(o={}),void 0===o.options&&(o.options={});var e=o.options;e.responsive=!1,e.maintainAspectRatio=!1,e.hasOwnProperty("devicePixelRatio")||(e.devicePixelRatio=1);var i=!1;void 0===e.animation?e.animation={}:!1===e.animation&&(i=!0,e.animation={});var n=e.animation;i&&(n.duration=0);var a=n.onProgress;n.onProgress=function(o){a&&a(o),t.needRedraw()};var r=n.onComplete;return n.onComplete=function(o){r&&r(o),t.needRedraw()},o},e=t;exports.default=e;
},{}],"xHXQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){if(void 0!==this.chart){if("string"!=typeof t)return this.chart.data.datasets[t];for(var e,a=this.chart.data.datasets,r=0,s=a.length;r<s;r++)if((e=a[r]).label===t)return e}},e=t;exports.default=e;
},{}],"tQQl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,e){var r=this.getChartDataset(t);if(void 0!==r){if("string"==typeof e)if(-1===(e=this.chart.data.labels.indexOf(e)))return;return r.data[e]}},e=t;exports.default=e;
},{}],"fiPU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,e,r){if(void 0===this.chart)return this;var a=this.getChartDataset(t);if("string"==typeof e&&-1===(e=this.chart.data.labels.indexOf(e)))return this;return a.data[e]=r,this},e=t;exports.default=e;
},{}],"uTD5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){if(void 0===this.chart)return this;this.chart.update()},e=t;exports.default=e;
},{}],"upMs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../canvas/Canvas.js")),e=i(require("./SetChart.js")),a=i(require("./GetChartDataset.js")),r=i(require("./GetChartData.js")),s=i(require("./SetChartData.js")),h=i(require("./UpdateChart.js"));function i(t){return t&&t.__esModule?t:{default:t}}class u extends t.default{constructor(t,e,a,r,s,h){super(t,e,a,r,s),this.type="rexChart",this.chart=void 0,void 0!==h&&this.setChart(h)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,e){if(t===this.width&&e===this.height)return this;if(super.resize(t,e),this.chart){var a=this.chart;a.height=this.canvas.height,a.width=this.canvas.width,a.aspectRatio=a.height?a.width/a.height:null,a.update()}return this}}var d={setChart:e.default,getChartDataset:a.default,getChartData:r.default,setChartData:s.default,updateChart:h.default};Object.assign(u.prototype,d);var o=u;exports.default=o;
},{"../canvas/Canvas.js":"yZDU","./SetChart.js":"VX7i","./GetChartDataset.js":"xHXQ","./GetChartData.js":"tQQl","./SetChartData.js":"fiPU","./UpdateChart.js":"uTD5"}],"Kxu6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../../../utils/object/IsArray.js"));function e(t){return t&&t.__esModule?t:{default:t}}var s=function(e,s,i,r){(0,t.default)(s)&&(r=i,i=s,s=void 0),void 0===s&&(s="__BASE"),this.textureKey=e,this.baseFrameName=s,this.columns.data=i,this.columns.count=i?i.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.rows.data=r,this.rows.count=r?r.length:0,this.rows.stretch=0,this.rows.minHeight=0;var h=this.scene.textures.get(e);if(!h)return this.clear(),this;if(!i||!r)return this.clear(),this;for(var o=h.frames[s],n=o.width,u=0,a=0,c=i.length;a<c;a++)void 0===i[a]?u++:"number"==typeof i[a]?n-=i[a]:n-=i[a].width;var d=n/u,l=o.height,f=0;for(a=0,c=r.length;a<c;a++)void 0===r[a]?f++:"number"==typeof r[a]?l-=r[a]:l-=r[a].width;for(var m,v,g,w,p,b=l/f,x=0,y=0,_=0,$=r.length;_<$;_++){void 0===r[_]&&(r[_]=b),"number"==typeof r[_]&&(r[_]={height:r[_],stretch:_%2}),g=(m=r[_]).height,this.rows.stretch+=0|m.stretch,this.rows.minHeight+=m.stretch>0?0:g,x=0;a=0;for(var j=i.length;a<j;a++)void 0===i[a]&&(i[a]=d),"number"==typeof i[a]&&(i[a]={width:i[a],stretch:a%2}),w=(v=i[a]).width,0===_&&(this.columns.stretch+=0|v.stretch,this.columns.minWidth+=v.stretch>0?0:w),w>=1&&g>=1?(p=this.getFrameNameCallback(a,_,s))&&h.add(p,0,x+o.cutX,y+o.cutY,w,g):console.warn(`Size of Grid(${a},${_}) = ${w}x${g}, which is invalid`),x+=w;y+=g}return this.updateTexture(),this},i=s;exports.default=i;
},{"../../../utils/object/IsArray.js":"leAG"}],"c5u0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,o,t){return void 0===t&&(t="image"),e[o]||(e[o]=e.scene.make[t]({add:!1,origin:{x:0,y:0}}),e.on("destroy",function(){e[o]&&(e[o].destroy(),e[o]=void 0)})),e[o]},o=e;exports.default=o;
},{}],"cx75":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../../../utils/rendertexture/MakeChildImageGameObject.js"));function e(t){return t&&t.__esModule?t:{default:t}}var s=function(){if(this.clear(),void 0===this.textureKey)return this;var e=this.scene.textures.get(this.textureKey);if(!e)return this;var s,i,h=this.width-this.columns.minWidth;h>=0?(s=this.columns.stretch>0?h/this.columns.stretch:0,i=1):(s=0,i=this.width/this.columns.minWidth);var r,a,u,o,c,d,l,n=this.height-this.rows.minHeight;n>=0?(r=this.rows.stretch>0?n/this.rows.stretch:0,a=1):(r=0,a=this.height/this.rows.minHeight);for(var m,f=0,g=0,v=0,x=this.rows.count;v<x;v++){l=0===(c=this.rows.data[v]).stretch?c.height*a:r*c.stretch,f=0;for(var w=0,p=this.columns.count;w<p;w++)d=0===(o=this.columns.data[w]).stretch?o.width*i:s*o.stretch,(u=this.getFrameNameCallback(w,v,this.baseFrameName))&&d>0&&l>0&&e.has(u)&&(0===(0===c.stretch&&0===o.stretch?0:0===this.getStretchMode(w,v)?0:1)?(m=(0,t.default)(this,"_image","image")).setTexture(this.textureKey,u).setDisplaySize(d,l):(m=(0,t.default)(this,"_tileSprite","tileSprite")).setTexture(this.textureKey,u).setSize(d,l)),m&&(this.draw(m,f,g),m=void 0),f+=d;g+=l}},i=s;exports.default=i;
},{"../../../utils/rendertexture/MakeChildImageGameObject.js":"c5u0"}],"s9Ea":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=Phaser.Utils.Objects.IsPlainObject,t=Phaser.Utils.Objects.GetValue;var s=function(s){return e(s)?(this.stretchMode.edge=r(t(s,"edge",0)),this.stretchMode.internal=r(t(s,"internal",0))):(s=r(s),this.stretchMode.edge=s,this.stretchMode.internal=s),this},r=function(e){return"string"==typeof e&&(e=i[e]),e};const i={scale:0,repeat:1};var n=s;exports.default=n;
},{}],"S5ll":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,e){return 0===t||t===this.columns.count-1||0===e||e===this.rows.count-1},e=t;exports.default=e;
},{}],"BhyQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../utils/IsEdge.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(t,r){return e.default.call(this,t,r)?this.stretchMode.edge:this.stretchMode.internal},s=r;exports.default=s;
},{"../utils/IsEdge.js":"S5ll"}],"LFGt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("./SetTexture.js")),t=d(require("./UpdateTexture.js")),r=d(require("./SetStretchMode.js")),u=d(require("./GetStretchMode.js"));function d(e){return e&&e.__esModule?e:{default:e}}var s={setTexture:e.default,updateTexture:t.default,setStretchMode:r.default,getStretchMode:u.default};exports.default=s;
},{"./SetTexture.js":"Kxu6","./UpdateTexture.js":"cx75","./SetStretchMode.js":"s9Ea","./GetStretchMode.js":"BhyQ"}],"yMLQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e="__BASE";var t=function(e,t,r){return"__BASE"===r?`${e},${t}`:`${r}_${e},${t}`},r=t;exports.default=r;
},{}],"CAWg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./texture/TextureMethods.js")),t=i(require("./utils/DefaultGetFrameNameCallback.js")),s=i(require("../../utils/object/IsArray.js"));function i(e){return e&&e.__esModule?e:{default:e}}const r=Phaser.GameObjects.RenderTexture,o=Phaser.Utils.Objects.IsPlainObject,a=Phaser.Utils.Objects.GetValue;class d extends r{constructor(e,t,i,r,d,u,h,l,c,m){o(t)?(t=a(m=t,"x",0),i=a(m,"y",0),r=a(m,"width",1),d=a(m,"height",1),u=a(m,"key",void 0),h=a(m,"baseFrame",void 0),l=a(m,"columns",void 0),c=a(m,"rows",void 0)):o(r)?(r=a(m=r,"width",1),d=a(m,"height",1),u=a(m,"key",void 0),h=a(m,"baseFrame",void 0),l=a(m,"columns",void 0),c=a(m,"rows",void 0)):o(u)?(u=a(m=u,"key",void 0),h=a(m,"baseFrame",void 0),l=a(m,"columns",void 0),c=a(m,"rows",void 0)):o(h)?(h=a(m=h,"baseFrame",void 0),l=a(m,"columns",void 0),c=a(m,"rows",void 0)):(0,s.default)(h)?(m=c,c=l,l=h,h=a(m,"baseFrame",void 0)):o(l)&&(l=a(m=l,"columns",void 0),c=a(m,"rows",void 0)),super(e,t,i,r,d),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setOrigin(.5,.5),this.setGetFrameNameCallback(a(m,"getFrameNameCallback",void 0)),this.setStretchMode(a(m,"stretchMode",0)),this.setTexture(u,h,l,c)}setGetFrameNameCallback(e){return void 0===e&&(e=t.default),this.getFrameNameCallback=e,this}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}resize(e,t){return this.width===e&&this.height===t?this:(super.resize(e,t),this.updateTexture(),this)}}Object.assign(d.prototype,e.default);var u=d;exports.default=u;
},{"./texture/TextureMethods.js":"LFGt","./utils/DefaultGetFrameNameCallback.js":"yMLQ","../../utils/object/IsArray.js":"leAG"}],"GfBW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/gameobjects/ninepatch/NinePatch.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=e.default;exports.default=r;
},{"../../../plugins/gameobjects/ninepatch/NinePatch.js":"CAWg"}],"xI51":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer},r=e;exports.default=r;
},{}],"BQ70":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t=function(t,o){void 0===o&&(void 0===e&&(e=new Phaser.Geom.Rectangle),o=e);var r=t.game.config;return o.setTo(0,0,r.width,r.height),o},o=t;exports.default=o;
},{}],"VoYQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../../../plugins/utils/bounds/GetDefaultBounds.js"));function e(t){return t&&t.__esModule?t:{default:t}}var i=function(e){return void 0===e&&(e=(0,t.default)(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this},s=i;exports.default=s;
},{"../../../plugins/utils/bounds/GetDefaultBounds.js":"BQ70"}],"U9kJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=Phaser.Display.Align;var e={center:t.CENTER,left:t.LEFT_CENTER,right:t.RIGHT_CENTER,top:t.TOP_CENTER,bottom:t.BOTTOM_CENTER,"left-top":t.TOP_LEFT,"left-center":t.LEFT_CENTER,"left-bottom":t.BOTTOM_LEFT,"center-top":t.TOP_CENTER,"center-center":t.CENTER,"center-bottom":t.BOTTOM_CENTER,"right-top":t.TOP_RIGHT,"right-center":t.RIGHT_CENTER,"right-bottom":t.BOTTOM_RIGHT};exports.default=e;
},{}],"aI5K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../object/NOOP.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=new Phaser.GameObjects.Zone({sys:{queueDepthSort:e.default,events:{once:e.default}}},0,0,1,1);r.setOrigin(0);var s=r;exports.default=s;
},{"../object/NOOP.js":"FQUj"}],"zKht":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var T={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},O=T;exports.default=O;
},{}],"Ww5k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GetDisplayHeight=exports.GetDisplayWidth=void 0;var t=function(t){return void 0!==t.displayWidth?t.displayWidth:t.width};exports.GetDisplayWidth=t;var i=function(t){return void 0!==t.displayHeight?t.displayHeight:t.height};exports.GetDisplayHeight=i;
},{}],"PpVu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../size/GetDisplaySize.js"),t=function(t){var r=(0,e.GetDisplayHeight)(t);return t.y+r-r*t.originY},r=t;exports.default=r;
},{"../../size/GetDisplaySize.js":"Ww5k"}],"trpT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../size/GetDisplaySize.js"),t=function(t){var r=(0,e.GetDisplayWidth)(t);return t.x-r*t.originX+.5*r},r=t;exports.default=r;
},{"../../size/GetDisplaySize.js":"Ww5k"}],"hX63":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../size/GetDisplaySize.js"),t=function(t,r){var i=(0,e.GetDisplayHeight)(t);return t.y=r-i+i*t.originY,t},r=t;exports.default=r;
},{"../../size/GetDisplaySize.js":"Ww5k"}],"TkB8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../size/GetDisplaySize.js"),t=function(t,r){var i=(0,e.GetDisplayWidth)(t),s=i*t.originX;return t.x=r+s-.5*i,t},r=t;exports.default=r;
},{"../../size/GetDisplaySize.js":"Ww5k"}],"U402":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../../bounds/GetBottom.js")),t=o(require("../../bounds/GetCenterX.js")),u=o(require("../../bounds/SetBottom.js")),r=o(require("../../bounds/SetCenterX.js"));function o(e){return e&&e.__esModule?e:{default:e}}var d=function(o,d,s,n){return void 0===s&&(s=0),void 0===n&&(n=0),(0,r.default)(o,(0,t.default)(d)+s),(0,u.default)(o,(0,e.default)(d)+n),o},s=d;exports.default=s;
},{"../../bounds/GetBottom.js":"PpVu","../../bounds/GetCenterX.js":"trpT","../../bounds/SetBottom.js":"hX63","../../bounds/SetCenterX.js":"TkB8"}],"MdFj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../size/GetDisplaySize.js"),t=function(t){var r=(0,e.GetDisplayWidth)(t);return t.x-r*t.originX},r=t;exports.default=r;
},{"../../size/GetDisplaySize.js":"Ww5k"}],"ktS0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../size/GetDisplaySize.js"),t=function(t,r){var i=(0,e.GetDisplayWidth)(t);return t.x=r+i*t.originX,t},r=t;exports.default=r;
},{"../../size/GetDisplaySize.js":"Ww5k"}],"CVoo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../../bounds/GetBottom.js")),t=o(require("../../bounds/GetLeft.js")),u=o(require("../../bounds/SetBottom.js")),r=o(require("../../bounds/SetLeft.js"));function o(e){return e&&e.__esModule?e:{default:e}}var d=function(o,d,s,f){return void 0===s&&(s=0),void 0===f&&(f=0),(0,r.default)(o,(0,t.default)(d)-s),(0,u.default)(o,(0,e.default)(d)+f),o},s=d;exports.default=s;
},{"../../bounds/GetBottom.js":"PpVu","../../bounds/GetLeft.js":"MdFj","../../bounds/SetBottom.js":"hX63","../../bounds/SetLeft.js":"ktS0"}],"IrMY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../size/GetDisplaySize.js"),t=function(t){var r=(0,e.GetDisplayWidth)(t);return t.x+r-r*t.originX},r=t;exports.default=r;
},{"../../size/GetDisplaySize.js":"Ww5k"}],"GvRD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../size/GetDisplaySize.js"),t=function(t,r){var i=(0,e.GetDisplayWidth)(t);return t.x=r-i+i*t.originX,t},r=t;exports.default=r;
},{"../../size/GetDisplaySize.js":"Ww5k"}],"iGjP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../../bounds/GetBottom.js")),t=o(require("../../bounds/GetRight.js")),u=o(require("../../bounds/SetBottom.js")),r=o(require("../../bounds/SetRight.js"));function o(e){return e&&e.__esModule?e:{default:e}}var d=function(o,d,s,i){return void 0===s&&(s=0),void 0===i&&(i=0),(0,r.default)(o,(0,t.default)(d)+s),(0,u.default)(o,(0,e.default)(d)+i),o},s=d;exports.default=s;
},{"../../bounds/GetBottom.js":"PpVu","../../bounds/GetRight.js":"IrMY","../../bounds/SetBottom.js":"hX63","../../bounds/SetRight.js":"GvRD"}],"y5PY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../size/GetDisplaySize.js"),t=function(t,r){var i=(0,e.GetDisplayHeight)(t),s=i*t.originY;return t.y=r+s-.5*i,t},r=t;exports.default=r;
},{"../../size/GetDisplaySize.js":"Ww5k"}],"l546":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./SetCenterX.js")),t=r(require("./SetCenterY.js"));function r(e){return e&&e.__esModule?e:{default:e}}var u=function(r,u,d){return(0,e.default)(r,u),(0,t.default)(r,d)},d=u;exports.default=d;
},{"./SetCenterX.js":"TkB8","./SetCenterY.js":"y5PY"}],"lfsh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../size/GetDisplaySize.js"),t=function(t){var r=(0,e.GetDisplayHeight)(t);return t.y-r*t.originY+.5*r},r=t;exports.default=r;
},{"../../size/GetDisplaySize.js":"Ww5k"}],"k1cT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("../../bounds/CenterOn.js")),t=u(require("../../bounds/GetCenterX.js")),r=u(require("../../bounds/GetCenterY.js"));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(u,d,n,o){return void 0===n&&(n=0),void 0===o&&(o=0),(0,e.default)(u,(0,t.default)(d)+n,(0,r.default)(d)+o),u},n=d;exports.default=n;
},{"../../bounds/CenterOn.js":"l546","../../bounds/GetCenterX.js":"trpT","../../bounds/GetCenterY.js":"lfsh"}],"aZjK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("../../bounds/GetCenterY.js")),t=d(require("../../bounds/GetLeft.js")),u=d(require("../../bounds/SetCenterY.js")),r=d(require("../../bounds/SetLeft.js"));function d(e){return e&&e.__esModule?e:{default:e}}var o=function(d,o,s,n){return void 0===s&&(s=0),void 0===n&&(n=0),(0,r.default)(d,(0,t.default)(o)-s),(0,u.default)(d,(0,e.default)(o)+n),d},s=o;exports.default=s;
},{"../../bounds/GetCenterY.js":"lfsh","../../bounds/GetLeft.js":"MdFj","../../bounds/SetCenterY.js":"y5PY","../../bounds/SetLeft.js":"ktS0"}],"WW5y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("../../bounds/GetCenterY.js")),t=d(require("../../bounds/GetRight.js")),u=d(require("../../bounds/SetCenterY.js")),r=d(require("../../bounds/SetRight.js"));function d(e){return e&&e.__esModule?e:{default:e}}var o=function(d,o,s,i){return void 0===s&&(s=0),void 0===i&&(i=0),(0,r.default)(d,(0,t.default)(o)+s),(0,u.default)(d,(0,e.default)(o)+i),d},s=o;exports.default=s;
},{"../../bounds/GetCenterY.js":"lfsh","../../bounds/GetRight.js":"IrMY","../../bounds/SetCenterY.js":"y5PY","../../bounds/SetRight.js":"GvRD"}],"d223":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../size/GetDisplaySize.js"),t=function(t){var r=(0,e.GetDisplayHeight)(t);return t.y-r*t.originY},r=t;exports.default=r;
},{"../../size/GetDisplaySize.js":"Ww5k"}],"JBd3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../size/GetDisplaySize.js"),t=function(t,r){var i=(0,e.GetDisplayHeight)(t);return t.y=r+i*t.originY,t},r=t;exports.default=r;
},{"../../size/GetDisplaySize.js":"Ww5k"}],"QxAx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("../../bounds/GetCenterX.js")),t=d(require("../../bounds/GetTop.js")),u=d(require("../../bounds/SetCenterX.js")),r=d(require("../../bounds/SetTop.js"));function d(e){return e&&e.__esModule?e:{default:e}}var o=function(d,o,s,n){return void 0===s&&(s=0),void 0===n&&(n=0),(0,u.default)(d,(0,e.default)(o)+s),(0,r.default)(d,(0,t.default)(o)-n),d},s=o;exports.default=s;
},{"../../bounds/GetCenterX.js":"trpT","../../bounds/GetTop.js":"d223","../../bounds/SetCenterX.js":"TkB8","../../bounds/SetTop.js":"JBd3"}],"UkCc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("../../bounds/GetLeft.js")),t=d(require("../../bounds/GetTop.js")),u=d(require("../../bounds/SetLeft.js")),r=d(require("../../bounds/SetTop.js"));function d(e){return e&&e.__esModule?e:{default:e}}var o=function(d,o,s,f){return void 0===s&&(s=0),void 0===f&&(f=0),(0,u.default)(d,(0,e.default)(o)-s),(0,r.default)(d,(0,t.default)(o)-f),d},s=o;exports.default=s;
},{"../../bounds/GetLeft.js":"MdFj","../../bounds/GetTop.js":"d223","../../bounds/SetLeft.js":"ktS0","../../bounds/SetTop.js":"JBd3"}],"DH3B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("../../bounds/GetRight.js")),t=d(require("../../bounds/GetTop.js")),u=d(require("../../bounds/SetRight.js")),r=d(require("../../bounds/SetTop.js"));function d(e){return e&&e.__esModule?e:{default:e}}var o=function(d,o,s,i){return void 0===s&&(s=0),void 0===i&&(i=0),(0,u.default)(d,(0,e.default)(o)+s),(0,r.default)(d,(0,t.default)(o)-i),d},s=o;exports.default=s;
},{"../../bounds/GetRight.js":"IrMY","../../bounds/GetTop.js":"d223","../../bounds/SetRight.js":"GvRD","../../bounds/SetTop.js":"JBd3"}],"IOWs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../const.js")),t=i(require("./BottomCenter.js")),u=i(require("./BottomLeft.js")),r=i(require("./BottomRight.js")),f=i(require("./Center.js")),a=i(require("./LeftCenter.js")),d=i(require("./RightCenter.js")),l=i(require("./TopCenter.js")),T=i(require("./TopLeft.js")),o=i(require("./TopRight.js"));function i(e){return e&&e.__esModule?e:{default:e}}var s=[];s[e.default.BOTTOM_CENTER]=t.default,s[e.default.BOTTOM_LEFT]=u.default,s[e.default.BOTTOM_RIGHT]=r.default,s[e.default.CENTER]=f.default,s[e.default.LEFT_CENTER]=a.default,s[e.default.RIGHT_CENTER]=d.default,s[e.default.TOP_CENTER]=l.default,s[e.default.TOP_LEFT]=T.default,s[e.default.TOP_RIGHT]=o.default;var n=function(e,t,u,r,f){return s[u](e,t,r,f)},E=n;exports.default=E;
},{"../const.js":"zKht","./BottomCenter.js":"U402","./BottomLeft.js":"CVoo","./BottomRight.js":"iGjP","./Center.js":"k1cT","./LeftCenter.js":"aZjK","./RightCenter.js":"WW5y","./TopCenter.js":"QxAx","./TopLeft.js":"UkCc","./TopRight.js":"DH3B"}],"UJIU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("../utils/AlignConst.js")),t=l(require("../../../plugins/utils/actions/GlobZone.js")),n=l(require("../../../plugins/utils/align/align/in/QuickSet.js"));function l(e){return e&&e.__esModule?e:{default:e}}const r=Phaser.Utils.Objects.GetValue,i=Phaser.GameObjects.Group;var a=function(l,a){var u,c,d,f,h=l.scene;if("number"==typeof a)u=a;else{u=r(a,"color",16777215);var g=r(a,"name",!1);g&&(c=r(g,"createTextCallback",s),d=r(g,"createTextCallbackScope",void 0),"string"==typeof(f=r(g,"align","left-top"))&&(f=e.default[f]))}if(c&&!l.children){l.children=new i(h),l.on("destroy",function(){l.children.destroy(!0),l.children=void 0});var p=l.clear.bind(l);l.clear=function(){p(),l.children.clear(!1,!0)}}for(var v,b,x=this.getAllChildren([this]),y=0,j=x.length;y<j;y++)(v=x[y]).getBounds&&(u&&l.lineStyle(1,u).strokeRectShape(v.getBounds(o)),v.name&&c&&(b=d?c.call(d,h):c(h))&&(b.setText(v.name),l.children.add(b),t.default.setPosition(o.x,o.y).setSize(o.width,o.height),(0,n.default)(b,t.default,f)));return this},s=function(e,t,n){return e.add.text(0,0,"")},o=new Phaser.Geom.Rectangle,u=a;exports.default=u;
},{"../utils/AlignConst.js":"U9kJ","../../../plugins/utils/actions/GlobZone.js":"aI5K","../../../plugins/utils/align/align/in/QuickSet.js":"IOWs"}],"KPN2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=Phaser.Utils.Objects.GetValue;var e=function(e,o){return void 0===o&&(o={}),"number"==typeof e?(o.left=e,o.right=e,o.top=e,o.bottom=e):(o.left=t(e,"left",0),o.right=t(e,"right",0),o.top=t(e,"top",0),o.bottom=t(e,"bottom",0)),o},o=e;exports.default=o;
},{}],"Msvs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/utils/bounds/GetBoundsConfig.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=e.default;exports.default=u;
},{"../../../plugins/utils/bounds/GetBoundsConfig.js":"KPN2"}],"lbQ5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../container/Container.js")),i=r(require("../utils/GetBoundsConfig.js"));function r(e){return e&&e.__esModule?e:{default:e}}const t=e.default.prototype.add;var d={pin(e){return t.call(this,e),this},addBackground(e,r,t){return void 0===this.backgroundChildren&&(this.backgroundChildren=[]),"string"==typeof r&&(t=r,r=void 0),void 0===r&&(r=0),this.pin(e),this.backgroundChildren.push(e),this.getSizerConfig(e).padding=(0,i.default)(r),void 0!==t&&this.addChildrenMap(t,e),this},isBackground(e){return void 0!==this.backgroundChildren&&-1!==this.backgroundChildren.indexOf(e)}};exports.default=d;
},{"../container/Container.js":"maWZ","../utils/GetBoundsConfig.js":"Msvs"}],"VwhC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t){return void 0===this.childrenMap&&(this.childrenMap={}),this.childrenMap[e]=t,this},t=e;exports.default=t;
},{}],"VC3H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,i){if("string"==typeof e&&(e=e.split(".")),0!==e.length){var l=e.shift(),r=null;if("#"===l.charAt(0))l=l.substring(1),r=this.getByName(l,i);else if(-1===l.indexOf("["))this.childrenMap&&(r=this.childrenMap[l]);else{var n=l.match(t);if(null!=n&&this.childrenMap){var s=this.childrenMap[n[1]];s&&(r=s[n[2]])}}return 0===e.length?r:r&&r.childrenMap?r.getElement(e):null}};const t=/(\S+)\[(\d+)\]/i;var i=e;exports.default=i;
},{}],"TvEu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){return 0},t=e;exports.default=t;
},{}],"Nc1G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){void 0===e&&(e=[]);for(var t=e.length,r=this.getChildrenSizers(e),i=e.length,l=t;l<i;l++)r[l].getAllChildrenSizers(e);return e},t=e;exports.default=t;
},{}],"hwFi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){return void 0===e&&(e=[]),e},t=e;exports.default=t;
},{}],"gvAn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){if(!e){this._layoutInit();for(var t,r=this.getChildrenSizers(),i=0,o=r.length;i<o;i++)!(t=r[i]).rexSizer.hidden&&t.dirty&&r[i].preLayout()}},t=e;exports.default=t;
},{}],"EF0e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,i,e){return this.rexSizer.hidden||!this.dirty?this:(this.preLayout(t),void 0===i&&(i=Math.max(this.childrenWidth,this.minWidth)),void 0===e&&(e=Math.max(this.childrenHeight,this.minHeight)),this.resize(this.minWidth,this.minHeight),this.layoutBackgrounds(),this.postLayout())},i=t;exports.default=i;
},{}],"flHp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,e,o){return this._anchor&&this._anchor.updatePosition(),this},e=t;exports.default=e;
},{}],"Lyum":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){this._childrenWidth=void 0,this._childrenHeight=void 0},t=e;exports.default=t;
},{}],"roGg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=Phaser.Geom.Rectangle;var t=function(t,i){void 0===i?i=new e:!0===i&&(i=a);var o=t.scale,r=o.canvasBounds,s=o.displayScale,d=o.autoCenter;return i.x=r.x>=0?0:-r.x*s.x,i.y=r.y>=0?0:-r.y*s.y,i.width=r.width*s.x-i.x,i.height=r.height*s.y-i.y,1!==d&&2!==d||(i.width-=i.x),1!==d&&3!==d||(i.height-=i.y),i},a=new e,i=t;exports.default=i;
},{}],"FUh4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../../utils/system/GetViewport.js"));function e(t){return t&&t.__esModule?t:{default:t}}class i{constructor(t,e){this.gameObject=t,this.scene=t.scene,this.resetFromJSON(e),this.boot()}resetFromJSON(t){var e,i,s,r,o,h,n,a;return void 0!==t.x?(e=null,i=t.x):void 0!==t.left?(e=0,i=t.left):void 0!==t.right?(e=1,i=t.right):void 0!==t.centerX&&(e=.5,i=t.centerX),void 0!==t.y?(s=null,r=t.y):void 0!==t.top?(s=0,r=t.top):void 0!==t.bottom?(s=1,r=t.bottom):void 0!==t.centerY&&(s=.5,r=t.centerY),void 0!==i&&(i=i.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),o=parseFloat(i[0])/100,h=""===i[1]?0:parseFloat(i[1])),void 0!==r&&(r=r.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),n=parseFloat(r[0])/100,a=""===r[1]?0:parseFloat(r[1])),this.setAlign(e,s),this.setPercentage(o,n),this.setOffset(h,a),this}boot(){this.scene.scale.on("resize",this.anchor,this),this.gameObject.on("destroy",this.destroy,this),this.anchor()}shutdown(){this.scene.scale.off("resize",this.anchor,this),this.gameObject=void 0,this.scene=void 0}destroy(){this.shutdown()}setAlign(t,e){return this.alignX=t,this.alignY=e,this}setPercentage(t,e){return this.percentageX=t,this.percentageY=e,this}setOffset(t,e){return this.offsetX=t,this.offsetY=e,this}anchor(){return this.viewport=(0,t.default)(this.scene,!0),this.updatePosition(),this}updatePosition(){var t=this.gameObject;return null===this.alignX?t.x=this.anchorX:void 0!==this.alignX&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),null===this.alignY?this.gameObject.y=this.anchorY:void 0!==this.alignY&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}}var s=i;exports.default=s;
},{"../../utils/system/GetViewport.js":"roGg"}],"qOdf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../../../plugins/behaviors/anchor/Anchor.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=function(r){return void 0===this._anchor?this._anchor=new e.default(this,r):this._anchor.resetFromJSON(r),this},o=t;exports.default=o;
},{"../../../plugins/behaviors/anchor/Anchor.js":"FUh4"}],"TmQr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={setEventEmitter(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(t){return this._eventEmitter&&t&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]}};exports.default=t;
},{}],"qDKb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=Phaser.Scene;var t=function(t){return t instanceof e},r=t;exports.default=r;
},{}],"IEm3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./IsSceneObject.js"));function t(e){return e&&e.__esModule?e:{default:e}}var n=function(t){return(0,e.default)(t)?t:t.scene&&(0,e.default)(t.scene)?t.scene:t.parent&&t.parent.scene&&(0,e.default)(t.parent.scene)?t.parent.scene:void 0},r=n;exports.default=r;
},{"./IsSceneObject.js":"qDKb"}],"EyRz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=Phaser.GameObjects.GameObject;var t=function(t){return t instanceof e},r=t;exports.default=r;
},{}],"TJN9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../eventemitter/EventEmitterMethods.js")),e=r(require("../system/GetSceneObject.js")),s=r(require("../system/IsGameObject.js")),i=r(require("../system/IsSceneObject.js"));function r(t){return t&&t.__esModule?t:{default:t}}const n=Phaser.Utils.Objects.GetValue;class h{constructor(t,s){this.parent=t,this.scene=(0,e.default)(t);var i=n(s,"eventEmitter",!1);!0===i&&(i=void 0),this.setEventEmitter(i),this.boot()}boot(){(0,s.default)(this.parent)?this.parent.once&&this.parent.on("destroy",this.destroy,this):(0,i.default)(this.parent)&&this.parent.events.once("shutdown",this.destroy,this)}shutdown(){return this.stop(),(0,i.default)(this.parent)&&this.parent.events.off("shutdown",this.destroy,this),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this}destroy(){return this.shutdown(),this}start(t){return this.isRunning?this:(this.tween=this.scene.tweens.add(t).on("complete",this.complete,this),!1===this.getEventEmitter()&&this.setEventEmitter(this.tween),this)}restart(){return this.stop().start(),this}stop(){return this.tween?(this.getEventEmitter()===this.tween&&this.setEventEmitter(!1),this.tween.remove(),this.tween=void 0,this):this}complete(){return this.stop(),this.getEventEmitter()&&this.emit("complete"),this}get isRunning(){return!!this.tween}}Object.assign(h.prototype,t.default);var o=h;exports.default=o;
},{"../eventemitter/EventEmitterMethods.js":"TmQr","../system/GetSceneObject.js":"IEm3","../system/IsGameObject.js":"EyRz","../system/IsSceneObject.js":"qDKb"}],"kHDN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../../utils/tween/TweenBase.js"));function e(t){return t&&t.__esModule?t:{default:t}}const s=Phaser.Utils.Objects.GetValue,i=Phaser.Utils.Objects.GetAdvancedValue;class r extends t.default{constructor(t,e){super(t),this.gameObject=t,this.scaleStart={},this.scaleEnd={},this.resetFromJSON(e)}resetFromJSON(t){return this.setMode(s(t,"mode",0)),this.setScaleRange(i(t,"start",void 0),i(t,"end",0)),this.setDelay(i(t,"delay",0)),this.setDuration(i(t,"duration",1e3)),this.setEase(s(t,"ease",void 0)),this}toJSON(){return{mode:this.mode,startX:this.startX,startY:this.startY,endX:this.endX,endY:this.endY,delay:this.delay,duration:this.duration}}setMode(t){return"string"==typeof t&&(t=a[t]),this.mode=t,this}setScaleRange(t,e){return"number"==typeof t?(this.startX=t,this.startY=t):(this.startX=i(t,"x",this.gameObject.scaleX),this.startY=i(t,"y",this.gameObject.scaleY)),"number"==typeof e?(this.endX=e,this.endY=e):(this.endX=i(e,"x",void 0),this.endY=i(e,"y",void 0)),this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setEase(t){return void 0===t&&(t="Linear"),this.ease=t,this}start(){if(this.isRunning)return this;var t={targets:this.gameObject,delay:this.delay,duration:this.duration,ease:this.ease,yoyo:2==this.mode,repeat:2==this.mode?-1:0};return void 0!==this.startX&&void 0!==this.endX&&(t.scaleX={start:this.startX,to:this.endX}),void 0!==this.startY&&void 0!==this.endY&&(t.scaleY={start:this.startY,to:this.endY}),super.start(t),this}complete(){return super.complete(),1===this.mode&&this.gameObject.destroy(),this}}const a={stop:0,destroy:1,yoyo:2};var h=r;exports.default=h;
},{"../../utils/tween/TweenBase.js":"TJN9"}],"OzNt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./behaviors/scale/Scale.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=e.default;exports.default=t;
},{"./behaviors/scale/Scale.js":"kHDN"}],"AsfY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./scale.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(t,r,s,u,d){switch(a.mode=0,s){case 0:case"x":a.start={x:0};break;case 1:case"y":a.start={y:0};break;default:a.start=0}return a.end=1,a.duration=r,a.ease=void 0===u?"Cubic":u,void 0===d?d=new e.default(t,a):d.resetFromJSON(a),d.restart(),d},a={},s=r;exports.default=s;
},{"./scale.js":"OzNt"}],"ct4Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./scale.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=function(r,t,a,d,s,o){s instanceof e.default&&(o=s,s=void 0),void 0===s&&(s=!0);var u={};switch(u.mode=s?1:0,a){case 0:case"x":u.end={x:0};break;case 1:case"y":u.end={y:0};break;default:u.end=0}return u.duration=t,u.ease=void 0===d?"Linear":d,void 0===o?o=new e.default(r,u):o.resetFromJSON(u),o.restart(),o},a=t;exports.default=a;
},{"./scale.js":"OzNt"}],"MKDH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WaitComplete=exports.WaitEvent=void 0;var e=function(e,t){return new Promise(function(o,n){e.once(t,function(){o()})})};exports.WaitEvent=e;var t=function(t){return e(t,"complete")};exports.WaitComplete=t;
},{}],"e4Mf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"WaitEvent",{enumerable:!0,get:function(){return e.WaitEvent}}),Object.defineProperty(exports,"WaitComplete",{enumerable:!0,get:function(){return e.WaitComplete}});var e=require("../../../plugins/utils/promise/WaitEvent.js");
},{"../../../plugins/utils/promise/WaitEvent.js":"MKDH"}],"m6mv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../../../plugins/popup.js")),t=i(require("../../../plugins/scale-down-destroy.js")),s=require("../utils/WaitEvent.js");function i(e){return e&&e.__esModule?e:{default:e}}const o=Phaser.Utils.Objects.IsPlainObject;var r={popUp(t,s,i){if(o(t)){var r=t;t=r.duration,s=r.orientation,i=r.ease}this._scale=(0,e.default)(this,t,s,i,this._scale),this._scale.once("complete",function(){this.emit("popup.complete",this)},this);var a=this.getParentSizer();if(a){var n=this;this._scale.on("update",function(){a.resetChildPositionState(n)})}return this},popUpPromise(e,t,i){return this.popUp(e,t,i),(0,s.WaitComplete)(this._scale)},scaleDownDestroy(e,s,i,r){if(o(e)){var a=e;e=a.duration,s=a.orientation,i=a.ease,r=a.destroy}this._scale=(0,t.default)(this,e,s,i,r,this._scale),this._scale.once("complete",function(){this.emit("scaledown.complete",this)},this);var n=this.getParentSizer();if(n){var l=this;this._scale.on("update",function(){n.resetChildPositionState(l)})}return this},scaleDownDestroyPromise(e,t,i,o){return this.scaleDownDestroy(e,t,i,o),(0,s.WaitComplete)(this._scale)},scaleDown(e,t,s){return this.scaleDownDestroy(e,t,s,!1),this},scaleDownPromise(e,t,i){return this.scaleDown(e,t,i),(0,s.WaitComplete)(this._scale)}};exports.default=r;
},{"../../../plugins/popup.js":"AsfY","../../../plugins/scale-down-destroy.js":"ct4Q","../utils/WaitEvent.js":"e4Mf"}],"dRza":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../../utils/tween/TweenBase.js"));function e(t){return t&&t.__esModule?t:{default:t}}const s=Phaser.Utils.Objects.GetValue,a=Phaser.Utils.Objects.GetAdvancedValue;class r extends t.default{constructor(t,e){super(t),this.gameObject=t,this.alphaStart=void 0,this.alphaEnd=void 0,this.resetFromJSON(e)}resetFromJSON(t){return this.setMode(s(t,"mode",0)),this.setAlphaRange(a(t,"start",this.gameObject.alpha),a(t,"end",0)),this.setDelay(a(t,"delay",0)),this.setDuration(a(t,"duration",1e3)),this}toJSON(){return{mode:this.mode,start:this.alphaStart,end:this.alphaEnd,delay:this.delay,duration:this.duration}}shutdown(){return super.shutdown(),this.gameObject=void 0,this}setMode(t){return"string"==typeof t&&(t=i[t]),this.mode=t,this}setAlphaRange(t,e){return this.alphaStart=t,this.alphaEnd=e,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}start(){return this.isRunning?this:(super.start({targets:this.gameObject,alpha:{start:this.alphaStart,to:this.alphaEnd},delay:this.delay,duration:this.duration,ease:"Linear",yoyo:2==this.mode,repeat:2==this.mode?-1:0}),this)}complete(){return super.complete(),1===this.mode&&this.gameObject.destroy(),this}}const i={stop:0,destroy:1,yoyo:2};var h=r;exports.default=h;
},{"../../utils/tween/TweenBase.js":"TJN9"}],"ybgs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./behaviors/fade/Fade.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=e.default;exports.default=t;
},{"./behaviors/fade/Fade.js":"dRza"}],"UA2G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./fade.js"));function t(e){return e&&e.__esModule?e:{default:e}}const r=Phaser.Utils.Objects.IsPlainObject;var a=function(t,a,d,o){var u,n;return r(d)?(u=d.start,n=d.end):n=d,void 0===u&&(u=0),void 0===n&&(n=t.alpha),s.mode=0,s.start=u,s.end=n,s.duration=a,void 0===o?o=new e.default(t,s):o.resetFromJSON(s),o.restart(),o},s={},d=a;exports.default=d;
},{"./fade.js":"ybgs"}],"DNVX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./fade.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(t,r,o,u){return o instanceof e.default&&(u=o,o=void 0),void 0===o&&(o=!0),d.mode=o?1:0,d.end=0,d.duration=r,void 0===u?u=new e.default(t,d):u.resetFromJSON(d),u.restart(),u},d={},o=r;exports.default=o;
},{"./fade.js":"ybgs"}],"fQZf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("../../../plugins/fade-in.js")),e=s(require("../../../plugins/fade-out-destroy.js")),i=require("../utils/WaitEvent.js");function s(t){return t&&t.__esModule?t:{default:t}}const a=Phaser.Utils.Objects.IsPlainObject;var r={fadeIn(e,i){a(e)&&(e=e.duration);this._fade=(0,t.default)(this,e,i,this._fade),this._fade.once("complete",function(){this.emit("fadein.complete",this)},this);var s=this.getParentSizer();if(s){var r=this;this._fade.on("update",function(){s.resetChildAlphaState(r)})}return this},fadeInPromoise(t,e){return this.fadeIn(t,e),(0,i.WaitComplete)(this._fade)},fadeOutDestroy(t,i){if(a(t)){var s=t;t=s.duration,i=s.destroy}this._fade=(0,e.default)(this,t,i,this._fade),this._fade.once("complete",function(){this.emit("fadeout.complete",this)},this);var r=this.getParentSizer();if(r){var d=this;this._fade.on("update",function(){r.resetChildAlphaState(d)})}return this},fadeOutDestroyPromise(t,e){return this.fadeOutDestroy(t,e),(0,i.WaitComplete)(this._fade)},fadeOut(t){return this.fadeOutDestroy(t,!1),this},fadeOutPromise(t){return this.fadeOut(t),(0,i.WaitComplete)(this._fade)}};exports.default=r;
},{"../../../plugins/fade-in.js":"UA2G","../../../plugins/fade-out-destroy.js":"DNVX","../utils/WaitEvent.js":"e4Mf"}],"Bq4E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../../utils/tween/TweenBase.js"));function e(t){return t&&t.__esModule?t:{default:t}}const s=Phaser.Utils.Objects.GetValue,i=Phaser.Utils.Objects.GetAdvancedValue;class r extends t.default{constructor(t,e){super(t),this.gameObject=t,this.resetFromJSON(e)}resetFromJSON(t){if(this.setMode(s(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var e=i(t,"x",void 0),r=i(t,"y",void 0);this.setTargetPosition(e,r)}else this.setTargetPosition(t);return this.setDelay(i(t,"delay",0)),this.setDuration(i(t,"duration",1e3)),this.setEase(s(t,"ease",void 0)),this}toJSON(){return{mode:this.mode,startX:this.startX,startY:this.startY,endX:this.endX,endY:this.endY,delay:this.delay,duration:this.duration}}setMode(t){return"string"==typeof t&&(t=a[t]),this.mode=t,this}setTargetPosition(t,e){if("number"==typeof t||"number"==typeof e)this.startX=this.gameObject.x,this.startY=this.gameObject.y,this.endX=t,this.endY=e;else{var s=t;this.startX=i(s,"startX",void 0),this.startY=i(s,"startY",void 0),this.endX=i(s,"endX",void 0),this.endY=i(s,"endY",void 0)}return this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setEase(t){return void 0===t&&(t="Linear"),this.ease=t,this}start(){if(this.isRunning)return this;var t={targets:this.gameObject,delay:this.delay,duration:this.duration,ease:this.ease,yoyo:2==this.mode,repeat:2==this.mode?-1:0};return void 0!==this.startX&&void 0!==this.endX&&(t.x={start:this.startX,to:this.endX}),void 0!==this.startY&&void 0!==this.endY&&(t.y={start:this.startY,to:this.endY}),super.start(t),this}complete(){return super.complete(),1===this.mode&&this.gameObject.destroy(),this}}const a={stop:0,destroy:1,yoyo:2};var o=r;exports.default=o;
},{"../../utils/tween/TweenBase.js":"TJN9"}],"TKpE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"EaseMove",{enumerable:!0,get:function(){return e.default}}),exports.EaseMoveFromDestroy=exports.EaseMoveFrom=exports.EaseMoveToDestroy=exports.EaseMoveTo=void 0;var e=r(require("./behaviors/easemove/EaseMove.js"));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(r,o,t,s,a,v,u){v instanceof e.default&&(u=v,v=void 0),void 0===v&&(v=!1);var i={};return i.mode=v?1:0,void 0!==t&&(i.startX=r.x,i.endX=n(t,r.x)),void 0!==s&&(i.startY=r.y,i.endY=n(s,r.y)),i.duration=o,i.ease=void 0===a?"Linear":a,void 0===u?u=new e.default(r,i):u.resetFromJSON(i),u.restart(),u};exports.EaseMoveTo=o;var t=function(e,r,t,s,a,n){return o(e,r,t,s,a,!0,n)};exports.EaseMoveToDestroy=t;var s=function(r,o,t,s,a,v,u){v instanceof e.default&&(u=v,v=void 0),void 0===v&&(v=!1);var i={};return i.mode=v?1:0,void 0!==t&&(i.startX=n(t,r.x),i.endX=r.x),void 0!==s&&(i.startY=n(s,r.y),i.endY=r.y),i.duration=o,i.ease=void 0===a?"Linear":a,void 0===u?u=new e.default(r,i):u.resetFromJSON(i),u.restart(),u};exports.EaseMoveFrom=s;var a=function(e,r,o,t,a,n){return s(e,r,o,t,a,!0,n)};exports.EaseMoveFromDestroy=a;var n=function(e,r){if("number"==typeof e)return e;var o=e[0],t=parseFloat(e.substr(2));switch(o){case"+":return r+t;case"-":return r-t;case"*":return r*t;case"/":return r/t}};
},{"./behaviors/easemove/EaseMove.js":"Bq4E"}],"cxk9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../../plugins/easemove.js"),t=require("../utils/WaitEvent.js");const o=Phaser.Utils.Objects.IsPlainObject;var s={moveFrom(t,s,i,r,a){if(o(s)){var v=s;s=v.x,i=v.y,t=v.duration,r=v.ease}this._easeMove=(0,e.EaseMoveFrom)(this,t,s,i,r,a,this._easeMove),this._easeMove.once("complete",function(){this.emit("movefrom.complete",this)},this);var m=this.getParentSizer();if(m){var h=this;this._easeMove.on("update",function(){m.resetChildPositionState(h)})}return this},moveFromPromise(e,o,s,i,r){return this.moveFrom(e,o,s,i,r),(0,t.WaitComplete)(this._easeMove)},moveFromDestroy(e,t,o,s){return this.moveFrom(e,t,o,s,!0),this},moveFromDestroyPromise(e,o,s,i){return this.moveFromDestroy(e,o,s,i),(0,t.WaitComplete)(this._easeMove)},moveTo(t,s,i,r,a){if(o(s)){var v=s;s=v.x,i=v.y,t=v.duration,r=v.ease}this._easeMove=(0,e.EaseMoveTo)(this,t,s,i,r,a,this._easeMove),this._easeMove.once("complete",function(){this.emit("moveto.complete",this)},this);var m=this.getParentSizer();if(m){var h=this;this._easeMove.on("update",function(){m.resetChildPositionState(h)})}return this},moveToPromise(e,o,s,i,r){return this.moveTo(e,o,s,i,r),(0,t.WaitComplete)(this._easeMove)},moveToDestroy(e,t,o,s){return this.moveTo(e,t,o,s,!0),this},moveToDestroyPromise(e,o,s,i){return this.moveToDestroy(e,o,s,i,!0),(0,t.WaitComplete)(this._easeMove)}};exports.default=s;
},{"../../../plugins/easemove.js":"TKpE","../utils/WaitEvent.js":"e4Mf"}],"xzU1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,o,r,s,u){return!(!e||!e.getBounds)&&(!(s&&!s(e,o,r))&&(!!(t=e.getBounds(t)).contains(o,r)&&!(u&&!u(e,o,r))))},t=void 0,o=e;exports.default=o;
},{}],"EwNp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../bounds/IsPointInBounds.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=function(r,t,u,n){if(t)return(0,e.default)(r,t.x,t.y,u,n);for(var o=r.scene.input.manager,s=o.pointersTotal,a=o.pointers,i=0;i<s;i++)if(t=a[i],(0,e.default)(r,t.x,t.y,u,n))return!0;return!1},u=t;exports.default=u;
},{"../bounds/IsPointInBounds.js":"xzU1"}],"lHGb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/utils/input/IsPointerInBounds.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=function(t,u){return void 0===u&&(u=this),(0,e.default)(u,t)},r=u;exports.default=r;
},{"../../../plugins/utils/input/IsPointerInBounds.js":"EwNp"}],"d6Uw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){return e&&"function"==typeof e},t=e;exports.default=t;
},{}],"zPWf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../../../plugins/utils/bounds/IsPointInBounds.js"));function r(e){return e&&e.__esModule?e:{default:e}}var n=function(r,n,t,o,s){return(0,e.default)(r,n,t,u(o),i(s))},t=function(e){return!(e.rexSizer&&e.rexSizer.hidden)},u=function(e){return e?function(r,n,u){return!!t(r)&&(e(r,n,u),!0)}:t},i=function(e){return e},o=n;exports.default=o;
},{"../../../plugins/utils/bounds/IsPointInBounds.js":"xzU1"}],"yxcZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../../../plugins/utils/object/IsFunction.js")),r=i(require("../../../plugins/utils/object/IsArray.js")),t=i(require("../utils/ContainsPoint.js"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(i,u,s,l,n){if((0,e.default)(s)||(n=s,s=void 0,l=void 0),void 0===n&&(n=this.sizerChildren?this.sizerChildren:this.children),(0,r.default)(n)){for(var o,d=0,f=n.length;d<f;d++)if(o=n[d],(0,t.default)(o,i,u,s,l))return o}else for(var a in n)if(o=n[a],(0,t.default)(o,i,u,s,l))return o;return null},s=u;exports.default=s;
},{"../../../plugins/utils/object/IsFunction.js":"d6Uw","../../../plugins/utils/object/IsArray.js":"leAG","../utils/ContainsPoint.js":"zPWf"}],"H4hz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={getParentSizer(e){return this.getParent(e)},getTopmostSizer(e){return this.getTopmostParent(e)}};exports.default=e;
},{}],"fFkl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,i,d){!e||void 0===i&&void 0===d||(e.resize?(void 0===i&&(i=e.width),void 0===d&&(d=e.height),e.resize(i,d)):(void 0!==i&&(e.displayWidth=i),void 0!==d&&(e.displayHeight=d)))},i=e;exports.default=i;
},{}],"nz3j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../../../plugins/utils/size/ResizeGameObject.js")),t=s(require("../../../plugins/utils/actions/GlobZone.js")),i=s(require("../../../plugins/utils/align/align/in/QuickSet.js"));function s(e){return e&&e.__esModule?e:{default:e}}const l=Phaser.Display.Align.CENTER;var r=function(){if(void 0!==this.backgroundChildren)for(var s,r,o,u,n,d,a,h=this.backgroundChildren,f=this.left,g=this.top,p=this.width,c=this.height,b=0,v=h.length;b<v;b++)(r=(s=h[b]).rexSizer).hidden||(u=f+(o=r.padding).left,n=g+o.top,d=p-o.left-o.right,a=c-o.top-o.bottom,(0,e.default)(s,d,a),t.default.setPosition(u,n).setSize(d,a),(0,i.default)(s,t.default,l),this.resetChildPositionState(s))},o=r;exports.default=o;
},{"../../../plugins/utils/size/ResizeGameObject.js":"fFkl","../../../plugins/utils/actions/GlobZone.js":"aI5K","../../../plugins/utils/align/align/in/QuickSet.js":"IOWs"}],"bCxT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,i){var r=typeof t;return"string"===r?t=this.getElement(t):void 0!==t&&"object"==r||(i=t,t=this),void 0===i&&(i=!0),t.input&&t.input.hasOwnProperty("draggable")?t.input.draggable=i:i&&(t.setInteractive(),t.scene.input.setDraggable(t),t.on("drag",e,this)),this},e=function(t,e,i){var r=this.getTopmostSizer();r.x+=e-this.x,r.y+=i-this.y},i=t;exports.default=i;
},{}],"zR3l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=G(require("../utils/GetSizerConfig.js")),t=G(require("./PushIntoBounds.js")),r=G(require("./DrawBounds.js")),u=G(require("./AddChildMethods.js")),d=G(require("./AddChildrenMap.js")),i=G(require("./GetElement.js")),a=G(require("./GetChildrenWidth.js")),l=G(require("./GetChildrenHeight.js")),s=G(require("./GetAllChildrenSizers.js")),o=G(require("./GetChildrenSizers.js")),n=G(require("./PreLayout.js")),f=G(require("./Layout.js")),h=G(require("./PostLayout.js")),j=G(require("./_layoutInit.js")),q=G(require("./SetAnchor.js")),g=G(require("./ScaleMethods.js")),C=G(require("./FadeMethods.js")),c=G(require("./EaseMoveMethods.js")),y=G(require("./IsInTouching.js")),p=G(require("./PointToChild.js")),M=G(require("./GetParentSizerMethods.js")),S=G(require("./LayoutBackgrounds.js")),z=G(require("./SetDraggable.js"));function G(e){return e&&e.__esModule?e:{default:e}}var I={getSizerConfig:e.default,pushIntoBounds:t.default,drawBounds:r.default,getChildrenWidth:a.default,getChildrenHeight:l.default,addChildrenMap:d.default,addElement:d.default,getElement:i.default,getAllChildrenSizers:s.default,getChildrenSizers:o.default,preLayout:n.default,_layoutInit:j.default,layout:f.default,layoutBackgrounds:S.default,postLayout:h.default,setAnchor:q.default,isInTouching:y.default,pointToChild:p.default,setDraggable:z.default};Object.assign(I,u.default,M.default,g.default,C.default,c.default);var v=I;exports.default=v;
},{"../utils/GetSizerConfig.js":"xI51","./PushIntoBounds.js":"VoYQ","./DrawBounds.js":"UJIU","./AddChildMethods.js":"lbQ5","./AddChildrenMap.js":"VwhC","./GetElement.js":"VC3H","./GetChildrenWidth.js":"TvEu","./GetChildrenHeight.js":"TvEu","./GetAllChildrenSizers.js":"Nc1G","./GetChildrenSizers.js":"hwFi","./PreLayout.js":"gvAn","./Layout.js":"EF0e","./PostLayout.js":"flHp","./_layoutInit.js":"Lyum","./SetAnchor.js":"qOdf","./ScaleMethods.js":"m6mv","./FadeMethods.js":"fQZf","./EaseMoveMethods.js":"cxk9","./IsInTouching.js":"lHGb","./PointToChild.js":"yxcZ","./GetParentSizerMethods.js":"H4hz","./LayoutBackgrounds.js":"nz3j","./SetDraggable.js":"bCxT"}],"JFlR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=h(require("../container/Container.js")),e=h(require("./Methods.js")),i=require("../../../plugins/utils/size/GetDisplaySize.js"),s=h(require("../utils/GetBoundsConfig.js"));function h(t){return t&&t.__esModule?t:{default:t}}const r=Phaser.Utils.Objects.GetValue;class n extends t.default{constructor(t,e,i,h,n,o){super(t,e,i,2,2),this.isRexSizer=!0,this.setMinSize(h,n),this.setName(r(o,"name","")),this.rexSizer={},this.backgroundChildren=void 0,this.sizerChildren=void 0;var l=r(o,"anchor",void 0);l&&this.setAnchor(l),this.space=(0,s.default)(r(o,"space",0)),this.setDraggable(r(o,"draggable",!1)),this.setDirty(!0)}destroy(t){this.scene&&(void 0!==this.backgroundChildren&&(this.backgroundChildren.length=0),super.destroy(t))}setMinSize(t,e){return this.setMinWidth(t).setMinHeight(e),this}setMinWidth(t){return null==t&&(t=0),this.minWidth=t,this}setMinHeight(t){return null==t&&(t=0),this.minHeight=t,this}setDirty(t){return void 0===t&&(t=!0),this.dirty=t,this}get childrenWidth(){return void 0===this._childrenWidth&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return void 0===this._childrenHeight&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-(0,i.GetDisplayWidth)(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+(0,i.GetDisplayWidth)(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+(0,i.GetDisplayWidth)(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-(0,i.GetDisplayHeight)(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+(0,i.GetDisplayHeight)(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+(0,i.GetDisplayHeight)(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left}get innerRight(){return this.right-this.space.right}get innerTop(){return this.top+this.space.top}get innerBottom(){return this.bottom-this.space.bottom}get innerWidth(){return this.width-this.space.left-this.space.right}get innerHeight(){return this.height-this.space.top-this.space.bottom}}Object.assign(n.prototype,e.default);var o=n;exports.default=o;
},{"../container/Container.js":"maWZ","./Methods.js":"zR3l","../../../plugins/utils/size/GetDisplaySize.js":"Ww5k","../utils/GetBoundsConfig.js":"Msvs"}],"D21T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../../plugins/utils/size/GetDisplaySize.js"),i=function(i){if(this.rexSizer.hidden)return 0;void 0===i&&(i=!0);var r,t,s,h=0,d=this.sizerChildren;if(0===this.orientation)for(var a=0,n=d.length;a<n;a++)(r=d[a]).rexSizer.hidden||(s=0===r.rexSizer.proportion||i&&!r.isRexSpace&&r.rexSizer.proportion>0?r.isRexSizer?Math.max(r.minWidth,r.childrenWidth):(0,e.GetDisplayWidth)(r):0,s+=(t=r.rexSizer.padding).left+t.right,a>0&&(s+=this.space.item),h+=s);else for(a=0,n=d.length;a<n;a++)(r=d[a]).hasOwnProperty("rexSizer")&&(r.rexSizer.hidden||(s=r.isRexSizer?Math.max(r.minWidth,r.childrenWidth):(0,e.GetDisplayWidth)(r),s+=(t=r.rexSizer.padding).left+t.right,h=Math.max(s,h)));return h+this.space.left+this.space.right},r=i;exports.default=r;
},{"../../../plugins/utils/size/GetDisplaySize.js":"Ww5k"}],"HnUZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../../plugins/utils/size/GetDisplaySize.js"),i=function(i){if(this.rexSizer.hidden)return 0;void 0===i&&(i=!0);var t,r,o,s=0,h=this.sizerChildren;if(0===this.orientation)for(var a=0,n=h.length;a<n;a++)(t=h[a]).rexSizer.hidden||(o=t.isRexSizer?Math.max(t.minHeight,t.childrenHeight):(0,e.GetDisplayHeight)(t),o+=(r=t.rexSizer.padding).top+r.bottom,s=Math.max(o,s));else for(a=0,n=h.length;a<n;a++)(t=h[a]).hasOwnProperty("rexSizer")&&(t.rexSizer.hidden||(o=0===t.rexSizer.proportion||i&&!t.isRexSpace&&t.rexSizer.proportion>0?t.isRexSizer?Math.max(t.minHeight,t.childrenHeight):(0,e.GetDisplayHeight)(t):0,o+=(r=t.rexSizer.padding).top+r.bottom,a>0&&(o+=this.space.item),s+=o));return s+this.space.top+this.space.bottom},t=i;exports.default=t;
},{"../../../plugins/utils/size/GetDisplaySize.js":"Ww5k"}],"VqE9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){for(var e,r,t=0,i=this.sizerChildren,o=0,d=i.length;o<d;o++)(e=i[o]).rexSizer.hidden||(r=e.rexSizer.proportion)>0&&(t+=r);return t},r=e;exports.default=r;
},{}],"HWcR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){void 0===e&&(e=[]);for(var r,t=this.sizerChildren,i=0,s=t.length;i<s;i++)(r=t[i]).isRexSizer&&e.push(r);return e},r=e;exports.default=r;
},{}],"fawF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function(r,e){var t,o=e.rexSizer,n=o.padding;return 0===r.orientation?o.proportion>0&&r.proportionLength>0&&(t=o.proportion*r.proportionLength):o.expand&&(t=r.innerWidth-n.left-n.right),t},e=r;exports.default=e;
},{}],"Sy4x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=function(o,t){var e,r=t.rexSizer,n=r.padding;return 0===o.orientation?r.expand&&(e=o.innerHeight-n.top-n.bottom):r.proportion>0&&o.proportionLength>0&&(e=r.proportion*o.proportionLength),e},t=o;exports.default=t;
},{}],"Dio8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=o(require("./GetExpandedChildWidth.js")),t=o(require("./GetExpandedChildHeight.js")),e=o(require("../../../plugins/utils/size/ResizeGameObject.js")),s=o(require("../../../plugins/utils/actions/GlobZone.js")),h=o(require("../../../plugins/utils/align/align/in/QuickSet.js")),r=require("../../../plugins/utils/size/GetDisplaySize.js");function o(i){return i&&i.__esModule?i:{default:i}}var n=function(o,n,d){if(this.rexSizer.hidden||!this.dirty)return this;var l;if(this.preLayout(o),void 0===n&&(n=Math.max(this.childrenWidth,this.minWidth)),void 0===d&&(d=Math.max(this.childrenHeight,this.minHeight)),this.resize(n,d),this.childrenProportion>0){var a=0===this.orientation?this.width-this.childrenWidth:this.height-this.childrenHeight;l=a>0?(a=0===this.orientation?this.width-this.getChildrenWidth(!1):this.height-this.getChildrenHeight(!1))/this.childrenProportion:0}else l=0;this.proportionLength=l;for(var u,p,g,f,c,v,x,z,m,y=this.sizerChildren,j=this.innerLeft,S=this.innerTop,G=this.innerWidth,H=this.innerHeight,W=j,q=S,C=0,b=y.length;C<b;C++)(u=y[C]).rexSizer.hidden||(g=(p=u.rexSizer).padding,z=(0,i.default)(this,u),m=(0,t.default)(this,u),u.isRexSizer?u.layout(this,z,m):(0,e.default)(u,z,m),void 0===z&&(z=(0,r.GetDisplayWidth)(u)),void 0===m&&(m=(0,r.GetDisplayHeight)(u)),0===this.orientation?(f=W+g.left,v=0===p.proportion||0===l?z:p.proportion*l,c=q+g.top,x=H-g.top-g.bottom):(f=W+g.left,v=G-g.left-g.right,c=q+g.top,x=0===p.proportion||0===l?m:p.proportion*l),s.default.setPosition(f,c).setSize(v,x),(0,h.default)(u,s.default,p.align),this.resetChildPositionState(u),0===this.orientation?W+=v+g.left+g.right+this.space.item:q+=x+g.top+g.bottom+this.space.item);return this.layoutBackgrounds(),this.postLayout()},d=n;exports.default=d;
},{"./GetExpandedChildWidth.js":"fawF","./GetExpandedChildHeight.js":"Sy4x","../../../plugins/utils/size/ResizeGameObject.js":"fFkl","../../../plugins/utils/actions/GlobZone.js":"aI5K","../../../plugins/utils/align/align/in/QuickSet.js":"IOWs","../../../plugins/utils/size/GetDisplaySize.js":"Ww5k"}],"DlIg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../basesizer/_layoutInit.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(){e.default.call(this),this._childrenProportion=void 0},o=r;exports.default=o;
},{"../basesizer/_layoutInit.js":"Lyum"}],"EJxe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){var t=e.add.zone(0,0,1,1);return t.isRexSpace=!0,t},t=e;exports.default=t;
},{}],"VtVW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../utils/GetBoundsConfig.js")),i=s(require("../utils/AlignConst.js")),t=s(require("../utils/Space.js"));function s(e){return e&&e.__esModule?e:{default:e}}const r=Phaser.Utils.Objects.IsPlainObject,n=Phaser.Utils.Objects.GetValue,d=Phaser.Display.Align.CENTER,l={min:0,full:-1};var a=function(t,s,a,o,u,h,p){this.pin(t);var f=typeof s;if(null===s)return this;if("number"===f);else if("string"===f)s=l[s];else if(r(s)){var v;s=n(v=s,"proportion",0),a=n(v,"align",d),o=n(v,"padding",0),u=n(v,"expand",!1),h=n(v,"key",void 0),p=n(v,"index",void 0)}return"string"==typeof a&&(a=i.default[a]),void 0===s&&(s=0),void 0===a&&(a=d),void 0===o&&(o=0),void 0===u&&(u=!1),(v=this.getSizerConfig(t)).proportion=s,v.align=a,v.padding=(0,e.default)(o),v.expand=u,void 0===p||p>=this.sizerChildren.length?this.sizerChildren.push(t):this.sizerChildren.splice(p,0,t),void 0!==h&&this.addChildrenMap(h,t),this},o={add:a,addSpace(e){return void 0===e&&(e=1),a.call(this,(0,t.default)(this.scene),e),this},insert(e,i,t,s,r,n,d){return a.call(this,i,t,s,r,n,d,e),this}};exports.default=o;
},{"../utils/GetBoundsConfig.js":"Msvs","../utils/AlignConst.js":"U9kJ","../utils/Space.js":"EJxe"}],"by6L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../container/Container.js"));function r(e){return e&&e.__esModule?e:{default:e}}const t=Phaser.Utils.Array.Remove,i=e.default.prototype.remove,s=e.default.prototype.clear;var h={remove(e,r){return this.getParentSizer(e)!==this?this:(t(this.sizerChildren,e),i.call(this,e,r),this)},removeAll(e){for(var r=0,t=this.sizerChildren;r<t;r++)this.remove(this.sizerChildren[r],e);return this.sizerChildren.length=0,this},clear(e){return this.sizerChildren.length=0,this.backgroundChildren&&(this.backgroundChildren.length=0),s.call(this,e),this}};exports.default=h;
},{"../container/Container.js":"maWZ"}],"Cxau":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("./GetChildrenWidth.js")),t=s(require("./GetChildrenHeight.js")),r=s(require("./GetChildrenProportion.js")),i=s(require("./GetChildrenSizers.js")),d=s(require("./Layout.js")),u=s(require("./_layoutInit.js")),l=s(require("./AddChildMethods.js")),o=s(require("./RemoveChildMethods.js"));function s(e){return e&&e.__esModule?e:{default:e}}var a={getChildrenWidth:e.default,getChildrenHeight:t.default,getChildrenProportion:r.default,getChildrenSizers:i.default,layout:d.default,_layoutInit:u.default};Object.assign(a,l.default,o.default);var n=a;exports.default=n;
},{"./GetChildrenWidth.js":"D21T","./GetChildrenHeight.js":"HnUZ","./GetChildrenProportion.js":"VqE9","./GetChildrenSizers.js":"HWcR","./Layout.js":"Dio8","./_layoutInit.js":"DlIg","./AddChildMethods.js":"VtVW","./RemoveChildMethods.js":"by6L"}],"ytnT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1};exports.default=t;
},{}],"Hzrc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../basesizer/BaseSizer.js")),t=r(require("./Methods.js")),i=r(require("../utils/OrientationConst.js"));function r(e){return e&&e.__esModule?e:{default:e}}const s=Phaser.Utils.Objects.IsPlainObject,o=Phaser.Utils.Objects.GetValue;class n extends e.default{constructor(e,t,i,r,n,h,d){s(t)?(t=o(d=t,"x",0),i=o(d,"y",0),r=o(d,"width",void 0),n=o(d,"height",void 0),h=o(d,"orientation",0)):s(r)?(r=o(d=r,"width",void 0),n=o(d,"height",void 0),h=o(d,"orientation",0)):s(h)&&(h=o(d=h,"orientation",0)),void 0===h&&(h=0),super(e,t,i,r,n,d),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(h),this.setItemSpacing(o(d,"space.item",0)),this.addChildrenMap("items",this.sizerChildren)}destroy(e){this.scene&&(this.sizerChildren.length=0,super.destroy(e))}setOrientation(e){return"string"==typeof e&&(e=i.default[e]),this.orientation=e,this}setItemSpacing(e){return this.space.item=e,this}get childrenProportion(){return void 0===this._childrenProportion&&(this._childrenProportion=this.getChildrenProportion()),this._childrenProportion}}Object.assign(n.prototype,t.default);var h=n;exports.default=h;
},{"../basesizer/BaseSizer.js":"JFlR","./Methods.js":"Cxau","../utils/OrientationConst.js":"ytnT"}],"p8zO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){return Array.prototype.reduce.call(arguments,r,0)},r=function(e,r){return e+r},t=e;exports.default=t;
},{}],"Ue1m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../../plugins/utils/size/GetDisplaySize.js"),i=t(require("../../../plugins/utils/math/Sum.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(){if(this.rexSizer.hidden)return 0;for(var t,r,s,u,n=0,h=this.sizerChildren,o=0;o<this.columnCount;o++){if(t=0,0===this.columnProportions[o]){for(var l=0;l<this.rowCount;l++)(r=h[l*this.columnCount+o])&&(r.rexSizer.hidden||(u=r.isRexSizer?Math.max(r.minWidth,r.childrenWidth):(0,e.GetDisplayWidth)(r),u+=(s=r.rexSizer.padding).left+s.right,t=Math.max(t,u)));n+=t}this.columnWidth[o]=t}return n+(0,i.default)(this.space.left,...this.space.column,this.space.right)},s=r;exports.default=s;
},{"../../../plugins/utils/size/GetDisplaySize.js":"Ww5k","../../../plugins/utils/math/Sum.js":"p8zO"}],"WTGl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../../plugins/utils/size/GetDisplaySize.js"),t=i(require("../../../plugins/utils/math/Sum.js"));function i(e){return e&&e.__esModule?e:{default:e}}var r=function(){if(this.rexSizer.hidden)return 0;for(var i,r,s,o,u=0,n=this.sizerChildren,h=0;h<this.rowCount;h++){if(i=0,0===this.rowProportions[h]){for(var a=0;a<this.columnCount;a++)(r=n[h*this.columnCount+a])&&(r.rexSizer.hidden||(o=r.isRexSizer?Math.max(r.minHeight,r.childrenHeight):(0,e.GetDisplayHeight)(r),o+=(s=r.rexSizer.padding).top+s.bottom,i=Math.max(i,o)));u+=i}this.rowHeight[h]=i}return u+(0,t.default)(this.space.top,...this.space.row,this.space.bottom)},s=r;exports.default=s;
},{"../../../plugins/utils/size/GetDisplaySize.js":"Ww5k","../../../plugins/utils/math/Sum.js":"p8zO"}],"iDdl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){void 0===e&&(e=[]);for(var r,t=this.sizerChildren,i=0,s=t.length;i<s;i++)(r=t[i])&&r.isRexSizer&&e.push(r);return e},r=e;exports.default=r;
},{}],"QMwo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,r){var t,a=e.rexSizer;if(a.expand){var d=a.padding;t=r-d.left-d.right}return t},r=e;exports.default=r;
},{}],"zLd5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t){var r,o=e.rexSizer;if(o.expand){var a=o.padding;r=t-a.top-a.bottom}return r},t=e;exports.default=t;
},{}],"HZbT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=h(require("./GetExpandedChildWidth.js")),i=h(require("./GetExpandedChildHeight.js")),e=h(require("../../../plugins/utils/size/ResizeGameObject.js")),s=h(require("../../../plugins/utils/actions/GlobZone.js")),r=h(require("../../../plugins/utils/align/align/in/QuickSet.js"));function h(t){return t&&t.__esModule?t:{default:t}}var o=function(h,o,n){if(this.rexSizer.hidden||!this.dirty)return this;this.preLayout(h);var d,l,u,a,p=this.totalColumnProportions,f=this.totalRowProportions;if(void 0===o)if(h&&p>0){var g=this.rexSizer.padding;o=h.width-g.left-g.right}else o=Math.max(this.childrenWidth,this.minWidth);if(void 0===n)if(h&&f>0){var g=this.rexSizer.padding;n=h.height-g.top-g.bottom}else n=Math.max(this.childrenHeight,this.minHeight);this.resize(o,n),d=p>0?(this.width-this.childrenWidth)/p:0,l=f>0?(this.height-this.childrenHeight)/f:0;for(var c,x,m,v,z,S,j,w,C,P,y=this.innerLeft,b=y,q=this.innerTop,H=this.space.column,W=this.space.row,G=0;G<this.rowCount;G++){P=0===(w=this.rowProportions[G])?this.rowHeight[G]:w*l,b=y;for(var M=0;M<this.columnCount;M++)C=0===(j=this.columnProportions[M])?this.columnWidth[M]:j*d,(u=this.getChildAt(M,G))&&!u.rexSizer.hidden?(z=(0,t.default)(u,C),S=(0,i.default)(u,P),u.isRexSizer?u.layout(this,z,S):(0,e.default)(u,z,S),c=b+(g=(a=u.rexSizer).padding).left,m=C-g.left-g.right,x=q+g.top,v=P-g.top-g.bottom,s.default.setPosition(c,x).setSize(m,v),(0,r.default)(u,s.default,a.align),this.resetChildPositionState(u),b+=C+H[M]):b+=C+H[M];q+=P+W[G]}return this.layoutBackgrounds(),this.postLayout()},n=o;exports.default=n;
},{"./GetExpandedChildWidth.js":"QMwo","./GetExpandedChildHeight.js":"zLd5","../../../plugins/utils/size/ResizeGameObject.js":"fFkl","../../../plugins/utils/actions/GlobZone.js":"aI5K","../../../plugins/utils/align/align/in/QuickSet.js":"IOWs"}],"vgbH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../utils/GetBoundsConfig.js")),i=r(require("../utils/AlignConst.js"));function r(e){return e&&e.__esModule?e:{default:e}}const t=Phaser.Utils.Objects.IsPlainObject,n=Phaser.Utils.Objects.GetValue,s=Phaser.Display.Align.CENTER;var o=function(e,i,r,t,n){if("number"==typeof e||"number"==typeof i)if(void 0===e){for(var s=0;s<t;s++)if(!r[o=i*t+s])return o}else if(void 0===i){for(s=0;s<n;s++)if(!r[o=s*t+e])return o}else{if(!r[o=i*t+e])return o}else if(!0===i){var o;for(s=0;s<t;s++)for(var l=0;l<n;l++)if(!r[o=l*t+s])return o}else{s=0;for(var u=r.length;s<u;s++)if(!r[s])return s}return null},l={add(r,l,u,d,a,f,v){(this.pin(r),t(l))&&(l=n(h=l,"column",void 0),u=n(h,"row",void 0),d=n(h,"align",s),a=n(h,"padding",0),f=n(h,"expand",!1),v=n(h,"key",void 0));var h,p=o(l,u,this.sizerChildren,this.columnCount,this.rowCount);return null===p?this:("string"==typeof d&&(d=i.default[d]),void 0===d&&(d=s),void 0===a&&(a=0),void 0===f&&(f=!0),(h=this.getSizerConfig(r)).align=d,h.padding=(0,e.default)(a),h.expand=f,this.sizerChildren[p]=r,void 0!==v&&this.addChildrenMap(v,r),this)}};exports.default=l;
},{"../utils/GetBoundsConfig.js":"Msvs","../utils/AlignConst.js":"U9kJ"}],"fOaw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t,r,o){void 0===r&&(r=0),void 0===o&&(o=e.length-1);for(var d=r;d<=o;d++)e[d]=t;return e},t=e;exports.default=t;
},{}],"y4Xt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../container/Container.js")),r=t(require("../../../plugins/utils/array/Fill.js"));function t(e){return e&&e.__esModule?e:{default:e}}const i=Phaser.Utils.Array.Remove,s=e.default.prototype.remove,l=e.default.prototype.clear;var h={remove(e,r){if(this.getParentSizer(e)!==this)return this;if(this.isBackground(e))i(this.backgroundChildren,e);else{var t=this.sizerChildren.indexOf(e);-1!==t&&(this.sizerChildren[t]=null)}return s.call(this,e,r),this},removeAt(e,r,t){var i=this.getChildAt(e,r);return i&&this.remove(i,t),this},removeAll(e){for(var r=0,t=this.sizerChildren;r<t;r++)this.sizerChildren[r]&&this.remove(this.sizerChildren[r],e);return this},clear(e){return(0,r.default)(this.sizerChildren,null),this.backgroundChildren&&(this.backgroundChildren.length=0),l.call(this,e),this}};exports.default=h;
},{"../container/Container.js":"maWZ","../../../plugins/utils/array/Fill.js":"fOaw"}],"Z0lM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../../../plugins/utils/array/Fill.js"));function e(t){return t&&t.__esModule?t:{default:t}}const o=Phaser.Utils.Objects.GetValue;var s=function(e,s,i,r,l){if(void 0===i&&(i=0),void 0===r&&(r=0),this.columnCount=e,this.rowCount=s,void 0===this.sizerChildren?this.sizerChildren=[]:this.removeAll(),this.sizerChildren.length=e*s,(0,t.default)(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,"number"==typeof i)(0,t.default)(this.columnProportions,i);else for(var n=0;n<e;n++)this.columnProportions[n]=i[n]||0;if(this.rowProportions=[],this.rowProportions.length=s,"number"==typeof r)(0,t.default)(this.rowProportions,r);else for(n=0;n<s;n++)this.rowProportions[n]=r[n]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=s,this.space.column=[],this.space.column.length=e-1;var h=o(l,"column",0);if("number"==typeof h)(0,t.default)(this.space.column,h);else{n=0;for(var u=this.space.column.length;n<u;n++)this.space.column[n]=h[n]||0}this.space.row=[],this.space.row.length=s-1;var a=o(l,"row",0);if("number"==typeof a)(0,t.default)(this.space.row,a);else for(n=0,u=this.space.row.length;n<u;n++)this.space.row[n]=a[n]||0;return this},i=s;exports.default=i;
},{"../../../plugins/utils/array/Fill.js":"fOaw"}],"uBT0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("./GetChildrenWidth.js")),r=s(require("./GetChildrenHeight.js")),t=s(require("./GetChildrenSizers.js")),d=s(require("./Layout.js")),i=s(require("./AddChildMethods.js")),u=s(require("./RemoveChildMethods.js")),l=s(require("./ResetGrid.js"));function s(e){return e&&e.__esModule?e:{default:e}}var a={getChildrenWidth:e.default,getChildrenHeight:r.default,getChildrenSizers:t.default,layout:d.default,resetGrid:l.default};Object.assign(a,i.default,u.default);var h=a;exports.default=h;
},{"./GetChildrenWidth.js":"Ue1m","./GetChildrenHeight.js":"WTGl","./GetChildrenSizers.js":"iDdl","./Layout.js":"HZbT","./AddChildMethods.js":"vgbH","./RemoveChildMethods.js":"y4Xt","./ResetGrid.js":"Z0lM"}],"bGm1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=t(require("../basesizer/BaseSizer.js")),r=t(require("./Methods.js"));function t(o){return o&&o.__esModule?o:{default:o}}const i=Phaser.Utils.Objects.IsPlainObject,e=Phaser.Utils.Objects.GetValue;class s extends o.default{constructor(o,r,t,s,n,u,l,h,d,p){i(r)?(r=e(p=r,"x",0),t=e(p,"y",0),s=e(p,"width",void 0),n=e(p,"height",void 0),u=e(p,"column",0),l=e(p,"row",0),h=e(p,"columnProportions",0),d=e(p,"rowProportions",0)):i(s)?(s=e(p=s,"width",void 0),n=e(p,"height",void 0),u=e(p,"column",0),l=e(p,"row",0),h=e(p,"columnProportions",0),d=e(p,"rowProportions",0)):i(u)?(u=e(p=u,"column",0),l=e(p,"row",0),h=e(p,"columnProportions",0),d=e(p,"rowProportions",0)):i(h)&&(h=e(p=h,"columnProportions",0),d=e(p,"rowProportions",0)),super(o,r,t,s,n,p),this.type="rexGridSizer",this.resetGrid(u,l,h,d,e(p,"space",void 0)),this.addChildrenMap("items",this.sizerChildren)}destroy(o){this.scene&&(this.sizerChildren.length=0,super.destroy(o))}setColumnProportion(o,r){return o>=this.columnProportions.length?this:(this.columnProportions[o]=r,this)}setRowProportion(o,r){return o>=this.rowProportions.length?this:(this.rowProportions[o]=r,this)}get totalColumnProportions(){for(var o,r=0,t=0;t<this.columnCount;t++)(o=this.columnProportions[t])>0&&(r+=o);return r}get totalRowProportions(){for(var o,r=0,t=0;t<this.rowCount;t++)(o=this.rowProportions[t])>0&&(r+=o);return r}getChildAt(o,r){return this.sizerChildren[r*this.columnCount+o]}childToGridIndex(o,r){if(!o)return null;var t=this.sizerChildren.indexOf(o);return-1===t?null:(void 0===r&&(r={}),r.x=t%this.columnCount,r.y=Math.floor(t/this.columnCount),r)}}Object.assign(s.prototype,r.default);var n=s;exports.default=n;
},{"../basesizer/BaseSizer.js":"JFlR","./Methods.js":"uBT0"}],"ARWz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){return this.rexSizer.hidden?0:(0===this.orientation?this.maxChildWidth:0)+this.space.left+this.space.right},t=e;exports.default=t;
},{}],"o44h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){return this.rexSizer.hidden?0:(0===this.orientation?0:this.maxChildHeight)+this.space.top+this.space.bottom},e=t;exports.default=e;
},{}],"i3Lf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){void 0===e&&(e=[]);for(var r,t=this.sizerChildren,i=0,s=t.length;i<s;i++)"\n"!==(r=t[i])&&r.isRexSizer&&e.push(r);return e},r=e;exports.default=r;
},{}],"ICki":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=require("../../../plugins/utils/size/GetDisplaySize.js"),t=function(i){for(var t,r,s,n,a,d={lines:[],width:0,height:0},o=this.sizerChildren,l=0,u=d.lines,p=0,g=o.length;p<g;p++){if("\n"===(t=o[p]))t=void 0,r=0,a=!0;else{if(t.rexSizer.hidden)continue;t.isRexSizer&&t.layout(),a=l<(r=0===this.orientation?e(t):h(t))}a&&(n&&(n.width=i-(l+this.space.item),d.width=Math.max(d.width,n.width),d.height+=n.height+this.space.line),n={children:[],height:0},u.push(n),l=i),l-=r+this.space.item,t&&(n.children.push(t),s=0===this.orientation?h(t):e(t),n.height=Math.max(n.height,s))}return n&&(n.width=i-(l+this.space.item),d.width=Math.max(d.width,n.width),d.height+=n.height),d},e=function(t){var e=t.rexSizer.padding;return(0,i.GetDisplayWidth)(t)+e.left+e.right},h=function(t){var e=t.rexSizer.padding;return(0,i.GetDisplayHeight)(t)+e.top+e.bottom},r=t;exports.default=r;
},{"../../../plugins/utils/size/GetDisplaySize.js":"Ww5k"}],"amRk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=h(require("./RunChildrenWrap.js")),i=h(require("../../../plugins/utils/actions/GlobZone.js")),e=h(require("../../../plugins/utils/align/align/in/QuickSet.js")),s=require("../../../plugins/utils/size/GetDisplaySize.js");function h(t){return t&&t.__esModule?t:{default:t}}var a=function(h,a,n){if(this.rexSizer.hidden||!this.dirty)return this;var o;this.preLayout(h),void 0===a&&(a=Math.max(this.maxChildWidth+this.space.left+this.space.right,this.minWidth)),void 0===n&&(n=Math.max(this.maxChildHeight+this.space.top+this.space.bottom,this.minHeight)),o=0===this.orientation?a-this.space.left-this.space.right:n-this.space.top-this.space.bottom;var l=t.default.call(this,o);0===this.orientation?n=Math.max(n,l.height+this.space.top+this.space.bottom):a=Math.max(a,l.height+this.space.left+this.space.right),this.resize(a,n);for(var p,u,c,d,g,f,m,b,v,x,y=0,k=this.innerLeft,z=this.innerTop,G=k,M=z,S=l.lines,j=0,D=S.length;j<D;j++){switch(v=(b=S[j]).children,this.rtl&&v.reverse(),x=o-b.width,this.align){case 0:break;case 1:0===this.orientation?G+=x:M+=x;break;case 2:0===this.orientation?G+=x/2:M+=x/2;break;case 3:y=r(o,x,v.length);break;case 4:0===(y=r(o,x,v.length))&&(0===this.orientation?G+=x:M+=x);break;case 5:0===(y=r(o,x,v.length))&&(0===this.orientation?G+=x/2:M+=x/2)}for(var W=0,q=v.length;W<q;W++)c=(u=(p=v[W]).rexSizer).padding,0===this.orientation?(d=G+c.left,W>0&&(d+=this.space.item),g=M+c.top,f=(0,s.GetDisplayWidth)(p),m=(0,s.GetDisplayHeight)(p),G=d+f+c.right+y):(d=G+c.left,g=M+c.top,W>0&&(g+=this.space.item),f=(0,s.GetDisplayWidth)(p),M=g+(m=(0,s.GetDisplayHeight)(p))+c.bottom+y),i.default.setPosition(d,g).setSize(f,m),(0,e.default)(p,i.default,u.align),this.resetChildPositionState(p);0===this.orientation?(G=k,M+=b.height+this.space.line):(G+=b.height+this.space.line,M=z)}return this.layoutBackgrounds(),this.postLayout()},r=function(t,i,e){return i/t<=.25?i/(e-1):0},n=a;exports.default=n;
},{"./RunChildrenWrap.js":"ICki","../../../plugins/utils/actions/GlobZone.js":"aI5K","../../../plugins/utils/align/align/in/QuickSet.js":"IOWs","../../../plugins/utils/size/GetDisplaySize.js":"Ww5k"}],"OV8I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../basesizer/_layoutInit.js"));function t(e){return e&&e.__esModule?e:{default:e}}var i=function(){e.default.call(this),this._maxChildWidth=void 0,this._maxChildHeight=void 0},d=i;exports.default=d;
},{"../basesizer/_layoutInit.js":"Lyum"}],"JLUc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../utils/GetBoundsConfig.js")),i=t(require("../../../plugins/utils/object/IsArray.js"));function t(e){return e&&e.__esModule?e:{default:e}}const s=Phaser.Utils.Objects.IsPlainObject,r=Phaser.Utils.Objects.GetValue,n=Phaser.Display.Align.CENTER;var d=function(i,t,d,l){if("\n"===i)return this.addNewLine(),this;var a;(this.pin(i),s(t))&&(t=r(a=t,"padding",0),d=r(a,"key",void 0),l=r(a,"index",void 0));return void 0===t&&(t=0),(a=this.getSizerConfig(i)).align=n,a.padding=(0,e.default)(t),void 0===l||l>=this.sizerChildren.length?this.sizerChildren.push(i):this.sizerChildren.splice(l,0,i),void 0!==d&&this.addChildrenMap(d,i),this},l={add(e,t,s){if((0,i.default)(e))for(var r=e,n=0,l=r.length;n<l;n++)d.call(this,r[n],t);else d.call(this,e,t,s);return this},addNewLine(){return this.sizerChildren.push("\n"),this},insert(e,i,t,s){return d.call(this,i,t,s,e),this}};exports.default=l;
},{"../utils/GetBoundsConfig.js":"Msvs","../../../plugins/utils/object/IsArray.js":"leAG"}],"TPhh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("./GetChildrenWidth.js")),t=s(require("./GetChildrenHeight.js")),r=s(require("./GetChildrenSizers.js")),d=s(require("./Layout.js")),i=s(require("./_layoutInit.js")),u=s(require("./AddChildMethods.js")),l=s(require("./RemoveChildMethods.js"));function s(e){return e&&e.__esModule?e:{default:e}}var a={getChildrenWidth:e.default,getChildrenHeight:t.default,getChildrenSizers:r.default,layout:d.default,_layoutInit:i.default};Object.assign(a,u.default,l.default);var o=a;exports.default=o;
},{"./GetChildrenWidth.js":"ARWz","./GetChildrenHeight.js":"o44h","./GetChildrenSizers.js":"i3Lf","./Layout.js":"amRk","./_layoutInit.js":"OV8I","./AddChildMethods.js":"JLUc","./RemoveChildMethods.js":"by6L"}],"yJTe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../../plugins/utils/size/GetDisplaySize.js"),i=function(i){void 0===i&&(i=this.sizerChildren);for(var t,r,s=0,a=0,d=i.length;a<d;a++)"\n"!==(t=i[a])&&(r=t.isRexSizer?Math.max(t.minWidth,t.childrenWidth):(0,e.GetDisplayWidth)(t),s=Math.max(r,s));return s},t=i;exports.default=t;
},{"../../../plugins/utils/size/GetDisplaySize.js":"Ww5k"}],"iytj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../../plugins/utils/size/GetDisplaySize.js"),i=function(i){void 0===i&&(i=this.sizerChildren);for(var t,r,s=0,a=0,l=i.length;a<l;a++)"\n"!==(t=i[a])&&(r=t.isRexSizer?Math.max(t.minHeight,t.childrenHeight):(0,e.GetDisplayHeight)(t),s=Math.max(r,s));return s},t=i;exports.default=t;
},{"../../../plugins/utils/size/GetDisplaySize.js":"Ww5k"}],"gweT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=h(require("../basesizer/BaseSizer.js")),i=h(require("./Methods.js")),e=h(require("../utils/OrientationConst.js")),s=h(require("./GetMaxChildWidth.js")),r=h(require("./GetMaxChildHeight.js"));function h(t){return t&&t.__esModule?t:{default:t}}const n=Phaser.Utils.Objects.IsPlainObject,a=Phaser.Utils.Objects.GetValue;class d extends t.default{constructor(t,i,e,s,r,h){n(i)?(i=a(h=i,"x",0),e=a(h,"y",0),s=a(h,"width",void 0),r=a(h,"height",void 0)):n(s)&&(s=a(h=s,"width",void 0),r=a(h,"height",void 0)),super(t,i,e,s,r,h),this.type="rexFixWidthSizer",this.sizerChildren=[],this.setOrientation(a(h,"orientation",0)),this.setItemSpacing(a(h,"space.item",0)),this.setLineSpacing(a(h,"space.line",0)),this.setAlign(a(h,"align",0)),this.setRTL(a(h,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}destroy(t){this.scene&&(this.sizerChildren.length=0,super.destroy(t))}setOrientation(t){return"string"==typeof t&&(t=e.default[t]),this.orientation=t,this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setAlign(t){return"string"==typeof t&&(t=l[t]),this.align=t,this}setRTL(t){return void 0===t&&(t=!0),this.rtl=t,this}get maxChildWidth(){return void 0===this._maxChildWidth&&(this._maxChildWidth=s.default.call(this)),this._maxChildWidth}get maxChildHeight(){return void 0===this._maxChildHeight&&(this._maxChildHeight=r.default.call(this)),this._maxChildHeight}}const l={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(d.prototype,i.default);var o=d;exports.default=o;
},{"../basesizer/BaseSizer.js":"JFlR","./Methods.js":"TPhh","../utils/OrientationConst.js":"ytnT","./GetMaxChildWidth.js":"yJTe","./GetMaxChildHeight.js":"iytj"}],"jTfr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../../plugins/utils/size/GetDisplaySize.js"),i=function(){if(this.rexSizer.hidden)return 0;var i,t,r,s=0,a=this.sizerChildren;for(var d in a)r=(i=a[d]).isRexSizer?Math.max(i.minWidth,i.childrenWidth):(0,e.GetDisplayWidth)(i),r+=(t=i.rexSizer.padding).left+t.right,s=Math.max(r,s);return s+this.space.left+this.space.right},t=i;exports.default=t;
},{"../../../plugins/utils/size/GetDisplaySize.js":"Ww5k"}],"fFpB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../../plugins/utils/size/GetDisplaySize.js"),i=function(){if(this.rexSizer.hidden)return 0;var i,t,r,s=0,a=this.sizerChildren;for(var o in a)r=(i=a[o]).isRexSizer?Math.max(i.minHeight,i.childrenHeight):(0,e.GetDisplayHeight)(i),r+=(t=i.rexSizer.padding).top+t.bottom,s=Math.max(r,s);return s+this.space.top+this.space.bottom},t=i;exports.default=t;
},{"../../../plugins/utils/size/GetDisplaySize.js":"Ww5k"}],"jmBZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){void 0===e&&(e=[]);var r,t=this.sizerChildren;for(var i in t)(r=t[i]).isRexSizer&&e.push(r);return e},r=e;exports.default=r;
},{}],"J4V3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t){var r,d=t.rexSizer,i=d.padding;return d.expandWidth&&(r=e.innerWidth-i.left-i.right),r},t=e;exports.default=t;
},{}],"DUAB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t){var r,o=t.rexSizer,i=o.padding;return o.expandHeight&&(r=e.innerHeight-i.top-i.bottom),r},t=e;exports.default=t;
},{}],"sMHC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=h(require("./GetExpandedChildWidth.js")),t=h(require("./GetExpandedChildHeight.js")),e=h(require("../../../plugins/utils/size/ResizeGameObject.js")),s=h(require("../../../plugins/utils/actions/GlobZone.js")),r=h(require("../../../plugins/utils/align/align/in/QuickSet.js"));function h(i){return i&&i.__esModule?i:{default:i}}var d=function(h,d,n){if(this.rexSizer.hidden||!this.dirty)return this;var a,o,u;this.preLayout(h),void 0===d&&(d=Math.max(this.childrenWidth,this.minWidth)),void 0===n&&(n=Math.max(this.childrenHeight,this.minHeight)),this.resize(d,n);var l,f,p,g,x,v,c=this.innerLeft,z=this.innerTop,j=this.innerWidth,m=this.innerHeight,y=this.sizerChildren;for(var S in y)u=(o=(a=y[S]).rexSizer).padding,a.isRexSizer?a.layout(this,(0,i.default)(this,a),(0,t.default)(this,a)):(x=void 0,v=void 0,o.expandWidth&&(x=j-u.left-u.right),o.expandHeight&&(v=m-u.top-u.bottom),(0,e.default)(a,x,v)),l=c+u.left,p=j-u.left-u.right,f=z+u.top,g=m-u.top-u.bottom,s.default.setPosition(l,f).setSize(p,g),(0,r.default)(a,s.default,o.align),this.resetChildPositionState(a);return this.layoutBackgrounds(),this.postLayout()},n=d;exports.default=n;
},{"./GetExpandedChildWidth.js":"J4V3","./GetExpandedChildHeight.js":"DUAB","../../../plugins/utils/size/ResizeGameObject.js":"fFkl","../../../plugins/utils/actions/GlobZone.js":"aI5K","../../../plugins/utils/align/align/in/QuickSet.js":"IOWs"}],"fKUc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../utils/AlignConst.js")),i=t(require("../utils/GetBoundsConfig.js"));function t(e){return e&&e.__esModule?e:{default:e}}const s=Phaser.Utils.Objects.IsPlainObject,d=Phaser.Utils.Objects.GetValue,r=Phaser.Display.Align.CENTER;var n={add(t,n,a,l,o){var h;(this.pin(t),s(n))&&(n=d(h=n,"key",void 0),a=d(h,"align",r),l=d(h,"padding",0),o=d(h,"expand",!0));return void 0===n&&(n=Date.now()),"string"==typeof a&&(a=e.default[a]),void 0===a&&(a=r),void 0===l&&(l=0),void 0===o&&(o=!0),(h=this.getSizerConfig(t)).align=a,h.padding=(0,i.default)(l),s(o)?(h.expandWidth=d(o,"width",!1),h.expandHeight=d(o,"height",!1)):(h.expandWidth=o,h.expandHeight=o),this.sizerChildren.hasOwnProperty(n)&&this.sizerChildren[n].destroy(),this.sizerChildren[n]=t,this}};exports.default=n;
},{"../utils/AlignConst.js":"U9kJ","../utils/GetBoundsConfig.js":"Msvs"}],"fkrV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../container/Container.js"));function r(e){return e&&e.__esModule?e:{default:e}}const t=e.default.prototype.remove,i=e.default.prototype.clear;var s={remove(e,r){var i;if("string"==typeof e){if(i=e,!this.sizerChildren.hasOwnProperty(i))return this}else{if(this.getParentSizer(e)!==this)return this;i=this.childToKey(e)}return delete this.sizerChildren[i],t.call(this,e,r),this},removeAll(e){var r;for(var i in this.sizerChildren)r=this.sizerChildren[i],delete this.sizerChildren[i],t.call(this,r,e);return this},clear(e){return this.removeAll(e),this.backgroundChildren&&(this.backgroundChildren.length=0),i.call(this,e),this}};exports.default=s;
},{"../container/Container.js":"maWZ"}],"KAGP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("./GetChildrenWidth.js")),t=l(require("./GetChildrenHeight.js")),r=l(require("./GetChildrenSizers.js")),d=l(require("./Layout.js")),i=l(require("./AddChildMethods.js")),u=l(require("./RemoveChildMethods.js"));function l(e){return e&&e.__esModule?e:{default:e}}var s={getChildrenWidth:e.default,getChildrenHeight:t.default,getChildrenSizers:r.default,layout:d.default};Object.assign(s,i.default,u.default);var a=s;exports.default=a;
},{"./GetChildrenWidth.js":"jTfr","./GetChildrenHeight.js":"fFpB","./GetChildrenSizers.js":"jmBZ","./Layout.js":"sMHC","./AddChildMethods.js":"fKUc","./RemoveChildMethods.js":"fkrV"}],"p7Ww":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function(r,e){if(Array.isArray(r))return r.indexOf(e);for(var t in r)if(r[t]===e)return t;return null},e=r;exports.default=e;
},{}],"n4Mj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../basesizer/BaseSizer.js")),s=i(require("./Methods.js")),t=i(require("../../../plugins/utils/object/Clear.js")),r=i(require("../../../plugins/utils/object/IndexOf.js"));function i(e){return e&&e.__esModule?e:{default:e}}const d=Phaser.Utils.Objects.IsPlainObject,l=Phaser.Utils.Objects.GetValue;class u extends e.default{constructor(e,s,t,r,i,u){d(s)?(s=l(u=s,"x",0),t=l(u,"y",0),r=l(u,"width",void 0),i=l(u,"height",void 0)):d(r)&&(r=l(u=r,"width",void 0),i=l(u,"height",void 0)),super(e,s,t,r,i,u),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}destroy(e){this.scene&&((0,t.default)(this.sizerChildren),super.destroy(e))}childToKey(e){if("string"!=typeof e)return(0,r.default)(this.sizerChildren,e);var s=e;return this.sizerChildren.hasOwnPropery(s)?s:null}}Object.assign(u.prototype,s.default);var h=u;exports.default=h;
},{"../basesizer/BaseSizer.js":"JFlR","./Methods.js":"KAGP","../../../plugins/utils/object/Clear.js":"jv1g","../../../plugins/utils/object/IndexOf.js":"p7Ww"}],"cr1v":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=Phaser.GameObjects.Graphics;class i extends t{constructor(t,i,s){void 0===i&&(i=0),"string"==typeof i&&(shaep=e[i]),void 0===s&&(s=0),super(t.scene),this.parent=t,this.shape=i,this.padding=s,this.setPosition().resize()}destroy(){return this.parent=void 0,super.destroy(),this}setPosition(t,i){var e=this.parent;return void 0===t&&(t=e.x),void 0===i&&(i=e.y),super.setPosition(t,i),this}resize(t,i,e){var s=this.parent;if(void 0===t&&(t=s.width),void 0===i&&(i=s.height),void 0===e&&(e=this.padding),this.widthSave===t&&this.heightSave===i&&this.paddingSave===e)return this;switch(this.clear().fillStyle(16777215),this.shape){case 1:var r=Math.min(t,i)/2;this.fillCircle(0,0,r+e);break;default:this.fillRect(-t*s.originX-e,-i*s.originY-e,t+2*e,i+2*e)}return this.widthSave=t,this.heightSave=i,this.paddingSave=e,this}}const e={rectangle:0,circle:1};var s=i;exports.default=s;
},{}],"L52d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/utils/mask/DefaultMask.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(t,r,s,u){var a=new e.default(r,s,u);return t&&!t.isRexSizer&&t.setMask(a.createGeometryMask()),this.pin(a),a},s=r;exports.default=s;
},{"../../../plugins/utils/mask/DefaultMask.js":"cr1v"}],"lUYW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../sizer/Sizer.js")),e=i(require("../utils/AddChildMask.js"));function i(t){return t&&t.__esModule?t:{default:t}}const a=Phaser.Utils.Objects.GetValue;class s extends t.default{constructor(t,e){super(t,e),this.type="rexLabel";var i=a(e,"background",void 0),s=a(e,"icon",void 0),d=a(e,"iconMask",void 0),r=a(e,"text",void 0),h=a(e,"action",void 0),n=a(e,"actionMask",void 0),o=a(e,"align",void 0),c=a(e,"space.icon",0),l=a(e,"space.text",0);(i&&this.addBackground(i),"right"!==o&&"bottom"!==o&&"center"!==o||this.addSpace(),s)&&(0===this.orientation?(r||h)&&(u={right:c}):(r||h)&&(u={bottom:c}),this.add(s,0,"center",u),d&&(d=this.addChildMask(s,s,1)));if(r){var p,u,x,M=a(e,"expandTextWidth",!1),v=a(e,"expandTextHeight",!1);0===this.orientation?(p=M?1:0,h&&(u={right:l}),x=v):(p=v?1:0,h&&(u={bottom:l}),x=M),this.add(r,p,"center",u,x)}h&&(this.add(h),n&&(n=this.addChildMask(h,h,1))),"center"===o&&this.addSpace(),this.addChildrenMap("background",i),this.addChildrenMap("icon",s),this.addChildrenMap("iconMask",d),this.addChildrenMap("text",r),this.addChildrenMap("action",h),this.addChildrenMap("actionMask",n)}get text(){var t=this.childrenMap.text;return void 0===t?"":t.text?t.text:t.getData("text")}set text(t){var e=this.childrenMap.text;void 0!==e&&(e.setText?e.setText(t):e.setData("text",t))}setText(t){return this.text=t,this}appendText(t){this.text+=t}layout(t,e,i){if(this.rexSizer.hidden||!this.dirty)return this;super.layout(t,e,i);var a=this.childrenMap.iconMask;a&&(a.setPosition(),this.resetChildPositionState(a));var s=this.childrenMap.actionMask;return s&&(s.setPosition(),this.resetChildPositionState(s)),this}resize(t,e){super.resize(t,e);var i=this.childrenMap.iconMask;i&&i.resize();var a=this.childrenMap.actionMask;return a&&a.resize(),this}}var d={addChildMask:e.default};Object.assign(s.prototype,d);var r=s;exports.default=r;
},{"../sizer/Sizer.js":"Hzrc","../utils/AddChildMask.js":"L52d"}],"kE1P":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../../utils/eventemitter/EventEmitterMethods.js")),e=i(require("../../utils/system/GetSceneObject.js"));function i(t){return t&&t.__esModule?t:{default:t}}const s=Phaser.Utils.Objects.GetValue;class h{constructor(t,i){this.gameObject=t,this.scene=(0,e.default)(t),this.setEventEmitter(s(i,"eventEmitter",void 0)),this._enable=void 0,t.setInteractive(s(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(s(t,"enable",!0)),this.setMode(s(t,"mode",1)),this.setClickInterval(s(t,"clickInterval",100)),this.setDragThreshold(s(t,"threshold",void 0)),this}boot(){this.gameObject.on("pointerdown",this.onPress,this),this.gameObject.on("pointerup",this.onRelease,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onMove,this),this.gameObject.on("destroy",this.destroy,this)}shutdown(){this.destroyEventEmitter(),this.pointer=null,this.gameObject=null,this.scene=null}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var e=t?"enable":"disable";this.emit(e,this,this.gameObject)}}setEnable(t){return void 0===t&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return"string"==typeof t&&(t=n[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,e,i,s){void 0===this.pointer&&(this.pointer=t,0===this.mode&&this.click(t.downTime,t,s))}onRelease(t,e,i,s){this.pointer===t&&(1===this.mode&&this.click(t.upTime,t,s),this.pointer=void 0)}onPointOut(t,e){this.pointer===t&&this.cancel()}onMove(t,e,i,s){this.pointer===t&&void 0!==this.dragThreshold&&t.getDistance()>=this.dragThreshold&&this.cancel()}click(t,e,i){if(!this.enable)return this;if(void 0===t)return this.emit("click",this,this.gameObject,e,i),this;this.pointer=void 0;var s=this.lastClickTime;return void 0!==s&&t-s<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.gameObject,e,i),this)}cancel(){return this.pointer=void 0,this}}Object.assign(h.prototype,t.default);const n={press:0,pointerdown:0,release:1,pointerup:1};var o=h;exports.default=o;
},{"../../utils/eventemitter/EventEmitterMethods.js":"TmQr","../../utils/system/GetSceneObject.js":"IEm3"}],"RFFk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/input/button/Button.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=e.default;exports.default=u;
},{"../../../plugins/input/button/Button.js":"kE1P"}],"dIRn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FireEvent=exports.ButtonSetInteractive=void 0;var t=e(require("../../click/Click.js"));function e(t){return t&&t.__esModule?t:{default:t}}var i=function(e,i){e._buttonBehavior=new t.default(e,i),e._buttonBehavior.on("click",function(t,e,i,o){n.call(this,"button.click",e,i,o)},this).on("enable",function(t,e){n.call(this,"button.enable",e)},this).on("disable",function(t,e){n.call(this,"button.disable",e)},this),e.on("pointerover",function(t,i,o,r){n.call(this,"button.over",e,t,r)},this).on("pointerout",function(t,i){n.call(this,"button.out",e,t,i)},this)};exports.ButtonSetInteractive=i;var n=function(t,e,i,n){var o;if("number"==typeof e){if(o=e,!(e=this.buttons[o]))return}else if(-1===(o=this.buttons.indexOf(e)))return;this.eventEmitter!==this&&this.emit(t,e,o,i,n),void 0!==this.groupName?this.eventEmitter.emit(t,e,this.groupName,o,i,n):this.eventEmitter.emit(t,e,o,i,n)};exports.FireEvent=n;
},{"../../click/Click.js":"RFFk"}],"A5H7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../sizer/Sizer.js")),e=require("../utils/buttons/ButtonSetInteractive.js"),s=i(require("../../../plugins/utils/object/IsArray.js"));function i(t){return t&&t.__esModule?t:{default:t}}const r=t.default.prototype.add,n=t.default.prototype.addSpace,o=t.default.prototype.insert;var l=function(t){if(0===this.buttons.length){if(!this.buttonsExpand)switch(this.buttonsAlign){case"right":case"bottom":case"center":n.call(this)}r.call(this,t,this.buttonProportion,"center",0,!0),this.buttonsExpand||"center"===this.buttonsAlign&&n.call(this)}else{var s=this.sizerChildren.length-1;this.sizerChildren[s].isRexSpace?o.call(this,s,t,this.buttonProportion,"center",0,!0):r.call(this,t,this.buttonProportion,"center",0,!0)}return this.buttons.push(t),e.ButtonSetInteractive.call(this,t,this.clickConfig),this},u={addButton(t){if((0,s.default)(t))for(var e=t,i=0,r=e.length;i<r;i++)l.call(this,e[i]);else l.call(this,t);return this},addButtons(t){for(var e=0,s=t.length;e<s;e++)l.call(this,t[e]);return this}};exports.default=u;
},{"../sizer/Sizer.js":"Hzrc","../utils/buttons/ButtonSetInteractive.js":"dIRn","../../../plugins/utils/object/IsArray.js":"leAG"}],"AeFp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../sizer/Sizer.js")),e=r(require("../../../plugins/utils/object/IsArray.js"));function r(t){return t&&t.__esModule?t:{default:t}}const s=Phaser.Utils.Array.Remove,i=t.default.prototype.remove,l=t.default.prototype.clear;var u=function(t,e){return(t=this.getButton(t))?(1===this.buttons.length?this.clear(e):(s(this.buttons,t),i.call(this,t,e)),this):this},o={remove(t,r){if((0,e.default)(t))for(var s=t,i=0,l=s.length;i<l;i++)u.call(this,s[i],r);else u.call(this,t,r);return this},clear(t){return this.buttons.length=0,l.call(this,t),this},removeButton(t,e){return this.remove(t,e),this},clearButtons(t){return this.clear(t),this}};exports.default=o;
},{"../sizer/Sizer.js":"Hzrc","../../../plugins/utils/object/IsArray.js":"leAG"}],"ulSe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../object/IsArray.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=function(r,t){if(!r)return null;if((0,e.default)(r)){for(var u,l=0,a=r.length;l<a;l++)if(u=n(r[l],t))return u}else for(var f in r)if(u=n(r[f],t))return u},n=function(e,r){return e?e.hasOwnProperty("name")?e.name===r?e:null:GetElementByName(e,r):null},u=t;exports.default=u;
},{"../object/IsArray.js":"leAG"}],"O2wQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/utils/system/GetGameObjectByName.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=e.default;exports.default=u;
},{"../../../plugins/utils/system/GetGameObjectByName.js":"ulSe"}],"EqSa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IsShown=exports.Hide=exports.Show=void 0;var e=t(require("./GetSizerConfig.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(e){i(e,!1)};exports.Show=r;var o=function(e){i(e,!0)};exports.Hide=o;var n=function(t){return!!t&&!(0,e.default)(t).hidden};exports.IsShown=n;var i=function(t,r){t&&((0,e.default)(t).hidden=r,t.setVisible(!r))};
},{"./GetSizerConfig.js":"xI51"}],"g41A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("../GetGameObjectByName.js")),e=require("./ButtonSetInteractive.js"),o=require("../Hide.js");function n(t){return t&&t.__esModule?t:{default:t}}var s={getButton(e){var o;switch(typeof e){case"number":o=this.buttons[e];break;case"string":o=(0,t.default)(this.buttons,e);break;default:o=e,-1===this.buttons.indexOf(o)&&(o=void 0)}return o},setButtonEnable(t,e){if(void 0===t||"boolean"==typeof t){e=t;for(var o=0,n=this.buttons.length;o<n;o++)this.buttons[o]._buttonBehavior.setEnable(e)}else this.getButton(t)._buttonBehavior.setEnable(e);return this},toggleButtonEnable(t){if(void 0===t||"boolean"==typeof t)for(var e=0,o=this.buttons.length;e<o;e++)this.buttons[e]._buttonBehavior.toggleEnable();else this.getButton(t)._buttonBehavior.toggleEnable();return this},getButtonEnable(t){return void 0===t&&(t=0),this.getButton(t)._buttonBehavior.enable},emitButtonClick(t){return e.FireEvent.call(this,"button.click",t),this},showButton(t){return(0,o.Show)(this.getButton(t)),this},hideButton(t){return(0,o.Hide)(this.getButton(t)),this},isButtonShown(t){return(0,o.IsShown)(this.getButton(t)),this},forEachButtton(t,e){for(var o=0,n=this.buttons.length;o<n;o++)e?t.call(e,this.buttons[o],o,this.buttons):t(this.buttons[o],o,this.buttons);return this}};exports.default=s;
},{"../GetGameObjectByName.js":"O2wQ","./ButtonSetInteractive.js":"dIRn","../Hide.js":"EqSa"}],"aER4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=Phaser.Utils.Objects.GetValue;var a=function(a,e){void 0===e&&(e=!1);var s=t(a,"dataManager",void 0),o=t(a,"setValueCallback",void 0),i=t(a,"setValueCallbackScope",void 0);void 0===s&&(this.setDataEnabled(),s=this.data),this.buttons.forEach(function(t){var a=t.name;o&&s.events.on(`changedata-${a}`,function(a,e,s){i?o.call(i,t,e,s):o(t,e,s)},this),s.set(a,void 0),s.set(a,e)}),this._dataManager=s},e=a;exports.default=e;
},{}],"HfdY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./InitData.js"));function e(t){return t&&t.__esModule?t:{default:t}}var i=function(e){t.default.call(this,e),this._value=void 0,Object.defineProperty(this,"value",{get:function(){return this._value}.bind(this),set:function(t){if(t!==this._value){this._value=t;var e=this._dataManager;this.buttons.forEach(function(i){var a=i.name,n=e.get(a);a===t?n||e.set(a,!0):n&&e.set(a,!1)})}}.bind(this),enumerable:!0,configurable:!0}),this.on("button.click",function(t){this.value=t.name},this)},a=i;exports.default=a;
},{"./InitData.js":"aER4"}],"nom4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./InitData.js"));function e(t){return t&&t.__esModule?t:{default:t}}var a=function(e){t.default.call(this,e),this.on("button.click",function(t){var e=this._dataManager,a=t.name,r=e.get(a);e.set(a,!r)},this)},r=a;exports.default=r;
},{"./InitData.js":"aER4"}],"Nv1Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./SetRadioType.js")),t=r(require("./SetCheckboxesType.js"));function r(e){return e&&e.__esModule?e:{default:e}}const s=Phaser.Utils.Objects.GetValue,o={radio:e.default,checkboxes:t.default};var a=function(e){var t=s(e,"type",void 0);t&&o.hasOwnProperty(t)&&o[t].call(this,e)},u=a;exports.default=u;
},{"./SetRadioType.js":"HfdY","./SetCheckboxesType.js":"nom4"}],"rCq6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=u(require("../sizer/Sizer.js")),e=u(require("./AddChildMethods.js")),s=u(require("./RemoveChildMethods.js")),i=u(require("../utils/buttons/ButtonMethods.js")),o=u(require("../utils/buttons/types/SetType.js"));function u(t){return t&&t.__esModule?t:{default:t}}const d=Phaser.Utils.Objects.GetValue;class r extends t.default{constructor(t,e){void 0===e&&(e={});var s=e.space;"number"==typeof s&&(e.space={item:s}),super(t,e),this.type="rexButtons",this.eventEmitter=d(e,"eventEmitter",this),this.groupName=d(e,"groupName",void 0),this.buttons=[];var i=d(e,"background",void 0),u=d(e,"buttons",void 0);this.buttonsExpand=d(e,"expand",!1),this.buttonsAlign=d(e,"align",void 0),this.buttonProportion=this.buttonsExpand?1:0,this.clickConfig=d(e,"click",void 0),i&&this.addBackground(i),u&&this.addButtons(u),o.default.call(this,e),this.addChildrenMap("background",i),this.addChildrenMap("buttons",this.buttons)}}Object.assign(r.prototype,e.default,s.default,i.default);var n=r;exports.default=n;
},{"../sizer/Sizer.js":"Hzrc","./AddChildMethods.js":"A5H7","./RemoveChildMethods.js":"AeFp","../utils/buttons/ButtonMethods.js":"g41A","../utils/buttons/types/SetType.js":"Nv1Q"}],"jLAF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../gridsizer/GridSizer.js")),e=require("../utils/buttons/ButtonSetInteractive.js");function r(t){return t&&t.__esModule?t:{default:t}}const i=t.default.prototype.add;var s={addButton(t,r,s){return i.call(this,t,r,s,void 0,0,this.buttonsExpand),this.buttons.push(t),e.ButtonSetInteractive.call(this,t,this.clickConfig),this},addButtons(t,e){for(var r=0,i=t;r<i;r++)this.addButton(t[r],void 0,e);return this}};exports.default=s;
},{"../gridsizer/GridSizer.js":"bGm1","../utils/buttons/ButtonSetInteractive.js":"dIRn"}],"ge0Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../gridsizer/GridSizer.js")),e=r(require("../../../plugins/utils/object/IsArray.js"));function r(t){return t&&t.__esModule?t:{default:t}}const s=Phaser.Utils.Array.Remove,i=t.default.prototype.remove,l=t.default.prototype.clear;var u=function(t,e){return(t=this.getButton(t))?(s(this.buttons,t),i.call(this,t,e),this):this},o={remove(t,r){if((0,e.default)(t))for(var s=t,i=0,l=s.length;i<l;i++)u.call(this,s[i],r);else u.call(this,t,r);return this},clear(t){return this.buttons.length=0,l.call(this,t),this},removeButton(t,e){return this.remove(t,e),this},clearButtons(t){return this.clear(t),this}};exports.default=o;
},{"../gridsizer/GridSizer.js":"bGm1","../../../plugins/utils/object/IsArray.js":"leAG"}],"xEsU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../gridsizer/GridSizer.js")),e=i(require("./AddChildMethods.js")),r=i(require("./RemoveChildMethods.js")),o=i(require("../utils/buttons/ButtonMethods.js")),s=i(require("../utils/buttons/types/SetType.js"));function i(t){return t&&t.__esModule?t:{default:t}}const d=Phaser.Utils.Objects.GetValue;class u extends t.default{constructor(t,e){void 0===e&&(e={});var r=d(e,"row",0),o=d(e,"col",0),i=d(e,"buttons",void 0),u=d(e,"expand",!0),a=u?1:0;if(void 0!==i){r=Math.max(r,i.length);for(var n=0,l=i.length;n<l;n++)o=Math.max(o,i[n].length)}e.row=r,e.column=o,e.columnProportions=a,e.rowProportions=a,super(t,e),this.type="rexGridButtons",this.eventEmitter=d(e,"eventEmitter",this),this.groupName=d(e,"groupName",void 0),this.buttons=[];var h=d(e,"background",void 0);this.buttonsExpand=u;var c=d(e,"space",void 0);if("number"==typeof c&&(c={itemX:c,itemY:c}),this.clickConfig=d(e,"click",void 0),h&&this.addBackground(h),i)for(var p,v=0,f=i.length;v<f;v++)for(var b=0,g=i.length;b<g;b++)(p=i[v][b])&&this.addButton(p,b,v);s.default.call(this,e),this.addChildrenMap("background",h),this.addChildrenMap("buttons",this.buttons)}}Object.assign(u.prototype,e.default,r.default,o.default);var a=u;exports.default=a;
},{"../gridsizer/GridSizer.js":"bGm1","./AddChildMethods.js":"jLAF","./RemoveChildMethods.js":"ge0Q","../utils/buttons/ButtonMethods.js":"g41A","../utils/buttons/types/SetType.js":"Nv1Q"}],"Bxvl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../fixwidthsizer/FixWidthSizer.js")),e=require("../utils/buttons/ButtonSetInteractive.js"),i=r(require("../../../plugins/utils/object/IsArray.js"));function r(t){return t&&t.__esModule?t:{default:t}}const s=t.default.prototype.add;var l=function(t){return s.call(this,t),this.buttons.push(t),e.ButtonSetInteractive.call(this,t,this.clickConfig),this},u={addButton(t){if((0,i.default)(t))for(var e=t,r=0,s=e.length;r<s;r++)l.call(this,e[r]);else l.call(this,t);return this},addButtons(t){if((0,i.default)(t[0]))for(var e,r=t,u=0,a=r.length-1;u<=a;u++){for(var n=0,o=(e=r[u]).length;n<o;n++)l.call(this,e[n]);u>a&&s.addNewLine(this)}else for(n=0,o=t.length;n<o;n++)l.call(this,t[n]);return this}};exports.default=u;
},{"../fixwidthsizer/FixWidthSizer.js":"gweT","../utils/buttons/ButtonSetInteractive.js":"dIRn","../../../plugins/utils/object/IsArray.js":"leAG"}],"mFSV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../fixwidthsizer/FixWidthSizer.js")),e=r(require("../../../plugins/utils/object/IsArray.js"));function r(t){return t&&t.__esModule?t:{default:t}}const s=Phaser.Utils.Array.Remove,i=t.default.prototype.remove,l=t.default.prototype.clear;var u=function(t,e){return(t=this.getButton(t))?(1===this.buttons.length?this.clear(e):(s(this.buttons,t),i.call(this,t,e)),this):this},o={remove(t,r){if((0,e.default)(t))for(var s=t,i=0,l=s.length;i<l;i++)u.call(this,s[i],r);else u.call(this,t,r);return this},clear(t){return this.buttons.length=0,l.call(this,t),this},removeButton(t,e){return this.remove(t,e),this},clearButtons(t){return this.clear(t),this}};exports.default=o;
},{"../fixwidthsizer/FixWidthSizer.js":"gweT","../../../plugins/utils/object/IsArray.js":"leAG"}],"CFoF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../fixwidthsizer/FixWidthSizer.js")),e=o(require("./AddChildMethods.js")),s=o(require("./RemoveChildMethods.js")),i=o(require("../utils/buttons/ButtonMethods.js")),d=o(require("../utils/buttons/types/SetType.js"));function o(t){return t&&t.__esModule?t:{default:t}}const r=Phaser.Utils.Objects.GetValue;class u extends t.default{constructor(t,e){void 0===e&&(e={});var s=e.space;"number"==typeof s&&(e.space={item:s,line:s}),super(t,e),this.type="rexFixWidthButtons",this.eventEmitter=r(e,"eventEmitter",this),this.groupName=r(e,"groupName",void 0),this.buttons=[];var i=r(e,"background",void 0),o=r(e,"buttons",void 0);this.buttonsAlign=r(e,"align",void 0),this.clickConfig=r(e,"click",void 0),i&&this.addBackground(i),o&&this.addButtons(o),d.default.call(this,e),this.addChildrenMap("background",i),this.addChildrenMap("buttons",this.buttons)}}Object.assign(u.prototype,e.default,s.default,i.default);var a=u;exports.default=a;
},{"../fixwidthsizer/FixWidthSizer.js":"gweT","./AddChildMethods.js":"Bxvl","./RemoveChildMethods.js":"mFSV","../utils/buttons/ButtonMethods.js":"g41A","../utils/buttons/types/SetType.js":"Nv1Q"}],"KJFA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={getChoice(t){return this.childrenMap.choicesSizer.getButton(t)},getAction(t){return this.childrenMap.actionsSizer.getButton(t)},getToolbar(t){return this.childrenMap.toolbarSizer.getButton(t)},getLeftToolbar(t){return this.childrenMap.leftToolbarSizer.getButton(t)},setChoiceEnable(t,e){return this.childrenMap.choicesSizer.setButtonEnable(t,e),this},setActionEnable(t,e){return this.childrenMap.actionsSizer.setButtonEnable(t,e),this},setToolbarEnable(t,e){return this.childrenMap.toolbarSizer.setButtonEnable(t,e),this},setLeftToolbarEnable(t,e){return this.childrenMap.leftToolbarSizer.setButtonEnable(t,e),this},toggleChoiceEnable(t){return this.childrenMap.choicesSizer.toggleButtonEnable(t),this},toggleActionEnable(t){return this.childrenMap.actionsSizer.toggleButtonEnable(t),this},toggleToolbarEnable(t){return this.childrenMap.toolbarSizer.toggleButtonEnable(t),this},toggleLeftToolbarEnable(t){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(t),this},getChoiceEnable(t){return this.childrenMap.choicesSizer.getButtonEnable(t)},getActionEnable(t){return this.childrenMap.actionsSizer.getButtonEnable(t)},getToolbarEnable(t){return this.childrenMap.toolbarSizer.getButtonEnable(t)},getLeftToolbarEnable(t){return this.childrenMap.leftToolbarSizer.getButtonEnable(t)},emitChoiceClick(t){return this.childrenMap.choicesSizer.emitButtonClick(t),this},emitActionClick(t){return this.childrenMap.actionsSizer.emitButtonClick(t),this},emitToolbarClick(t){return this.childrenMap.toolbarSizer.emitButtonClick(t),this},emitLeftToolbarClick(t){return this.childrenMap.leftToolbarSizer.emitButtonClick(t),this},showChoice(t){return this.childrenMap.choicesSizer.showButton(t),this},showAction(t){return this.childrenMap.actionsSizer.showButton(t),this},showToolbar(t){return this.childrenMap.toolbarSizer.showButton(t),this},showLeftToolbar(t){return this.childrenMap.leftToolbarSizer.showButton(t),this},hideChoice(t){return this.childrenMap.choicesSizer.hideButton(t),this},hideAction(t){return this.childrenMap.actionsSizer.hideButton(t),this},hideToolbar(t){return this.childrenMap.toolbarSizer.hideButton(t),this},hideLeftToolbar(t){return this.childrenMap.leftToolbarSizer.hideButton(t),this},addChoice(t){return this.childrenMap.choicesSizer.addButton(t),this},addAction(t){return this.childrenMap.actionsSizer.addButton(t),this},addToolbar(t){return this.childrenMap.toolbarSizer.addButton(t),this},addLeftToolbar(t){return this.childrenMap.leftToolbarSizer.addButton(t),this},removeChoice(t,e){return this.childrenMap.choicesSizer.removeButton(t,e),this},removeAction(t,e){return this.childrenMap.actionsSizer.removeButton(t,e),this},removeToolbar(t,e){return this.childrenMap.toolbarSizer.removeButton(t,e),this},removeLeftToolbar(t,e){return this.childrenMap.leftToolbarSizer.removeButton(t,e),this},clearChoices(t){return this.childrenMap.choicesSizer.clearButtons(t),this},clearActions(t){return this.childrenMap.actionsSizer.clearButtons(t),this},clearToolbar(t){return this.childrenMap.toolbarSizer.clearButtons(t),this},clearLeftToolbar(t){return this.childrenMap.leftToolbarSizer.clearButtons(t),this},forEachChoice(t,e){return this.childrenMap.choicesSizer.forEachButtton(t,e),this},forEachAction(t,e){return this.childrenMap.actionsSizer.forEachButtton(t,e),this},forEachToolbar(t,e){return this.childrenMap.toolbarSizer.forEachButtton(t,e),this},forEachLeftToolbar(t,e){return this.childrenMap.leftToolbarSizer.forEachButtton(t,e),this}};exports.default=t;
},{}],"CKqG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("../sizer/Sizer.js")),e=a(require("../buttons/Buttons.js")),i=a(require("./ButtonMethods.js"));function a(t){return t&&t.__esModule?t:{default:t}}const o=Phaser.Utils.Objects.GetValue;class c extends t.default{constructor(i,a){void 0===a&&(a={}),a.orientation=1,super(i,a),this.type="rexDialog",this.eventEmitter=o(a,"eventEmitter",this);var c,d,n,r,s=o(a,"background",void 0),l=o(a,"title",void 0),p=o(a,"toolbar",void 0),h=o(a,"toolbarBackground",void 0),u=o(a,"leftToolbar",void 0),f=o(a,"leftToolbarBackground",void 0),b=o(a,"content",void 0),v=o(a,"description",void 0),g=o(a,"choices",void 0),m=o(a,"choicesBackground",void 0),k=o(a,"actions",void 0),C=o(a,"actionsBackground",void 0),x=o(a,"click",void 0);if(s&&this.addBackground(s),p&&(n=new e.default(i,{groupName:"toolbar",background:h,buttons:p,orientation:0,space:{item:o(a,"space.toolbarItem",0)},click:x,eventEmitter:this.eventEmitter})),u&&(r=new e.default(i,{groupName:"leftToolbar",background:f,buttons:u,orientation:0,space:{item:o(a,"space.leftToolbarItem",0)},click:x,eventEmitter:this.eventEmitter})),l&&!p&&!u){var M=o(a,"align.title","center"),S=o(a,"space.title",0);(b||v||g||k)&&(B={bottom:S});var E=o(a,"expand.title",!0);this.add(l,0,M,B,E)}if(p&&!l&&!u){S=o(a,"space.title",0);(b||v||g||k)&&(B={bottom:S});E=o(a,"expand.toolbar",!0);this.add(n,0,"right",B,E)}if(u&&!l&&!p){S=o(a,"space.title",0);(b||v||g||k)&&(B={bottom:S});E=o(a,"expand.leftToolbar",!0);this.add(r,0,"left",B,E)}if(l&&(p||u)){var T=new t.default(i,{orientation:0});r&&T.add(r,0,"right",0,!1);M=o(a,"align.title","left");(E=o(a,"expand.title",!0))||"right"!==M&&"center"!==M||T.addSpace();var B={left:o(a,"space.titleLeft",0),right:o(a,"space.titleRight",0)},j=E?1:0;T.add(l,j,"center",B,E),E||"left"!==M&&"center"!==M||T.addSpace(),n&&T.add(n,0,"right",0,!1);S=o(a,"space.title",0);(b||v||g||k)&&(B={bottom:S}),this.add(T,0,"center",B,!0)}if(b){M=o(a,"align.content","center");var z=o(a,"space.content",0);B={left:o(a,"space.contentLeft",0),right:o(a,"space.contentRight",0),bottom:v||g||k?z:0},E=o(a,"expand.content",!0);this.add(b,0,M,B,E)}if(v){M=o(a,"align.description","center");var w=o(a,"space.description",0);B={left:o(a,"space.descriptionLeft",0),right:o(a,"space.descriptionRight",0),bottom:g||k?w:0},E=o(a,"expand.description",!0);this.add(v,0,M,B,E)}if(g){M=o(a,"align.choices","center");c=new e.default(i,{groupName:"choices",background:m,buttons:g,orientation:1,space:{item:o(a,"space.choice",0)},click:x,eventEmitter:this.eventEmitter,type:o(a,"choicesType",void 0),setValueCallback:o(a,"choicesSetValueCallback",void 0),setValueCallbackScope:o(a,"choicesSetValueCallbackScope",void 0)});var y=o(a,"space.choices",0);B={left:o(a,"space.choicesLeft",0),right:o(a,"space.choicesRight",0),bottom:k?y:0},E=o(a,"expand.choices",!0);this.add(c,0,M,B,E)}if(k){d=new e.default(i,{groupName:"actions",background:C,buttons:k,orientation:0,space:{item:o(a,"space.action",0)},expand:o(a,"expand.actions",!1),align:o(a,"align.actions","center"),click:x,eventEmitter:this.eventEmitter});B={left:o(a,"space.actionsLeft",0),right:o(a,"space.actionsRight",0)};this.add(d,0,"center",B,!0)}this.addChildrenMap("background",s),this.addChildrenMap("title",l),this.addChildrenMap("toolbar",p),this.addChildrenMap("leftToolbar",u),this.addChildrenMap("content",b),this.addChildrenMap("choices",g),this.addChildrenMap("actions",k),this.addChildrenMap("choicesSizer",c),this.addChildrenMap("actionsSizer",d),this.addChildrenMap("toolbarSizer",n),this.addChildrenMap("leftToolbarSizer",r)}}Object.assign(c.prototype,i.default);var d=c;exports.default=d;
},{"../sizer/Sizer.js":"Hzrc","../buttons/Buttons.js":"rCq6","./ButtonMethods.js":"KJFA"}],"N4OS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../utils/Hide.js"),e={getButtonsSizer(t){return this.childrenMap[`${t}ButtonsSizer`]},getButton(t,e){var n=this.getButtonsSizer(t);return n?n.getButton(e):void 0},setButtonEnable(t,e,n){return this.getButtonsSizer(t).setButtonEnable(e,n),this},setLeftButtonEnable(t,e){return this.childrenMap.leftButtonsSizer.setButtonEnable(t,e),this},setRightButtonEnable(t,e){return this.childrenMap.rightButtonsSizer.setButtonEnable(t,e),this},setTopButtonEnable(t,e){return this.childrenMap.topButtonsSizer.setButtonEnable(t,e),this},setBottomButtonEnable(t,e){return this.childrenMap.bottomButtonsSizer.setButtonEnable(t,e),this},toggleButtonEnable(t,e){return this.getButtonsSizer(t).toggleButtonEnable(e),this},toggleLeftButtonEnable(t){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(t),this},toggleRightButtonEnable(t){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(t),this},toggleTopButtonEnable(t){return this.childrenMap.topButtonsSizer.toggleButtonEnable(t),this},toggleBottomButtonEnable(t){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(t),this},getButtonEnable(t,e){return this.getButtonsSizer(t).getButtonEnable(e)},getLeftButtonEnable(t){return this.childrenMap.leftButtonsSizer.getButtonEnable(t)},getRightButtonEnable(t){return this.childrenMap.rightButtonsSizer.getButtonEnable(t)},getTopButtonEnable(t){return this.childrenMap.topButtonsSizer.getButtonEnable(t)},getBottomButtonEnable(t){return this.childrenMap.bottomButtonsSizer.getButtonEnable(t)},emitButtonClick(t,e){var n=this.getButtonsSizer(t);return n?(n.emitButtonClick(e),this):this},emitLeftButtonClick(t){return this.childrenMap.leftButtonsSizer.emitButtonClick(t),this},emitRightButtonClick(t){return this.childrenMap.rightButtonsSizer.emitButtonClick(t),this},emitTopButtonClick(t){return this.childrenMap.topButtonsSizer.emitButtonClick(t),this},emitBottomButtonClick(t){return this.childrenMap.bottomButtonsSizer.emitButtonClick(t),this},getLeftButton(t){return this.childrenMap.leftButtonsSizer.getButton(t)},getRightButton(t){return this.childrenMap.rightButtonsSizer.getButton(t)},getTopButton(t){return this.childrenMap.topButtonsSizer.getButton(t)},getBottomButton(t){return this.childrenMap.bottomButtonsSizer.getButton(t)},showButton(e,n){return(0,t.Show)(this.getButton(e,n)),this},showLeftButton(e){return(0,t.Show)(this.getLeftButton(e)),this},showRightButton(e){return(0,t.Show)(this.getRightButton(e)),this},showTopButton(e){return(0,t.Show)(this.getTopButton(e)),this},showBottomButton(e){return(0,t.Show)(this.getBottomButton(e)),this},hideButton(e,n){return(0,t.Hide)(this.getButton(e,n)),this},hideLeftButton(e){return(0,t.Hide)(this.getLeftButton(e)),this},hideRightButton(e){return(0,t.Hide)(this.getRightButton(e)),this},hideTopButton(e){return(0,t.Hide)(this.getTopButton(e)),this},hideBottomButton(e){return(0,t.Hide)(this.getBottomButton(e)),this},addButton(t,e){return this.getButtonsSizer(t).addButton(e),this},addLeftButton(t){return this.addButton("left",t),this},addRightButton(t){return this.addButton("right",t),this},addTopButton(t){return this.addButton("top",t),this},removeButton(t,e,n){return this.getButtonsSizer(t).removeButton(e,n),this},removeLeftButton(t,e){return this.removeButton("left",t,e),this},removeRightButton(t,e){return this.removeButton("right",t,e),this},removeTopButton(t,e){return this.removeButton("top",t,e),this},removeBottomButton(t,e){return this.removeButton("bottom",t,e),this},clearButtons(t,e){return this.getButtonsSizer(t).clearButtons(e),this},clearLeftButtons(t){return this.clearButtons("left",t),this},clearRightButtons(t){return this.clearButtons("right",t),this},clearTopButtons(t){return this.clearButtons("top",t),this},clearBottomButtonss(t){return this.clearButtons("bottom",t),this},forEachLeftButton(t,e){return this.childrenMap.leftButtonsSizer.forEachButtton(t,e),this},forEachRightButton(t,e){return this.childrenMap.rightButtonsSizer.forEachButtton(t,e),this},forEachTopButton(t,e){return this.childrenMap.topButtonsSizer.forEachButtton(t,e),this},forEachBottomButton(t,e){return this.childrenMap.bottomButtonsSizer.forEachButtton(t,e),this}};exports.default=e;
},{"../utils/Hide.js":"EqSa"}],"O2PB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../gridsizer/GridSizer.js")),e=i(require("../buttons/Buttons.js")),o=i(require("./ButtonMethods.js"));function i(t){return t&&t.__esModule?t:{default:t}}const n=Phaser.Utils.Objects.GetValue;class s extends t.default{constructor(t,o){void 0===o&&(o={}),o.column=3,o.row=3,super(t,o),this.type="rexTabs",this.eventEmitter=n(o,"eventEmitter",this);var i,s,a,d,r=n(o,"background",void 0),u=n(o,"panel",void 0),l=n(o,"leftButtons",void 0),p=n(o,"leftButtonsBackground",void 0),c=n(o,"rightButtons",void 0),h=n(o,"rightButtonsBackground",void 0),v=n(o,"topButtons",void 0),f=n(o,"topButtonsBackground",void 0),B=n(o,"bottomButtons",void 0),g=n(o,"bottomButtonsBackground",void 0),m=n(o,"click",void 0);if(r&&this.addBackground(r),u&&this.add(u,1,1,"center",0,!0),l){var b=n(o,"space.leftButtonsOffset",0),k=n(o,"space.leftButton",0);i=new e.default(t,{groupName:"left",background:p,buttons:l,orientation:1,space:{item:k},align:n(o,"align.leftButtons",void 0),click:m,eventEmitter:this.eventEmitter});var M={top:b};this.add(i,0,1,"top",M,!1)}if(c){var C=n(o,"space.rightButtonsOffset",0),E=n(o,"space.rightButton",0);s=new e.default(t,{groupName:"right",background:h,buttons:c,orientation:1,space:{item:E},align:n(o,"align.rightButtons",void 0),click:m,eventEmitter:this.eventEmitter});M={top:C};this.add(s,2,1,"top",M,!1)}if(v){var O=n(o,"space.topButtonsOffset",0),j=n(o,"space.topButton",0);a=new e.default(t,{groupName:"top",background:f,buttons:v,orientation:0,space:{item:j},align:n(o,"align.topButtons",void 0),click:m,eventEmitter:this.eventEmitter});M={left:O};this.add(a,1,0,"left",M,!1)}if(B){var z=n(o,"space.bottomButtonsOffset",0),w=n(o,"space.bottomButton",0);d=new e.default(t,{groupName:"bottom",background:g,buttons:B,orientation:0,space:{item:w},align:n(o,"align.bottomButtons",void 0),click:m,eventEmitter:this.eventEmitter});M={left:z};this.add(d,1,2,"left",M,!1)}this.addChildrenMap("background",r),this.addChildrenMap("panel",u),this.addChildrenMap("leftButtons",l),this.addChildrenMap("rightButtons",c),this.addChildrenMap("topButtons",v),this.addChildrenMap("bottomButtons",B),this.addChildrenMap("leftButtonsSizer",i),this.addChildrenMap("rightButtonsSizer",s),this.addChildrenMap("topButtonsSizer",a),this.addChildrenMap("bottomButtonsSizer",d)}}Object.assign(s.prototype,o.default);var a=s;exports.default=a;
},{"../gridsizer/GridSizer.js":"bGm1","../buttons/Buttons.js":"rCq6","./ButtonMethods.js":"N4OS"}],"aU4M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=Phaser.Math.Percent;var e=function(e,a,r){var x,n,o;return e.y===a.y?(x=Math.min(e.x,a.x),n=Math.max(e.x,a.x),o=t(r.x,x,n)):e.x===a.x&&(x=Math.min(e.y,a.y),n=Math.max(e.y,a.y),o=t(r.y,x,n)),o},a=e;exports.default=a;
},{}],"FuZX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./PositionToPercent.js"));function t(e){return e&&e.__esModule?e:{default:e}}var i=function(t,i,r){this.enable&&(o.x=i,o.y=r,this.value=(0,e.default)(this.getStartPoint(),this.getEndPoint(),o))},o={},r=i;exports.default=r;
},{"./PositionToPercent.js":"aU4M"}],"FJsR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./PositionToPercent.js"));function t(e){return e&&e.__esModule?e:{default:e}}var o=function(t,o,i){this.enable&&t.isDown&&(r.x=t.worldX,r.y=t.worldY,this.value=(0,e.default)(this.getStartPoint(),this.getEndPoint(),r))},r={},i=o;exports.default=i;
},{"./PositionToPercent.js":"aU4M"}],"WCmf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/utils/align/align/in/QuickSet.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=function(t,u){void 0===u&&(u=i);var r=this.childrenMap.thumb,l=r.x,n=r.y;return(0,e.default)(r,this,t),u.x=r.x,u.y=r.y,r.x=l,r.y=n,u},i={},r=u;exports.default=r;
},{"../../../plugins/utils/align/align/in/QuickSet.js":"IOWs"}],"cKbN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./GetThumbAlignPoint.js"));function e(t){return t&&t.__esModule?t:{default:t}}const i=Phaser.Display.Align.LEFT_CENTER,r=Phaser.Display.Align.TOP_CENTER;var s=function(e){if(void 0===e&&(e=n),this.childrenMap.thumb){var s=0===this.orientation?i:r;t.default.call(this,s,e)}else 0===this.orientation?(e.x=this.left+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.top+1);return e},n={},l=s;exports.default=l;
},{"./GetThumbAlignPoint.js":"WCmf"}],"rLhh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./GetThumbAlignPoint.js"));function e(t){return t&&t.__esModule?t:{default:t}}const i=Phaser.Display.Align.RIGHT_CENTER,r=Phaser.Display.Align.BOTTOM_CENTER;var s=function(e){if(void 0===e&&(e=n),this.childrenMap.thumb){var s=0===this.orientation?i:r;t.default.call(this,s,e)}else 0===this.orientation?(e.x=this.right-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.bottom-1);return e},n={},o=s;exports.default=o;
},{"./GetThumbAlignPoint.js":"WCmf"}],"Z3Ny":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=Phaser.Math.Linear;var t=function(t,o,s,a){return void 0===a&&(a=r),a.x=e(o.x,s.x,t),a.y=e(o.y,s.y,t),a},r={},o=t;exports.default=o;
},{}],"F3xl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./PercentToPosition.js"));function e(t){return t&&t.__esModule?t:{default:t}}var i=function(e){var i=this.childrenMap.thumb;return void 0===i?this:(void 0===e&&(e=this.value),(0,t.default)(e,this.getStartPoint(),this.getEndPoint(),i),this.resetChildPositionState(i),this)},r=i;exports.default=r;
},{"./PercentToPosition.js":"Z3Ny"}],"UcnE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=s(require("../../../plugins/utils/size/ResizeGameObject.js")),t=s(require("../../../plugins/utils/align/align/in/QuickSet.js")),e=require("../../../plugins/utils/size/GetDisplaySize.js");function s(i){return i&&i.__esModule?i:{default:i}}const r=Phaser.Display.Align.LEFT_CENTER,a=Phaser.Display.Align.TOP_CENTER;var l=function(s){var l,n,u=this.childrenMap.indicator;if(void 0===u)return this;void 0===s&&(s=this.value);var h=this.childrenMap.thumb;if(h)if(0===this.orientation){var o=(0,e.GetDisplayWidth)(h);l=h.x-o*h.originX+o-this.left}else{var d=(0,e.GetDisplayHeight)(h);n=h.y-d*h.originY+d-this.top}else 0===this.orientation?l=this.width*s:n=this.height*s;(0,i.default)(u,l,n);var p=0===this.orientation?r:a;(0,t.default)(u,this,p),this.resetChildPositionState(u)},n=l;exports.default=n;
},{"../../../plugins/utils/size/ResizeGameObject.js":"fFkl","../../../plugins/utils/align/align/in/QuickSet.js":"IOWs","../../../plugins/utils/size/GetDisplaySize.js":"Ww5k"}],"CElm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=h(require("../sizer/Sizer.js")),e=h(require("./OnDragThumb.js")),a=h(require("./OnTouchTrack.js")),i=h(require("./GetStartPoint.js")),r=h(require("./GetEndPoint.js")),s=h(require("./UpdateThumb.js")),u=h(require("./UpdateIndicator.js"));function h(t){return t&&t.__esModule?t:{default:t}}const n=Phaser.Utils.Objects.GetValue,d=Phaser.Math.Clamp,l=Phaser.Math.Linear,o=Phaser.Math.Percent,v=Phaser.Math.Snap.To;class c extends t.default{constructor(t,i){super(t,i),this.type="rexSlider",this.eventEmitter=n(i,"eventEmitter",this);var r=n(i,"background",void 0),s=n(i,"track",void 0),u=n(i,"indicator",void 0),h=n(i,"thumb",void 0);r&&this.addBackground(r),s&&this.add(s,1,"center",0,!0),u&&this.pin(u),h&&this.pin(h);var d=n(i,"input",0);switch("string"==typeof d&&(d=p[d]),d){case 0:h&&(h.setInteractive(),this.scene.input.setDraggable(h),h.on("drag",e.default,this));break;case 1:this.setInteractive().on("pointerdown",a.default,this).on("pointermove",a.default,this)}this.addChildrenMap("background",r),this.addChildrenMap("track",s),this.addChildrenMap("indicator",u),this.addChildrenMap("thumb",h);var l=n(i,"valuechangeCallback",null);if(null!==l){var o=n(i,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",l,o)}this.setEnable(n(i,"enable",void 0)),this.setGap(n(i,"gap",void 0)),this.setValue(n(i,"value",0))}setEnable(t){return void 0===t&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this._value}set value(t){void 0!==this.gap&&(t=v(t,this.gap));var e=this._value;this._value=d(t,0,1),e!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,e,this.eventEmitter))}setValue(t,e,a){return null==t?this:(void 0!==e&&(t=o(t,e,a)),this.value=t,this)}addValue(t,e,a){return void 0!==e&&(t=o(t,e,a)),this.value+=t,this}getValue(t,e){var a=this.value;return void 0!==t&&(a=l(t,e,a)),a}layout(t,e,a){return this.rexSizer.hidden||!this.dirty?this:(super.layout(t,e,a),this.updateThumb(),this.updateIndicator(),this)}}const p={drag:0,click:1,none:-1};var g={getStartPoint:i.default,getEndPoint:r.default,updateThumb:s.default,updateIndicator:u.default};Object.assign(c.prototype,g);var b=c;exports.default=b;
},{"../sizer/Sizer.js":"Hzrc","./OnDragThumb.js":"FuZX","./OnTouchTrack.js":"FJsR","./GetStartPoint.js":"cKbN","./GetEndPoint.js":"rLhh","./UpdateThumb.js":"F3xl","./UpdateIndicator.js":"UcnE"}],"TdVC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={v:0,vertical:0,h:1,horizontal:1};exports.default=e;
},{}],"FiU0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./ScrollModeConst.js"));function t(e){return e&&e.__esModule?e:{default:e}}const r=Phaser.Utils.Objects.GetValue;var o=function(t,o){void 0===o&&(o="scrollMode");var s=r(t,"scrollMode",0);return"string"==typeof s&&(s=e.default[s]),s},s=o;exports.default=s;
},{"./ScrollModeConst.js":"TdVC"}],"NP43":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("../../utils/eventemitter/EventEmitterMethods.js")),e=s(require("../../utils/object/GetValue.js"));function s(t){return t&&t.__esModule?t:{default:t}}class i{constructor(t){var s=(0,e.default)(t,"states",void 0);s&&this.addStates(s);var i=(0,e.default)(t,"extend",void 0);if(i)for(var a in i)this.hasOwnProperty(a)&&void 0!==this[a]||(this[a]=i[a]);var r=(0,e.default)(t,"eventEmitter",void 0),h=(0,e.default)(t,"EventEmitterClass",void 0);this.setEventEmitter(r,h),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable((0,e.default)(t,"enable",!0)),this.start((0,e.default)(t,"start",void 0));var s=(0,e.default)(t,"init",void 0);return s&&s.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return void 0===t&&(t=!0),this.enable=t,this}set state(t){if(this.enable&&!this._stateLock&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),null!=this._prevState){var e="exit_"+this._prevState,s=this[e];s&&s.call(this),this.emit(e,this)}if(this._stateLock=!1,null!=this._state){var i="enter_"+this._state,a=this[i];a&&a.call(this),this.emit(i,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return null!=t&&(this.state=t),this}next(){var t,e=this["next_"+this.state];return e&&(t="string"==typeof e?e:e.call(this)),this.goto(t),this}addState(t,s){var i=(0,e.default)(s,"next",void 0);i&&(this["next_"+t]=i);var a=(0,e.default)(s,"exit",void 0);a&&(this["exit_"+t]=a);var r=(0,e.default)(s,"enter",void 0);return r&&(this["enter_"+t]=r),this}addStates(t){for(var e in t)this.addState(e,t[e]);return this}update(t,e,s){void 0===s&&(s="update");var i=this[s+"_"+this.state];i&&i.call(this,t,e)}preupdate(t,e){this.update(t,e,"preupdate")}postupdate(t,e){this.update(t,e,"postupdate")}}Object.assign(i.prototype,t.default);var a=i;exports.default=a;
},{"../../utils/eventemitter/EventEmitterMethods.js":"TmQr","../../utils/object/GetValue.js":"OqLI"}],"srj8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./logic/fsm/FSM.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=e.default;exports.default=r;
},{"./logic/fsm/FSM.js":"NP43"}],"IkIQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../../fsm.js"));function e(t){return t&&t.__esModule?t:{default:t}}class r extends t.default{constructor(t,e){super(e),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,e=this.parent;return e.dragState.isDown&&(t=0===e.dragThreshold?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,e){this.next()}next_DRAGBEGIN(){var t=this.parent,e=t.dragState;return e.isDown?e.pointer.getDistance()>=t.dragThreshold?"DRAG":"DRAGBEGIN":"IDLE"}update_DRAGBEGIN(t,e){this.next()}next_DRAG(){var t,e=this.parent;return e.dragState.isUp&&(t=e.outOfBounds?"BACK":e.slidingEnable?"SLIDE":"IDLE"),t}update_DRAG(t,e){var r=this.parent;r.dragState.justMoved&&r.dragging(),this.next()}next_SLIDE(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isSliding||(t="IDLE"),t}enter_SLIDE(){this.parent.onSliding()}exit_SLIDE(){this.parent.stop()}update_SLIDE(t,e){this.parent.sliding(t,e),this.next()}next_BACK(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isPullBack||(t="IDLE"),t}enter_BACK(){this.parent.onPullBack()}exit_BACK(){this.parent.stop()}update_BACK(t,e){this.parent.pullBack(t,e),this.next()}}var a=r;exports.default=a;
},{"../../fsm.js":"srj8"}],"WfNK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../../utils/system/GetSceneObject.js")),e=i(require("../../utils/eventemitter/EventEmitterMethods.js"));function i(t){return t&&t.__esModule?t:{default:t}}const s=Phaser.Utils.Objects.GetValue,h=Phaser.Math.Distance.Between;class o{constructor(e,i){this.gameObject=e,this.scene=(0,t.default)(e),this.setEventEmitter(s(i,"eventEmitter",void 0)),this._enable=void 0,e.setInteractive(s(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(s(t,"enable",!0)),this.holdThreshold=s(t,"holdThreshold",50),this}boot(){this.gameObject.on("pointerdown",this.onPointIn,this),this.gameObject.on("pointerover",this.onPointIn,this),this.gameObject.on("pointerup",this.onPointOut,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onPointerMove,this),this.gameObject.on("destroy",this.destroy,this),this.scene.events.on("preupdate",this.preupdate,this)}shutdown(){this.scene&&this.scene.events.off("preupdate",this.preupdate,this),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0,this.destroyEventEmitter()}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return void 0===t&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){return this.scene.sys.game.loop.delta}get speed(){return this.x===this.preX&&this.y===this.preY?0:h(this.preX,this.preY,this.x,this.y)/(.001*this.dt)}get speedX(){return this.dx/(.001*this.dt)}get speedY(){return this.dy/(.001*this.dt)}onPointIn(t,e,i){this.enable&&t.isDown&&void 0===this.pointer&&(this.pointer=t,this.localX=e,this.localY=i)}onPointOut(t){this.enable&&this.pointer===t&&(this.pointer=void 0)}onPointerMove(t,e,i){this.enable&&t.isDown&&this.pointer===t&&(this.localX=e,this.localY=i)}preupdate(t,e){if(this.enable){var i=this.pointer;this.justMoved=!1,i&&!this.isInTouched?(this.x=i.x,this.y=i.y,this.preX=i.x,this.preY=i.y,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",i,this.localX,this.localY)):i&&this.isInTouched?this.x===i.x&&this.y===i.y?void 0===this.holdStartTime?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=i.x,this.y=i.y,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",i,this.localX,this.localY)):!i&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",i))}}}Object.assign(o.prototype,e.default);var n=o;exports.default=n;
},{"../../utils/system/GetSceneObject.js":"IEm3","../../utils/eventemitter/EventEmitterMethods.js":"TmQr"}],"eMHO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./input/dragspeed/DragSpeed.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=e.default;exports.default=t;
},{"./input/dragspeed/DragSpeed.js":"WfNK"}],"AXqY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=Phaser.Utils.Objects.GetValue;class t{constructor(e){this.resetFromJSON(e)}resetFromJSON(t){return this.setValue(e(t,"value",0)),this.setSpeed(e(t,"speed",0)),this.setAcceleration(e(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(e){return this.value=e,this}setSpeed(e){return this.speed=e,this}setAcceleration(e){return this.acceleration=e,this}updateSpeed(e){return 0!==this.acceleration&&(this.speed+=this.acceleration*e,this.speed<0&&(this.speed=0)),this}getDeltaValue(e){return this.updateSpeed(e),this.speed<=0?0:this.speed*e}update(e){return this.updateSpeed(e),this.speed>0&&(this.value+=this.getDeltaValue(e)),this}get isMoving(){return this.speed>0}}var s=t;exports.default=s;
},{}],"kRjL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./Movement.js"));function t(e){return e&&e.__esModule?e:{default:e}}class i{constructor(){this.value,this.dir,this.movement=new e.default}init(e,t,i,s,h){return this.value=e,this.end=h,this.dir=void 0!==h?e<h:t,this.movement.setSpeed(i).setAcceleration(-s),this}stop(){this.movement.reset()}update(e){var t=this.movement.getDeltaValue(e);return this.dir||(t=-t),void 0===this.end?this.value+=t:0===t?this.value=this.end:(this.value+=t,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}var s=i;exports.default=s;
},{"./Movement.js":"AXqY"}],"EN6y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("../../utils/system/GetSceneObject.js")),e=n(require("../../utils/eventemitter/EventEmitterMethods.js")),i=n(require("./State.js")),s=n(require("../../dragspeed.js")),a=n(require("../../utils/movement/SlowDown.js"));function n(t){return t&&t.__esModule?t:{default:t}}const r=Phaser.Utils.Objects.GetValue;class o{constructor(e,n){this.gameObject=e,this.scene=(0,t.default)(e),this.setEventEmitter(r(n,"eventEmitter",void 0));var o=r(n,"enable",!0),l={enable:o,eventEmitter:!1};this._state=new i.default(this,l);var h={inputConfig:r(n,"inputConfig",void 0),enable:o,eventEmitter:!1};this.dragState=new s.default(e,h),this._enable=void 0,this._value=void 0,this._slowDown=new a.default;var u=r(n,"valuechangeCallback",null);if(null!==u){var d=r(n,"valuechangeCallbackScope",void 0);this.on("valuechange",u,d)}if(null!==(u=r(n,"overmaxCallback",null))){d=r(n,"overmaxCallbackScope",void 0);this.on("overmax",u,d)}if(null!==(u=r(n,"overminCallback",null))){d=r(n,"overminCallbackScope",void 0);this.on("overmin",u,d)}this.resetFromJSON(n),this.boot()}resetFromJSON(t){this.setOrientationMode(r(t,"orientation",0)),this.setDragThreshold(r(t,"threshold",10)),this.setSlidingDeceleration(r(t,"slidingDeceleration",5e3)),this.setBackDeceleration(r(t,"backDeceleration",2e3));var e=r(t,"bounds",void 0);return e?this.setBounds(e):this.setBounds(r(t,"max",0),r(t,"min",0)),this.setValue(r(t,"value",this.maxValue||0)),this.setEnable(r(t,"enable",!0)),this}boot(){this.scene.events.on("update",this._state.update,this._state),this.gameObject.on("destroy",this.destroy,this)}shutdown(){this.destroyEventEmitter(),this.scene&&this.scene.events.off("update",this._state.update,this._state),this.gameObject=void 0,this.scene=void 0,this._state.destroy(),this.dragState.destroy()}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return void 0===t&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return"string"==typeof t&&(t=l[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setBounds(t,e){if(Array.isArray(t)){var i=t;t=i[0],e=i[1]}return t<e?(this.minValue=t,this.maxValue=e):(this.minValue=e,this.maxValue=t),this}get value(){return this._value}set value(t){if(t!==this._value){var e=this._value,i=this.overMax(t),s=this.overMin(t);i&&this.emit("overmax",t,e),s&&this.emit("overmin",t,e),this.backEnable||(i&&(t=this.maxValue),s&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,e)}}setValue(t){this.value=t}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return null!=this.maxValue&&t>this.maxValue}overMin(t){return null!=this.minValue&&t<this.minValue}get backEnable(){return"number"==typeof this.backDeceleration}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return"number"==typeof this.slidingDeceleration}get isSliding(){return this._slowDown.isMoving}get dragDelta(){return 0===this.orientationMode?this.dragState.dy:1===this.orientationMode?this.dragState.dx:0}get dragSpeed(){return 0===this.orientationMode?this.dragState.speedY:1===this.orientationMode?this.dragState.speedX:0}dragging(){this.value+=this.dragDelta}onSliding(){var t=this.value,e=this.dragSpeed;if(0===e)return this._slowDown.stop(),void this._state.next();var i=this.slidingDeceleration;this._slowDown.init(t,e>0,Math.abs(e),i)}sliding(t,e){e*=.001;var i=this._slowDown.update(e).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i}onPullBack(){var t=this.value,e=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(e-t),s=this.backDeceleration,a=Math.sqrt(2*s*i);this._slowDown.init(t,void 0,a,s,e)}pullBack(t,e){e*=.001,this.value=this._slowDown.update(e).value,this._slowDown.isMoving||this._state.next()}stop(){this._slowDown.stop()}}Object.assign(o.prototype,e.default);const l={y:0,v:0,vertical:0,x:1,h:1,horizontal:1};var h=o;exports.default=h;
},{"../../utils/system/GetSceneObject.js":"IEm3","../../utils/eventemitter/EventEmitterMethods.js":"TmQr","./State.js":"IkIQ","../../dragspeed.js":"eMHO","../../utils/movement/SlowDown.js":"kRjL"}],"zuWs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./input/scroller/Scroller.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=e.default;exports.default=t;
},{"./input/scroller/Scroller.js":"EN6y"}],"Wd7V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=r(require("../../sizer/Sizer.js")),t=r(require("../GetScrollMode.js")),e=r(require("../../slider/Slider.js")),d=r(require("../../../../plugins/scroller.js"));function r(i){return i&&i.__esModule?i:{default:i}}const l=Phaser.Utils.Objects.GetValue;var o=function(r){var o,s,n=this.scene,a=(0,t.default)(r),h=new i.default(n,{orientation:a}),c=l(r,"child.gameObject",void 0),u=l(r,"slider",void 0),f=l(r,"scroller",!0);if(c){var p=l(r,"space.child",0);if(this.childPadding={},"number"!=typeof p){var g=p;0===a?(p=l(g,"right",0),this.childPadding.top=l(g,"top",0),this.childPadding.bottom=l(g,"bottom",0)):(p=l(g,"bottom",0),this.childPadding.top=l(g,"left",0),this.childPadding.bottom=l(g,"right",0))}else this.childPadding.top=0,this.childPadding.bottom=0;var v,b=l(r,"child.proportion",1),m=l(r,"child.expand",!0);if(h.add(c,b,"center",0,m),u)!0===u&&(u={}),v=0===a?{left:p}:{top:p},u.orientation=0===h.orientation?1:0,o=new e.default(n,u),h.add(o,0,"center",v,!0);f&&(!0===f&&(f={}),f.orientation=a,s=new d.default(c,f))}return o&&o.on("valuechange",function(i){this.t=i,this.emit("scroll",this)},this),s&&s.on("valuechange",function(i){this.childOY=i,this.emit("scroll",this)},this),this.addChildrenMap("child",c),this.addChildrenMap("slider",o),this.addChildrenMap("scroller",s),h},s=o;exports.default=s;
},{"../../sizer/Sizer.js":"Hzrc","../GetScrollMode.js":"FiU0","../../slider/Slider.js":"CElm","../../../../plugins/scroller.js":"zuWs"}],"JwgT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){var t=this.topChildOY,e=this.bottomChildOY,r=this.childrenMap.scroller,s=this.childrenMap.slider;return r&&r.setBounds(e,t),s&&s.setEnable(e!==t),this.updateController(),this},e=t;exports.default=e;
},{}],"KKcc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t)},t=e;exports.default=t;
},{}],"ZH6u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("../../sizer/Sizer.js")),t=d(require("../GetScrollMode.js")),r=d(require("./CreateScrollableSizer.js")),i=d(require("./ResizeController.js")),l=d(require("./UpdateController.js"));function d(e){return e&&e.__esModule?e:{default:e}}const o=Phaser.Utils.Objects.GetValue;class s extends e.default{constructor(e,i){void 0===i&&(i={});var l=(0,t.default)(i);i.orientation=0===l?1:0,super(e,i),this.type=o(i,"type","rexScrollable");var d=o(i,"background",void 0),s=r.default.call(this,i),h=o(i,"header",void 0),a=o(i,"footer",void 0);if(d&&this.addBackground(d),h){var n=o(i,"align.header","center"),c=o(i,"space.header",0);u=0===l?{bottom:c}:{right:c};var p=o(i,"expand.header",!0);this.add(h,0,n,u,p)}if(s&&this.add(s,1,"center",0,!0),a){n=o(i,"align.footer","center");var u,b=o(i,"space.footer",0);u=0===l?{top:b}:{left:b};p=o(i,"expand.footer",!0);this.add(a,0,n,u,p)}this.addChildrenMap("background",d),this.addChildrenMap("header",h),this.addChildrenMap("footer",a)}layout(e,t,r){return this.rexSizer.hidden||!this.dirty?this:(super.layout(e,t,r),this.resizeController(),this)}set t(e){var t=this.childPadding;if(0!==t.top||0!==t.bottom){var r=this.childrenMap.child,i=r.topChildOY-r.bottomChildOY;e=((i+t.top+t.bottom)*e-t.top)/i}this.childrenMap.child.t=e,this.updateController()}get t(){var e=this.childrenMap.child.t,t=this.childPadding;if(0!==t.top||0!==t.bottom){var r=this.childrenMap.child,i=r.topChildOY-r.bottomChildOY,l=i+t.top+t.bottom;e=(i*e+t.top)/l}return e}set childOY(e){this.childrenMap.child.childOY=e,this.updateController()}get childOY(){return this.childrenMap.child.childOY}get topChildOY(){return this.childrenMap.child.topChildOY+this.childPadding.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childPadding.bottom}setChildOY(e){return this.childOY=e,this}setT(e){return this.t=e,this}scrollToTop(){return this.t=0,this}scrollToBottom(){return this.t=1,this}get sliderEnable(){var e=this.childrenMap.slider;if(e)return e.enable}set sliderEnable(e){var t=this.childrenMap.slider;t&&t.setEnable(e)}setSliderEnable(e){return void 0===e&&(e=!0),this.sliderEnable=e,this}get scrollerEnable(){var e=this.childrenMap.scroller;if(e)return e.enable}set scrollerEnable(e){var t=this.childrenMap.scroller;t&&t.setEnable(e)}setScrollerEnable(e){return void 0===e&&(e=!0),this.scrollerEnable=e,this}}var h={resizeController:i.default,updateController:l.default};Object.assign(s.prototype,h);var a=s;exports.default=a;
},{"../../sizer/Sizer.js":"Hzrc","../GetScrollMode.js":"FiU0","./CreateScrollableSizer.js":"Wd7V","./ResizeController.js":"JwgT","./UpdateController.js":"KKcc"}],"pUyP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../object/GetValue.js")),a=i(require("../object/Clear.js")),e=i(require("../object/Clone.js"));function i(t){return t&&t.__esModule?t:{default:t}}var s={enableData(){return void 0===this.data&&(this.data={}),this},getData(a,e){return this.enableData(),void 0===a?this.data:(0,t.default)(this.data,a,e)},setData(t,a){return this.enableData(),this.data[t]=a,this},incData(t,a,e){return void 0===e&&(e=0),this.enableData(),this.setData(t,this.getData(t,e)+a),this},mulData(t,a,e){return void 0===e&&(e=0),this.enableData(),this.setData(t,this.getData(t,e)*a),this},clearData(){return this.data&&(0,a.default)(this.data),this},resetData(t){if(this.clearData(),t)for(var a in this.enableData(),t)this.data[a]=t[a];return this},cloneData(){return this.data?(0,e.default)(this.data):{}}};exports.default=s;
},{"../object/GetValue.js":"OqLI","../object/Clear.js":"jv1g","../object/Clone.js":"Vm0P"}],"wt9i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../../utils/data/DataMethods.js"));function e(t){return t&&t.__esModule?t:{default:t}}class i{constructor(t,e){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){void 0===t&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}return null}setXY(t,e){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,e),this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){null==t&&(t=0);var e=this.parent;0===this._deltaHeight&&0!==t?e.nonZeroDeltaHeightCount++:0!==this._deltaHeight&&0===t&&e.nonZeroDeltaHeightCount--,this._deltaHeight=t}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return 0===this.scrollMode?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){1!==this.scrollMode&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return 0===this.scrollMode?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){0!==this.scrollMode&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(i.prototype,t.default);var n=i;exports.default=n;
},{"../../utils/data/DataMethods.js":"pUyP"}],"oIr6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=l(require("./Cell.js")),e=l(require("../../pool.js"));function l(t){return t&&t.__esModule?t:{default:t}}const i=Phaser.Utils.Objects.GetValue,s=Phaser.Utils.Array.SpliceOne;class h{constructor(t,l){this.parent=t,this.cells=[],this.cellPool=new e.default,this.resetFromJSON(l)}resetFromJSON(t){return this.colCount=void 0,this._nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight(),this.setDefaultCellHeight(i(t,"cellHeight",30)),this.setDefaultCellWidth(i(t,"cellWidth",30)),this.initCells(i(t,"cellsCount",0)),this.setColumnCount(i(t,"columns",1)),this}destroy(t){for(var e=0,l=this.cells.length;e<l;e++)this.freeCell(this.cells[e],t);this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get nonZeroDeltaHeightCount(){return this._nonZeroDeltaHeightCount}set nonZeroDeltaHeightCount(t){this._nonZeroDeltaHeightCount!==t&&(this._nonZeroDeltaHeightCount=t,this.resetTotalRowsHeight())}get defaultCellHeightMode(){return 0===this.nonZeroDeltaHeightCount}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var e=this.cells;e.length=t;for(var l=0;l<t;l++)e[l]=null;return this}insertNewCells(t,e){var l=this.cells;if(t===l.length){var i=t+e;l.legth=i;for(var s=t;s<i;s++)l[s]=null}else{var h=[];h.length=e;for(s=0;s<e;s++)h[s]=null;this.cells.splice(t,0,...h)}return this.resetTotalRowsHeight(),this}removeCells(t,e){for(var l=t+e,i=t;i<l;i++)this.freeCell(i);return l===this.cells.length?this.cells.length=t:(1===e?s(this.cells,t):this.cells.splice(t,e),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){return this.colCount=t,this.resetTotalRowsHeight(),this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,e){if(this.defaultCellHeightMode){var l=t/this.defaultCellHeight;return l=e?Math.ceil(l):Math.floor(l)}var i,s=this.rowCount,h=t;for(l=0;;){if(i=l>=0&&l<s,!((h-=this.getRowHeight(l))>0&&i)){if(0===h)return l;if(e){var r=l;(i=(l+=1)>=0&&l<s)||(l=r)}return l}l+=1}}widthToColIndex(t,e){var l=t/this.defaultCellWidth;return l=e?Math.ceil(l):Math.floor(l)}colRowToCellIndex(t,e){return t>=this.colCount?null:e*this.colCount+t}rowIndexToHeight(t,e){if(this.defaultCellHeightMode)return(e-t+1)*this.defaultCellHeight;for(var l=0,i=t;i<=e;i++)l+=this.getRowHeight(i);return l}colIndexToWidth(t,e){return(e-t+1)*this.defaultCellWidth}getRowHeight(t){var e=this.colCount;if(e<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var l,i=0,s=0;s<e;s++)i<(l=this.getCellHeight(this.colRowToCellIndex(s,t)))&&(i=l);return i}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var e;if(this.defaultCellHeightMode)e=this.defaultCellHeight;else{var l=this.getCell(t,!1),i=l?l.deltaHeight:0;e=this.defaultCellHeight+i}return e}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return null===this._totalRowsHeight&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,e){if(!this.isValidCellIdx(t))return null;if(void 0===e&&(e=!0),null===this.cells[t]&&e){var l=this.newCell(t);this.cells[t]=l}return this.cells[t]}newCell(e){var l=this.cellPool.pop();return null===l?l=new t.default(this):l.setParent(this),l.index=e,l}buildCellIndex(t){void 0===t&&(t=0);for(var e,l=this.cells,i=t,s=l.length;i<s;i++)(e=l[i])&&(e.index=i);return this}getParentContainer(){return this.parent}freeCell(t,e){return"number"==typeof t&&(t=this.cells[t]),t?(t.destroy(e),e||this.cellPool.push(t),this):this}}var r=h;exports.default=r;
},{"./Cell.js":"wt9i","../../pool.js":"o0vU"}],"EmkE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask},t=e;exports.default=t;
},{}],"z5jg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){var e=this.table,i=this.topTableOY,o=this.bottomTableOY,s=t>this.topTableOY,h=t<this.bottomTableOY;this.clampTableOXYMode&&(e.rowCount<e.heightToRowIndex(this.instHeight,!0)?t=0:s?t=i:h&&(t=o));return this._tableOY!==t&&(this._tableOY=t),s&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=s,h&&(this.execeedBottomState||this.emit("execeedbottom",this,t,o)),this.execeedBottomState=h,this},e=t;exports.default=e;
},{}],"SWkK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){var t=this.table,i=this.leftTableOX,h=this.rightTableOX,s=e>this.leftTableOX,a=e<this.rightTableOX;this.clampTableOXYMode&&(t.colCount<t.widthToColIndex(this.instWidth,!0)?e=0:s?e=i:a&&(e=h));return this._tableOX!==e&&(this._tableOX=e),s&&(this.execeedLeftState||this.emit("execeedleft",this,e,i)),this.execeedLeftState=s,a&&(this.execeedRightState||this.emit("execeedright",this,e,h)),this.execeedRightState=a,this},t=e;exports.default=t;
},{}],"SL7V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../utils/mask/MaskToGameObject.js"));function t(e){return e&&e.__esModule?e:{default:e}}const s=Phaser.Geom.Intersects.RectangleToRectangle,a=Phaser.Geom.Rectangle.Overlaps;var n=function(t,n,c){if(n){void 0===c&&(c=t.getAllChildren());for(var u,d,f=t.getBounds(),h=(0,e.default)(n),k=0,g=c.length;k<g;k++)if(!(u=c[k]).hasOwnProperty("isRexContainerLite")&&u!==h)if(u.getBounds)switch(d=u.getBounds(d),o(f,d)){case 4:i(t,u,n);break;case 0:s(f,d)||a(f,d)?l(t,u,n):r(t,u,n);break;default:l(t,u,n)}else l(t,u,n)}},o=function(e,t){var s=0,a=t.top,n=t.bottom,o=t.left,i=t.right;return s+=e.contains(o,a)?1:0,s+=e.contains(o,n)?1:0,s+=e.contains(i,a)?1:0,s+=e.contains(i,n)?1:0},i=function(e,t,s){e.setChildLocalVisible(t,!0),t.clearMask&&t.clearMask()},l=function(e,t,s){e.setChildLocalVisible(t,!0),t.setMask&&t.setMask(s)},r=function(e,t,s){e.setChildLocalVisible(t,!1),t.clearMask&&t.clearMask()},c=n;exports.default=c;
},{"../../utils/mask/MaskToGameObject.js":"EmkE"}],"GcxV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../containerlite/MaskChildren.js"));function t(e){return e&&e.__esModule?e:{default:e}}var i=function(){if(!this.cellsMask)return this;if(1===this.maskUpdateMode&&(0===this.alpha||!this.visible))return this;for(var t,i=[],s=this.visibleCells.entries,r=0,l=s.length;r<l;r++)(t=s[r].getContainer())&&(t.hasOwnProperty("isRexContainerLite")?t.getAllChildren(i):i.push(t));return(0,e.default)(this,this.cellsMask,i),this},s=i;exports.default=s;
},{"../../../containerlite/MaskChildren.js":"SL7V"}],"yZBx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&this.cellContainersPool.killAndHide(t)}e.destroyContainer()},t=e;exports.default=t;
},{}],"hDLo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./HideCell.js"));function t(e){return e&&e.__esModule?e:{default:e}}var i=function(){var t=this.preVisibleCells,i=this.visibleCells;t.iterate(function(t){i.contains(t)||e.default.call(this,t)},this)},l=i;exports.default=l;
},{"./HideCell.js":"yZBx"}],"R2u3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var l=function(l){var e=null;if(this.cellContainersPool&&null!==(e=this.cellContainersPool.getFirstDead())&&e.setActive(!0).setVisible(!0),this.emit("cellvisible",l,e,this),this.cellContainersPool){var t=l.getContainer();t?null===e?this.cellContainersPool.add(t):e!==t&&(this.cellContainersPool.add(t),this.cellContainersPool.killAndHide(e)):null!==e&&this.cellContainersPool.killAndHide(e)}},e=l;exports.default=e;
},{}],"yjtf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./ShowCell.js"));function e(t){return t&&t.__esModule?t:{default:t}}var l=function(){if(0!==this.cellsCount){var e=this.table,l=e.heightToRowIndex(-this.tableOY);l<0&&(l=0);var s=l,h=e.widthToColIndex(-this.tableOX);h<0&&(h=0);for(var r=h,a=e.colRowToCellIndex(r,s),n=this.bottomBound,d=this.rightBound,u=e.cellsCount-1,c=e.colCount-1,f=o.call(this,r),b=f,C=i.call(this,s);C<n&&a<=u;){if(this.table.isValidCellIdx(a)){var v=e.getCell(a,!0);this.visibleCells.set(v),this.preVisibleCells.contains(v)||t.default.call(this,v),0===this.scrollMode?v.setXY(b,C):v.setXY(C,b)}b<d&&r<c?(b+=e.getColWidth(r),r+=1):(b=f,C+=e.getRowHeight(s),r=h,s+=1),a=e.colRowToCellIndex(r,s)}}},o=function(t){var e=0===this.scrollMode?this.topLeftX:this.topLeftY;return this.tableOX+this.table.colIndexToWidth(0,t-1)+e},i=function(t){var e=0===this.scrollMode?this.topLeftY:this.topLeftX;return this.tableOY+this.table.rowIndexToHeight(0,t-1)+e},s=l;exports.default=s;
},{"./ShowCell.js":"R2u3"}],"qdVu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("./HideCells.js")),l=s(require("./ShowCells.js"));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(s){return void 0===s&&(s=!1),s&&(t.call(this),e.default.call(this)),t.call(this),l.default.call(this),e.default.call(this),0===this.maskUpdateMode&&this.maskCells(),this},t=function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},r=i;exports.default=r;
},{"./HideCells.js":"hDLo","./ShowCells.js":"yjtf"}],"F2Fu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},t=e;exports.default=t;
},{}],"tUlg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PointToCellContainer=exports.PointToCellIndex=void 0;var t=function(t,e){e-=this.y+this.topLeftY,t-=this.x+this.topLeftX;var l=this.tableOY-(0===this.scrollMode?e:t),o=this.tableOX-(0===this.scrollMode?t:e),i=this.table,n=i.heightToRowIndex(-l),s=i.widthToColIndex(-o),r=i.colRowToCellIndex(s,n);return null===r?null:this.isCellVisible(r)?r:null};exports.PointToCellIndex=t;var e=function(e,l){var o=t.call(this,e,l);if(null!==o)return this.getCellContainer(o)};exports.PointToCellContainer=e;
},{}],"DR4y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IterateCell=exports.EachCell=exports.IterateVisibleCell=exports.EachVisibleCell=void 0;var e=function(e,t){return this.visibleCells.each(e,t),this};exports.EachVisibleCell=e;var t=function(e,t){return this.visibleCells.iterate(e,t),this};exports.IterateVisibleCell=t;var l=function(e,t){return this.table.cells.slice().forEach(e,t),this};exports.EachCell=l;var r=function(e,t){return this.table.cells.forEach(e,t),this};exports.IterateCell=r;
},{}],"tvjw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)},t=e;exports.default=t;
},{}],"I0nD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=Phaser.Math.Clamp;var t=function(t,s){return"object"==typeof t&&(t=t.index),void 0===s&&(s=1),s<=0?this:(t=e(t,0,this.cellsCount),this.table.insertNewCells(t,s),this)},s=t;exports.default=s;
},{}],"JX5n":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./updatetable/HideCell.js"));function t(e){return e&&e.__esModule?e:{default:e}}var l=function(t,l){if("object"==typeof t&&(t=t.index),void 0===l&&(l=1),t<0&&(l+=t,t=0),l<=0)return this;if(t>this.cellsCount)return this;for(var i,s=t,r=t+l;s<r;s++)(i=this.getCell(s,!1))&&(this.visibleCells.contains(i)&&(e.default.call(this,i),this.visibleCells.delete(i)),this.preVisibleCells.delete(i));return this.table.removeCells(t,l),this},i=l;exports.default=i;
},{"./updatetable/HideCell.js":"yZBx"}],"te6i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){return this.table.colCount===t?this:(this.table.setColumnCount(t),this)},e=t;exports.default=e;
},{}],"BOUr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,e){return this.setCellsCount(t*e),this.table.setColumnCount(t),this},e=t;exports.default=e;
},{}],"kW2s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=b(require("./SetTableOY.js")),l=b(require("./SetTableOX.js")),t=b(require("./updatetable/MaskCells.js")),r=b(require("./updatetable/UpdateTable.js")),s=b(require("./IsCellVisible.js")),i=require("./PointToCell.js"),a=require("./EachCell.js"),u=b(require("./SetCellsCount.js")),C=b(require("./InsertNewCells.js")),o=b(require("./RemoveCells.js")),d=b(require("./SetColumnCount.js")),n=b(require("./SetGridSize.js"));function b(e){return e&&e.__esModule?e:{default:e}}var f={setTableOY:e.default,setTableOX:l.default,maskCells:t.default,updateTable:r.default,isCellVisible:s.default,pointToCellIndex:i.PointToCellIndex,pointToCellContainer:i.PointToCellContainer,eachVisibleCell:a.EachVisibleCell,iterateVisibleCell:a.IterateVisibleCell,eachCell:a.EachCell,iterateCell:a.IterateCell,setCellsCount:u.default,insertNewCells:C.default,removeCells:o.default,setColumnCount:d.default,setGridSize:n.default};exports.default=f;
},{"./SetTableOY.js":"z5jg","./SetTableOX.js":"SWkK","./updatetable/MaskCells.js":"GcxV","./updatetable/UpdateTable.js":"qdVu","./IsCellVisible.js":"F2Fu","./PointToCell.js":"tUlg","./EachCell.js":"DR4y","./SetCellsCount.js":"tvjw","./InsertNewCells.js":"I0nD","./RemoveCells.js":"JX5n","./SetColumnCount.js":"te6i","./SetGridSize.js":"BOUr"}],"naZ4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=h(require("../containerlite/ContainerLite.js")),t=h(require("./Table.js")),i=h(require("../../utils/mask/DefaultMask.js")),s=h(require("../../utils/size/ResizeGameObject.js")),l=h(require("../../utils/mask/MaskToGameObject.js")),a=h(require("./methods/Methods.js"));function h(e){return e&&e.__esModule?e:{default:e}}const r=Phaser.GameObjects.Group,o=Phaser.GameObjects.Components,n=Phaser.Structs.Set,d=Phaser.Utils.Objects.GetValue;class b extends e.default{constructor(e,i,s,l,a,h){void 0===h&&(h={}),super(e,i,s,l,a),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new n,this.preVisibleCells=new n,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,d(h,"reuseCellContainer",!1)&&(this.cellContainersPool=new r(e));var o=d(h,"cellVisibleCallback",null);if(null!==o){var b=d(h,"cellVisibleCallbackScope",void 0);this.on("cellvisible",o,b)}if(null!==(o=d(h,"cellInvisibleCallback",null))){b=d(h,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",o,b)}if(this.setCellsMask(d(h,"mask",!0)),this.setScrollMode(d(h,"scrollMode",0)),this.setClampMode(d(h,"clamplTableOXY",!0)),0===this.scrollMode){var u=d(h,"cellWidth",void 0);if(this.expandCellSize=void 0===u,void 0===u){var c=d(h,"columns",1);h.cellWidth=this.width/c}}else{u=d(h,"cellHeight",void 0);var g=d(h,"cellWidth",void 0);this.expandCellSize=void 0===u,h.cellWidth=u,h.cellHeight=g}this.table=new t.default(this,h),this.updateTable()}destroy(e){this.scene&&(1===this.maskUpdateMode&&this.scene.game.events.off("poststep",this.maskCells,this),this.table.destroy(e),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(e))}setScrollMode(e){return"string"==typeof e&&(e=u[e.toLowerCase()]),this.scrollMode=e,this}setClampMode(e){return this.clampTableOXYMode=e,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(e){this.setTableOY(e).updateTable()}set tableOX(e){this.setTableOX(e).updateTable()}setTableOXY(e,t){return this.setTableOY(t).setTableOX(e),this}addTableOY(e){return this.setTableOY(this.tableOY+e),this}addTableOX(e){return this.setTableOX(this.tableOX+e),this}addTableOXY(e,t){return this.addTableOY(t).addTableOX(e),this}setTableOYByPercentage(e){return this.setTableOY(-this.tableVisibleHeight*e),this}getTableOYPercentage(){var e=this.tableVisibleHeight;return 0===e?0:this.tableOY/-e}set t(e){this.setTableOYByPercentage(e).updateTable()}get t(){return this.getTableOYPercentage()}getCell(e){return this.table.getCell(e,!0)}getCellContainer(e){var t,i=this.table.getCell(e,!1);return i&&(t=i.getContainer()),t}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(e,t){return("number"==typeof e?this.table.getCell(e,!0):e).height=t,this}setCellWidth(e,t){return("number"==typeof e?this.table.getCell(e,!0):e).width=t,this}setCellsMask(e){var t,s,l;if(!0===e?(t=!0,s=0,l=0):!1===e?t=!1:(t=d(e,"mask",!0),s=d(e,"padding",0),l=d(e,"updateMode",0)),this.maskUpdateMode=l,t){var a=new i.default(this,0,s);this.cellsMask=a.createGeometryMask(),this.add(a),"string"==typeof l&&(l=c[l]),1===l&&this.scene.game.events.on("poststep",this.maskCells,this)}return this}get instHeight(){return 0===this.scrollMode?this.height:this.width}get instWidth(){return 0===this.scrollMode?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var e=this.tableHeight,t=this.instHeight;return e>t?e-t:0}get tableVisibleWidth(){var e=this.tableWidth,t=this.instWidth;return e>t?e-t:0}get bottomLeftY(){return-this.displayHeight*this.originY+this.displayHeight}get topRightX(){return-this.displayWidth*this.originX+this.displayWidth}get topLeftX(){return-this.displayWidth*this.originX}get topLeftY(){return-this.displayHeight*this.originY}get bottomBound(){return 0===this.scrollMode?this.bottomLeftY:this.topRightX}get rightBound(){return 0===this.scrollMode?this.topRightX:this.bottomLeftY}resize(e,t){return this.width===e&&this.height===t?this:(super.resize(e,t),this.cellsMask&&(0,s.default)((0,l.default)(this.cellsMask),e,t),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0),this)}}Object.assign(b.prototype,o.GetBounds,a.default);const u={v:0,vertical:0,h:1,horizontal:1},c={update:0,everyTick:1};var g=b;exports.default=g;
},{"../containerlite/ContainerLite.js":"Spz8","./Table.js":"oIr6","../../utils/mask/DefaultMask.js":"cr1v","../../utils/size/ResizeGameObject.js":"fFkl","../../utils/mask/MaskToGameObject.js":"EmkE","./methods/Methods.js":"kW2s"}],"J2KT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.tableOY},set:function(t){e.tableOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTableOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTableOY}})},t=e;exports.default=t;
},{}],"Mtin":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){e.on("cellvisible",function(e,t,i){var l=this.createCellContainerCallback,a=this.createCellContainerCallbackScope;e.item=this.items[e.index],(t=a?l.call(a,e,t,i):l(e,t,i))&&(t.setOrigin&&t.setOrigin(0),t.isRexSizer&&t.layout()),e.item=void 0,e.setContainer(t)},this)},t=e;exports.default=t;
},{}],"Ll62":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t,o,l,r,i){var n;if(null!=(n=void 0===r?l:o.pointToCellIndex(l,r))){var a=o.getCellContainer(n);a&&e.emit(t,a,n,i)}},t=e;exports.default=t;
},{}],"C2N2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./EmitCellEvent.js"));function t(e){return e&&e.__esModule?e:{default:e}}var n=function(t,n){t.on("pointerdown",function(n){(0,e.default)(this.eventEmitter,"cell.down",t,n.x,n.y,n)},this).on("pointerup",function(n){(0,e.default)(this.eventEmitter,"cell.up",t,n.x,n.y,n)},this)},i=n;exports.default=i;
},{"./EmitCellEvent.js":"Ll62"}],"rT7k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./EmitCellEvent.js"));function t(e){return e&&e.__esModule?e:{default:e}}var i=function(e,t){e.on("pointermove",l,this).on("pointerover",l,this).on("pointerout",n,this)},l=function(t){var i=this.childrenMap.child,l=i.pointToCellIndex(t.x,t.y);if(l!==i.input.lastOverCellIndex){var n=i.input.lastOverCellIndex;i.input.lastOverCellIndex=l,(0,e.default)(this.eventEmitter,"cell.out",i,n,void 0,t),(0,e.default)(this.eventEmitter,"cell.over",i,l,void 0,t)}},n=function(t){var i=this.childrenMap.child,l=i.input.lastOverCellIndex;i.input.lastOverCellIndex=void 0,(0,e.default)(this.eventEmitter,"cell.out",i,l,void 0,t)},r=i;exports.default=r;
},{"./EmitCellEvent.js":"Ll62"}],"NXQ8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../../../../plugins/input/button/Button.js")),t=i(require("./EmitCellEvent.js"));function i(e){return e&&e.__esModule?e:{default:e}}const u=Phaser.Utils.Objects.GetValue;var l=function(i,l){var n=u(l,"button",void 0);!1!==n&&(void 0===n&&(n={}),n.threshold=10,i._click=new e.default(i,n),i._click.on("click",function(e,i,u){(0,t.default)(this.eventEmitter,"cell.click",i,u.x,u.y,u)},this))},n=l;exports.default=n;
},{"../../../../plugins/input/button/Button.js":"kE1P","./EmitCellEvent.js":"Ll62"}],"hbmi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../eventemitter/EventEmitterMethods.js"));function i(t){return t&&t.__esModule?t:{default:t}}const s=Phaser.Utils.Objects.GetValue;class e{constructor(t,i){this.parent=t,this._isRunning=!1,this.tickingState=!1,this.setEventEmitter(s(i,"eventEmitter",void 0)),this.setTickingMode(s(i,"tickingMode",1))}boot(){2!==this.tickingMode||this.tickingState||this.startTicking()}shutdown(){this.destroyEventEmitter(),this.tickingState&&this.stopTicking()}setTickingMode(t){"string"==typeof t&&(t=n[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,1===this.tickingMode&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isRunning=!0,this}pause(){return this.isRunning=!1,this}resume(){return this.isRunning=!0,this}stop(){return this.isRunning=!1,this}complete(){this.isRunning=!1,this.emit("complete",this.parent,this)}}Object.assign(e.prototype,t.default);const n={no:0,lazy:1,always:2};var r=e;exports.default=r;
},{"../eventemitter/EventEmitterMethods.js":"TmQr"}],"VYoM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("../../../utils/ticktask/TickTask.js")),e=s(require("../../../utils/system/GetSceneObject.js"));function s(t){return t&&t.__esModule?t:{default:t}}const i=Phaser.Utils.Objects.GetValue;class n extends t.default{constructor(t,s){var n=(0,e.default)(t);n===t&&(t=void 0),super(n,s),this.scene=n,this.gameObject=t,t&&t.setInteractive(i(s,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(i(t,"enable",!0)),void 0===this.gameObject?this.bounds=i(t,"bounds",void 0):this.bounds=void 0,this.tracerState=o,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}shutdown(){this.gameObject?this.gameObject.off("pointerdown",this.onPointerDown,this):this.scene&&this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene&&(this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0,this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown()}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return void 0===t&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,e){this.enable&&(void 0===this.pointer&&(!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=h,void 0===this.gameObject&&(this.isTouchingAnyObject=e.length>0),this.onDragStart()))}onPointerUp(t){this.enable&&((!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=o,this.onDragEnd()))}onPointerMove(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),s=this.pointer===t;!s&&e||(s&&!e?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===h&&this.onDragEnd(),this.pointer=void 0,this.tracerState=o,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,e){}postUpdate(t,e){}startTicking(){super.startTicking(),this.scene.events.on("preupdate",this.preUpdate,this),this.scene.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.events.off("preupdate",this.preUpdate,this),this.scene.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=r,this}}const o=0,h=1,r="IDLE";var a=n;exports.default=a;
},{"../../../utils/ticktask/TickTask.js":"hbmi","../../../utils/system/GetSceneObject.js":"IEm3"}],"nKHC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../onepointertracer/OnePointerTracer.js")),s=e(require("../../../fsm.js"));function e(t){return t&&t.__esModule?t:{default:t}}const a=Phaser.Utils.Objects.GetValue,i=Phaser.Math.Distance.Between;class r extends t.default{constructor(t,e){super(t,e);var a=this,i={states:{IDLE:{enter:function(){a.stop(),a.tapsCount=0,a.x=0,a.y=0,a.worldX=0,a.worldY=0},exit:function(){var t=a.lastPointer;a.x=t.x,a.y=t.y,a.worldX=t.worldX,a.worldY=t.worldY}},BEGIN:{enter:function(){a.start(),a.tapsCount=0,a.emit("tappingstart",a,a.gameObject,a.lastPointer)}},RECOGNIZED:{enter:function(){a.start(),a.emit("tap",a,a.gameObject,a.lastPointer),a.emit(`${a.tapsCount}tap`,a,a.gameObject,a.lastPointer)}}},init:function(){this.state=h},eventEmitter:!1};this.setRecongizedStateObject(new s.default(i))}resetFromJSON(t){super.resetFromJSON(t),this.setMaxHoldTime(a(t,"time",250)),this.setTapInterval(a(t,"tapInterval",200)),this.setDragThreshold(a(t,"threshold",9)),this.setTapOffset(a(t,"tapOffset",10));var s=a(t,"taps",void 0);return void 0!==s?this.setTaps(s):(this.setMaxTaps(a(t,"maxTaps",void 0)),this.setMinTaps(a(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case h:this.state=n;break;case n:var t=this.lastPointer;i(t.upX,t.upY,t.x,t.y)>this.tapOffset&&(this.state=o,this.state=n);break;case o:this.state=n}}onDragEnd(){this.state===n&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),void 0!==this.maxTaps&&this.tapsCount===this.maxTaps&&(this.state=o))}onDrag(){this.state!==h&&this.pointer.getDistance()>this.dragThreshold&&(this.state=h)}preUpdate(t,s){if(this.state===n){var e=this.lastPointer;if(e.isDown)t-e.downTime>this.holdTime&&(this.state=h);else t-e.upTime>this.tapInterval&&(void 0===this.minTaps||this.tapsCount>=this.minTaps?this.state=o:this.state=h)}}postUpdate(t,s){this.state===o&&(this.state=h)}get isTapped(){return this.state===o}setMaxHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,s){return void 0===s&&(s=t),this.setMinTaps(t).setMaxTaps(s),this}}const h="IDLE",n="BEGIN",o="RECOGNIZED";var p=r;exports.default=p;
},{"../onepointertracer/OnePointerTracer.js":"VYoM","../../../fsm.js":"srj8"}],"cffR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/input/gestures/tap/Tap.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=e.default;exports.default=u;
},{"../../../plugins/input/gestures/tap/Tap.js":"nKHC"}],"rQm6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("../../tap/Tap.js")),t=a(require("./EmitCellEvent.js"));function a(e){return e&&e.__esModule?e:{default:e}}const r=Phaser.Utils.Objects.GetValue;var u=function(a,u){var s=r(u,"tap",void 0);!1!==s&&(a._tap=new e.default(a,s),a._tap.on("tap",function(e,a,r){var u=`cell.${e.tapsCount}tap`;(0,t.default)(this.eventEmitter,u,e.gameObject,e.x,e.y,r)},this))},s=u;exports.default=s;
},{"../../tap/Tap.js":"cffR","./EmitCellEvent.js":"Ll62"}],"XXCJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("../onepointertracer/OnePointerTracer.js")),e=s(require("../../../fsm.js"));function s(t){return t&&t.__esModule?t:{default:t}}const r=Phaser.Utils.Objects.GetValue;class i extends t.default{constructor(t,s){super(t,s);var r=this,i={states:{IDLE:{enter:function(){r.x=0,r.y=0,r.worldX=0,r.worldY=0},exit:function(){var t=r.lastPointer;r.x=t.x,r.y=t.y,r.worldX=t.worldX,r.worldY=t.worldY}},BEGIN:{enter:function(){r.start()},exit:function(){r.stop()}},RECOGNIZED:{enter:function(){r.emit("pressstart",r,r.gameObject,r.lastPointer)},exit:function(){r.emit("pressend",r,r.gameObject,r.lastPointer)}}},init:function(){this.state=n},eventEmitter:!1};this.setRecongizedStateObject(new e.default(i))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(r(t,"threshold",9)),this.setMinHoldTime(r(t,"time",251)),this}onDragStart(){this.state=0===this.holdTime?a:o}onDragEnd(){this.state=n}onDrag(){this.state!==n&&this.pointer.getDistance()>this.dragThreshold&&(this.state=n)}preUpdate(t,e){this.state===o&&(t-this.pointer.downTime>=this.holdTime&&(this.state=a))}get isPressed(){return this.state===a}setDragThreshold(t){return this.dragThreshold=t,this}setMinHoldTime(t){return this.holdTime=t,this}}const n="IDLE",o="BEGIN",a="RECOGNIZED";var h=i;exports.default=h;
},{"../onepointertracer/OnePointerTracer.js":"VYoM","../../../fsm.js":"srj8"}],"ciNJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../../../plugins/input/gestures/press/Press.js"));function r(e){return e&&e.__esModule?e:{default:e}}var s=e.default;exports.default=s;
},{"../../../plugins/input/gestures/press/Press.js":"XXCJ"}],"lhps":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../../press/Press.js")),t=s(require("./EmitCellEvent.js"));function s(e){return e&&e.__esModule?e:{default:e}}const r=Phaser.Utils.Objects.GetValue;var n=function(s,n){var i=r(n,"press",void 0);!1!==i&&(s._press=new e.default(s,i),s._press.on("pressstart",function(e,r,n){(0,t.default)(this.eventEmitter,"cell.pressstart",s,e.x,e.y,n)},this).on("pressend",function(e,r,n){(0,t.default)(this.eventEmitter,"cell.pressend",s,e.x,e.y,n)},this))},i=n;exports.default=i;
},{"../../press/Press.js":"ciNJ","./EmitCellEvent.js":"Ll62"}],"JplH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=Phaser.Math.Distance.Between,e=Phaser.Math.Angle.Between;var i={getDt:function(){return this.scene.sys.game.loop.delta},getVelocity:function(){var e=this.pointer.position,i=this.pointer.prevPosition;return t(i.x,i.y,e.x,e.y)/(.001*this.getDt())},getVelocityX:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return Math.abs(t.x-e.x)/(.001*this.getDt())},getVelocityY:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return Math.abs(t.y-e.y)/(.001*this.getDt())},getVelocityAngle:function(){var t=this.pointer.position,i=this.pointer.prevPosition;return e(i.x,i.y,t.x,t.y)}};exports.default=i;
},{}],"m8sy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={"up&down":0,"left&right":1,"4dir":2,"8dir":3};exports.default=e;
},{}],"YrLV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,r,o){switch(void 0===o?o={}:!0===o&&(o=t),o.left=!1,o.right=!1,o.up=!1,o.down=!1,e=(e+360)%360,r){case 0:e<180?o.down=!0:o.up=!0;break;case 1:e>90&&e<=270?o.left=!0:o.right=!0;break;case 2:e>45&&e<=135?o.down=!0:e>135&&e<=225?o.left=!0:e>225&&e<=315?o.up=!0:o.right=!0;break;case 3:e>22.5&&e<=67.5?(o.down=!0,o.right=!0):e>67.5&&e<=112.5?o.down=!0:e>112.5&&e<=157.5?(o.down=!0,o.left=!0):e>157.5&&e<=202.5?o.left=!0:e>202.5&&e<=247.5?(o.left=!0,o.up=!0):e>247.5&&e<=292.5?o.up=!0:e>292.5&&e<=337.5?(o.up=!0,o.right=!0):o.right=!0}return o},t={},r=e;exports.default=r;
},{}],"qaTl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("../onepointertracer/OnePointerTracer.js")),e=a(require("../../../fsm.js")),i=a(require("./VelocityMethods.js")),r=a(require("../../../utils/math/angle/angletodirections/Const.js")),s=a(require("../../../utils/math/angle/angletodirections/AngleToDirections.js"));function a(t){return t&&t.__esModule?t:{default:t}}const o=Phaser.Utils.Objects.GetValue,n=Phaser.Math.RadToDeg;class h extends t.default{constructor(t,i){super(t,i);var r=this,s={states:{IDLE:{enter:function(){r.x=0,r.y=0,r.worldX=0,r.worldY=0},exit:function(){var t=r.lastPointer;r.x=t.x,r.y=t.y,r.worldX=t.worldX,r.worldY=t.worldY}},BEGIN:{enter:function(){r.validDrag=!1}},RECOGNIZED:{enter:function(){r.start(),r.updateDirectionStates(),r.emit("swipe",r,r.gameObject,r.lastPointer)},exit:function(){r.stop(),r.clearDirectionStates()}}},init:function(){this.state=l},eventEmitter:!1};this.setRecongizedStateObject(new e.default(s)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(o(t,"threshold",10)),this.setMinDragVelocity(o(t,"velocityThreshold",1e3)),this.setDirectionMode(o(t,"dir","8dir")),this}onDragStart(){this.state=d}onDragEnd(){this.state=l}onDrag(){this.state===d&&(this.vaildDrag||(this.vaildDrag=0===this.dragThreshold||this.pointer.getDistance()>=this.dragThreshold),this.vaildDrag&&this.dragVelocity>this.minDragVelocity&&(this.state=c))}postUpdate(t,e){this.state===c&&(this.state=l)}get isSwiped(){return this.state===c}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity()}return t}setDragThreshold(t){return this.dragThreshold=t,this}setMinDragVelocity(t){return this.minDragVelocity=t,this}setDirectionMode(t){return"string"==typeof t&&(t=r.default[t]),this.dirMode=t,this}updateDirectionStates(){var t=n(this.getVelocityAngle());return(0,s.default)(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(h.prototype,i.default);const l="IDLE",d="BEGIN",c="RECOGNIZED";var u=h;exports.default=u;
},{"../onepointertracer/OnePointerTracer.js":"VYoM","../../../fsm.js":"srj8","./VelocityMethods.js":"JplH","../../../utils/math/angle/angletodirections/Const.js":"m8sy","../../../utils/math/angle/angletodirections/AngleToDirections.js":"YrLV"}],"kvya":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/input/gestures/swipe/Swipe.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=e.default;exports.default=u;
},{"../../../plugins/input/gestures/swipe/Swipe.js":"qaTl"}],"IhEL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../../swipe/Swipe.js")),t=i(require("./EmitCellEvent.js"));function i(e){return e&&e.__esModule?e:{default:e}}const r=Phaser.Utils.Objects.GetValue;var s=function(i,s){var u=r(s,"swipe",void 0);!1!==u&&(void 0===u&&(u={}),u.dir="4dir",i._swipe=new e.default(i,u),i._swipe.on("swipe",function(e,r,s){var u=e.left?"left":e.right?"right":e.up?"up":"down";(0,t.default)(this.eventEmitter,`cell.swipe${u}`,i,e.x,e.y,s)},this))},u=s;exports.default=u;
},{"../../swipe/Swipe.js":"kvya","./EmitCellEvent.js":"Ll62"}],"WBBn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./PointerUpDownCell.js")),l=i(require("./OverCell.js")),t=i(require("./ClickCell.js")),r=i(require("./TapCell.js")),s=i(require("./PressCell.js")),u=i(require("./SwipeCell.js"));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(i,a){i.setInteractive(),e.default.call(this,i,a),l.default.call(this,i,a),t.default.call(this,i,a),r.default.call(this,i,a),s.default.call(this,i,a),u.default.call(this,i,a)},d=a;exports.default=d;
},{"./PointerUpDownCell.js":"C2N2","./OverCell.js":"rT7k","./ClickCell.js":"NXQ8","./TapCell.js":"rQm6","./PressCell.js":"lhps","./SwipeCell.js":"IhEL"}],"DDso":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){void 0===e?this.items.length=0:this.items=e;var t=this.childrenMap.child;return t.setCellsCount(this.items.length),t.updateTable(!0),this.resizeController(),this},t=e;exports.default=t;
},{}],"CB37":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("../utils/scrollable/Scrollable.js")),t=d(require("../utils/GetScrollMode.js")),l=d(require("../../../plugins/gameobjects/gridtable/GridTable.js")),i=d(require("./InjectProperties.js")),a=d(require("./TableOnCellVisible.js")),r=d(require("./input/TableSetInteractive.js")),s=d(require("../../../plugins/utils/object/NOOP.js")),o=d(require("./SetItems.js"));function d(e){return e&&e.__esModule?e:{default:e}}const c=Phaser.Utils.Objects.GetValue;class n extends e.default{constructor(e,o){void 0===o&&(o={});var d=(0,t.default)(o),n=c(o,"table",void 0);void 0===n&&(n={}),n.scrollMode=d,n.clamplTableOXY=c(o,"clamplChildOY",!1);var u,b,v=c(n,"width",void 0),C=c(n,"height",void 0),h=new l.default(e,0,0,v,C,n);e.add.existing(h),0===d?(u=void 0===v?1:0,b=void 0===C):(u=void 0===C?1:0,b=void 0===v),(0,i.default)(h),o.type="rexGridTable",o.child={gameObject:h,proportion:u,expand:b};var p=c(o,"space",void 0);p&&(p.child=p.table),super(e,o),this.addChildrenMap("table",h),this.eventEmitter=c(o,"eventEmitter",this);var j=c(o,"createCellContainerCallback",s.default),f=c(o,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(j,f),a.default.call(this,h),c(n,"interactive",!0)&&r.default.call(this,h,n),this.setItems(c(o,"items",[]))}setCreateCellContainerCallback(e,t){return this.createCellContainerCallback=e,this.createCellContainerCallbackScope=t,this}refresh(){return this.setItems(this.items),this}}var u={setItems:o.default};Object.assign(n.prototype,u);var b=n;exports.default=b;
},{"../utils/scrollable/Scrollable.js":"ZH6u","../utils/GetScrollMode.js":"FiU0","../../../plugins/gameobjects/gridtable/GridTable.js":"naZ4","./InjectProperties.js":"J2KT","./TableOnCellVisible.js":"Mtin","./input/TableSetInteractive.js":"WBBn","../../../plugins/utils/object/NOOP.js":"FQUj","./SetItems.js":"DDso"}],"ueEe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,e){var o;this.collapseSubMenu(),o=this.root.toggleOrientation?0===this.orientation?1:0:this.orientation;var a=new this.constructor(this.scene,{items:e,orientation:o,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:t});return this.pin(a),this.childrenMap.subMenu=a,this.root.emit("expand",a,t,this),this},e=t;exports.default=e;
},{}],"zrPC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t){return t.orientation=e.orientation,t},t=e;exports.default=t;
},{}],"QPfi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./GetEaseConfig.js"));function t(e){return e&&e.__esModule?e:{default:e}}var s=function(){return this.root.emit("collapse",this,this.parentButton,this.parentMenu),this.scaleDownDestroy((0,e.default)(this,this.root.easeOut)),this.collapseSubMenu(),this},o=s;exports.default=o;
},{"./GetEaseConfig.js":"zrPC"}],"p09Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){if(void 0===this.childrenMap.subMenu)return this;var e=this.childrenMap.subMenu;return this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this},t=e;exports.default=t;
},{}],"Nnpy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./ExpandSubMenu.js")),u=r(require("./Collapse.js")),l=r(require("./CollapseSubMenu.js"));function r(e){return e&&e.__esModule?e:{default:e}}var a={expandSubMenu:e.default,collapse:u.default,collapseSubMenu:l.default};exports.default=a;
},{"./ExpandSubMenu.js":"ueEe","./Collapse.js":"QPfi","./CollapseSubMenu.js":"p09Q"}],"Rfg8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t,r,o){var s;return r&&(t.scene=e,s=o?r.call(o,t):r(t),t.scene=void 0),s},t=e;exports.default=t;
},{}],"l4Ir":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,r,t,o){var s,u,a=[];if(r&&t)for(var l=0,n=r.length;l<n;l++)(s=r[l]).scene=e,u=o?t.call(o,s,l,r):t(s,l,r),s.scene=void 0,a.push(u);return a},r=e;exports.default=r;
},{}],"DxJJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){t.on(t.root.expandEventName,function(t,o){if(!this._isPassedEvent){var s=this.items[o].children;s&&this.expandSubMenu(t,s)}},t).on("button.click",function(t,o,s,i){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,o,s,i),this.root._isPassedEvent=!1)},t).on("button.over",function(t,o,s,i){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,o,s,i),this.root._isPassedEvent=!1)},t).on("button.out",function(t,o,s,i){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,o,s,i),this.root._isPassedEvent=!1)},t)},o=t;exports.default=o;
},{}],"Fab0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../buttons/Buttons.js")),e=r(require("./Methods.js")),s=r(require("./CreateBackground.js")),i=r(require("./CreateButtons.js")),a=r(require("../../../plugins/utils/bounds/GetDefaultBounds.js")),n=r(require("./MenuSetInteractive.js")),o=r(require("./GetEaseConfig.js"));function r(t){return t&&t.__esModule?t:{default:t}}const u=Phaser.Utils.Objects.GetValue;class h extends t.default{constructor(t,e){void 0===e&&(e={}),e.hasOwnProperty("orientation")||(e.orientation=1);var r=e._rootMenu,h=e._parentMenu,l=e._parentButton,c=u(e,"items",void 0),d=u(e,"createBackgroundCallback",void 0),p=u(e,"createBackgroundCallbackScope",void 0);e.background=(0,s.default)(t,c,d,p);var b=u(e,"createButtonCallback",void 0),g=u(e,"createButtonCallbackScope",void 0);e.buttons=(0,i.default)(t,c,b,g),super(t,e),this.type="rexMenu",this.items=c,this.root=void 0===r?this:r,this.parentMenu=h,this.parentButton=l;var f=this.root===this;f&&(void 0===(v=e.bounds)&&(v=(0,a.default)(t)),this.bounds=v,this.expandEventName=u(e,"expandEvent","button.click"),this.toggleOrientation=u(e,"toggleOrientation",!1),this.easeIn=u(e,"easeIn",0),"number"==typeof this.easeIn&&(this.easeIn={duration:this.easeIn}),this.easeOut=u(e,"easeOut",0),"number"==typeof this.easeOut&&(this.easeOut={duration:this.easeOut}),this.createBackgroundCallback=d,this.createBackgroundCallbackScope=p,this.createButtonCallback=b,this.createButtonCallbackScope=g,this._isPassedEvent=!1);this.setOrigin(0).layout();var v=this.root.bounds;if(f)this.expandOrientation=[this.y<v.centerY?1:3,this.x<v.centerX?0:2];else switch(this.root.expandOrientation[h.orientation]){case 0:this.alignTop(l.top).alignLeft(l.right);break;case 1:this.alignLeft(l.left).alignTop(l.bottom);break;case 2:this.alignTop(l.top).alignRight(l.left);break;case 3:this.alignLeft(l.left).alignBottom(l.top)}this.pushIntoBounds(v),(0,n.default)(this),this.popUp((0,o.default)(this,this.root.easeIn))}isInTouching(t){return!!super.isInTouching(t)||!!this.childrenMap.subMenu&&this.childrenMap.subMenu.isInTouching(t)}}Object.assign(h.prototype,e.default);var l=h;exports.default=l;
},{"../buttons/Buttons.js":"rCq6","./Methods.js":"Nnpy","./CreateBackground.js":"Rfg8","./CreateButtons.js":"l4Ir","../../../plugins/utils/bounds/GetDefaultBounds.js":"BQ70","./MenuSetInteractive.js":"DxJJ","./GetEaseConfig.js":"zrPC"}],"dqXH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=Phaser.GameObjects.Text;var t=function(t){return t instanceof e},r=t;exports.default=r;
},{}],"wLUU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("../../utils/system/GetSceneObject.js")),e=s(require("../../utils/text/IsTextGameObject.js"));function s(t){return t&&t.__esModule?t:{default:t}}const i=Phaser.Utils.Objects.GetValue,n=Phaser.Math.Clamp;class h{constructor(e,s){this.gameObject=e,this.scene=(0,t.default)(e),this.setTextObjectType(),this.lines=void 0,this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setText(i(t,"text","")),this.setStartIdx(i(t,"start",0)),this.setPageIdx(i(t,"page",-1)),this}toJSON(){return{text:this.text,start:this.startLineIdx,page:this.pageIndex,pageCount:this.pageCount}}boot(){this.gameObject.on("destroy",this.destroy,this)}shutdown(){return void 0===this.lines||(0===this.textObjectType?this.lines.length=0:this.lines.destroy()),this.gameObject=void 0,this.scene=void 0,this}destroy(){this.shutdown()}setTextObjectType(){return this.textObjectType=(0,e.default)(this.gameObject)?0:1,this}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}setText(t,e){return void 0===e&&(e=!0),this.text=r(t),0===this.textObjectType?this.lines=this.gameObject.getWrappedText(this.text):this.lines=this.gameObject.getPenManager(this.text,this.lines),this.pageCount=Math.ceil(this.totalLinesCount/this.pageLinesCount),e&&this.resetPageIdx(),this}appendText(t){return this.setText(this.text.concat(r(t))),this}getPage(t){return void 0===t&&(t=this.pageIndex),this.setPageIdx(t).getLines()}getNextPage(){return this.getPage(this.pageIndex+1)}getPreviousPage(){return this.getPage(this.pageIndex-1)}showPage(t){return this.displayText(this.getPage()),this}showNextPage(){return this.displayText(this.getNextPage()),this}showPreviousPage(){return this.displayText(this.getPreviousPage()),this}show(){return this.displayText(this.getLines()),this}showNextLine(){return this.displayText(this.setStartIdx(this.startLineIdx+1).getLines()),this}showPreviousLine(){return this.displayText(this.setStartIdx(this.startLineIdx-1).getLines()),this}setStartIdx(t){return t=n(t,0,this.totalLinesCount-1),this.startLineIdx=t,this}resetPageIdx(){this.pageIndex=-1}setPageIdx(t){return t=n(t,0,this.pageCount-1),this.pageIndex=t,this.setStartIdx(this.pageIndex*this.pageLinesCount),this}get totalLinesCount(){return 0===this.textObjectType?this.lines.length:this.lines.linesCount}get pageLinesCount(){var t=this.gameObject.style.maxLines;return t>0?t:this.totalLinesCount}getLines(t){void 0===t&&(t=this.startLineIdx);var e,s=t+this.pageLinesCount;if(0===this.textObjectType)e=this.lines.slice(t,s).join("\n");else{var i=this.lines.getLineStartIndex(t),n=this.lines.getLineEndIndex(s-1);e=this.lines.getSliceTagText(i,n,!0)}return e}displayText(t){this.gameObject.setText(t)}}var r=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t},a=h;exports.default=a;
},{"../../utils/system/GetSceneObject.js":"IEm3","../../utils/text/IsTextGameObject.js":"dqXH"}],"gWaB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./behaviors/textpage/TextPage.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=e.default;exports.default=r;
},{"./behaviors/textpage/TextPage.js":"wLUU"}],"krcE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("../../utils/eventemitter/EventEmitterMethods.js")),e=s(require("../../utils/system/GetSceneObject.js"));function s(t){return t&&t.__esModule?t:{default:t}}const i=Phaser.Utils.Objects.GetFastValue,r=Phaser.Utils.Objects.GetValue;class h{constructor(t,s){this.gameObject=t,this.scene=(0,e.default)(t),this.setEventEmitter(r(s,"eventEmitter",void 0)),this.timer=null,this.resetFromJSON(s),this.boot()}resetFromJSON(t){this.setTypeMode(r(t,"typeMode",0)),this.setTypeSpeed(r(t,"speed",333)),this.setTextCallback=i(t,"setTextCallback",null),this.setTextCallbackScope=i(t,"setTextCallbackScope",null),this.typingIdx=i(t,"typingIdx",0),this.text=n(i(t,"text","")),this.textLen=i(t,"textLen",0),this.insertIdx=i(t,"insertIdx",null);var e=i(t,"elapsed",null);return null!==e&&this.start(void 0,void 0,this.typingIdx,e),this}toJSON(){var t,e=this.getTimer();return t=e?e.elapsed:null,{typeMode:this.typeMode,speed:this.speed,setTextCallback:this.setTextCallback,setTextCallbackScope:this.setTextCallbackScope,typingIdx:this.typingIdx,text:this.text,textLen:this.textLen,insertIdx:this.insertIdx,elapsed:t}}boot(){return this.gameObject.once&&this.gameObject.on("destroy",this.destroy,this),this}shutdown(){return this.destroyEventEmitter(),this.freeTimer(),this.gameObject=void 0,this.scene=void 0,this}destroy(){return this.shutdown(),this}setTypeMode(t){return"string"==typeof t&&(t=a[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}get isTyping(){return null!==this.getTimer()}get isLastChar(){return this.typingIdx===this.textLen}start(t,e,s,i){return void 0!==t&&this.setTypingContent(t),void 0!==e&&(this.speed=e),void 0===s&&(s=0),this.typingIdx=s+1,0===this.speed?this.stop(!0):this.startTimer(i),this}appendText(t){var e=this.text.concat(n(t));return this.isTyping?this.setTypingContent(e):this.start(e,void 0,this.textLen),this}stop(t){return this.getTimer()&&this.freeTimer(),t&&(this.typingIdx=this.textLen,this.setText(this.text),this.emit("type"),this.emit("complete",this,this.gameObject)),this}pause(){var t=this.getTimer();return t&&(t.paused=!0),this}resume(){var t=this.getTimer();return t&&(t.paused=!1),this}setTypingContent(t){return this.text=n(t),this.textLen=this.getTextLength(this.text),this}onTyping(){var t=this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode);this.setText(t),this.emit("type"),this.isLastChar?(this.freeTimer(),this.emit("complete",this,this.gameObject)):(this.timer.delay=this.speed,this.typingIdx++)}getTypingString(t,e,s,i){var r;if(0===i){var h=0,n=e;this.insertIdx=n,r=this.getSubString(t,h,n)}else if(1===i){h=(n=s)-e;this.insertIdx=0,r=this.getSubString(t,h,n)}else if(2===i){var a=s/2;n=(h=Math.floor(a-e/2))+e;this.insertIdx=e%2?e:0,r=this.getSubString(t,h,n)}else if(3===i){var l,d=Math.floor(e/2);if(d>0){h=(n=s)-d;l=this.getSubString(t,h,n)}else l="";var o,g=e-d;if(g>0){n=(h=0)+g;this.insertIdx=n,o=this.getSubString(t,h,n)}else o="",this.insertIdx=0;r=o+l}return r}startTimer(t){var e;return this.timer&&this.freeTimer(),void 0===t?(0,e=0):(this.speed,e=t),this.timer=this.scene.time.addEvent({delay:0,startAt:e,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(t=this.setTextCallbackScope?this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIdx):this.setTextCallback(t,this.isLastChar,this.insertIdx)),this.gameObject.setText(t)}getTextLength(t){var e=this.gameObject;return e.getPlainText?e.getPlainText(t).length:t.length}getSubString(t,e,s){var i=this.gameObject;return i.getSubString?i.getSubString(t,e,s):t.slice(e,s)}}Object.assign(h.prototype,t.default);var n=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t};const a={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};var l=h;exports.default=l;
},{"../../utils/eventemitter/EventEmitterMethods.js":"TmQr","../../utils/system/GetSceneObject.js":"IEm3"}],"IHmB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./behaviors/texttyping/TextTyping.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=e.default;exports.default=r;
},{"./behaviors/texttyping/TextTyping.js":"krcE"}],"Xc6D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("../label/Label.js")),e=s(require("../../../plugins/textpage.js")),i=s(require("../../../plugins/texttyping.js"));function s(t){return t&&t.__esModule?t:{default:t}}const h=Phaser.Utils.Objects.GetValue;class r extends t.default{constructor(t,s){void 0===s&&(s={text:a(t)}),super(t,s),this.type="rexTextBox";var r=this.childrenMap.text;this.page=new e.default(r,h(s,"page",void 0)),this.typing=new i.default(r,h(s,"type",void 0)),this.typing.on("complete",this.onPageEnd,this).on("type",this.onType,this),this.textWidth=r.width,this.textHeight=r.height}start(t,e){return this.page.setText(t),void 0!==e&&this.typing.setTypeSpeed(e),this.typeNextPage(),this}typeNextPage(){if(this.page.isLastPage)this.emit("complete");else{var t=this.page.getNextPage();this.typing.start(t)}return this}pause(){return this.typing.pause(),this}resume(){return this.typing.resume(),this}stop(t){return this.typing.stop(t),this}get isTyping(){return this.typing.isTyping}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}onType(){var t=this.childrenMap.text;this.textWidth===t.width&&this.textHeight===t.height||(this.textWidth=t.width,this.textHeight=t.height,this.getTopmostSizer().layout()),this.emit("type")}onPageEnd(){this.emit("pageend")}}var a=function(t){return t.add.text(0,0,"",{wordWrap:{width:200},maxLines:5})},p=r;exports.default=p;
},{"../label/Label.js":"lUYW","../../../plugins/textpage.js":"gWaB","../../../plugins/texttyping.js":"IHmB"}],"PTfs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("../sizer/Sizer.js")),t=a(require("../utils/AddChildMask.js")),i=a(require("../slider/Slider.js"));function a(e){return e&&e.__esModule?e:{default:e}}const r=Phaser.Utils.Objects.GetValue,s=Phaser.Math.Percent,d=Phaser.Math.Linear;class l extends e.default{constructor(e,t){super(e,t),this.type="rexNumberBar";var a,s=r(t,"background",void 0),d=r(t,"icon",void 0),l=r(t,"iconMask",void 0),h=r(t,"slider",void 0),n=r(t,"text",void 0),o=r(t,"space.icon",0),u=r(t,"space.slider",0);(s&&this.addBackground(s),d)&&(0===this.orientation?(h||n)&&(v={right:o}):(h||n)&&(v={bottom:o}),this.add(d,0,"center",v),l&&(l=this.addChildMask(d,d,1)));if(h){var v,c;if(h.orientation=this.orientation,h.eventEmitter=this,h.value=null,h.hasOwnProperty("input")||(h.input=-1),a=new i.default(e,h),0===this.orientation?n&&(v={right:u}):n&&(v={bottom:u}),0===this.orientation)c=void 0===r(h,"width",void 0)?1:0;else c=void 0===r(h,"height",void 0)?1:0;this.add(a,c,"center",v)}n&&this.add(n),this.addChildrenMap("background",s),this.addChildrenMap("icon",d),this.addChildrenMap("iconMask",l),this.addChildrenMap("slider",a),this.addChildrenMap("text",n);var p=r(t,"valuechangeCallback",null);if(null!==p){var M=r(t,"valuechangeCallbackScope",void 0);this.on("valuechange",p,M)}this.setEnable(r(t,"enable",void 0)),this.setValue(r(t,"value",0))}setEnable(e){return this.childrenMap.slider?this:(void 0===e&&(e=!0),this.childrenMap.slider.enable=e,this)}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(e){this.childrenMap.slider&&(this.childrenMap.slider.value=e)}setValue(e,t,i){return void 0!==t&&(e=s(e,t,i)),this.value=e,this}addValue(e,t,i){return void 0!==t&&(e=s(e,t,i)),this.value+=e,this}getValue(e,t){var i=this.value;return void 0!==e&&(i=d(e,t,i)),i}get text(){var e=this.childrenMap.text;return void 0===e?"":e.text?e.text:e.getData("text")}set text(e){var t=this.childrenMap.text;void 0!==t&&(t.setText?t.setText(e):t.setData("text",e))}setText(e){return this.text=e,this}}var h={addChildMask:t.default};Object.assign(l.prototype,h);var n=l;exports.default=n;
},{"../sizer/Sizer.js":"Hzrc","../utils/AddChildMask.js":"L52d","../slider/Slider.js":"CElm"}],"uWHm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t,s,r,i){return e.setVisible(!1),this.add(e,t,s,r,i),this},t=e;exports.default=t;
},{}],"hl6R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){return void 0===e?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null},r=e;exports.default=r;
},{}],"vRMT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../container/Container.js"));function t(e){return e&&e.__esModule?e:{default:e}}const i=e.default.prototype.setChildVisible;var s=function(e){this._previousKey=this._currentKey;var t=this.previousPage;t&&(0===this.swapMode?(i.call(this,t,!1),this.emit("pageinvisible",t,this._previousKey,this)):t.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var s=this.currentPage;return s&&(i.call(this,s,!0),this.emit("pagevisible",s,this._currentKey,this)),this},r=s;exports.default=r;
},{"../container/Container.js":"maWZ"}],"Ikws":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./AddPage.js")),a=r(require("./GetPage.js")),t=r(require("./SwapPage.js"));function r(e){return e&&e.__esModule?e:{default:e}}var u={addPage:e.default,getPage:a.default,swapPage:t.default};exports.default=u;
},{"./AddPage.js":"uWHm","./GetPage.js":"hl6R","./SwapPage.js":"vRMT"}],"euch":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../overlapsizer/OverlapSizer.js")),t=r(require("./Methods.js"));function r(e){return e&&e.__esModule?e:{default:e}}const s=Phaser.Utils.Objects.GetValue;class i extends e.default{constructor(e,t){super(e,t),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(s(t,"swapMode",0))}setSwapMode(e){return"string"==typeof e&&(e=u[e]),this.swapMode=e,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(e){this.swapPage(e)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(i.prototype,t.default);const u={invisible:0,destroy:1};var o=i;exports.default=o;
},{"../overlapsizer/OverlapSizer.js":"n4Mj","./Methods.js":"Ikws"}],"aMaa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("../utils/GetBoundsConfig.js")),e=s(require("../../../plugins/utils/text/IsTextGameObject.js"));function s(t){return t&&t.__esModule?t:{default:t}}const i=Phaser.Display.Align.TOP_LEFT;var r=function(s,r){void 0===r&&(r=!0),this.add(s);var a=this.getSizerConfig(s);return a.align=i,a.padding=(0,t.default)(0),a.expand=!0,this.textObject=s,this.textObjectType=(0,e.default)(s)?0:1,a.preOffsetY=0,a.offsetY=0,r&&(this.textMask=this.addChildMask(this.textObject,this)),this},a=r;exports.default=a;
},{"../utils/GetBoundsConfig.js":"Msvs","../../../plugins/utils/text/IsTextGameObject.js":"dqXH"}],"pZTX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){return void 0!==t&&(this.text=t),0===this.textObjectType?this.lines=this.textObject.getWrappedText(this.text):this.lines=this.textObject.getPenManager(this.text,this.lines),this.updateTextObject(),this},e=t;exports.default=e;
},{}],"IsOy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},t=e;exports.default=t;
},{}],"aR6m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},t=e;exports.default=t;
},{}],"IXyq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){var t,i=e+this.textObject.style.maxLines;if(0===this.textObjectType)t=this.lines.slice(e,i).join("\n");else{var s=this.lines.getLineStartIndex(e),n=this.lines.getLineEndIndex(i-1);t=this.lines.getSliceTagText(s,n,!0)}return t},t=e;exports.default=t;
},{}],"HVUp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){var t=this.textObject.rexSizer;this.textObject.y+=t.offsetY-t.preOffsetY,t.preOffsetY=t.offsetY,this.resetChildPositionState(this.textObject)},e=t;exports.default=e;
},{}],"jf94":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./TextHeightToLinesCount.js")),t=r(require("./LinesCountToTextHeight.js")),s=r(require("./GetLines.js")),i=r(require("./ResetTextObjectPosition.js"));function r(e){return e&&e.__esModule?e:{default:e}}var u=function(){var r=Math.max(Math.floor(e.default.call(this,-this.textOY)),0),u=t.default.call(this,r)+this.textOY;return this.textObject.setText(s.default.call(this,r)),this.textObject.rexSizer.offsetY=u,i.default.call(this),this},l=u;exports.default=l;
},{"./TextHeightToLinesCount.js":"IsOy","./LinesCountToTextHeight.js":"aR6m","./GetLines.js":"IXyq","./ResetTextObjectPosition.js":"HVUp"}],"xquU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./TextHeightToLinesCount.js"));function t(e){return e&&e.__esModule?e:{default:e}}var i=function(t,i,s){if(s+=this.textLineHeight+this.textLineSpacing,t.width!==i||t.height!==s){t.setFixedSize(i,s);var a=t.style,r=Math.max(i,0),h=Math.ceil(e.default.call(this,s))+1;0===this.textObjectType?(a.wordWrapWidth=r,a.maxLines=h):(a.wrapWidth=r,a.maxLines=h),this.setText()}},s=i;exports.default=s;
},{"./TextHeightToLinesCount.js":"IsOy"}],"AIK0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./ResizeText.js")),e=r(require("./ResetTextObjectPosition.js")),i=r(require("../../../plugins/utils/actions/GlobZone.js")),s=r(require("../../../plugins/utils/align/align/in/QuickSet.js"));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(r,o,u){if(this.rexSizer.hidden||!this.dirty)return this;var h,a,l;this.preLayout(r),void 0===o&&(o=this.minWidth),void 0===u&&(u=this.minHeight),this.resize(o,u);var n,d,f,p,x=this.left,c=this.top;return(h=this.textObject).rexSizer.hidden||(n=x+(l=(a=h.rexSizer).padding).left,d=c+l.top,f=this.width-l.left-l.right,p=this.height-l.top-l.bottom,t.default.call(this,h,f,p),i.default.setPosition(n,d).setSize(f,p),(0,s.default)(h,i.default,a.align),a.preOffsetY=0,e.default.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask))),this.layoutBackgrounds(),this.postLayout()},u=o;exports.default=u;
},{"./ResizeText.js":"xquU","./ResetTextObjectPosition.js":"HVUp","../../../plugins/utils/actions/GlobZone.js":"aI5K","../../../plugins/utils/align/align/in/QuickSet.js":"IOWs"}],"Gq0N":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("../utils/AddChildMask.js")),t=a(require("./SetTextObject.js")),u=a(require("./SetText.js")),d=a(require("./UpdateTextObject.js")),r=a(require("./Layout.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s={addChildMask:e.default,setTextObject:t.default,setText:u.default,updateTextObject:d.default,layout:r.default};exports.default=s;
},{"../utils/AddChildMask.js":"L52d","./SetTextObject.js":"aMaa","./SetText.js":"pZTX","./UpdateTextObject.js":"jf94","./Layout.js":"AIK0"}],"ggyh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=h(require("../basesizer/BaseSizer.js")),e=h(require("./Methods.js")),i=h(require("./LinesCountToTextHeight.js")),s=h(require("./TextHeightToLinesCount.js"));function h(t){return t&&t.__esModule?t:{default:t}}const o=Phaser.Utils.Objects.IsPlainObject,r=Phaser.Utils.Objects.GetValue;class x extends t.default{constructor(t,e,i,s,h,x){o(e)?(e=r(x=e,"x",0),i=r(x,"y",0),s=r(x,"width",void 0),h=r(x,"height",void 0)):o(s)&&(s=r(x=s,"width",void 0),h=r(x,"height",void 0)),super(t,e,i,s,h,x),this.type="rexTextBlock",this.textObject=void 0,this.textMask=void 0,this.textObjectType=void 0,this.lines=void 0,this.text=r(x,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(r(x,"clamplTextOY",!0));var d=r(x,"background",void 0),a=r(x,"text",void 0);void 0===a&&(a=n(t));var c=r(x,"textMask",!0);d&&this.addBackground(d),this.setTextObject(a,c),this.addChildrenMap("background",d),this.addChildrenMap("text",a)}destroy(t){this.scene&&(this.textObject=void 0,this.textMask=void 0,void 0===this.lines||(0===this.textObjectType?this.lines.length=0:this.lines.destroy()),super.destroy(t))}setClampMode(t){return this.clampTextOYMode=t,this}get textLineHeight(){var t=this.textObject.style;return t.metrics.fontSize+t.strokeThickness}get textLineSpacing(){return this.textObject.lineSpacing}get linesCount(){return void 0===this.lines?0:0===this.textObjectType?this.lines.length:this.lines.linesCount}get visibleLinesCount(){return Math.floor(s.default.call(this,this.textObject.height))}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return i.default.call(this,this.linesCount)}get textObjectHeight(){return this.textObject.height-this.textLineHeight-this.textLineSpacing}get textVisibleHeight(){var t=this.textHeight,e=this.textObjectHeight;return t>e?t-e:0}textOYExceedTop(t){return void 0===t&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return void 0===t&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var e=this.topTextOY,i=this.bottomTextOY,s=this.textOYExceedTop(t),h=this.textOYExeceedBottom(t);this.clampTextOYMode&&(this.visibleLinesCount>this.linesCount?t=0:s?t=e:h&&(t=i)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),s&&(this.execeedTopState||this.emit("execeedtop",this,t,e)),this.execeedTopState=s,h&&(this.execeedBottomState||this.emit("execeedbottom",this,t,i)),this.execeedBottomState=h}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return 0===t?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var n=function(t){return t.add.text(0,0,"")};Object.assign(x.prototype,e.default);var d=x;exports.default=d;
},{"../basesizer/BaseSizer.js":"JFlR","./Methods.js":"Gq0N","./LinesCountToTextHeight.js":"aR6m","./TextHeightToLinesCount.js":"IsOy"}],"Vwwd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){Object.defineProperty(t,"childOY",{configurable:!0,get:function(){return t.textOY},set:function(e){t.textOY=e}}),Object.defineProperty(t,"topChildOY",{get:function(){return t.topTextOY}}),Object.defineProperty(t,"bottomChildOY",{get:function(){return t.bottomTextOY}})},e=t;exports.default=e;
},{}],"s5FK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){return this.childrenMap.child.setText(e),this.resizeController(),this},t=e;exports.default=t;
},{}],"XzVN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){return this.setText(this.text+t),this},e=t;exports.default=e;
},{}],"rfS2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("../utils/scrollable/Scrollable.js")),t=d(require("../textblock/TextBlock.js")),r=d(require("./InjectProperties.js")),i=d(require("./SetText.js")),l=d(require("./AppendText.js"));function d(e){return e&&e.__esModule?e:{default:e}}const s=Phaser.Utils.Objects.GetValue;class a extends e.default{constructor(e,i){void 0===i&&(i={});var l=s(i,"text",void 0),d=s(i,"textWidth",void 0),a=s(i,"textHeight",void 0),o=s(i,"textMask",!0),n=s(i,"content",""),c=new t.default(e,{width:d,height:a,text:l,textMask:o,content:n,clamplTextOY:s(i,"clamplChildOY",!1)});e.add.existing(c);var u=void 0===d?1:0,x=void 0===a;(0,r.default)(c),i.scrollMode=0,i.type="rexTextArea",i.child={gameObject:c,proportion:u,expand:x};var p=s(i,"space",void 0);p&&(p.child=p.text),super(e,i),this.addChildrenMap("text",l)}get text(){return this.childrenMap.child.text}get linesCount(){return this.childrenMap.child.linesCount}}var o={setText:i.default,appendText:l.default};Object.assign(a.prototype,o);var n=a;exports.default=n;
},{"../utils/scrollable/Scrollable.js":"ZH6u","../textblock/TextBlock.js":"ggyh","./InjectProperties.js":"Vwwd","./SetText.js":"s5FK","./AppendText.js":"XzVN"}],"M4me":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=Phaser.Utils.Objects.GetValue,t=Phaser.Display.Align.TOP_LEFT;var s=function(s,a,n){s.setOrigin&&s.setOrigin(0),this.add(s);var r,d,o,h=this.getSizerConfig(s);return h.align=t,h.expand=a,this.child=s,!0===n?(r=!0,d=0,o=0):!1===n?r=!1:(r=e(n,"mask",!0),d=e(n,"padding",0),o=e(h,"updateMode",0)),this.maskUpdateMode=o,r&&("string"==typeof o&&(o=i[o]),1===o&&this.scene.game.events.on("poststep",this.maskChildren,this),this.enableChildrenMask(d)),this};const i={update:0,everyTick:1};var a=s;exports.default=a;
},{}],"scGg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../../plugins/utils/size/GetDisplaySize.js"),i=function(){if(this.rexSizer.hidden)return 0;var i=this.child;return i.rexSizer.hidden?0:0===this.scrollMode?i.isRexSizer?Math.max(i.minWidth,i.childrenWidth):(0,e.GetDisplayWidth)(i):0},t=i;exports.default=t;
},{"../../../plugins/utils/size/GetDisplaySize.js":"Ww5k"}],"YhuC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../../plugins/utils/size/GetDisplaySize.js"),i=function(){if(this.rexSizer.hidden)return 0;var i=this.child;return i.rexSizer.hidden?0:0===this.scrollMode?0:i.isRexSizer?Math.max(i.minHeight,i.childrenHeight):(0,e.GetDisplayHeight)(i)},t=i;exports.default=t;
},{"../../../plugins/utils/size/GetDisplaySize.js":"Ww5k"}],"vGvr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){return void 0===e&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},t=e;exports.default=t;
},{}],"z0P1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){var t=this.left,i=this.top;0===this.scrollMode?i+=this.childOY:t+=this.childOY,this.child.setPosition(t,i),this.resetChildPositionState(this.child),0===this.maskUpdateMode&&this.maskChildren()},i=t;exports.default=i;
},{}],"CJd8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=t(require("../../../plugins/utils/size/ResizeGameObject.js"));function t(i){return i&&i.__esModule?i:{default:i}}var e=function(t,e,s){if(this.rexSizer.hidden||!this.dirty)return this;this.preLayout(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===s&&(s=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,s);var h,r,d=this.child;return d.rexSizer.hidden||(0===this.scrollMode?h=this.width:r=this.height,d.isRexSizer?d.layout(this,h,r):(0,i.default)(d,h,r),this.layoutChildrenMask(),this.resetChildPosition()),this.postLayout()},s=e;exports.default=s;
},{"../../../plugins/utils/size/ResizeGameObject.js":"fFkl"}],"k1Tv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../../../plugins/gameobjects/containerlite/MaskChildren.js")),t=s(require("../../../plugins/utils/mask/MaskToGameObject.js")),i=s(require("../utils/AddChildMask.js"));function s(e){return e&&e.__esModule?e:{default:e}}var r={addChildMask:i.default,enableChildrenMask(e){var t=this.addChildMask(null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},maskChildren(t){return void 0===t&&(t=this.getAllChildren()),(0,e.default)(this,this.childrenMask,t),this},layoutChildrenMask(){if(void 0===this.childrenMask)return this;var e=(0,t.default)(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}};exports.default=r;
},{"../../../plugins/gameobjects/containerlite/MaskChildren.js":"SL7V","../../../plugins/utils/mask/MaskToGameObject.js":"EmkE","../utils/AddChildMask.js":"L52d"}],"kX1V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./SetChild.js")),t=u(require("./GetChildrenWidth.js")),r=u(require("./GetChildrenHeight.js")),i=u(require("./GetChildrenSizers.js")),d=u(require("./ResetChildPosition.js")),l=u(require("./Layout.js")),s=u(require("../utils/ChildrenMaskMethods.js"));function u(e){return e&&e.__esModule?e:{default:e}}var a={setChild:e.default,getChildrenWidth:t.default,getChildrenHeight:r.default,getChildrenSizers:i.default,resetChildPosition:d.default,layout:l.default};Object.assign(a,s.default);var h=a;exports.default=h;
},{"./SetChild.js":"M4me","./GetChildrenWidth.js":"scGg","./GetChildrenHeight.js":"YhuC","./GetChildrenSizers.js":"vGvr","./ResetChildPosition.js":"z0P1","./Layout.js":"CJd8","../utils/ChildrenMaskMethods.js":"k1Tv"}],"Bw8G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=h(require("../basesizer/BaseSizer.js")),e=h(require("./Methods.js")),i=h(require("../utils/ScrollModeConst.js")),s=require("../../../plugins/utils/size/GetDisplaySize.js");function h(t){return t&&t.__esModule?t:{default:t}}const d=Phaser.Utils.Objects.IsPlainObject,l=Phaser.Utils.Objects.GetValue;class o extends t.default{constructor(t,e,i,s,h,o){d(e)?(e=l(o=e,"x",0),i=l(o,"y",0),s=l(o,"width",void 0),h=l(o,"height",void 0)):d(s)&&(s=l(o=s,"width",void 0),h=l(o,"height",void 0)),super(t,e,i,s,h,o),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setScrollMode(l(o,"scrollMode",!0)),this.setClampMode(l(o,"clamplChildOY",!0));var r=l(o,"child",void 0),c=l(o,"expand",!0),a=l(o,"mask",void 0);this.setChild(r,c,a)}destroy(t){this.scene&&(1===this.maskUpdateMode&&this.scene.game.events.off("poststep",this.maskChildren,this),this.child=void 0,this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),super.destroy(t))}setScrollMode(t){return"string"==typeof t&&(t=i.default[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return this.clampChildOYMode=t,this}get instHeight(){return 0===this.scrollMode?this.height:this.width}get instWidth(){return 0===this.scrollMode?this.width:this.height}get childHeight(){return 0===this.scrollMode?(0,s.GetDisplayHeight)(this.child):(0,s.GetDisplayWidth)(this.child)}get childWidth(){return 0===this.scrollMode?(0,s.GetDisplayWidth)(this.child):(0,s.GetDisplayHeight)(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get visibleHeight(){var t=this.childHeight,e=this.instHeight;return t>e?t-e:0}childOYExceedTop(t){return void 0===t&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return void 0===t&&(t=this.childOY),t<this.bottomChildOY}get childOY(){return this._childOY}set childOY(t){var e=this.topChildOY,i=this.bottomChildOY,s=this.childOYExceedTop(t),h=this.childOYExeceedBottom(t);this.clampChildOYMode&&(this.instHeight>this.childHeight?t=0:s?t=e:h&&(t=i)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),s&&(this.execeedTopState||this.emit("execeedtop",this,t,e)),this.execeedTopState=s,h&&(this.execeedBottomState||this.emit("execeedbottom",this,t,i)),this.execeedBottomState=h}setChildOY(t){return this.childOY=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return 0===t?0:this.childOY/-t}setChildOYByPercentage(t){return this.t=t,this}}Object.assign(o.prototype,e.default);var r=o;exports.default=r;
},{"../basesizer/BaseSizer.js":"JFlR","./Methods.js":"kX1V","../utils/ScrollModeConst.js":"TdVC","../../../plugins/utils/size/GetDisplaySize.js":"Ww5k"}],"pN9M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../utils/scrollable/Scrollable.js")),l=r(require("../utils/GetScrollMode.js")),d=r(require("../scrollableblock/ScrollableBlock.js"));function r(e){return e&&e.__esModule?e:{default:e}}const i=Phaser.Utils.Objects.GetValue;class o extends e.default{constructor(e,r){void 0===r&&(r={});var o=(0,l.default)(r),a=i(r,"panel",void 0);void 0===a&&(a={}),a.scrollMode=o,a.clamplChildOY=i(r,"clamplChildOY",!1);var t=new d.default(e,a);e.add.existing(t);var s,c,u=i(a,"width",void 0),v=i(a,"height",void 0);0===o?(s=void 0===u?1:0,c=void 0===v):(s=void 0===v?1:0,c=void 0===u),r.type="rexScrollablePanel",r.child={gameObject:t,proportion:s,expand:c};var n=i(r,"space",void 0);n&&(n.child=n.panel),super(e,r),this.addChildrenMap("panel",this.childrenMap.child.child)}}var a=o;exports.default=a;
},{"../utils/scrollable/Scrollable.js":"ZH6u","../utils/GetScrollMode.js":"FiU0","../scrollableblock/ScrollableBlock.js":"Bw8G"}],"bIuk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};exports.default=e;
},{}],"LNUP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={popUp:function(e,t){e.popUp(t)},scaleDown:function(e,t){e.scaleDown(t)},fadeIn:function(e,t){e.fadeIn(t)},fadeOut:function(e,t){e.fadeOut(t)}};exports.default=e;
},{}],"iK1l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t,r,o){void 0===r&&(r=0),void 0===o&&(o=t.length),e.length=o-r;for(var d=0,l=e.length;d<l;d++)e[d]=t[d+r];return e},t=e;exports.default=t;
},{}],"Xvfe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,t=function(t){return"string"!=typeof t?t:(""===t?t=null:e.test(t)?t=parseFloat(t):"false"===screen?t=!1:"true"===t&&(t=!0),t)},r=t;exports.default=r;
},{}],"KWQa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("../../utils/array/Copy.js")),r=l(require("../../utils/string/TypeConvert.js")),t=l(require("../../utils/object/IsArray.js"));function l(e){return e&&e.__esModule?e:{default:e}}const s=Phaser.Utils.Objects.GetValue;var u=function(e,r,l){var a,i=s(l,"reverse",!1);if((0,t.default)(e[0]))if(i)for(n=(f=e.length)-1;n>=0;n--)a=u(e[n],r,l);else for(var n=0,f=e.length;n<f;n++)a=u(e[n],r,l);else a=o(e,r,l);return a},o=function(t,l,u){var o,i=s(u,"argsConvert",void 0),n=s(u,"argsConvertScope",void 0),f=t[0];if(a=(0,e.default)(a,t,1),i){!0===i&&(i=r.default,n=void 0);for(var v=0,d=a.length;v<d;v++)a[v]=n?i.call(n,a[v],t):i(a[v],t)}return"string"==typeof f?null==(o=l[f])&&(o=s(l,f,null)):o=f,o.apply(l,a)},a=[],i=u;exports.default=i;
},{"../../utils/array/Copy.js":"iK1l","../../utils/string/TypeConvert.js":"Xvfe","../../utils/object/IsArray.js":"leAG"}],"SDpd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./logic/runcommands/RunCommands.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=e.default;exports.default=t;
},{"./logic/runcommands/RunCommands.js":"KWQa"}],"mmRO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./IsSceneObject.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(t){return(0,e.default)(t)?t.events:t.on?t:void 0},u=r;exports.default=u;
},{"./IsSceneObject.js":"qDKb"}],"WgZM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../../../utils/ticktask/TickTask.js")),e=o(require("../../../utils/system/GetSceneObject.js")),s=o(require("../../../utils/object/GetValue.js")),i=o(require("../../../utils/array/Copy.js")),n=o(require("../../../runcommands.js")),r=o(require("../../../utils/system/GetEventEmitter.js")),h=o(require("../../../utils/object/IsArray.js"));function o(t){return t&&t.__esModule?t:{default:t}}class u extends t.default{constructor(t,s){super(t,s),this.parent=t,this.scene=(0,e.default)(t),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.isRunning=(0,s.default)(t,"isRunning",!1),this.state=(0,s.default)(t,"state",0),this.commands=(0,s.default)(t,"commands",[]),this.scope=(0,s.default)(t,"scope",void 0),this.setTimeUnit((0,s.default)(t,"timeUnit",0)),this.setDtMode((0,s.default)(t,"dtMode",0)),this.setTimeScale((0,s.default)(t,"timeScale",1)),this.index=(0,s.default)(t,"index",0),this.nextDt=(0,s.default)(t,"nextDt",0),this.seek((0,s.default)(t,"now",0)),this.timeScale=(0,s.default)(t,"timeScale",1),this}toJSON(){return{isRunning:this.isRunning,state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextDt:this.nextDt,now:this.now,timeScale:this.timeScale,tickingMode:this.tickingMode}}boot(){super.boot();var t=(0,r.default)(this.parent);t&&t.on("destroy",this.destroy,this)}shutdown(){super.shutdown(),this.parent=void 0,this.scene=void 0,this.commands=void 0}destroy(){this.shutdown()}startTicking(){super.startTicking(),this.scene.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.events.off("update",this.update,this)}load(t,e,i){this.stop();var n=(0,s.default)(i,"timeUnit",void 0);void 0!==n&&this.setTimeUnit(n);var r=(0,s.default)(i,"dtMode",void 0);return void 0!==r&&this.setDtMode(r),t=t.filter(function(t){var e=t[0];return!isNaN(e)}).map(function(t){return"string"==typeof t[0]&&(t[0]=parseFloat(t[0])),t}),0===this.dtMode&&t.sort(function(t,e){var s=t[0],i=e[0];return s>i?1:s<i?-1:0}),this.commands=t,this.scope=e,this}start(t){return void 0===t&&(t=0),this.stop(),this.index=0,this.isRunning=!0,this.state=1,this.nextDt=this.getNextDt(0),this.seek(t),this.update(),this}pause(){return this.isRunning=!1,this}resume(){return this.isRunning=!0,this}stop(){return this.isRunning=!1,this.state=0,this}seek(t){return this.now=t,this}get isPlaying(){return this.isRunning}get completed(){return 2===this.state}setTimeScale(t){this.timeScale=t}update(t,e){if(!this.isRunning)return this;if(void 0!==t){if(0===this.timeScale||0===e)return this;this.now+=e*this.timeScale}if(this.nextDt>this.now)return this;for(;;){var s=this.commands[this.index],r=s[1];if((0,h.default)(r)||(r=(0,i.default)(a,s,1)),(0,n.default)(r,this.scope),this.emit("runcommand",r,this.scope),this.index===this.commands.length-1)return this.complete(),this;if(this.index++,this.nextDt=this.getNextDt(this.nextDt),this.nextDt>this.now)return this}}complete(){super.complete(),this.state=2}getNextDt(t){var e=this.commands[this.index][0];return 1===this.timeUnit&&(e*=1e3),1===this.dtMode&&(e+=t),e}setDtMode(t){return"string"==typeof t&&(t=c[t]),this.dtMode=t,this}setTimeUnit(t){return"string"==typeof t&&(t=d[t]),this.timeUnit=t,this}}var a=[];const d={ms:0,s:1,sec:1},c={abs:0,absolute:0,inc:1,increment:1};var m=u;exports.default=m;
},{"../../../utils/ticktask/TickTask.js":"hbmi","../../../utils/system/GetSceneObject.js":"IEm3","../../../utils/object/GetValue.js":"OqLI","../../../utils/array/Copy.js":"iK1l","../../../runcommands.js":"SDpd","../../../utils/system/GetEventEmitter.js":"mmRO","../../../utils/object/IsArray.js":"leAG"}],"PMft":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../label/Label.js")),s=r(require("./Const.js")),e=r(require("./DefaultTransitCallbacks.js")),i=r(require("../../../plugins/logic/runcommands/tcrp/Player.js")),a=r(require("../../../plugins/utils/object/NOOP.js"));function r(t){return t&&t.__esModule?t:{default:t}}const l=Phaser.Utils.Objects.GetValue;class n extends t.default{constructor(t,e){void 0===e&&(e={text:createDefaultTextObject(t)}),super(t,e),this.type="rexToast",this.setTransitInTime(l(e,"duration.in",200)),this.setDisplayTime(l(e,"duration.hold",1200)),this.setTransitOutTime(l(e,"duration.out",200)),this.setTransitInCallback(l(e,"transitIn",s.default.popUp)),this.setTransitOutCallback(l(e,"transitOut",s.default.scaleDown)),this.player=new i.default(this,{dtMode:1}),this.messages=[],this.setVisible(!1)}destroy(t){this.scene&&(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setDisplayTime(t){return this.displayTime=t,this}setTransitOutTime(t){return this.transitOutTime=t,this}setTransitInTime(t){return this.transitInTime=t,this}setTransitInCallback(t){switch("string"==typeof t&&(t=s.default[t]),t){case s.default.popUp:t=e.default.popUp;break;case s.default.fadeIn:t=e.default.fadeIn}return this.transitInCallback=t,this}setTransitOutCallback(t){switch("string"==typeof t&&(t=s.default[t]),t){case s.default.scaleDown:t=e.default.scaleDown;break;case s.default.fadeOut:t=e.default.fadeOut}return this.transitOutCallback=t,this}show(t){if(void 0===t){if(0===this.messages.length)return this;t=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(t),this;this.setScale(1,1).setVisible(!0),"string"==typeof t?this.setText(t):t(this),this.layout();var s=[[0,[this.transitInCallback,this,this.transitInTime]],[this.transitInTime,[a.default]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[a.default]]];return this.player.load(s,this).once("complete",function(){this.show()},this).start(),this}}var u=n;exports.default=u;
},{"../label/Label.js":"lUYW","./Const.js":"bIuk","./DefaultTransitCallbacks.js":"LNUP","../../../plugins/logic/runcommands/tcrp/Player.js":"WgZM","../../../plugins/utils/object/NOOP.js":"FQUj"}],"pio7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){return function(e,t,i,n){"panel"!==t&&i.setChildVisible(e,!0)}},t=function(){return function(e,t,i,n){"panel"!==t&&i.setChildVisible(e,!1)}},i={show:e,hide:t};exports.default=i;
},{}],"a3xo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t){return void 0===t&&(t=1),function(n,o,d,i){"panel"!==o&&d.fadeChild(n,i?0:e,t)}},t=function(e,t){return void 0===t&&(t=0),function(n,o,d,i){"panel"!==o&&d.fadeChild(n,i?0:e,t)}},n={show:e,hide:t};exports.default=n;
},{}],"fyVZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t){return function(o,r,u,d){"panel"!==r&&u.moveChild(o,d?0:e,t)}},t={show:e,hide:e};exports.default=t;
},{}],"FLsg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t){return function(o,r,u,d){"panel"===r&&u.moveChild(o,d?0:e,t)}},t={show:e,hide:e};exports.default=t;
},{}],"aXiC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./VisibleCallbacks.js")),l=u(require("./FadeCallbacks.js")),a=u(require("./MoveCallbacks.js")),r=u(require("./MovePanelCallbacks.js")),t=u(require("../../../../plugins/utils/object/NOOP.js"));function u(e){return e&&e.__esModule?e:{default:e}}const s={visible:e.default,fade:l.default,move:a.default,"move-panel":r.default};var i=function(e){var l,a,r,u;return[l,...a]="string"==typeof e?[e]:e,s.hasOwnProperty(l)?(r=s[l].show.apply(null,a),u=s[l].hide.apply(null,a)):(r=t.default,u=t.default),{show:r,hide:u}},o=i;exports.default=o;
},{"./VisibleCallbacks.js":"pio7","./FadeCallbacks.js":"a3xo","./MoveCallbacks.js":"fyVZ","./MovePanelCallbacks.js":"FLsg","../../../../plugins/utils/object/NOOP.js":"FQUj"}],"c0Wt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i={showChild(i,t){var e=this.sizerChildren[i];return e&&(this.emit("showchild",e,i,this,t),this.resetChildState(e)),this},hideChild(i,t){var e=this.sizerChildren[i];return e&&(this.emit("hidechild",e,i,this,t),this.resetChildState(e)),this},swapChild(i,t){return this.currentChildKey===i||("panel"===this.currentChildKey||"panel"===i?(this.previousChildKey=this.currentChildKey,this.currentChildKey=i,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(i,t))),this},showPanel(i){return this.swapChild("panel",i),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return"leftSide"==this.currentChildKey&&this.showPanel(),this},hideRightSide(){return"rightSide"==this.currentChildKey&&this.showPanel(),this},hideTopSide(){return"topSide"==this.currentChildKey&&this.showPanel(),this},hideBottomSide(){return"bottomSide"==this.currentChildKey&&this.showPanel(),this},toggleLeftSide(){var i="panel"!==this.currentChildKey?"panel":"leftSide";return this.swapChild(i),this},toggleRightSide(){var i="panel"!==this.currentChildKey?"panel":"rightSide";return this.swapChild(i),this},toggleTopSide(){var i="panel"!==this.currentChildKey?"panel":"topSide";return this.swapChild(i),this},toggleBottomSide(){var i="panel"!==this.currentChildKey?"panel":"bottomSide";return this.swapChild(i),this}};exports.default=i;
},{}],"bJc7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../../../../plugins/utils/object/IndexOf.js")),t=i(require("../../container/Container.js"));function i(e){return e&&e.__esModule?e:{default:e}}const r=t.default.prototype.setChildVisible;var s={setChildVisible(t,i){if("string"==typeof t){var s=t;t=this.sizerChildren[s]}else s=(0,e.default)(this.sizerChildren,t);return void 0===i&&(i=this.currentChildKey===s),r.call(this,t,i),this}};exports.default=s;
},{"../../../../plugins/utils/object/IndexOf.js":"p7Ww","../../container/Container.js":"maWZ"}],"Wsbf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../../../../plugins/utils/object/IndexOf.js")),t=require("../../utils/WaitEvent.js");function i(e){return e&&e.__esModule?e:{default:e}}var r={fadeChild(t,i,r){var s;return"string"==typeof t?(s=t,t=this.sizerChildren[s]):s=(0,e.default)(this.sizerChildren,t),void 0===i&&(i=500),void 0===r&&(r=this.currentChildKey===s?1:0),t.fadeIn(i,{start:t.alpha,end:r}),this},fadeChildPromise(e,i,r){return"string"==typeof e&&(e=this.sizerChildren[key]),this.fadeChild(e,i,r),e._fade?(0,t.WaitComplete)(e._fade):Promise.resolve()}};exports.default=r;
},{"../../../../plugins/utils/object/IndexOf.js":"p7Ww","../../utils/WaitEvent.js":"e4Mf"}],"P4Bt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../../../../plugins/utils/object/IndexOf.js")),i=require("../../../../plugins/utils/size/GetDisplaySize.js"),t=require("../../utils/WaitEvent.js");function s(e){return e&&e.__esModule?e:{default:e}}var r={moveChild(t,s,r,a){var d;"string"==typeof t?(d=t,t=this.sizerChildren[d]):d=(0,e.default)(this.sizerChildren,t),void 0===s&&(s=500);var o,h,l,c,u=this.currentChildKey===d;if(void 0===a)switch(d){case"leftSide":case"rightSide":a=(0,i.GetDisplayWidth)(t);break;case"topSide":case"bottomSide":a=(0,i.GetDisplayHeight)(t);break;default:if(u)switch(this.previousChildKey){case"leftSide":case"rightSide":a=(0,i.GetDisplayWidth)(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":a=(0,i.GetDisplayHeight)(this.sizerChildren[this.previousChildKey]);break;default:a=0}else switch(this.currentChildKey){case"leftSide":case"rightSide":a=(0,i.GetDisplayWidth)(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":a=(0,i.GetDisplayHeight)(this.sizerChildren[this.currentChildKey]);break;default:a=0}}if(u)switch(d){case"panel":switch(this.previousChildKey){case"leftSide":o=!0;break;case"rightSide":h=!0;break;case"topSide":l=!0;break;case"bottomSide":c=!0}break;case"leftSide":h=!0;break;case"rightSide":o=!0;break;case"topSide":c=!0;break;case"bottomSide":l=!0}else switch(d){case"panel":switch(this.currentChildKey){case"leftSide":h=!0;break;case"rightSide":o=!0;break;case"topSide":c=!0;break;case"bottomSide":l=!0}break;case"leftSide":o=!0;break;case"rightSide":h=!0;break;case"topSide":l=!0;break;case"bottomSide":c=!0}return o?t.moveTo(s,`-=${a}`,void 0,r):h?t.moveTo(s,`+=${a}`,void 0,r):l?t.moveTo(s,void 0,`-=${a}`,r):c?t.moveTo(s,void 0,`+=${a}`,r):t.moveTo(0),this},moveChildPromise(e,i,s,r){return"string"==typeof e&&(e=this.sizerChildren[key]),this.moveChild(e,i,s,r),e._easeMove?(0,t.WaitComplete)(e._easeMove):Promise.resolve()}};exports.default=r;
},{"../../../../plugins/utils/object/IndexOf.js":"p7Ww","../../../../plugins/utils/size/GetDisplaySize.js":"Ww5k","../../utils/WaitEvent.js":"e4Mf"}],"gYSi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./Visible.js")),r=u(require("./Fade.js")),t=u(require("./Move.js"));function u(e){return e&&e.__esModule?e:{default:e}}var s={};Object.assign(s,e.default,r.default,t.default);var a=s;exports.default=a;
},{"./Visible.js":"bJc7","./Fade.js":"Wsbf","./Move.js":"P4Bt"}],"rFa4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=s(require("../overlapsizer/OverlapSizer.js")),e=s(require("../../../plugins/utils/object/IsFunction.js")),t=s(require("./defaultcallbacks/GetDefaultCallbacks.js")),d=s(require("./ShowChildMethods.js")),h=s(require("./childbehaviors/index.js"));function s(i){return i&&i.__esModule?i:{default:i}}const l=Phaser.Utils.Objects.GetValue;class o extends i.default{constructor(i,d){super(i,d),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var h=l(d,"showChildCallback",void 0);if(h)if((0,e.default)(h)){var s=l(d,"showChildCallbackScope",void 0);this.on("showchild",h,s);var o=l(d,"hideChildCallback",void 0),r=l(d,"hideChildCallbackScope",void 0);this.on("hidechild",o,r)}else{var a=(0,t.default)(h);this.on("showchild",a.show),this.on("hidechild",a.hide)}var u=l(d,"background",void 0),n=l(d,"panel",void 0),c=l(d,"leftSide",void 0),p=l(d,"rightSide",void 0),v=l(d,"topSide",void 0),f=l(d,"bottomSide",void 0);if(u&&this.addBackground(u),n&&this.add(n,"panel","center",0,!0),c){var C=l(d,"expand.left",!0);this.add(c,"leftSide","left-top",0,{height:C})}if(p){C=l(d,"expand.right",!0);this.add(p,"rightSide","right-top",0,{height:C})}if(v){C=l(d,"expand.top",!0);this.add(v,"topSide","left-top",0,{width:C})}if(f){C=l(d,"expand.bottom",!0);this.add(f,"bottomSide","left-bottom",0,{width:C})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(o.prototype,d.default,h.default);var r=o;exports.default=r;
},{"../overlapsizer/OverlapSizer.js":"n4Mj","../../../plugins/utils/object/IsFunction.js":"d6Uw","./defaultcallbacks/GetDefaultCallbacks.js":"aXiC","./ShowChildMethods.js":"c0Wt","./childbehaviors/index.js":"gYSi"}],"Cjj3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../onepointertracer/OnePointerTracer.js")),e=r(require("../../../fsm.js"));function r(t){return t&&t.__esModule?t:{default:t}}const s=Phaser.Utils.Objects.GetValue;class i extends t.default{constructor(t,r){super(t,r);var s=this,i={states:{IDLE:{},BEGIN:{enter:function(){var t=s.pointer;s.startX=t.x,s.startY=t.y,s.startWorldX=t.worldX,s.startWorldY=t.worldY}},RECOGNIZED:{enter:function(){s.emit("panstart",s,s.gameObject,s.lastPointer)},exit:function(){var t=s.lastPointer;s.endX=t.x,s.endY=t.y,s.endWorldX=t.worldX,s.endWorldY=t.worldY,s.emit("panend",s,s.gameObject,s.lastPointer)}}},init:function(){this.state=o},eventEmitter:!1};this.setRecongizedStateObject(new e.default(i))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(s(t,"threshold",10)),this}onDragStart(){this.state=0===this.dragThreshold?n:a}onDragEnd(){this.state=o}onDrag(){switch(this.state){case a:this.pointer.getDistance()>=this.dragThreshold&&(this.state=n);break;case n:var t=this.pointer.position,e=this.pointer.prevPosition;this.dx=t.x-e.x,this.dy=t.y-e.y;var r=this.pointer;this.x=r.x,this.y=r.y,this.worldX=r.worldX,this.worldY=r.worldY,this.emit("pan",this,this.gameObject,this.lastPointer)}}get isPan(){return this.state===n}setDragThreshold(t){return this.dragThreshold=t,this}}const o="IDLE",a="BEGIN",n="RECOGNIZED";var h=i;exports.default=h;
},{"../onepointertracer/OnePointerTracer.js":"VYoM","../../../fsm.js":"srj8"}],"U6H0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/input/gestures/pan/Pan.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=e.default;exports.default=u;
},{"../../../plugins/input/gestures/pan/Pan.js":"Cjj3"}],"LRtL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../../../utils/eventemitter/EventEmitterMethods.js")),e=i(require("../../../utils/object/Clear.js"));function i(t){return t&&t.__esModule?t:{default:t}}const s=Phaser.Utils.Objects.GetValue,r=Phaser.Utils.Array.SpliceOne,n=Phaser.Math.Distance.Between,o=Phaser.Math.Angle.Between;class h{constructor(t,e){var i=t.input.manager.pointersTotal-1;i<2&&t.input.addPointer(2-i),this.scene=t,this.setEventEmitter(s(e,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.setEnable(s(t,"enable",!0)),this.bounds=s(t,"bounds",void 0),this.tracerState=d,this.pointers.length=0,(0,e.default)(this.movedState),this}boot(){this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}shutdown(){this.destroyEventEmitter(),this.pointers.length=0,(0,e.default)(this.movedState),this.scene&&(this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return void 0===t&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&(2!==this.pointers.length&&(!this.bounds||this.bounds.contains(t.x,t.y))&&-1===this.pointers.indexOf(t)))switch(this.movedState[t.id]=!1,this.pointers.push(t),this.tracerState){case d:this.tracerState=p,this.onDrag1Start();break;case p:this.tracerState=c,this.onDrag2Start()}}onPointerUp(t){if(this.enable&&(!this.bounds||this.bounds.contains(t.x,t.y))){var e=this.pointers.indexOf(t);if(-1!==e)switch(delete this.movedState[t.id],r(this.pointers,e),this.tracerState){case p:this.tracerState=d,this.onDrag1End();break;case c:this.tracerState=p,this.onDrag2End(),this.onDrag1Start()}}}onPointerMove(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),i=-1!==this.pointers.indexOf(t);if(!i&&e);else if(i&&!e)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case p:this.onDrag1();break;case c:this.onDrag2()}}}dragCancel(){return this.tracerState===c&&this.onDrag2End(),this.pointers.length=0,(0,e.default)(this.movedState),this.tracerState=d,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==c)return 0;var t=this.pointers[0],e=this.pointers[1];return n(t.x,t.y,e.x,e.y)}get angleBetween(){if(this.tracerState!==c)return 0;var t=this.pointers[0],e=this.pointers[1];return o(t.x,t.y,e.x,e.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var e=t.position,i=t.prevPosition;a.x=e.x-i.x,a.y=e.y-i.y}else a.x=0,a.y=0;return a}get centerX(){if(this.tracerState!==c)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.x+e.x)/2}get centerY(){if(this.tracerState!==c)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.y+e.y)/2}get prevCenterX(){if(this.tracerState!==c)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+e.x)/2}get prevCenterY(){if(this.tracerState!==c)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+e.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=u,this}}Object.assign(h.prototype,t.default);var a={};const d=0,p=1,c=2,u="IDLE";var v=h;exports.default=v;
},{"../../../utils/eventemitter/EventEmitterMethods.js":"TmQr","../../../utils/object/Clear.js":"jv1g"}],"j7xH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("../twopointerstracer/TwoPointersTracer.js")),e=s(require("../../../fsm.js"));function s(t){return t&&t.__esModule?t:{default:t}}const i=Phaser.Utils.Objects.GetValue;class r extends t.default{constructor(t,s){super(t,s);var i=this,r={states:{IDLE:{enter:function(){i.prevDistance=void 0,i.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){i.emit("pinchstart",i)},exit:function(){i.emit("pinchend",i)}}},init:function(){this.state=a},eventEmitter:!1};this.setRecongizedStateObject(new e.default(r))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(i(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=0===this.dragThreshold?h:n}onDrag2End(){this.state=a}onDrag2(){switch(this.state){case n:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=h}break;case h:t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t}}get isPinch(){return this.state===h}setDragThreshold(t){return this.dragThreshold=t,this}}const a="IDLE",n="BEGIN",h="RECOGNIZED";var c=r;exports.default=c;
},{"../twopointerstracer/TwoPointersTracer.js":"LRtL","../../../fsm.js":"srj8"}],"rhVM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/input/gestures/pinch/Pinch.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=e.default;exports.default=u;
},{"../../../plugins/input/gestures/pinch/Pinch.js":"j7xH"}],"Rl6C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=Phaser.Math.RotateAround;var e=function(e,o,r,a){return t(e,o,r,a),e.rotation+=a,e},o=e;exports.default=o;
},{}],"yGGU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../../../utils/actions/RotateObjectAround.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(e,r){if(!this.isRotation)return this;void 0===r&&(r=this.pointers[0].camera);var o=this.movementCenterX,s=this.movementCenterY;r.getWorldPoint(this.centerX,this.centerY,i);var n=i.x,a=i.y,u=this.rotation;if(Array.isArray(e))for(var d=e,l=0,f=d.length;l<f;l++)(e=d[l]).x+=o,e.y+=s,(0,t.default)(e,n,a,u);else e.x+=o,e.y+=s,(0,t.default)(e,x,y,u);return this},i={},o=r;exports.default=o;
},{"../../../utils/actions/RotateObjectAround.js":"Rl6C"}],"vNjv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../twopointerstracer/TwoPointersTracer.js")),t=r(require("../../../fsm.js")),s=r(require("./SpinObject.js"));function r(e){return e&&e.__esModule?e:{default:e}}const i=Phaser.Utils.Objects.GetValue,a=Phaser.Math.Angle.WrapDegrees,n=Phaser.Math.Angle.ShortestBetween,h=Phaser.Math.RadToDeg,o=Phaser.Math.DegToRad;class l extends e.default{constructor(e,s){super(e,s);var r=this,i={states:{IDLE:{enter:function(){r.prevAngle=void 0,r.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){r.emit("rotatestart",r)},exit:function(){r.emit("rotateend",r)}}},init:function(){this.state=d},eventEmitter:!1};this.setRecongizedStateObject(new t.default(i))}resetFromJSON(e){return super.resetFromJSON(e),this.setDragThreshold(i(e,"threshold",0)),this}onDrag2Start(){this.prevAngle=a(h(this.angleBetween)),this.state=0===this.rotationThreshold?c:u}onDrag2End(){this.state=d}onDrag2(){switch(this.state){case u:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var e=a(h(this.angleBetween));this.angle=n(this.prevAngle,e),this.prevAngle=e,this.state=c}break;case c:e=a(h(this.angleBetween));this.angle=n(this.prevAngle,e),this.prevAngle=e,this.emit("rotate",this)}}get isRotation(){return this.state===c}get rotation(){return o(this.angle)}setDragThreshold(e){return this.dragThreshold=e,this}}var g={spinObject:s.default};Object.assign(l.prototype,g);const d="IDLE",u="BEGIN",c="RECOGNIZED";var p=l;exports.default=p;
},{"../twopointerstracer/TwoPointersTracer.js":"LRtL","../../../fsm.js":"srj8","./SpinObject.js":"yGGU"}],"Nlfm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/input/gestures/rotate/Rotate.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=e.default;exports.default=r;
},{"../../../plugins/input/gestures/rotate/Rotate.js":"vNjv"}],"CQLI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=Phaser.Utils.Objects.IsPlainObject,t=Phaser.Utils.Objects.GetValue;var r=function(r,s,a){var i;if(void 0===r)r=a.texture.key,s=a.frame.name;else if(e(r)){var o=r;r=t(o,"key",a.texture.key),s=t(o,"frame",a.frame.name)}else"string"==typeof r||(i=r);return void 0===i&&(i=function(e){e.setTexture(r,s)}),i},s=r;exports.default=s;
},{}],"dWzw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("../../utils/tween/TweenBase.js")),e=s(require("./GetFaceUpdatingCallback.js"));function s(t){return t&&t.__esModule?t:{default:t}}const a=Phaser.Utils.Objects.GetValue,i=Phaser.Utils.Objects.GetAdvancedValue;class r extends t.default{constructor(t,e){super(t,{eventEmitter:!0}),this.gameObject=t,this.resetFromJSON(e)}resetFromJSON(t){return this.setOrientation(a(t,"orientation",0)),this.setDelay(i(t,"delay",0)),this.setDuration(i(t,"duration",500)),this.setEase(a(t,"ease","Sine")),this.setFrontFace(a(t,"front",void 0)),this.setBackFace(a(t,"back",void 0)),this.setFace(a(t,"face",0)),this}shutdown(){return super.shutdown(),this.gameObject=void 0,this}setOrientation(t){return"string"==typeof t&&(t=n[t]),this.orientation=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setEase(t){return void 0===t&&(t="Linear"),this.ease=t,this}get face(){return this._face}set face(t){"string"==typeof t&&(t=c[t]),this._face=t,0===t&&this.frontFaceCallback?this.frontFaceCallback(this.gameObject):1===t&&this.backFaceCallback&&this.backFaceCallback(this.gameObject)}setFace(t){return this.face=t,this}toggleFace(){var t=0===this.face?1:0;return this.setFace(t),this}setFrontFace(t,s){return this.frontFaceCallback=(0,e.default)(t,s,this.gameObject),this}setBackFace(t,s){return this.backFaceCallback=(0,e.default)(t,s,this.gameObject),this}start(){if(this.isRunning)return this;var t={targets:this.gameObject,delay:this.delay,duration:this.duration/2,ease:this.ease,yoyo:!0,repeat:0,onYoyo:this.toggleFace,onYoyoScope:this};return t[0===this.orientation?"scaleX":"scaleY"]={start:1,to:0},super.start(t),this}flip(t){return this.isRunning?this:(void 0!==t&&this.setDuration(t),this.start(),this)}}const n={x:0,horizontal:0,y:1,vertical:1},c={front:0,back:1};var h=r;exports.default=h;
},{"../../utils/tween/TweenBase.js":"TJN9","./GetFaceUpdatingCallback.js":"CQLI"}],"L78v":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./behaviors/flip/Flip.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=e.default;exports.default=t;
},{"./behaviors/flip/Flip.js":"dWzw"}],"ipW3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../plugins/flip.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=e.default;exports.default=r;
},{"../../../plugins/flip.js":"L78v"}],"rOC9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GetTopmostSizer=exports.GetParentSizer=void 0;var e=require("../../../plugins/gameobjects/containerlite/GetParent.js");const t=e.GetParent;exports.GetParentSizer=t;const r=e.GetTopmostParent;exports.GetTopmostSizer=r;
},{"../../../plugins/gameobjects/containerlite/GetParent.js":"ogQf"}],"nRcO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,e){if(this.scene.scale.autoRound&&(t=Math.floor(t),e=Math.floor(e)),this.width===t&&this.height===e)return this;var i=this.node.style;return i.width=`${t}px`,i.height=`${e}px`,this.updateSize(),this},e=t;exports.default=e;
},{}],"qz4o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=Phaser.Utils.Objects.GetValue;var t=function(t,r,o){var s,a;for(var i in void 0===o&&(o={}),t)s=t[i],void 0!==(a=e(r,i,s[1]))&&(o[s[0]]=a);return o},r=t;exports.default=r;
},{}],"U90Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t,o){for(let r in o)t[o[r]]=function(t){e.emit(r,e,t)}},t=e;exports.default=t;
},{}],"EJBF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){e.addEventListener("touchstart",t,!1),e.addEventListener("touchmove",t,!1),e.addEventListener("touchend",t,!1),e.addEventListener("mousedown",t,!1),e.addEventListener("mouseup",t,!1),e.addEventListener("mousemove",t,!1)},t=function(e){e.stopPropagation()},n=e;exports.default=n;
},{}],"IF6K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../utils/Resize.js")),t=i(require("../utils/SetProperties.js")),o=i(require("../utils/RouteEvents.js")),r=i(require("../../../utils/input/StopPropagationTouchEvents.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=Phaser.GameObjects.DOMElement,l=Phaser.Utils.Objects.IsPlainObject,n=Phaser.Utils.Objects.GetValue;class d extends s{constructor(e,i,s,d,a,p){var v;l(i)?(i=n(p=i,"x",0),s=n(p,"y",0),d=n(p,"width",0),a=n(p,"height",0)):l(d)&&(d=n(p=d,"width",0),a=n(p,"height",0)),void 0===p&&(p={});var g=n(p,"type","text");"textarea"===g?(v=document.createElement("textarea")).style.resize="none":(v=document.createElement("input")).type=g,(0,t.default)(h,p,v);var f=n(p,"style",void 0);f=(0,t.default)(u,p,f);var b=v.style;for(var y in p)y in h||y in u||y in b&&(f[y]=p[y]);f["box-sizing"]="border-box",super(e,i,s,v,f),this.type="rexInputText",this.resize(d,a),(0,o.default)(this,v,c),(0,r.default)(v)}get text(){return this.node.value}set text(e){this.node.value=e}setText(e){return this.text=e,this}selectText(){return this.node.select(),this}get placeholder(){return this.node.placeholder}set placeholder(e){this.node.placeholder=e}setPlaceholder(e){return this.placeholder=e,this}get tooltip(){return this.node.title}set tooltip(e){this.node.title=e}setTooltip(e){return this.tooltip=e,this}setTextChangedCallback(e){return this.onTextChanged=e,this}get readOnly(){return this.node.readOnly}set readOnly(e){this.node.readOnly=e}setReadOnly(e){return void 0===e&&(e=!0),this.readOnly=e,this}get spellCheck(){return this.node.spellcheck}set spellCheck(e){this.node.spellcheck=e}setSpellCheck(e){return this.spellCheck=e,this}setStyle(e,t){return this.node.style[e]=t,this}getStyle(e){return this.node.style[e]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(e){return void 0===e&&(e=!0),this.node.disabled=!e,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}}var a={resize:e.default};Object.assign(d.prototype,a);const h={id:["id",void 0],text:["value",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readonly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},u={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],outline:["outline","none"]},c={textchange:"oninput",click:"onclick",dblclick:"ondblclick",focus:"onfocus",blur:"onblur"};var p=d;exports.default=p;
},{"../utils/Resize.js":"nRcO","../utils/SetProperties.js":"qz4o","../utils/RouteEvents.js":"U90Z","../../../utils/input/StopPropagationTouchEvents.js":"EJBF"}],"bZgi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../../gameobjects/dom/inputtext/InputText.js"));function e(t){return t&&t.__esModule?t:{default:t}}const n=Phaser.Utils.Objects.GetValue;var o=function(e,o){void 0===o&&(o={});var i=e.scene,a=e.style,l=n(o,"backgroundColor",a.backgroundColor);null===l&&(l="transparent"),o.text=n(o,"text",e.text),o.fontFamily=n(o,"fontFamily",a.fontFamily),o.fontSize=n(o,"fontSize",a.fontSize),o.color=n(o,"color",a.color),o.backgroundColor=l,o.align=n(o,"align",r(a));var u=new t.default(i,e.x,e.y,n(o,"width",e.width),n(o,"height",e.height),o);return u.setOrigin(e.originX,e.originY),i.add.existing(u),u},r=function(t){return t.hasOwnProperty("align")?t.align:t.hasOwnProperty("halign")?t.halign:"left"},i=function(t){return t.hasOwnProperty("halign")?t.halign:"top"},a=o;exports.default=a;
},{"../../gameobjects/dom/inputtext/InputText.js":"IF6K"}],"obhf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../../utils/system/GetSceneObject.js")),e=i(require("./CreateInputText.js")),s=i(require("../../utils/object/IsFunction.js"));function i(t){return t&&t.__esModule?t:{default:t}}const o=Phaser.Utils.Objects.GetValue;class h{constructor(e){this.gameObject=e,this.scene=(0,t.default)(e),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.boot()}boot(){return this.gameObject.on("destroy",this.destroy,this),this}shutdown(){return this.close(),this.gameObject=void 0,this.scene=void 0,n===this&&(n=void 0),this}destroy(){return this.shutdown(),this}open(t,i){void 0!==n&&n.close(),n=this,(0,s.default)(t)&&(i=t,t=void 0),void 0===i&&(i=o(t,"onClose",void 0));var h=o(t,"onTextChanged",void 0);return this.inputText=(0,e.default)(this.gameObject,t).on("textchange",function(t){var e=t.text;h?h(this.gameObject,e):this.gameObject.text=e},this).setFocus(),this.gameObject.setVisible(!1),this.onClose=i,this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=this.scene.time.delayedCall(0,function(){this.scene.input.once("pointerdown",this.close,this)},[],this),this}close(){return n=void 0,this.inputText?(this.gameObject.setVisible(!0),this.inputText.destroy(),this.inputText=void 0,this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.gameObject),this):this}get isOpened(){return void 0!==this.inputText}get text(){return this.isOpened?this.inputText.text:this.gameObject.text}}var n=void 0,d=h;exports.default=d;
},{"../../utils/system/GetSceneObject.js":"IEm3","./CreateInputText.js":"bZgi","../../utils/object/IsFunction.js":"d6Uw"}],"G66C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./TextEdit.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(t,r,d){return t._edit||(t._edit=new e.default(t)),t._edit.open(r,d),t._edit},d=r;exports.default=d;
},{"./TextEdit.js":"obhf"}],"aNGs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../ContainsPoint.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(t,r,u){for(var n,o=0,i=t.length;o<i;o++)if(n=t[o],(0,e.default)(n,r,u))return n.pointToChild(r,u);return null},u=r;exports.default=u;
},{"../ContainsPoint.js":"zPWf"}],"wwnu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./PointToChild.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(t,r,o,u,d,i){var a;(a=void 0===d?u:(0,e.default)(o,u,d))&&t.emit(r,a,i)},o=r;exports.default=o;
},{"./PointToChild.js":"aNGs"}],"b8dg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../../../../plugins/input/button/Button.js")),e=i(require("./EmitChildEvent.js"));function i(t){return t&&t.__esModule?t:{default:t}}const s=Phaser.Utils.Objects.GetValue;var r=function(i){var r=s(i,"click",void 0);!1!==r&&(void 0===r&&(r={}),r.hasOwnProperty("threshold")||(r.threshold=10),this._click=new t.default(this,r),this._click.on("click",function(t,i,s){(0,e.default)(this.eventEmitter,`${this.input.eventNamePrefix}click`,this.input.targetSizers,s.x,s.y,s)},this))},u=r;exports.default=u;
},{"../../../../plugins/input/button/Button.js":"kE1P","./EmitChildEvent.js":"wwnu"}],"fknn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./PointToChild.js")),e=i(require("./EmitChildEvent.js"));function i(t){return t&&t.__esModule?t:{default:t}}const r=Phaser.Utils.Objects.GetValue;var s=function(t){!1!==r(t,"over",void 0)&&this.on("pointermove",n,this).on("pointerover",n,this).on("pointerout",u,this)},n=function(i){var r=(0,t.default)(this.input.targetSizers,i.x,i.y),s=this.input.lastOverChild;r&&s&&r===s||(this.input.lastOverChild=r,(0,e.default)(this.eventEmitter,`${this.input.eventNamePrefix}out`,this.input.targetSizers,s,void 0,i),(0,e.default)(this.eventEmitter,`${this.input.eventNamePrefix}over`,this.input.targetSizers,r,void 0,i))},u=function(t){var i=this.input.lastOverChild;this.input.lastOverChild=null,(0,e.default)(this.eventEmitter,`${this.input.eventNamePrefix}out`,this.input.targetSizers,i,void 0,t)},o=s;exports.default=o;
},{"./PointToChild.js":"aNGs","./EmitChildEvent.js":"wwnu"}],"rDgG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../../tap/Tap.js")),e=i(require("./EmitChildEvent.js"));function i(t){return t&&t.__esModule?t:{default:t}}const s=Phaser.Utils.Objects.GetValue;var a=function(i){var a=s(i,"tap",void 0);!1!==a&&(this._tap=new t.default(this,a),this._tap.on("tap",function(t,i,s){(0,e.default)(this.eventEmitter,`${this.input.eventNamePrefix}${t.tapsCount}tap`,this.input.targetSizers,t.x,t.y,s)},this))},r=a;exports.default=r;
},{"../../tap/Tap.js":"cffR","./EmitChildEvent.js":"wwnu"}],"uTji":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../../press/Press.js")),t=s(require("./EmitChildEvent.js"));function s(e){return e&&e.__esModule?e:{default:e}}const r=Phaser.Utils.Objects.GetValue;var i=function(s){var i=r(s,"press",void 0);!1!==i&&(this._press=new e.default(this,i),this._press.on("pressstart",function(e,s,r){(0,t.default)(this.eventEmitter,`${this.input.eventNamePrefix}pressstart`,this.input.targetSizers,e.x,e.y,r)},this).on("pressend",function(e,s,r){(0,t.default)(this.eventEmitter,`${this.input.eventNamePrefix}pressend`,this.input.targetSizers,e.x,e.y,r)},this))},n=i;exports.default=n;
},{"../../press/Press.js":"ciNJ","./EmitChildEvent.js":"wwnu"}],"HgVN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../../swipe/Swipe.js")),t=i(require("./EmitChildEvent.js"));function i(e){return e&&e.__esModule?e:{default:e}}const s=Phaser.Utils.Objects.GetValue;var r=function(i){var r=s(i,"swipe",void 0);!1!==r&&(void 0===r&&(r={}),r.dir="4dir",this._swipe=new e.default(this,r),this._swipe.on("swipe",function(e,i,s){var r=e.left?"left":e.right?"right":e.up?"up":"down";(0,t.default)(this.eventEmitter,`${this.input.eventNamePrefix}swipe${r}`,this.input.targetSizers,e.x,e.y,s)},this))},u=r;exports.default=u;
},{"../../swipe/Swipe.js":"kvya","./EmitChildEvent.js":"wwnu"}],"nzvp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./ClickChild.js")),t=u(require("./OverChild.js")),r=u(require("./TapChild.js")),l=u(require("./PressChild.js")),i=u(require("./SwipeChild.js"));function u(e){return e&&e.__esModule?e:{default:e}}const a=Phaser.Utils.Objects.GetValue;var s=function(u,s){return u.setInteractive(),u.eventEmitter=a(s,"eventEmitter",u),u.input.targetSizers=a(s,"targets",[u]),u.input.eventNamePrefix=a(s,"inputEventPrefix","child."),e.default.call(u,s),t.default.call(u,s),r.default.call(u,s),l.default.call(u,s),i.default.call(u,s),u},d=s;exports.default=d;
},{"./ClickChild.js":"b8dg","./OverChild.js":"fknn","./TapChild.js":"rDgG","./PressChild.js":"uTji","./SwipeChild.js":"HgVN"}],"XG8F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"RoundRectangle",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"BBCodeText",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"TagText",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"Container",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"Canvas",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"CircleMaskImage",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"Chart",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"NinePatch",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"Sizer",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"GridSizer",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"FixWidthSizer",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"OverlapSizer",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"Label",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"Buttons",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"GridButtons",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"FixWidthButtons",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"Dialog",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"Tabs",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"Slider",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(exports,"GridTable",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"Menu",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(exports,"TextBox",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"NumberBar",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(exports,"Pages",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(exports,"TextBlock",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(exports,"TextArea",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(exports,"ScrollableBlock",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(exports,"ScrollablePanel",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(exports,"Toast",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(exports,"Sides",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(exports,"Click",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(exports,"Tap",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(exports,"Press",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(exports,"Swipe",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(exports,"Pan",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(exports,"Pinch",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(exports,"Rotate",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(exports,"Flip",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(exports,"GetParentSizer",{enumerable:!0,get:function(){return E.GetParentSizer}}),Object.defineProperty(exports,"GetTopmostSizer",{enumerable:!0,get:function(){return E.GetTopmostSizer}}),Object.defineProperty(exports,"IsPointerInBounds",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(exports,"Show",{enumerable:!0,get:function(){return _.Show}}),Object.defineProperty(exports,"Hide",{enumerable:!0,get:function(){return _.Hide}}),Object.defineProperty(exports,"IsShown",{enumerable:!0,get:function(){return _.IsShown}}),Object.defineProperty(exports,"Edit",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(exports,"WaitEvent",{enumerable:!0,get:function(){return A.WaitEvent}}),Object.defineProperty(exports,"WaitComplete",{enumerable:!0,get:function(){return A.WaitComplete}}),Object.defineProperty(exports,"GetViewport",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(exports,"SetChildrenInteractive",{enumerable:!0,get:function(){return L.default}});var e=V(require("./roundrectangle/RoundRectangle.js")),r=V(require("./bbcodetext/BBCodeText.js")),t=V(require("./tagtext/TagText.js")),n=V(require("./container/Container.js")),u=V(require("./canvas/Canvas.js")),i=V(require("./circlemaskimage/CircleMaskImage.js")),o=V(require("./chart/Chart.js")),a=V(require("./ninepatch/NinePatch.js")),l=V(require("./sizer/Sizer.js")),s=V(require("./gridsizer/GridSizer.js")),f=V(require("./fixwidthsizer/FixWidthSizer.js")),c=V(require("./overlapsizer/OverlapSizer.js")),d=V(require("./label/Label.js")),p=V(require("./buttons/Buttons.js")),b=V(require("./gridbuttons/GridButtons.js")),j=V(require("./fixwidthbuttons/FixWidthButtons.js")),x=V(require("./dialog/Dialog.js")),g=V(require("./tabs/Tabs.js")),P=V(require("./slider/Slider.js")),m=V(require("./gridtable/GridTable.js")),O=V(require("./menu/Menu.js")),y=V(require("./textbox/TextBox.js")),q=V(require("./numberbar/NumberBar.js")),S=V(require("./pages/Pages.js")),h=V(require("./textblock/TextBlock.js")),T=V(require("./textarea/TextArea.js")),B=V(require("./scrollableblock/ScrollableBlock.js")),z=V(require("./scrollablepanel/ScrollablePanel.js")),C=V(require("./toast/Toast.js")),v=V(require("./sides/Sides.js")),G=V(require("./click/Click.js")),k=V(require("./tap/Tap.js")),w=V(require("./press/Press.js")),I=V(require("./swipe/Swipe.js")),W=V(require("./pan/Pan.js")),F=V(require("./pinch/Pinch.js")),M=V(require("./rotate/Rotate.js")),R=V(require("./flip/Flip.js")),E=require("./utils/GetParentSizer.js"),N=V(require("../../plugins/utils/input/IsPointerInBounds.js")),_=require("./utils/Hide.js"),H=V(require("../../plugins/behaviors/textedit/Edit.js")),A=require("./utils/WaitEvent.js"),D=V(require("../../plugins/utils/system/GetViewport.js")),L=V(require("./utils/setchildreninteractive/SetChildrenInteractive.js"));function V(e){return e&&e.__esModule?e:{default:e}}
},{"./roundrectangle/RoundRectangle.js":"nLrG","./bbcodetext/BBCodeText.js":"fqCE","./tagtext/TagText.js":"jXbs","./container/Container.js":"maWZ","./canvas/Canvas.js":"yZDU","./circlemaskimage/CircleMaskImage.js":"h70I","./chart/Chart.js":"upMs","./ninepatch/NinePatch.js":"GfBW","./sizer/Sizer.js":"Hzrc","./gridsizer/GridSizer.js":"bGm1","./fixwidthsizer/FixWidthSizer.js":"gweT","./overlapsizer/OverlapSizer.js":"n4Mj","./label/Label.js":"lUYW","./buttons/Buttons.js":"rCq6","./gridbuttons/GridButtons.js":"xEsU","./fixwidthbuttons/FixWidthButtons.js":"CFoF","./dialog/Dialog.js":"CKqG","./tabs/Tabs.js":"O2PB","./slider/Slider.js":"CElm","./gridtable/GridTable.js":"CB37","./menu/Menu.js":"Fab0","./textbox/TextBox.js":"Xc6D","./numberbar/NumberBar.js":"PTfs","./pages/Pages.js":"euch","./textblock/TextBlock.js":"ggyh","./textarea/TextArea.js":"rfS2","./scrollableblock/ScrollableBlock.js":"Bw8G","./scrollablepanel/ScrollablePanel.js":"pN9M","./toast/Toast.js":"PMft","./sides/Sides.js":"rFa4","./click/Click.js":"RFFk","./tap/Tap.js":"cffR","./press/Press.js":"ciNJ","./swipe/Swipe.js":"kvya","./pan/Pan.js":"U6H0","./pinch/Pinch.js":"rhVM","./rotate/Rotate.js":"Nlfm","./flip/Flip.js":"ipW3","./utils/GetParentSizer.js":"rOC9","../../plugins/utils/input/IsPointerInBounds.js":"EwNp","./utils/Hide.js":"EqSa","../../plugins/behaviors/textedit/Edit.js":"G66C","./utils/WaitEvent.js":"e4Mf","../../plugins/utils/system/GetViewport.js":"roGg","./utils/setchildreninteractive/SetChildrenInteractive.js":"nzvp"}],"YNGD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./input/button/Button.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=e.default;exports.default=u;
},{"./input/button/Button.js":"kE1P"}],"Er7M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Button=void 0;var e=require("tslib"),t=require("phaser3-rex-plugins/templates/ui/ui-components"),r=e.__importDefault(require("phaser3-rex-plugins/plugins/button")),i=require("lodash"),n=require("~/Config/constants"),a=require("~/Core/Logger"),l=a.Logger(module.id),o=function(a){function o(u,g){var c=a.call(this,u,{height:24,background:new t.RoundRectangle(u,0,0,0,0,4,n.COLOURS.Grey.Dark),text:new Phaser.GameObjects.BitmapText(u,0,0,n.BitmapFonts.BlackSixteenbfZXFont.key,g.label),space:{left:8,right:8},align:g.alignment||"center"})||this;c.handleOver=function(){var e=i.get(c.theme,"hover.bg");c.childrenMap.background.setFillStyle(e)},c.handleOut=function(){var e=i.get(c.theme,"normal.bg");c.childrenMap.background.setFillStyle(e)},c.handleClick=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=i.get(c.theme,"click.bg"),l=i.get(c.config,"onClick");"function"==typeof l&&(c.childrenMap.background.setFillStyle(a),l.apply(void 0,e.__spreadArrays([c],r)))},c.config=g,c.setInteractive({cursor:"pointer"}),u.add.existing(c.childrenMap.background),u.add.existing(c.childrenMap.text),u.add.existing(c),c.theme=i.merge(o.DEFAULT_THEME,g.theme||{});var h=c.getElement("text");return l(h),c.behaviour=new r.default(c),c.behaviour.on("click",c.handleClick),c.on("pointerover",c.handleOver),c.on("pointerout",c.handleOut),c}return e.__extends(o,a),o.DEFAULT_THEME={normal:{bg:n.COLOURS.Grey.Dark,fg:n.COLOURS.White.Default},hover:{bg:n.COLOURS.Grey.Light,fg:n.COLOURS.White.Default},click:{bg:n.COLOURS.White.Default,fg:n.COLOURS.White.Default}},o.PRIMARY_THEME={normal:{bg:n.COLOURS.Grey.Dark,fg:n.COLOURS.White.Default},hover:{bg:n.COLOURS.Grey.Light,fg:n.COLOURS.White.Default},click:{bg:n.COLOURS.White.Default,fg:n.COLOURS.White.Default}},o}(t.Label);exports.Button=o;
},{"tslib":"vCxL","phaser3-rex-plugins/templates/ui/ui-components":"XG8F","phaser3-rex-plugins/plugins/button":"YNGD","lodash":"B1iE","~/Config/constants":"G6kf","~/Core/Logger":"FMRX"}],"E9jI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InterfaceScene=void 0;var e=require("tslib"),t=require("phaser3-rex-plugins/templates/ui/ui-components"),n=require("~/Core/Logger"),r=require("~/Config/constants"),i=require("~/Objects/Ui/Button"),o=require("./MenuScene"),a=n.Logger(module.id),u=function(n){function u(){var e=n.call(this,{key:u.key})||this;return e.togglePlayerInventory=function(){e.playerInventory.toggle()},a("constructed"),e}return e.__extends(u,n),u.prototype.create=function(){var e=this;a("creating");var t=Number(this.game.config.height)-21,n=Number(this.game.config.width);this.gamebar=this.createBg(n/2,t,n,40,r.COLOURS.Grey.Dark),this.menuButton=new i.Button(this,{label:"menu",onClick:function(){e.scene.start(o.MenuScene.key)}}),this.gamebar.add(this.menuButton),this.gamebar.layout()},u.prototype.createBg=function(e,n,r,i,o){var u=new t.Sizer(this,{x:e,y:n,width:r,height:i,orientation:"x"}),s=new t.RoundRectangle(this,0,0,0,0,0,o);return u.addBackground(s),this.add.existing(s),this.add.existing(u),u.layout(),a("bar.created"),u},u.prototype.update=function(){},u.key="InterfaceScene",u}(Phaser.Scene);exports.InterfaceScene=u;
},{"tslib":"vCxL","phaser3-rex-plugins/templates/ui/ui-components":"XG8F","~/Core/Logger":"FMRX","~/Config/constants":"G6kf","~/Objects/Ui/Button":"Er7M","./MenuScene":"s6rt"}],"ljcw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnimatedTile=void 0;var i=function(){function i(i,t,e,a,s){void 0===a&&(a=0),void 0===s&&(s=100),this.tile=i,this.tileAnimationData=t,this.firstgid=e,this.elapsedTime=a,this.animationDuration=s,this.tile=i,this.tileAnimationData=t,this.firstgid=e,this.elapsedTime=0,this.animationDuration=t[0].duration*t.length}return i.prototype.update=function(i){this.elapsedTime+=i,this.elapsedTime%=this.animationDuration;var t=Math.floor(this.elapsedTime/this.tileAnimationData[0].duration);this.tile.index=this.tileAnimationData[t].tileid+this.firstgid},i}();exports.AnimatedTile=i;
},{}],"iwF9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Controllable=exports.EVENT_KEY_OPEN_PLAYER_INVENTORY=void 0;var e=require("tslib"),t=require("lodash"),n=require("../Core/Logger"),o=require("~/Objects/Characters/Character");exports.EVENT_KEY_OPEN_PLAYER_INVENTORY="event-player-inventory-open";var r=function(){function r(e,n){var o=this;this.scene=e,this.entity=n,this.init=function(){o.controls=o.scene.input.keyboard.addKeys({up:Phaser.Input.Keyboard.KeyCodes.W,left:Phaser.Input.Keyboard.KeyCodes.A,down:Phaser.Input.Keyboard.KeyCodes.S,right:Phaser.Input.Keyboard.KeyCodes.D,jump:Phaser.Input.Keyboard.KeyCodes.SPACE,use:Phaser.Input.Keyboard.KeyCodes.E,inventory:Phaser.Input.Keyboard.KeyCodes.I})},this.update=function(){o.setMovement(),o.setOrientation()},this.openInventory=t.debounce(function(){var e=o.scene.game.registry.get("player-inventory");o.scene.game.events.emit(exports.EVENT_KEY_OPEN_PLAYER_INVENTORY,{actor:o,content:e})},500),this.scene=e,this.init(),e.events.on("update",this.update)}var s,i;return r.prototype.setMovement=function(){var e=this.controls;e&&t.set(this.entity,"moving",{Left:e.left.isDown,Right:e.right.isDown,Up:e.up.isDown,Down:e.down.isDown})},r.prototype.setOrientation=function(){var e=t.get(this.entity,"moving",{}),n=Object.keys(e).filter(function(t){return!!e[t]}).join("");this.entity.orientation=n},r=e.__decorate([n.Logs,e.__metadata("design:paramtypes",["function"==typeof(s="undefined"!=typeof Phaser&&Phaser.Scene)?s:Object,"function"==typeof(i=void 0!==o.Character&&o.Character)?i:Object])],r)}();exports.Controllable=r;
},{"tslib":"vCxL","lodash":"B1iE","../Core/Logger":"FMRX","~/Objects/Characters/Character":"Nzqz"}],"CDvN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MapScene=void 0;var e=require("tslib"),t=e.__importDefault(require("phaser")),r=require("~/Core/Logger"),i=require("~/Store"),a=require("~/Objects/AnimatedTile"),o=require("~/Store/Zone/Exceptions"),n=require("~/Store/Map/Exceptions"),s=require("~/Mixins/Controllable"),l=r.Logger(module.id),c=function(t){function r(){var e=t.call(this,{key:r.key})||this;return e.isInteractive=!0,e.countdown=450,e.onActorCollide=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];l("onActorCollide",e),e.forEach(function(t){"function"==typeof t.emit&&t.emit("collide",{actors:e})})},e.onActorOverlap=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach(function(t){"function"==typeof t.emit&&t.emit("overlap",{actors:e})})},l("constructed"),e}return e.__extends(r,t),r.prototype.create=function(){var e,t;if(this.cameras.main.fadeIn(200,0,0,0),!(null===(e=i.Store.currentZone)||void 0===e?void 0:e.map))throw new o.NoZoneMapError;l("create",i.Store.currentZone),this.map=this.createMap(),this.tileset=this.drawMap(this.map),this.mapLayers=this.createMapLayers(this.map),this.animatedTiles=this.animateTiles(this.map,this.tileset),this.navMesh=this.createNavMesh(),this.player=this.createPlayer(),this.setLayersColliable(this.mapLayers),this.createColliders(this.player,Object.values(this.mapLayers)),(null===(t=i.Store.currentZone)||void 0===t?void 0:t.portals)&&(this.portals=this.createPortals(),this.createOverlaps(this.player,this.portals.getChildren()))},r.prototype.update=function(e,t){this.animatedTiles.forEach(function(e){return e.update(t)})},r.prototype.createPlayer=function(){var e,t=null===(e=i.Store.player)||void 0===e?void 0:e.character;if(t){var r=t.createGameObject(this);return r.setController(new s.Controllable(this,r)),r}},r.prototype.createPlayerSidekick=function(){var e=new SidekickGoblin(this,this.navMesh),t=this.player,r=t.depth,i=t.x,a=t.y;return e.setDepth(r+1),e.setPosition(i,a),e},r.prototype.createContainers=function(){var e,t=this,r=null===(e=i.Store.currentZone)||void 0===e?void 0:e.containers.map(function(e){return e.createGameObject(t)});return this.physics.add.group(r)},r.prototype.createPortals=function(){var e,t=this,r=null===(e=i.Store.currentZone)||void 0===e?void 0:e.portals.map(function(e){return e.createGameObject(t)});return this.physics.add.group(r)},r.prototype.createNavMesh=function(){var e,t=null===(e=i.Store.currentZone)||void 0===e?void 0:e.map;if(!t)throw new n.NoMapError;var r=this.navMeshPlugin.buildMeshFromTiled(t.key+"Mesh",this.map.getObjectLayer("NavMesh"),5),a=this.add.graphics({x:0,y:0}).setAlpha(.25).setDepth(1e3);return r.enableDebug(a),r},r.prototype.drawMap=function(e){var t,r=null===(t=i.Store.currentZone)||void 0===t?void 0:t.map;if(!r)throw new n.NoMapError;var a=r.tileset,o=r.tileimage,s=e.addTilesetImage(a,o);return l("drawMap.done"),s},r.prototype.createMap=function(){var e;l("createMap");var t=null===(e=i.Store.currentZone)||void 0===e?void 0:e.map;if(!t)throw new n.NoMapError;var r=this.make.tilemap({key:t.key}),a=r.widthInPixels,o=r.heightInPixels;return this.physics.world.setBounds(0,0,a,o),l("createMap.done"),r},r.prototype.createMapLayers=function(t){var r,a;l("createMapLayers");var o=null===(r=i.Store.currentZone)||void 0===r?void 0:r.map,s=null===(a=this.tileset)||void 0===a?void 0:a.name;if(!o||!s)throw new n.NoMapError;return o.layers.reduce(function(r,i){var a,o=i.name,n=i.depth;l("createMapLayers.layer",o,n);var c=t.createDynamicLayer(o,s,0,0);return c&&n&&c.setDepth(n),e.__assign(e.__assign({},r),((a={})[o]=c,a))},{})},r.prototype.animateTiles=function(t,r){if(!r)throw new n.NoMapError;var i=r.tileData,o=Object.keys(i).filter(function(e){return i[e].animation}).map(function(e){return parseInt(e,10)});return Array.from(t.layers).filter(function(e){return e&&e.tilemapLayer&&"DynamicTilemapLayer"===e.tilemapLayer.type}).reduce(function(t,r){return e.__spreadArrays(t,r.data)},[]).reduce(function(t,r){return e.__spreadArrays(t,r)},[]).filter(function(e){return o.includes(e.index-r.firstgid)}).map(function(e){var t=e.index-r.firstgid;return new a.AnimatedTile(e,i[t].animation,r.firstgid)})},r.prototype.setLayersColliable=function(e){Object.keys(e).map(function(t){return e[t]}).filter(Boolean).forEach(function(e){l("setLayersCollidable: "+e.layer.name),e.setCollisionByProperty({collides:!0})})},r.prototype.createColliders=function(e,t){l("createColliders"),this.physics.add.collider(e,t,this.onActorCollide)},r.prototype.createOverlaps=function(e,t){l("createColliders"),this.physics.add.overlap(e,t,this.onActorOverlap)},r.prototype.initCamera=function(){var e=this.map,t=e.widthInPixels,r=e.heightInPixels;l("initCamera",{widthInPixels:t,heightInPixels:r});var i=this.cameras.main;i.setRoundPixels(!0),i.setBounds(0,0,t,r),i.startFollow(this.player,!0,1,1)},r.key="MapScene",r}(t.default.Scene);exports.MapScene=c;
},{"tslib":"vCxL","phaser":"g7IM","~/Core/Logger":"FMRX","~/Store":"Y0nv","~/Objects/AnimatedTile":"ljcw","~/Store/Zone/Exceptions":"GkA6","~/Store/Map/Exceptions":"KClC","~/Mixins/Controllable":"iwF9"}],"cy8Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameScene=void 0;var e=require("tslib"),r=require("mobx"),t=require("~/Core/Logger"),n=require("~/Store"),c=require("./InterfaceScene"),o=require("./MapScene"),a=t.Logger(module.id),i=function(t){function i(){var e=t.call(this,{key:i.key})||this;return a("constructed"),e}return e.__extends(i,t),i.prototype.create=function(){var e=this;a("created");var t=n.Store.getStartZone();n.Store.startPlayer(t),this.scene.launch(c.InterfaceScene.key),this.scene.moveUp(c.InterfaceScene.key),r.reaction(function(){var e,r;return null===(r=null===(e=n.Store.player)||void 0===e?void 0:e.character)||void 0===r?void 0:r.currentZone},function(r){r&&(a("Launching",r.name),n.Store.setZone(r),e.scene.launch(o.MapScene.key))},{fireImmediately:!0})},i.key="GameScene",i}(Phaser.Scene);exports.GameScene=i;
},{"tslib":"vCxL","mobx":"uYi1","~/Core/Logger":"FMRX","~/Store":"Y0nv","./InterfaceScene":"E9jI","./MapScene":"CDvN"}],"E1wV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NewGameMenuScene=void 0;var e=require("tslib"),t=require("phaser3-rex-plugins/templates/ui/ui-components"),r=require("lodash"),a=require("~/Core/Logger"),n=require("~/Store"),s=require("~/Objects/Ui/Button"),i=require("./GameScene"),o=require("./MenuScene"),c=a.Logger(module.id),u=function(a){function u(){var e=a.call(this,{key:u.key})||this;return e.handleCreateNewCharacter=function(t){var a=r.get(t,"config.data.klass"),s=n.Store.createPlayer(),o=s.createCharacterFromClass(a);s.setCharacter(o),n.Store.startPlayer(n.Store.getStartZone()),e.scene.start(i.GameScene.key)},c("constructed"),e}return e.__extends(u,a),u.prototype.create=function(){c("create"),this.menu=this.createMenu(),c("created")},u.prototype.createMenu=function(){var r=this,a=(n.Store.library||{}).classes,i=(void 0===a?[]:a).map(function(e){return new s.Button(r,{label:e.name,data:{klass:e},onClick:r.handleCreateNewCharacter})}),c=new s.Button(this,{label:"Back",onClick:function(){r.scene.start(o.MenuScene.key)}}),u=new t.Buttons(this,{x:this.cameras.main.width/2,y:this.cameras.main.height/2,orientation:"y",buttons:e.__spreadArrays([c],i),space:{item:4}});return u.layout(),this.add.existing(u),u},u.key="NewGameMenuScene",u}(Phaser.Scene);exports.NewGameMenuScene=u;
},{"tslib":"vCxL","phaser3-rex-plugins/templates/ui/ui-components":"XG8F","lodash":"B1iE","~/Core/Logger":"FMRX","~/Store":"Y0nv","~/Objects/Ui/Button":"Er7M","./GameScene":"cy8Q","./MenuScene":"s6rt"}],"s6rt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MenuScene=void 0;var e=require("tslib"),t=require("phaser3-rex-plugins/templates/ui/ui-components"),n=require("~/Core/Logger"),i=require("~/Objects/Ui/Button"),r=require("./NewGameMenuScene"),u=n.Logger(module.id),s=function(n){function s(){var e=n.call(this,{key:s.key})||this;return u("constructed"),e}return e.__extends(s,n),s.prototype.create=function(){u("create"),this.menu=this.createMenu(),u("created")},s.prototype.createMenu=function(){var e=this,n=new i.Button(this,{label:"New Game",onClick:function(){e.scene.start(r.NewGameMenuScene.key)}}),u=new i.Button(this,{label:"Load Game"}),s=new i.Button(this,{label:"Options"}),o=new i.Button(this,{label:"Quit"}),a=new t.Buttons(this,{x:this.cameras.main.width/2,y:this.cameras.main.height/2,orientation:"y",buttons:[n,u,s,o],space:{item:4}});return a.layout(),this.add.existing(a),a},s.key="MenuScene",s}(Phaser.Scene);exports.MenuScene=s;
},{"tslib":"vCxL","phaser3-rex-plugins/templates/ui/ui-components":"XG8F","~/Core/Logger":"FMRX","~/Objects/Ui/Button":"Er7M","./NewGameMenuScene":"E1wV"}],"OCEF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PreloaderScene=void 0;var e=require("tslib"),t=require("phaser3-rex-plugins/templates/ui/ui-components"),r=require("~/Core/Logger"),s=require("~/Config/constants"),i=require("./MenuScene"),n=r.Logger(module.id),a=function(r){function a(){var e=r.call(this,{key:a.key})||this;return e.handleProgress=function(t){var r=100*t;e.bar.setValue(r,0,100),n("progress",t)},e}return e.__extends(a,r),a.prototype.createUiProgressBar=function(){var e=new t.RoundRectangle(this,0,0,0,0,6,a.COLOR_DARKGREY),r=new t.RoundRectangle(this,0,0,0,0,4,a.COLOR_GREY),s=new t.RoundRectangle(this,0,0,0,0,4,a.COLOR_DARKGREY);this.add.existing(e),this.add.existing(r),this.add.existing(s);var i=new t.NumberBar(this,{x:this.cameras.main.width/2,y:this.cameras.main.height/2,width:100,background:e,slider:{track:r,indicator:s,space:{left:4,right:4,top:2,bottom:2,slider:2}}});return i.layout(),this.add.existing(i),i.setValue(50),i},a.prototype.process=function(e,t,r){t&&Object.keys(t).forEach(function(s){var i=t[s];i.key=i.key||s,r(i),n("queue "+e+":"+s)})},a.prototype.prepare=function(){var t=this;this.process("animations",s.Animations,function(r){var s=r.frames,i=r.sheet,n=e.__rest(r,["frames","sheet"]);return t.anims.create(e.__assign(e.__assign({},n),{frames:t.anims.generateFrameNumbers(i,{frames:s})}))})},a.prototype.preload=function(){var e=this;n("loading"),this.bar=this.createUiProgressBar(),this.load.on("progress",this.handleProgress),this.process("sprites",s.SpriteSheets,function(t){return e.load.spritesheet(t)}),this.process("images",s.Images,function(t){return e.load.image(t)}),this.process("tiledtilemaps",s.TiledTileMaps,function(t){var r=t.key,s=t.url;return e.load.tilemapTiledJSON(r,s)}),this.process("fonts",s.BitmapFonts,function(t){var r=t.key,s=t.png,i=t.fnt;return e.load.bitmapFont(r,s,i)})},a.prototype.create=function(){this.prepare(),n("Starting game"),this.scene.start(i.MenuScene.key)},a.prototype.update=function(){this.bar.update()},a.key="PreloaderScene",a.COLOR_WHITE=16777215,a.COLOR_GREY=6710886,a.COLOR_DARKGREY=2236962,a}(Phaser.Scene);exports.PreloaderScene=a;
},{"tslib":"vCxL","phaser3-rex-plugins/templates/ui/ui-components":"XG8F","~/Core/Logger":"FMRX","~/Config/constants":"G6kf","./MenuScene":"s6rt"}],"klnc":[function(require,module,exports) {
module.exports={block:"_block_7add6"};
},{}],"ocQP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Game=void 0;var e=require("tslib"),n=e.__importStar(require("react")),r=require("mobx-react"),t=require("~/Config/phaser.config"),c=require("~/Scenes/PreloaderScene"),a=require("~/Scenes/MenuScene"),u=require("~/Scenes/NewGameMenuScene"),o=require("~/Scenes/GameScene"),i=require("~/Scenes/InterfaceScene"),s=require("~/Scenes/MapScene"),d=e.__importDefault(require("~/Config/phaser.config")),S=e.__importDefault(require("./Game.css")),l=function(n){function r(){var e=n.call(this,d.default)||this;return e.scene.add(c.PreloaderScene.key,c.PreloaderScene),e.scene.add(a.MenuScene.key,a.MenuScene),e.scene.add(u.NewGameMenuScene.key,u.NewGameMenuScene),e.scene.add(o.GameScene.key,o.GameScene),e.scene.add(i.InterfaceScene.key,i.InterfaceScene),e.scene.add(s.MapScene.key,s.MapScene),e.scene.start(c.PreloaderScene.key),e}return e.__extends(r,n),r}(Phaser.Game),p=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return e.__extends(a,c),a.prototype.componentDidMount=function(){this.game=new l},a.prototype.shouldComponentUpdate=function(){return!1},a.prototype.render=function(){return n.default.createElement("div",{className:S.default.block},n.default.createElement("div",{className:S.default.game,id:t.PARENT_DIV_TAG}))},a=e.__decorate([r.inject("store"),r.observer],a)}(n.Component);exports.Game=p;
},{"tslib":"vCxL","react":"n8MK","mobx-react":"lQiT","~/Config/phaser.config":"VOMc","~/Scenes/PreloaderScene":"OCEF","~/Scenes/MenuScene":"s6rt","~/Scenes/NewGameMenuScene":"E1wV","~/Scenes/GameScene":"cy8Q","~/Scenes/InterfaceScene":"E9jI","~/Scenes/MapScene":"CDvN","./Game.css":"klnc"}],"xwpG":[function(require,module,exports) {
module.exports={App:"_App_4b946","App-logo":"_App-logo_4b946","App-logo-spin":"_App-logo-spin_4b946","App-header":"_App-header_4b946","App-title":"_App-title_4b946","App-intro":"_App-intro_4b946"};
},{}],"NHn6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.App=void 0;var e=require("tslib");require("reflect-metadata");var r=e.__importDefault(require("react")),t=require("mobx-react"),a=require("~/Store"),u=require("~/Components/Game"),l=e.__importDefault(require("./App.module.css"));function o(){return r.default.createElement(t.Provider,{store:a.Store},r.default.createElement("div",{className:l.default.App},r.default.createElement(u.Game,null)))}exports.App=o;
},{"tslib":"vCxL","reflect-metadata":"npqE","react":"n8MK","mobx-react":"lQiT","~/Store":"Y0nv","~/Components/Game":"ocQP","./App.module.css":"xwpG"}],"ogjJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unregister=void 0;var e=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function n(){if("serviceWorker"in navigator){if(new URL(void 0,window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",function(){var n=void 0+"/service-worker.js";e?(i(n),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):o(n)})}}function o(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available please refresh."):console.log("Content is cached for offline use."))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}function i(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):o(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}function r(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}exports.default=n,exports.unregister=r;
},{}],"zo2T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),r=e.__importDefault(require("react")),t=e.__importDefault(require("react-dom"));function i(){var i=document.querySelector("[data-app]");i&&Promise.all([Promise.resolve().then(function(){return e.__importStar(require("./App"))}),Promise.resolve().then(function(){return e.__importStar(require("./registerServiceWorker"))})]).then(function(e){var o=e[0].App,u=i.dataset||{},a=r.default.createElement(o,u);t.default.render(a,i)})}i();
},{"tslib":"vCxL","react":"n8MK","react-dom":"NKHc","./App":"NHn6","./registerServiceWorker":"ogjJ"}]},{},["zo2T"], null)
//# sourceMappingURL=https://airtonix.github.io/phaser-tutorial-one/src.e9680f8d.js.map